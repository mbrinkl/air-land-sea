/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/index"],{

/***/ "./node_modules/boardgame.io/dist/esm/Debug-fd09b8bc.js":
/*!**************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/Debug-fd09b8bc.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"D\": function() { return /* binding */ Debug; },\n/* harmony export */   \"_\": function() { return /* binding */ _inherits; },\n/* harmony export */   \"a\": function() { return /* binding */ _createSuper; },\n/* harmony export */   \"b\": function() { return /* binding */ _createClass; },\n/* harmony export */   \"c\": function() { return /* binding */ _defineProperty; },\n/* harmony export */   \"d\": function() { return /* binding */ _classCallCheck; },\n/* harmony export */   \"e\": function() { return /* binding */ _objectWithoutProperties; },\n/* harmony export */   \"f\": function() { return /* binding */ _objectSpread2; }\n/* harmony export */ });\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var _reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reducer-07c7b307.js */ \"./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js\");\n/* harmony import */ var flatted__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! flatted */ \"./node_modules/flatted/esm/index.js\");\n/* harmony import */ var _ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ai-3099ce9a.js */ \"./node_modules/boardgame.io/dist/esm/ai-3099ce9a.js\");\n\n\n\n\n\nfunction noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root.host) {\n        return root;\n    }\n    return document;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nconst subscriber_queue = [];\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\n\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\n/* node_modules/svelte-icons/components/IconBase.svelte generated by Svelte v3.41.0 */\n\nfunction add_css(target) {\n\tappend_styles(target, \"svelte-c8tyih\", \"svg.svelte-c8tyih{stroke:currentColor;fill:currentColor;stroke-width:0;width:100%;height:auto;max-height:100%}\");\n}\n\n// (18:2) {#if title}\nfunction create_if_block(ctx) {\n\tlet title_1;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\ttitle_1 = svg_element(\"title\");\n\t\t\tt = text(/*title*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, title_1, anchor);\n\t\t\tappend(title_1, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*title*/ 1) set_data(t, /*title*/ ctx[0]);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(title_1);\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet svg;\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*title*/ ctx[0] && create_if_block(ctx);\n\tconst default_slot_template = /*#slots*/ ctx[3].default;\n\tconst default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);\n\n\treturn {\n\t\tc() {\n\t\t\tsvg = svg_element(\"svg\");\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t\tif (default_slot) default_slot.c();\n\t\t\tattr(svg, \"xmlns\", \"http://www.w3.org/2000/svg\");\n\t\t\tattr(svg, \"viewBox\", /*viewBox*/ ctx[1]);\n\t\t\tattr(svg, \"class\", \"svelte-c8tyih\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, svg, anchor);\n\t\t\tif (if_block) if_block.m(svg, null);\n\t\t\tappend(svg, if_block_anchor);\n\n\t\t\tif (default_slot) {\n\t\t\t\tdefault_slot.m(svg, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*title*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(svg, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (default_slot) {\n\t\t\t\tif (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {\n\t\t\t\t\tupdate_slot_base(\n\t\t\t\t\t\tdefault_slot,\n\t\t\t\t\t\tdefault_slot_template,\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\t/*$$scope*/ ctx[2],\n\t\t\t\t\t\t!current\n\t\t\t\t\t\t? get_all_dirty_from_scope(/*$$scope*/ ctx[2])\n\t\t\t\t\t\t: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),\n\t\t\t\t\t\tnull\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*viewBox*/ 2) {\n\t\t\t\tattr(svg, \"viewBox\", /*viewBox*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(default_slot, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(default_slot, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(svg);\n\t\t\tif (if_block) if_block.d();\n\t\t\tif (default_slot) default_slot.d(detaching);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { $$slots: slots = {}, $$scope } = $$props;\n\tlet { title = null } = $$props;\n\tlet { viewBox } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('title' in $$props) $$invalidate(0, title = $$props.title);\n\t\tif ('viewBox' in $$props) $$invalidate(1, viewBox = $$props.viewBox);\n\t\tif ('$$scope' in $$props) $$invalidate(2, $$scope = $$props.$$scope);\n\t};\n\n\treturn [title, viewBox, $$scope, slots];\n}\n\nclass IconBase extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance, create_fragment, safe_not_equal, { title: 0, viewBox: 1 }, add_css);\n\t}\n}\n\n/* node_modules/svelte-icons/fa/FaChevronRight.svelte generated by Svelte v3.41.0 */\n\nfunction create_default_slot(ctx) {\n\tlet path;\n\n\treturn {\n\t\tc() {\n\t\t\tpath = svg_element(\"path\");\n\t\t\tattr(path, \"d\", \"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, path, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(path);\n\t\t}\n\t};\n}\n\nfunction create_fragment$1(ctx) {\n\tlet iconbase;\n\tlet current;\n\tconst iconbase_spread_levels = [{ viewBox: \"0 0 320 512\" }, /*$$props*/ ctx[0]];\n\n\tlet iconbase_props = {\n\t\t$$slots: { default: [create_default_slot] },\n\t\t$$scope: { ctx }\n\t};\n\n\tfor (let i = 0; i < iconbase_spread_levels.length; i += 1) {\n\t\ticonbase_props = assign(iconbase_props, iconbase_spread_levels[i]);\n\t}\n\n\ticonbase = new IconBase({ props: iconbase_props });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(iconbase.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(iconbase, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst iconbase_changes = (dirty & /*$$props*/ 1)\n\t\t\t? get_spread_update(iconbase_spread_levels, [iconbase_spread_levels[0], get_spread_object(/*$$props*/ ctx[0])])\n\t\t\t: {};\n\n\t\t\tif (dirty & /*$$scope*/ 2) {\n\t\t\t\ticonbase_changes.$$scope = { dirty, ctx };\n\t\t\t}\n\n\t\t\ticonbase.$set(iconbase_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(iconbase.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(iconbase.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(iconbase, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$1($$self, $$props, $$invalidate) {\n\t$$self.$$set = $$new_props => {\n\t\t$$invalidate(0, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));\n\t};\n\n\t$$props = exclude_internal_props($$props);\n\treturn [$$props];\n}\n\nclass FaChevronRight extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$1, create_fragment$1, safe_not_equal, {});\n\t}\n}\n\n/* src/client/debug/Menu.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$1(target) {\n\tappend_styles(target, \"svelte-1xg9v5h\", \".menu.svelte-1xg9v5h{display:flex;margin-top:43px;flex-direction:row-reverse;border:1px solid #ccc;border-radius:5px 5px 0 0;height:25px;line-height:25px;margin-right:-500px;transform-origin:bottom right;transform:rotate(-90deg) translate(0, -500px)}.menu-item.svelte-1xg9v5h{line-height:25px;cursor:pointer;border:0;background:#fefefe;color:#555;padding-left:15px;padding-right:15px;text-align:center}.menu-item.svelte-1xg9v5h:first-child{border-radius:0 5px 0 0}.menu-item.svelte-1xg9v5h:last-child{border-radius:5px 0 0 0}.menu-item.active.svelte-1xg9v5h{cursor:default;font-weight:bold;background:#ddd;color:#555}.menu-item.svelte-1xg9v5h:hover,.menu-item.svelte-1xg9v5h:focus{background:#eee;color:#555}\");\n}\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[4] = list[i][0];\n\tchild_ctx[5] = list[i][1].label;\n\treturn child_ctx;\n}\n\n// (57:2) {#each Object.entries(panes) as [key, {label}\nfunction create_each_block(ctx) {\n\tlet button;\n\tlet t0_value = /*label*/ ctx[5] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[3](/*key*/ ctx[4]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(button, \"class\", \"menu-item svelte-1xg9v5h\");\n\t\t\ttoggle_class(button, \"active\", /*pane*/ ctx[0] == /*key*/ ctx[4]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, t0);\n\t\t\tappend(button, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*panes*/ 2 && t0_value !== (t0_value = /*label*/ ctx[5] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*pane, Object, panes*/ 3) {\n\t\t\t\ttoggle_class(button, \"active\", /*pane*/ ctx[0] == /*key*/ ctx[4]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$2(ctx) {\n\tlet nav;\n\tlet each_value = Object.entries(/*panes*/ ctx[1]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tnav = element(\"nav\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(nav, \"class\", \"menu svelte-1xg9v5h\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, nav, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(nav, null);\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*pane, Object, panes, dispatch*/ 7) {\n\t\t\t\teach_value = Object.entries(/*panes*/ ctx[1]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(nav, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(nav);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$2($$self, $$props, $$invalidate) {\n\tlet { pane } = $$props;\n\tlet { panes } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tconst click_handler = key => dispatch('change', key);\n\n\t$$self.$$set = $$props => {\n\t\tif ('pane' in $$props) $$invalidate(0, pane = $$props.pane);\n\t\tif ('panes' in $$props) $$invalidate(1, panes = $$props.panes);\n\t};\n\n\treturn [pane, panes, dispatch, click_handler];\n}\n\nclass Menu extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$2, create_fragment$2, safe_not_equal, { pane: 0, panes: 1 }, add_css$1);\n\t}\n}\n\nvar contextKey = {};\n\n/* node_modules/svelte-json-tree-auto/src/JSONArrow.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$2(target) {\n\tappend_styles(target, \"svelte-1vyml86\", \".container.svelte-1vyml86{display:inline-block;cursor:pointer;transform:translate(calc(0px - var(--li-identation)), -50%);position:absolute;top:50%;padding-right:100%}.arrow.svelte-1vyml86{transform-origin:25% 50%;position:relative;line-height:1.1em;font-size:0.75em;margin-left:0;transition:150ms;color:var(--arrow-sign);user-select:none;font-family:'Courier New', Courier, monospace}.expanded.svelte-1vyml86{transform:rotateZ(90deg) translateX(-3px)}\");\n}\n\nfunction create_fragment$3(ctx) {\n\tlet div1;\n\tlet div0;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv0.textContent = `${'\\u25B6'}`;\n\t\t\tattr(div0, \"class\", \"arrow svelte-1vyml86\");\n\t\t\ttoggle_class(div0, \"expanded\", /*expanded*/ ctx[0]);\n\t\t\tattr(div1, \"class\", \"container svelte-1vyml86\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(div1, \"click\", /*click_handler*/ ctx[1]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(div0, \"expanded\", /*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$3($$self, $$props, $$invalidate) {\n\tlet { expanded } = $$props;\n\n\tfunction click_handler(event) {\n\t\tbubble.call(this, $$self, event);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('expanded' in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t};\n\n\treturn [expanded, click_handler];\n}\n\nclass JSONArrow extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$3, create_fragment$3, safe_not_equal, { expanded: 0 }, add_css$2);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONKey.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$3(target) {\n\tappend_styles(target, \"svelte-1vlbacg\", \"label.svelte-1vlbacg{display:inline-block;color:var(--label-color);padding:0}.spaced.svelte-1vlbacg{padding-right:var(--li-colon-space)}\");\n}\n\n// (16:0) {#if showKey && key}\nfunction create_if_block$1(ctx) {\n\tlet label;\n\tlet span;\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tlabel = element(\"label\");\n\t\t\tspan = element(\"span\");\n\t\t\tt0 = text(/*key*/ ctx[0]);\n\t\t\tt1 = text(/*colon*/ ctx[2]);\n\t\t\tattr(label, \"class\", \"svelte-1vlbacg\");\n\t\t\ttoggle_class(label, \"spaced\", /*isParentExpanded*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, label, anchor);\n\t\t\tappend(label, span);\n\t\t\tappend(span, t0);\n\t\t\tappend(span, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(label, \"click\", /*click_handler*/ ctx[5]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*key*/ 1) set_data(t0, /*key*/ ctx[0]);\n\t\t\tif (dirty & /*colon*/ 4) set_data(t1, /*colon*/ ctx[2]);\n\n\t\t\tif (dirty & /*isParentExpanded*/ 2) {\n\t\t\t\ttoggle_class(label, \"spaced\", /*isParentExpanded*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(label);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$4(ctx) {\n\tlet if_block_anchor;\n\tlet if_block = /*showKey*/ ctx[3] && /*key*/ ctx[0] && create_if_block$1(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*showKey*/ ctx[3] && /*key*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$1(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nfunction instance$4($$self, $$props, $$invalidate) {\n\tlet showKey;\n\tlet { key, isParentExpanded, isParentArray = false, colon = ':' } = $$props;\n\n\tfunction click_handler(event) {\n\t\tbubble.call(this, $$self, event);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif ('colon' in $$props) $$invalidate(2, colon = $$props.colon);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*isParentExpanded, isParentArray, key*/ 19) {\n\t\t\t $$invalidate(3, showKey = isParentExpanded || !isParentArray || key != +key);\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, colon, showKey, isParentArray, click_handler];\n}\n\nclass JSONKey extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$4,\n\t\t\tcreate_fragment$4,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 0,\n\t\t\t\tisParentExpanded: 1,\n\t\t\t\tisParentArray: 4,\n\t\t\t\tcolon: 2\n\t\t\t},\n\t\t\tadd_css$3\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONNested.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$4(target) {\n\tappend_styles(target, \"svelte-rwxv37\", \"label.svelte-rwxv37{display:inline-block}.indent.svelte-rwxv37{padding-left:var(--li-identation)}.collapse.svelte-rwxv37{--li-display:inline;display:inline;font-style:italic}.comma.svelte-rwxv37{margin-left:-0.5em;margin-right:0.5em}label.svelte-rwxv37{position:relative}\");\n}\n\nfunction get_each_context$1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[12] = list[i];\n\tchild_ctx[20] = i;\n\treturn child_ctx;\n}\n\n// (57:4) {#if expandable && isParentExpanded}\nfunction create_if_block_3(ctx) {\n\tlet jsonarrow;\n\tlet current;\n\tjsonarrow = new JSONArrow({ props: { expanded: /*expanded*/ ctx[0] } });\n\tjsonarrow.$on(\"click\", /*toggleExpand*/ ctx[15]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonarrow.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonarrow, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonarrow_changes = {};\n\t\t\tif (dirty & /*expanded*/ 1) jsonarrow_changes.expanded = /*expanded*/ ctx[0];\n\t\t\tjsonarrow.$set(jsonarrow_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonarrow, detaching);\n\t\t}\n\t};\n}\n\n// (75:4) {:else}\nfunction create_else_block(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \"…\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\n// (63:4) {#if isParentExpanded}\nfunction create_if_block$2(ctx) {\n\tlet ul;\n\tlet t;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value = /*slicedKeys*/ ctx[13];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block = /*slicedKeys*/ ctx[13].length < /*previewKeys*/ ctx[7].length && create_if_block_1();\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(ul, \"class\", \"svelte-rwxv37\");\n\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(ul, null);\n\t\t\t}\n\n\t\t\tappend(ul, t);\n\t\t\tif (if_block) if_block.m(ul, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(ul, \"click\", /*expand*/ ctx[16]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*expanded, previewKeys, getKey, slicedKeys, isArray, getValue, getPreviewValue*/ 10129) {\n\t\t\t\teach_value = /*slicedKeys*/ ctx[13];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$1(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$1(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(ul, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*slicedKeys*/ ctx[13].length < /*previewKeys*/ ctx[7].length) {\n\t\t\t\tif (if_block) ; else {\n\t\t\t\t\tif_block = create_if_block_1();\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(ul, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (if_block) if_block.d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (67:10) {#if !expanded && index < previewKeys.length - 1}\nfunction create_if_block_2(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \",\";\n\t\t\tattr(span, \"class\", \"comma svelte-rwxv37\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\n// (65:8) {#each slicedKeys as key, index}\nfunction create_each_block$1(ctx) {\n\tlet jsonnode;\n\tlet t;\n\tlet if_block_anchor;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: /*getKey*/ ctx[8](/*key*/ ctx[12]),\n\t\t\t\tisParentExpanded: /*expanded*/ ctx[0],\n\t\t\t\tisParentArray: /*isArray*/ ctx[4],\n\t\t\t\tvalue: /*expanded*/ ctx[0]\n\t\t\t\t? /*getValue*/ ctx[9](/*key*/ ctx[12])\n\t\t\t\t: /*getPreviewValue*/ ctx[10](/*key*/ ctx[12])\n\t\t\t}\n\t\t});\n\n\tlet if_block = !/*expanded*/ ctx[0] && /*index*/ ctx[20] < /*previewKeys*/ ctx[7].length - 1 && create_if_block_2();\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnode, target, anchor);\n\t\t\tinsert(target, t, anchor);\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*getKey, slicedKeys*/ 8448) jsonnode_changes.key = /*getKey*/ ctx[8](/*key*/ ctx[12]);\n\t\t\tif (dirty & /*expanded*/ 1) jsonnode_changes.isParentExpanded = /*expanded*/ ctx[0];\n\t\t\tif (dirty & /*isArray*/ 16) jsonnode_changes.isParentArray = /*isArray*/ ctx[4];\n\n\t\t\tif (dirty & /*expanded, getValue, slicedKeys, getPreviewValue*/ 9729) jsonnode_changes.value = /*expanded*/ ctx[0]\n\t\t\t? /*getValue*/ ctx[9](/*key*/ ctx[12])\n\t\t\t: /*getPreviewValue*/ ctx[10](/*key*/ ctx[12]);\n\n\t\t\tjsonnode.$set(jsonnode_changes);\n\n\t\t\tif (!/*expanded*/ ctx[0] && /*index*/ ctx[20] < /*previewKeys*/ ctx[7].length - 1) {\n\t\t\t\tif (if_block) ; else {\n\t\t\t\t\tif_block = create_if_block_2();\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnode, detaching);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\n// (71:8) {#if slicedKeys.length < previewKeys.length }\nfunction create_if_block_1(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \"…\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\nfunction create_fragment$5(ctx) {\n\tlet li;\n\tlet label_1;\n\tlet t0;\n\tlet jsonkey;\n\tlet t1;\n\tlet span1;\n\tlet span0;\n\tlet t2;\n\tlet t3;\n\tlet t4;\n\tlet current_block_type_index;\n\tlet if_block1;\n\tlet t5;\n\tlet span2;\n\tlet t6;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block0 = /*expandable*/ ctx[11] && /*isParentExpanded*/ ctx[2] && create_if_block_3(ctx);\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[12],\n\t\t\t\tcolon: /*context*/ ctx[14].colon,\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tjsonkey.$on(\"click\", /*toggleExpand*/ ctx[15]);\n\tconst if_block_creators = [create_if_block$2, create_else_block];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*isParentExpanded*/ ctx[2]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tlabel_1 = element(\"label\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt0 = space();\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan1 = element(\"span\");\n\t\t\tspan0 = element(\"span\");\n\t\t\tt2 = text(/*label*/ ctx[1]);\n\t\t\tt3 = text(/*bracketOpen*/ ctx[5]);\n\t\t\tt4 = space();\n\t\t\tif_block1.c();\n\t\t\tt5 = space();\n\t\t\tspan2 = element(\"span\");\n\t\t\tt6 = text(/*bracketClose*/ ctx[6]);\n\t\t\tattr(label_1, \"class\", \"svelte-rwxv37\");\n\t\t\tattr(li, \"class\", \"svelte-rwxv37\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[2]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tappend(li, label_1);\n\t\t\tif (if_block0) if_block0.m(label_1, null);\n\t\t\tappend(label_1, t0);\n\t\t\tmount_component(jsonkey, label_1, null);\n\t\t\tappend(label_1, t1);\n\t\t\tappend(label_1, span1);\n\t\t\tappend(span1, span0);\n\t\t\tappend(span0, t2);\n\t\t\tappend(span1, t3);\n\t\t\tappend(li, t4);\n\t\t\tif_blocks[current_block_type_index].m(li, null);\n\t\t\tappend(li, t5);\n\t\t\tappend(li, span2);\n\t\t\tappend(span2, t6);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(span1, \"click\", /*toggleExpand*/ ctx[15]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*expandable*/ ctx[11] && /*isParentExpanded*/ ctx[2]) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*expandable, isParentExpanded*/ 2052) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_3(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(label_1, t0);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 4096) jsonkey_changes.key = /*key*/ ctx[12];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\t\t\tif (!current || dirty & /*label*/ 2) set_data(t2, /*label*/ ctx[1]);\n\t\t\tif (!current || dirty & /*bracketOpen*/ 32) set_data(t3, /*bracketOpen*/ ctx[5]);\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block1 = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\tif_block1.m(li, t5);\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*bracketClose*/ 64) set_data(t6, /*bracketClose*/ ctx[6]);\n\n\t\t\tif (dirty & /*isParentExpanded*/ 4) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tdestroy_component(jsonkey);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$5($$self, $$props, $$invalidate) {\n\tlet slicedKeys;\n\tlet { key, keys, colon = ':', label = '', isParentExpanded, isParentArray, isArray = false, bracketOpen, bracketClose } = $$props;\n\tlet { previewKeys = keys } = $$props;\n\tlet { getKey = key => key } = $$props;\n\tlet { getValue = key => key } = $$props;\n\tlet { getPreviewValue = getValue } = $$props;\n\tlet { expanded = false, expandable = true } = $$props;\n\tconst context = getContext(contextKey);\n\tsetContext(contextKey, { ...context, colon });\n\n\tfunction toggleExpand() {\n\t\t$$invalidate(0, expanded = !expanded);\n\t}\n\n\tfunction expand() {\n\t\t$$invalidate(0, expanded = true);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(12, key = $$props.key);\n\t\tif ('keys' in $$props) $$invalidate(17, keys = $$props.keys);\n\t\tif ('colon' in $$props) $$invalidate(18, colon = $$props.colon);\n\t\tif ('label' in $$props) $$invalidate(1, label = $$props.label);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif ('isArray' in $$props) $$invalidate(4, isArray = $$props.isArray);\n\t\tif ('bracketOpen' in $$props) $$invalidate(5, bracketOpen = $$props.bracketOpen);\n\t\tif ('bracketClose' in $$props) $$invalidate(6, bracketClose = $$props.bracketClose);\n\t\tif ('previewKeys' in $$props) $$invalidate(7, previewKeys = $$props.previewKeys);\n\t\tif ('getKey' in $$props) $$invalidate(8, getKey = $$props.getKey);\n\t\tif ('getValue' in $$props) $$invalidate(9, getValue = $$props.getValue);\n\t\tif ('getPreviewValue' in $$props) $$invalidate(10, getPreviewValue = $$props.getPreviewValue);\n\t\tif ('expanded' in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t\tif ('expandable' in $$props) $$invalidate(11, expandable = $$props.expandable);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*isParentExpanded*/ 4) {\n\t\t\t if (!isParentExpanded) {\n\t\t\t\t$$invalidate(0, expanded = false);\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*expanded, keys, previewKeys*/ 131201) {\n\t\t\t $$invalidate(13, slicedKeys = expanded ? keys : previewKeys.slice(0, 5));\n\t\t}\n\t};\n\n\treturn [\n\t\texpanded,\n\t\tlabel,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tisArray,\n\t\tbracketOpen,\n\t\tbracketClose,\n\t\tpreviewKeys,\n\t\tgetKey,\n\t\tgetValue,\n\t\tgetPreviewValue,\n\t\texpandable,\n\t\tkey,\n\t\tslicedKeys,\n\t\tcontext,\n\t\ttoggleExpand,\n\t\texpand,\n\t\tkeys,\n\t\tcolon\n\t];\n}\n\nclass JSONNested extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$5,\n\t\t\tcreate_fragment$5,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 12,\n\t\t\t\tkeys: 17,\n\t\t\t\tcolon: 18,\n\t\t\t\tlabel: 1,\n\t\t\t\tisParentExpanded: 2,\n\t\t\t\tisParentArray: 3,\n\t\t\t\tisArray: 4,\n\t\t\t\tbracketOpen: 5,\n\t\t\t\tbracketClose: 6,\n\t\t\t\tpreviewKeys: 7,\n\t\t\t\tgetKey: 8,\n\t\t\t\tgetValue: 9,\n\t\t\t\tgetPreviewValue: 10,\n\t\t\t\texpanded: 0,\n\t\t\t\texpandable: 11\n\t\t\t},\n\t\t\tadd_css$4\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONObjectNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$6(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tpreviewKeys: /*keys*/ ctx[5],\n\t\t\t\tgetValue: /*getValue*/ ctx[6],\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \" \"),\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.keys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.previewKeys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*nodeType*/ 8) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \" \");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$6($$self, $$props, $$invalidate) {\n\tlet keys;\n\tlet { key, value, isParentExpanded, isParentArray, nodeType } = $$props;\n\tlet { expanded = true } = $$props;\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(7, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t\tif ('expanded' in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 128) {\n\t\t\t $$invalidate(5, keys = Object.getOwnPropertyNames(value));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tnodeType,\n\t\texpanded,\n\t\tkeys,\n\t\tgetValue,\n\t\tvalue\n\t];\n}\n\nclass JSONObjectNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$6, create_fragment$6, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 7,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONArrayNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$7(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tisArray: true,\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tpreviewKeys: /*previewKeys*/ ctx[6],\n\t\t\t\tgetValue: /*getValue*/ ctx[7],\n\t\t\t\tlabel: \"Array(\" + /*value*/ ctx[1].length + \")\",\n\t\t\t\tbracketOpen: \"[\",\n\t\t\t\tbracketClose: \"]\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.keys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*previewKeys*/ 64) jsonnested_changes.previewKeys = /*previewKeys*/ ctx[6];\n\t\t\tif (dirty & /*value*/ 2) jsonnested_changes.label = \"Array(\" + /*value*/ ctx[1].length + \")\";\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$7($$self, $$props, $$invalidate) {\n\tlet keys;\n\tlet previewKeys;\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\tlet { expanded = JSON.stringify(value).length < 1024 } = $$props;\n\tconst filteredKey = new Set(['length']);\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif ('expanded' in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 2) {\n\t\t\t $$invalidate(5, keys = Object.getOwnPropertyNames(value));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*keys*/ 32) {\n\t\t\t $$invalidate(6, previewKeys = keys.filter(key => !filteredKey.has(key)));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\texpanded,\n\t\tkeys,\n\t\tpreviewKeys,\n\t\tgetValue\n\t];\n}\n\nclass JSONArrayNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$7, create_fragment$7, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONIterableArrayNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$8(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[4],\n\t\t\t\tgetKey,\n\t\t\t\tgetValue,\n\t\t\t\tisArray: true,\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\"),\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 16) jsonnested_changes.keys = /*keys*/ ctx[4];\n\t\t\tif (dirty & /*nodeType, keys*/ 24) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction getKey(key) {\n\treturn String(key[0]);\n}\n\nfunction getValue(key) {\n\treturn key[1];\n}\n\nfunction instance$8($$self, $$props, $$invalidate) {\n\tlet { key, value, isParentExpanded, isParentArray, nodeType } = $$props;\n\tlet keys = [];\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(5, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 32) {\n\t\t\t {\n\t\t\t\tlet result = [];\n\t\t\t\tlet i = 0;\n\n\t\t\t\tfor (const entry of value) {\n\t\t\t\t\tresult.push([i++, entry]);\n\t\t\t\t}\n\n\t\t\t\t$$invalidate(4, keys = result);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, isParentArray, nodeType, keys, value];\n}\n\nclass JSONIterableArrayNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$8, create_fragment$8, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 5,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3\n\t\t});\n\t}\n}\n\nclass MapEntry {\r\n  constructor(key, value) {\r\n    this.key = key;\r\n    this.value = value;\r\n  }\r\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONIterableMapNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$9(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[4],\n\t\t\t\tgetKey: getKey$1,\n\t\t\t\tgetValue: getValue$1,\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\"),\n\t\t\t\tcolon: \"\",\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 16) jsonnested_changes.keys = /*keys*/ ctx[4];\n\t\t\tif (dirty & /*nodeType, keys*/ 24) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction getKey$1(entry) {\n\treturn entry[0];\n}\n\nfunction getValue$1(entry) {\n\treturn entry[1];\n}\n\nfunction instance$9($$self, $$props, $$invalidate) {\n\tlet { key, value, isParentExpanded, isParentArray, nodeType } = $$props;\n\tlet keys = [];\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(5, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 32) {\n\t\t\t {\n\t\t\t\tlet result = [];\n\t\t\t\tlet i = 0;\n\n\t\t\t\tfor (const entry of value) {\n\t\t\t\t\tresult.push([i++, new MapEntry(entry[0], entry[1])]);\n\t\t\t\t}\n\n\t\t\t\t$$invalidate(4, keys = result);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, isParentArray, nodeType, keys, value];\n}\n\nclass JSONIterableMapNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$9, create_fragment$9, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 5,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONMapEntryNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$a(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tkey: /*isParentExpanded*/ ctx[2]\n\t\t\t\t? String(/*key*/ ctx[0])\n\t\t\t\t: /*value*/ ctx[1].key,\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tgetValue: /*getValue*/ ctx[6],\n\t\t\t\tlabel: /*isParentExpanded*/ ctx[2] ? 'Entry ' : '=> ',\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[3];\n\n\t\t\tif (dirty & /*isParentExpanded, key, value*/ 7) jsonnested_changes.key = /*isParentExpanded*/ ctx[2]\n\t\t\t? String(/*key*/ ctx[0])\n\t\t\t: /*value*/ ctx[1].key;\n\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.label = /*isParentExpanded*/ ctx[2] ? 'Entry ' : '=> ';\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$a($$self, $$props, $$invalidate) {\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\tlet { expanded = false } = $$props;\n\tconst keys = ['key', 'value'];\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif ('expanded' in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\treturn [key, value, isParentExpanded, isParentArray, expanded, keys, getValue];\n}\n\nclass JSONMapEntryNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$a, create_fragment$a, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONValueNode.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$5(target) {\n\tappend_styles(target, \"svelte-3bjyvl\", \"li.svelte-3bjyvl{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-3bjyvl{padding-left:var(--li-identation)}.String.svelte-3bjyvl{color:var(--string-color)}.Date.svelte-3bjyvl{color:var(--date-color)}.Number.svelte-3bjyvl{color:var(--number-color)}.Boolean.svelte-3bjyvl{color:var(--boolean-color)}.Null.svelte-3bjyvl{color:var(--null-color)}.Undefined.svelte-3bjyvl{color:var(--undefined-color)}.Function.svelte-3bjyvl{color:var(--function-color);font-style:italic}.Symbol.svelte-3bjyvl{color:var(--symbol-color)}\");\n}\n\nfunction create_fragment$b(ctx) {\n\tlet li;\n\tlet jsonkey;\n\tlet t0;\n\tlet span;\n\n\tlet t1_value = (/*valueGetter*/ ctx[2]\n\t? /*valueGetter*/ ctx[2](/*value*/ ctx[1])\n\t: /*value*/ ctx[1]) + \"\";\n\n\tlet t1;\n\tlet span_class_value;\n\tlet current;\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tcolon: /*colon*/ ctx[6],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tattr(span, \"class\", span_class_value = \"\" + (null_to_empty(/*nodeType*/ ctx[5]) + \" svelte-3bjyvl\"));\n\t\t\tattr(li, \"class\", \"svelte-3bjyvl\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t0);\n\t\t\tappend(li, span);\n\t\t\tappend(span, t1);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonkey_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tif (dirty & /*isParentArray*/ 16) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[4];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\n\t\t\tif ((!current || dirty & /*valueGetter, value*/ 6) && t1_value !== (t1_value = (/*valueGetter*/ ctx[2]\n\t\t\t? /*valueGetter*/ ctx[2](/*value*/ ctx[1])\n\t\t\t: /*value*/ ctx[1]) + \"\")) set_data(t1, t1_value);\n\n\t\t\tif (!current || dirty & /*nodeType*/ 32 && span_class_value !== (span_class_value = \"\" + (null_to_empty(/*nodeType*/ ctx[5]) + \" svelte-3bjyvl\"))) {\n\t\t\t\tattr(span, \"class\", span_class_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(jsonkey);\n\t\t}\n\t};\n}\n\nfunction instance$b($$self, $$props, $$invalidate) {\n\tlet { key, value, valueGetter = null, isParentExpanded, isParentArray, nodeType } = $$props;\n\tconst { colon } = getContext(contextKey);\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('valueGetter' in $$props) $$invalidate(2, valueGetter = $$props.valueGetter);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(3, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(5, nodeType = $$props.nodeType);\n\t};\n\n\treturn [key, value, valueGetter, isParentExpanded, isParentArray, nodeType, colon];\n}\n\nclass JSONValueNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$b,\n\t\t\tcreate_fragment$b,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 0,\n\t\t\t\tvalue: 1,\n\t\t\t\tvalueGetter: 2,\n\t\t\t\tisParentExpanded: 3,\n\t\t\t\tisParentArray: 4,\n\t\t\t\tnodeType: 5\n\t\t\t},\n\t\t\tadd_css$5\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/ErrorNode.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$6(target) {\n\tappend_styles(target, \"svelte-1ca3gb2\", \"li.svelte-1ca3gb2{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-1ca3gb2{padding-left:var(--li-identation)}.collapse.svelte-1ca3gb2{--li-display:inline;display:inline;font-style:italic}\");\n}\n\nfunction get_each_context$2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[8] = list[i];\n\tchild_ctx[10] = i;\n\treturn child_ctx;\n}\n\n// (40:2) {#if isParentExpanded}\nfunction create_if_block_2$1(ctx) {\n\tlet jsonarrow;\n\tlet current;\n\tjsonarrow = new JSONArrow({ props: { expanded: /*expanded*/ ctx[0] } });\n\tjsonarrow.$on(\"click\", /*toggleExpand*/ ctx[7]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonarrow.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonarrow, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonarrow_changes = {};\n\t\t\tif (dirty & /*expanded*/ 1) jsonarrow_changes.expanded = /*expanded*/ ctx[0];\n\t\t\tjsonarrow.$set(jsonarrow_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonarrow, detaching);\n\t\t}\n\t};\n}\n\n// (45:2) {#if isParentExpanded}\nfunction create_if_block$3(ctx) {\n\tlet ul;\n\tlet current;\n\tlet if_block = /*expanded*/ ctx[0] && create_if_block_1$1(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(ul, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tif (if_block) if_block.m(ul, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*expanded*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$1(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(ul, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\n// (47:6) {#if expanded}\nfunction create_if_block_1$1(ctx) {\n\tlet jsonnode;\n\tlet t0;\n\tlet li;\n\tlet jsonkey;\n\tlet t1;\n\tlet span;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: \"message\",\n\t\t\t\tvalue: /*value*/ ctx[2].message\n\t\t\t}\n\t\t});\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: \"stack\",\n\t\t\t\tcolon: \":\",\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tlet each_value = /*stack*/ ctx[5];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(li, \"class\", \"svelte-1ca3gb2\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnode, target, anchor);\n\t\t\tinsert(target, t0, anchor);\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t1);\n\t\t\tappend(li, span);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(span, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*value*/ 4) jsonnode_changes.value = /*value*/ ctx[2].message;\n\t\t\tjsonnode.$set(jsonnode_changes);\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\n\t\t\tif (dirty & /*stack*/ 32) {\n\t\t\t\teach_value = /*stack*/ ctx[5];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$2(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$2(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(span, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnode, detaching);\n\t\t\tif (detaching) detach(t0);\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(jsonkey);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\n// (52:12) {#each stack as line, index}\nfunction create_each_block$2(ctx) {\n\tlet span;\n\tlet t_value = /*line*/ ctx[8] + \"\";\n\tlet t;\n\tlet br;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt = text(t_value);\n\t\t\tbr = element(\"br\");\n\t\t\tattr(span, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(span, \"indent\", /*index*/ ctx[10] > 0);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t);\n\t\t\tinsert(target, br, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*stack*/ 32 && t_value !== (t_value = /*line*/ ctx[8] + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t\tif (detaching) detach(br);\n\t\t}\n\t};\n}\n\nfunction create_fragment$c(ctx) {\n\tlet li;\n\tlet t0;\n\tlet jsonkey;\n\tlet t1;\n\tlet span;\n\tlet t2;\n\tlet t3_value = (/*expanded*/ ctx[0] ? '' : /*value*/ ctx[2].message) + \"\";\n\tlet t3;\n\tlet t4;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block0 = /*isParentExpanded*/ ctx[3] && create_if_block_2$1(ctx);\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[1],\n\t\t\t\tcolon: /*context*/ ctx[6].colon,\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\tlet if_block1 = /*isParentExpanded*/ ctx[3] && create_if_block$3(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt0 = space();\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt2 = text(\"Error: \");\n\t\t\tt3 = text(t3_value);\n\t\t\tt4 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(li, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tif (if_block0) if_block0.m(li, null);\n\t\t\tappend(li, t0);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t1);\n\t\t\tappend(li, span);\n\t\t\tappend(span, t2);\n\t\t\tappend(span, t3);\n\t\t\tappend(li, t4);\n\t\t\tif (if_block1) if_block1.m(li, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(span, \"click\", /*toggleExpand*/ ctx[7]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*isParentExpanded*/ ctx[3]) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_2$1(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(li, t0);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 2) jsonkey_changes.key = /*key*/ ctx[1];\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tif (dirty & /*isParentArray*/ 16) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[4];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\t\t\tif ((!current || dirty & /*expanded, value*/ 5) && t3_value !== (t3_value = (/*expanded*/ ctx[0] ? '' : /*value*/ ctx[2].message) + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (/*isParentExpanded*/ ctx[3]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block$3(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\tif_block1.m(li, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block1, 1, 1, () => {\n\t\t\t\t\tif_block1 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tdestroy_component(jsonkey);\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$c($$self, $$props, $$invalidate) {\n\tlet stack;\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\tlet { expanded = false } = $$props;\n\tconst context = getContext(contextKey);\n\tsetContext(contextKey, { ...context, colon: ':' });\n\n\tfunction toggleExpand() {\n\t\t$$invalidate(0, expanded = !expanded);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(1, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(2, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(3, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif ('expanded' in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 4) {\n\t\t\t $$invalidate(5, stack = value.stack.split('\\n'));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*isParentExpanded*/ 8) {\n\t\t\t if (!isParentExpanded) {\n\t\t\t\t$$invalidate(0, expanded = false);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\texpanded,\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tstack,\n\t\tcontext,\n\t\ttoggleExpand\n\t];\n}\n\nclass ErrorNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$c,\n\t\t\tcreate_fragment$c,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 1,\n\t\t\t\tvalue: 2,\n\t\t\t\tisParentExpanded: 3,\n\t\t\t\tisParentArray: 4,\n\t\t\t\texpanded: 0\n\t\t\t},\n\t\t\tadd_css$6\n\t\t);\n\t}\n}\n\nfunction objType(obj) {\r\n  const type = Object.prototype.toString.call(obj).slice(8, -1);\r\n  if (type === 'Object') {\r\n    if (typeof obj[Symbol.iterator] === 'function') {\r\n      return 'Iterable';\r\n    }\r\n    return obj.constructor.name;\r\n  }\r\n\r\n  return type;\r\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$d(ctx) {\n\tlet switch_instance;\n\tlet switch_instance_anchor;\n\tlet current;\n\tvar switch_value = /*componentType*/ ctx[6];\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tvalue: /*value*/ ctx[1],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tnodeType: /*nodeType*/ ctx[4],\n\t\t\t\tvalueGetter: /*valueGetter*/ ctx[5]\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tswitch_instance_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, switch_instance_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*key*/ 1) switch_instance_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*value*/ 2) switch_instance_changes.value = /*value*/ ctx[1];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) switch_instance_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) switch_instance_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tif (dirty & /*nodeType*/ 16) switch_instance_changes.nodeType = /*nodeType*/ ctx[4];\n\t\t\tif (dirty & /*valueGetter*/ 32) switch_instance_changes.valueGetter = /*valueGetter*/ ctx[5];\n\n\t\t\tif (switch_value !== (switch_value = /*componentType*/ ctx[6])) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(switch_instance_anchor);\n\t\t\tif (switch_instance) destroy_component(switch_instance, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$d($$self, $$props, $$invalidate) {\n\tlet nodeType;\n\tlet componentType;\n\tlet valueGetter;\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\n\tfunction getComponent(nodeType) {\n\t\tswitch (nodeType) {\n\t\t\tcase 'Object':\n\t\t\t\treturn JSONObjectNode;\n\t\t\tcase 'Error':\n\t\t\t\treturn ErrorNode;\n\t\t\tcase 'Array':\n\t\t\t\treturn JSONArrayNode;\n\t\t\tcase 'Iterable':\n\t\t\tcase 'Map':\n\t\t\tcase 'Set':\n\t\t\t\treturn typeof value.set === 'function'\n\t\t\t\t? JSONIterableMapNode\n\t\t\t\t: JSONIterableArrayNode;\n\t\t\tcase 'MapEntry':\n\t\t\t\treturn JSONMapEntryNode;\n\t\t\tdefault:\n\t\t\t\treturn JSONValueNode;\n\t\t}\n\t}\n\n\tfunction getValueGetter(nodeType) {\n\t\tswitch (nodeType) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Error':\n\t\t\tcase 'Array':\n\t\t\tcase 'Iterable':\n\t\t\tcase 'Map':\n\t\t\tcase 'Set':\n\t\t\tcase 'MapEntry':\n\t\t\tcase 'Number':\n\t\t\t\treturn undefined;\n\t\t\tcase 'String':\n\t\t\t\treturn raw => `\"${raw}\"`;\n\t\t\tcase 'Boolean':\n\t\t\t\treturn raw => raw ? 'true' : 'false';\n\t\t\tcase 'Date':\n\t\t\t\treturn raw => raw.toISOString();\n\t\t\tcase 'Null':\n\t\t\t\treturn () => 'null';\n\t\t\tcase 'Undefined':\n\t\t\t\treturn () => 'undefined';\n\t\t\tcase 'Function':\n\t\t\tcase 'Symbol':\n\t\t\t\treturn raw => raw.toString();\n\t\t\tdefault:\n\t\t\t\treturn () => `<${nodeType}>`;\n\t\t}\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 2) {\n\t\t\t $$invalidate(4, nodeType = objType(value));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*nodeType*/ 16) {\n\t\t\t $$invalidate(6, componentType = getComponent(nodeType));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*nodeType*/ 16) {\n\t\t\t $$invalidate(5, valueGetter = getValueGetter(nodeType));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tnodeType,\n\t\tvalueGetter,\n\t\tcomponentType\n\t];\n}\n\nclass JSONNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$d, create_fragment$d, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/Root.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$7(target) {\n\tappend_styles(target, \"svelte-773n60\", \"ul.svelte-773n60{--string-color:var(--json-tree-string-color, #cb3f41);--symbol-color:var(--json-tree-symbol-color, #cb3f41);--boolean-color:var(--json-tree-boolean-color, #112aa7);--function-color:var(--json-tree-function-color, #112aa7);--number-color:var(--json-tree-number-color, #3029cf);--label-color:var(--json-tree-label-color, #871d8f);--arrow-color:var(--json-tree-arrow-color, #727272);--null-color:var(--json-tree-null-color, #8d8d8d);--undefined-color:var(--json-tree-undefined-color, #8d8d8d);--date-color:var(--json-tree-date-color, #8d8d8d);--li-identation:var(--json-tree-li-indentation, 1em);--li-line-height:var(--json-tree-li-line-height, 1.3);--li-colon-space:0.3em;font-size:var(--json-tree-font-size, 12px);font-family:var(--json-tree-font-family, 'Courier New', Courier, monospace)}ul.svelte-773n60 li{line-height:var(--li-line-height);display:var(--li-display, list-item);list-style:none}ul.svelte-773n60,ul.svelte-773n60 ul{padding:0;margin:0}\");\n}\n\nfunction create_fragment$e(ctx) {\n\tlet ul;\n\tlet jsonnode;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tvalue: /*value*/ ctx[1],\n\t\t\t\tisParentExpanded: true,\n\t\t\t\tisParentArray: false\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tattr(ul, \"class\", \"svelte-773n60\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tmount_component(jsonnode, ul, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnode_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*value*/ 2) jsonnode_changes.value = /*value*/ ctx[1];\n\t\t\tjsonnode.$set(jsonnode_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_component(jsonnode);\n\t\t}\n\t};\n}\n\nfunction instance$e($$self, $$props, $$invalidate) {\n\tsetContext(contextKey, {});\n\tlet { key = '', value } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t};\n\n\treturn [key, value];\n}\n\nclass Root extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$e, create_fragment$e, safe_not_equal, { key: 0, value: 1 }, add_css$7);\n\t}\n}\n\n/* src/client/debug/main/ClientSwitcher.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$8(target) {\n\tappend_styles(target, \"svelte-jvfq3i\", \".svelte-jvfq3i{box-sizing:border-box}section.switcher.svelte-jvfq3i{position:sticky;bottom:0;transform:translateY(20px);margin:40px -20px 0;border-top:1px solid #999;padding:20px;background:#fff}label.svelte-jvfq3i{display:flex;align-items:baseline;gap:5px;font-weight:bold}select.svelte-jvfq3i{min-width:140px}\");\n}\n\nfunction get_each_context$3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\tchild_ctx[9] = i;\n\treturn child_ctx;\n}\n\n// (42:0) {#if debuggableClients.length > 1}\nfunction create_if_block$4(ctx) {\n\tlet section;\n\tlet label;\n\tlet t;\n\tlet select;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value = /*debuggableClients*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$3(get_each_context$3(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt = text(\"Client\\n      \\n      \");\n\t\t\tselect = element(\"select\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(select, \"id\", selectId);\n\t\t\tattr(select, \"class\", \"svelte-jvfq3i\");\n\t\t\tif (/*selected*/ ctx[2] === void 0) add_render_callback(() => /*select_change_handler*/ ctx[6].call(select));\n\t\t\tattr(label, \"class\", \"svelte-jvfq3i\");\n\t\t\tattr(section, \"class\", \"switcher svelte-jvfq3i\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, label);\n\t\t\tappend(label, t);\n\t\t\tappend(label, select);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t}\n\n\t\t\tselect_option(select, /*selected*/ ctx[2]);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(select, \"change\", /*handleSelection*/ ctx[3]),\n\t\t\t\t\tlisten(select, \"change\", /*select_change_handler*/ ctx[6])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debuggableClients, JSON*/ 2) {\n\t\t\t\teach_value = /*debuggableClients*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$3(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$3(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tif (dirty & /*selected*/ 4) {\n\t\t\t\tselect_option(select, /*selected*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (48:8) {#each debuggableClients as clientOption, index}\nfunction create_each_block$3(ctx) {\n\tlet option;\n\tlet t0;\n\tlet t1;\n\tlet t2_value = JSON.stringify(/*clientOption*/ ctx[7].playerID) + \"\";\n\tlet t2;\n\tlet t3;\n\tlet t4_value = JSON.stringify(/*clientOption*/ ctx[7].matchID) + \"\";\n\tlet t4;\n\tlet t5;\n\tlet t6_value = /*clientOption*/ ctx[7].game.name + \"\";\n\tlet t6;\n\tlet t7;\n\tlet option_value_value;\n\n\treturn {\n\t\tc() {\n\t\t\toption = element(\"option\");\n\t\t\tt0 = text(/*index*/ ctx[9]);\n\t\t\tt1 = text(\" —\\n            playerID: \");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = text(\",\\n            matchID: \");\n\t\t\tt4 = text(t4_value);\n\t\t\tt5 = text(\"\\n            (\");\n\t\t\tt6 = text(t6_value);\n\t\t\tt7 = text(\")\\n          \");\n\t\t\toption.__value = option_value_value = /*index*/ ctx[9];\n\t\t\toption.value = option.__value;\n\t\t\tattr(option, \"class\", \"svelte-jvfq3i\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, option, anchor);\n\t\t\tappend(option, t0);\n\t\t\tappend(option, t1);\n\t\t\tappend(option, t2);\n\t\t\tappend(option, t3);\n\t\t\tappend(option, t4);\n\t\t\tappend(option, t5);\n\t\t\tappend(option, t6);\n\t\t\tappend(option, t7);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t2_value !== (t2_value = JSON.stringify(/*clientOption*/ ctx[7].playerID) + \"\")) set_data(t2, t2_value);\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t4_value !== (t4_value = JSON.stringify(/*clientOption*/ ctx[7].matchID) + \"\")) set_data(t4, t4_value);\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t6_value !== (t6_value = /*clientOption*/ ctx[7].game.name + \"\")) set_data(t6, t6_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(option);\n\t\t}\n\t};\n}\n\nfunction create_fragment$f(ctx) {\n\tlet if_block_anchor;\n\tlet if_block = /*debuggableClients*/ ctx[1].length > 1 && create_if_block$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*debuggableClients*/ ctx[1].length > 1) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$4(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nconst selectId = 'bgio-debug-select-client';\n\nfunction instance$f($$self, $$props, $$invalidate) {\n\tlet client;\n\tlet debuggableClients;\n\tlet selected;\n\n\tlet $clientManager,\n\t\t$$unsubscribe_clientManager = noop,\n\t\t$$subscribe_clientManager = () => ($$unsubscribe_clientManager(), $$unsubscribe_clientManager = subscribe(clientManager, $$value => $$invalidate(5, $clientManager = $$value)), clientManager);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_clientManager());\n\tlet { clientManager } = $$props;\n\t$$subscribe_clientManager();\n\n\tconst handleSelection = e => {\n\t\t// Request to switch to the selected client.\n\t\tconst selectedClient = debuggableClients[e.target.value];\n\n\t\tclientManager.switchToClient(selectedClient);\n\n\t\t// Maintain focus on the client select menu after switching clients.\n\t\t// Necessary because switching clients will usually trigger a mount/unmount.\n\t\tconst select = document.getElementById(selectId);\n\n\t\tif (select) select.focus();\n\t};\n\n\tfunction select_change_handler() {\n\t\tselected = select_value(this);\n\t\t((($$invalidate(2, selected), $$invalidate(1, debuggableClients)), $$invalidate(4, client)), $$invalidate(5, $clientManager));\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('clientManager' in $$props) $$subscribe_clientManager($$invalidate(0, clientManager = $$props.clientManager));\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$clientManager*/ 32) {\n\t\t\t $$invalidate(4, { client, debuggableClients } = $clientManager, client, ($$invalidate(1, debuggableClients), $$invalidate(5, $clientManager)));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*debuggableClients, client*/ 18) {\n\t\t\t $$invalidate(2, selected = debuggableClients.indexOf(client));\n\t\t}\n\t};\n\n\treturn [\n\t\tclientManager,\n\t\tdebuggableClients,\n\t\tselected,\n\t\thandleSelection,\n\t\tclient,\n\t\t$clientManager,\n\t\tselect_change_handler\n\t];\n}\n\nclass ClientSwitcher extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$f, create_fragment$f, safe_not_equal, { clientManager: 0 }, add_css$8);\n\t}\n}\n\n/* src/client/debug/main/Hotkey.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$9(target) {\n\tappend_styles(target, \"svelte-1vfj1mn\", \".key.svelte-1vfj1mn.svelte-1vfj1mn{display:flex;flex-direction:row;align-items:center}button.svelte-1vfj1mn.svelte-1vfj1mn{cursor:pointer;min-width:10px;padding-left:5px;padding-right:5px;height:20px;line-height:20px;text-align:center;border:1px solid #ccc;box-shadow:1px 1px 1px #888;background:#eee;color:#444}button.svelte-1vfj1mn.svelte-1vfj1mn:hover{background:#ddd}.key.active.svelte-1vfj1mn button.svelte-1vfj1mn{background:#ddd;border:1px solid #999;box-shadow:none}label.svelte-1vfj1mn.svelte-1vfj1mn{margin-left:10px}\");\n}\n\n// (78:2) {#if label}\nfunction create_if_block$5(ctx) {\n\tlet label_1;\n\tlet t0;\n\tlet t1;\n\tlet span;\n\tlet t2_value = `(shortcut: ${/*value*/ ctx[0]})` + \"\";\n\tlet t2;\n\n\treturn {\n\t\tc() {\n\t\t\tlabel_1 = element(\"label\");\n\t\t\tt0 = text(/*label*/ ctx[1]);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt2 = text(t2_value);\n\t\t\tattr(span, \"class\", \"screen-reader-only\");\n\t\t\tattr(label_1, \"for\", /*id*/ ctx[5]);\n\t\t\tattr(label_1, \"class\", \"svelte-1vfj1mn\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, label_1, anchor);\n\t\t\tappend(label_1, t0);\n\t\t\tappend(label_1, t1);\n\t\t\tappend(label_1, span);\n\t\t\tappend(span, t2);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*label*/ 2) set_data(t0, /*label*/ ctx[1]);\n\t\t\tif (dirty & /*value*/ 1 && t2_value !== (t2_value = `(shortcut: ${/*value*/ ctx[0]})` + \"\")) set_data(t2, t2_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(label_1);\n\t\t}\n\t};\n}\n\nfunction create_fragment$g(ctx) {\n\tlet div;\n\tlet button;\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block = /*label*/ ctx[1] && create_if_block$5(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(/*value*/ ctx[0]);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(button, \"id\", /*id*/ ctx[5]);\n\t\t\tbutton.disabled = /*disable*/ ctx[2];\n\t\t\tattr(button, \"class\", \"svelte-1vfj1mn\");\n\t\t\tattr(div, \"class\", \"key svelte-1vfj1mn\");\n\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, button);\n\t\t\tappend(button, t0);\n\t\t\tappend(div, t1);\n\t\t\tif (if_block) if_block.m(div, null);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(window, \"keydown\", /*Keypress*/ ctx[7]),\n\t\t\t\t\tlisten(button, \"click\", /*Activate*/ ctx[6])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*value*/ 1) set_data(t0, /*value*/ ctx[0]);\n\n\t\t\tif (dirty & /*disable*/ 4) {\n\t\t\t\tbutton.disabled = /*disable*/ ctx[2];\n\t\t\t}\n\n\t\t\tif (/*label*/ ctx[1]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$5(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (dirty & /*active*/ 8) {\n\t\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tif (if_block) if_block.d();\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$g($$self, $$props, $$invalidate) {\n\tlet $disableHotkeys;\n\tlet { value } = $$props;\n\tlet { onPress = null } = $$props;\n\tlet { label = null } = $$props;\n\tlet { disable = false } = $$props;\n\tconst { disableHotkeys } = getContext('hotkeys');\n\tcomponent_subscribe($$self, disableHotkeys, value => $$invalidate(9, $disableHotkeys = value));\n\tlet active = false;\n\tlet id = `key-${value}`;\n\n\tfunction Deactivate() {\n\t\t$$invalidate(3, active = false);\n\t}\n\n\tfunction Activate() {\n\t\t$$invalidate(3, active = true);\n\t\tsetTimeout(Deactivate, 200);\n\n\t\tif (onPress) {\n\t\t\tsetTimeout(onPress, 1);\n\t\t}\n\t}\n\n\tfunction Keypress(e) {\n\t\tif (!$disableHotkeys && !disable && !e.ctrlKey && !e.metaKey && e.key == value) {\n\t\t\te.preventDefault();\n\t\t\tActivate();\n\t\t}\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('value' in $$props) $$invalidate(0, value = $$props.value);\n\t\tif ('onPress' in $$props) $$invalidate(8, onPress = $$props.onPress);\n\t\tif ('label' in $$props) $$invalidate(1, label = $$props.label);\n\t\tif ('disable' in $$props) $$invalidate(2, disable = $$props.disable);\n\t};\n\n\treturn [value, label, disable, active, disableHotkeys, id, Activate, Keypress, onPress];\n}\n\nclass Hotkey extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$g,\n\t\t\tcreate_fragment$g,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tvalue: 0,\n\t\t\t\tonPress: 8,\n\t\t\t\tlabel: 1,\n\t\t\t\tdisable: 2\n\t\t\t},\n\t\t\tadd_css$9\n\t\t);\n\t}\n}\n\n/* src/client/debug/main/InteractiveFunction.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$a(target) {\n\tappend_styles(target, \"svelte-1mppqmp\", \".move.svelte-1mppqmp{display:flex;flex-direction:row;cursor:pointer;margin-left:10px;color:#666}.move.svelte-1mppqmp:hover{color:#333}.move.active.svelte-1mppqmp{color:#111;font-weight:bold}.arg-field.svelte-1mppqmp{outline:none;font-family:monospace}\");\n}\n\nfunction create_fragment$h(ctx) {\n\tlet div;\n\tlet span0;\n\tlet t0;\n\tlet t1;\n\tlet span1;\n\tlet t3;\n\tlet span2;\n\tlet t4;\n\tlet span3;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tspan0 = element(\"span\");\n\t\t\tt0 = text(/*name*/ ctx[2]);\n\t\t\tt1 = space();\n\t\t\tspan1 = element(\"span\");\n\t\t\tspan1.textContent = \"(\";\n\t\t\tt3 = space();\n\t\t\tspan2 = element(\"span\");\n\t\t\tt4 = space();\n\t\t\tspan3 = element(\"span\");\n\t\t\tspan3.textContent = \")\";\n\t\t\tattr(span2, \"class\", \"arg-field svelte-1mppqmp\");\n\t\t\tattr(span2, \"contenteditable\", \"\");\n\t\t\tattr(div, \"class\", \"move svelte-1mppqmp\");\n\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, span0);\n\t\t\tappend(span0, t0);\n\t\t\tappend(div, t1);\n\t\t\tappend(div, span1);\n\t\t\tappend(div, t3);\n\t\t\tappend(div, span2);\n\t\t\t/*span2_binding*/ ctx[6](span2);\n\t\t\tappend(div, t4);\n\t\t\tappend(div, span3);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(span2, \"focus\", function () {\n\t\t\t\t\t\tif (is_function(/*Activate*/ ctx[0])) /*Activate*/ ctx[0].apply(this, arguments);\n\t\t\t\t\t}),\n\t\t\t\t\tlisten(span2, \"blur\", function () {\n\t\t\t\t\t\tif (is_function(/*Deactivate*/ ctx[1])) /*Deactivate*/ ctx[1].apply(this, arguments);\n\t\t\t\t\t}),\n\t\t\t\t\tlisten(span2, \"keypress\", stop_propagation(keypress_handler)),\n\t\t\t\t\tlisten(span2, \"keydown\", /*OnKeyDown*/ ctx[5]),\n\t\t\t\t\tlisten(div, \"click\", function () {\n\t\t\t\t\t\tif (is_function(/*Activate*/ ctx[0])) /*Activate*/ ctx[0].apply(this, arguments);\n\t\t\t\t\t})\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, [dirty]) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*name*/ 4) set_data(t0, /*name*/ ctx[2]);\n\n\t\t\tif (dirty & /*active*/ 8) {\n\t\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\t/*span2_binding*/ ctx[6](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nconst keypress_handler = () => {\n\t\n};\n\nfunction instance$h($$self, $$props, $$invalidate) {\n\tlet { Activate } = $$props;\n\tlet { Deactivate } = $$props;\n\tlet { name } = $$props;\n\tlet { active } = $$props;\n\tlet span;\n\tconst dispatch = createEventDispatcher();\n\n\tfunction Submit() {\n\t\ttry {\n\t\t\tconst value = span.innerText;\n\t\t\tlet argArray = new Function(`return [${value}]`)();\n\t\t\tdispatch('submit', argArray);\n\t\t} catch(error) {\n\t\t\tdispatch('error', error);\n\t\t}\n\n\t\t$$invalidate(4, span.innerText = '', span);\n\t}\n\n\tfunction OnKeyDown(e) {\n\t\tif (e.key == 'Enter') {\n\t\t\te.preventDefault();\n\t\t\tSubmit();\n\t\t}\n\n\t\tif (e.key == 'Escape') {\n\t\t\te.preventDefault();\n\t\t\tDeactivate();\n\t\t}\n\t}\n\n\tafterUpdate(() => {\n\t\tif (active) {\n\t\t\tspan.focus();\n\t\t} else {\n\t\t\tspan.blur();\n\t\t}\n\t});\n\n\tfunction span2_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tspan = $$value;\n\t\t\t$$invalidate(4, span);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('Activate' in $$props) $$invalidate(0, Activate = $$props.Activate);\n\t\tif ('Deactivate' in $$props) $$invalidate(1, Deactivate = $$props.Deactivate);\n\t\tif ('name' in $$props) $$invalidate(2, name = $$props.name);\n\t\tif ('active' in $$props) $$invalidate(3, active = $$props.active);\n\t};\n\n\treturn [Activate, Deactivate, name, active, span, OnKeyDown, span2_binding];\n}\n\nclass InteractiveFunction extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$h,\n\t\t\tcreate_fragment$h,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tActivate: 0,\n\t\t\t\tDeactivate: 1,\n\t\t\t\tname: 2,\n\t\t\t\tactive: 3\n\t\t\t},\n\t\t\tadd_css$a\n\t\t);\n\t}\n}\n\n/* src/client/debug/main/Move.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$b(target) {\n\tappend_styles(target, \"svelte-smqssc\", \".move-error.svelte-smqssc{color:#a00;font-weight:bold}.wrapper.svelte-smqssc{display:flex;flex-direction:row;align-items:center}\");\n}\n\n// (65:2) {#if error}\nfunction create_if_block$6(ctx) {\n\tlet span;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt = text(/*error*/ ctx[2]);\n\t\t\tattr(span, \"class\", \"move-error svelte-smqssc\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*error*/ 4) set_data(t, /*error*/ ctx[2]);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\nfunction create_fragment$i(ctx) {\n\tlet div1;\n\tlet div0;\n\tlet hotkey;\n\tlet t0;\n\tlet interactivefunction;\n\tlet t1;\n\tlet current;\n\n\thotkey = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: /*shortcut*/ ctx[0],\n\t\t\t\tonPress: /*Activate*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\tinteractivefunction = new InteractiveFunction({\n\t\t\tprops: {\n\t\t\t\tActivate: /*Activate*/ ctx[4],\n\t\t\t\tDeactivate: /*Deactivate*/ ctx[5],\n\t\t\t\tname: /*name*/ ctx[1],\n\t\t\t\tactive: /*active*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tinteractivefunction.$on(\"submit\", /*Submit*/ ctx[6]);\n\tinteractivefunction.$on(\"error\", /*Error*/ ctx[7]);\n\tlet if_block = /*error*/ ctx[2] && create_if_block$6(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tcreate_component(hotkey.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tcreate_component(interactivefunction.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div0, \"class\", \"wrapper svelte-smqssc\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\t\t\tmount_component(hotkey, div0, null);\n\t\t\tappend(div0, t0);\n\t\t\tmount_component(interactivefunction, div0, null);\n\t\t\tappend(div1, t1);\n\t\t\tif (if_block) if_block.m(div1, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst hotkey_changes = {};\n\t\t\tif (dirty & /*shortcut*/ 1) hotkey_changes.value = /*shortcut*/ ctx[0];\n\t\t\thotkey.$set(hotkey_changes);\n\t\t\tconst interactivefunction_changes = {};\n\t\t\tif (dirty & /*name*/ 2) interactivefunction_changes.name = /*name*/ ctx[1];\n\t\t\tif (dirty & /*active*/ 8) interactivefunction_changes.active = /*active*/ ctx[3];\n\t\t\tinteractivefunction.$set(interactivefunction_changes);\n\n\t\t\tif (/*error*/ ctx[2]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$6(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey.$$.fragment, local);\n\t\t\ttransition_in(interactivefunction.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey.$$.fragment, local);\n\t\t\ttransition_out(interactivefunction.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tdestroy_component(hotkey);\n\t\t\tdestroy_component(interactivefunction);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$i($$self, $$props, $$invalidate) {\n\tlet { shortcut } = $$props;\n\tlet { name } = $$props;\n\tlet { fn } = $$props;\n\tconst { disableHotkeys } = getContext('hotkeys');\n\tlet error$1 = '';\n\tlet active = false;\n\n\tfunction Activate() {\n\t\tdisableHotkeys.set(true);\n\t\t$$invalidate(3, active = true);\n\t}\n\n\tfunction Deactivate() {\n\t\tdisableHotkeys.set(false);\n\t\t$$invalidate(2, error$1 = '');\n\t\t$$invalidate(3, active = false);\n\t}\n\n\tfunction Submit(e) {\n\t\t$$invalidate(2, error$1 = '');\n\t\tDeactivate();\n\t\tfn.apply(this, e.detail);\n\t}\n\n\tfunction Error(e) {\n\t\t$$invalidate(2, error$1 = e.detail);\n\t\t(0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(e.detail);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('shortcut' in $$props) $$invalidate(0, shortcut = $$props.shortcut);\n\t\tif ('name' in $$props) $$invalidate(1, name = $$props.name);\n\t\tif ('fn' in $$props) $$invalidate(8, fn = $$props.fn);\n\t};\n\n\treturn [shortcut, name, error$1, active, Activate, Deactivate, Submit, Error, fn];\n}\n\nclass Move extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$i, create_fragment$i, safe_not_equal, { shortcut: 0, name: 1, fn: 8 }, add_css$b);\n\t}\n}\n\n/* src/client/debug/main/Controls.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$c(target) {\n\tappend_styles(target, \"svelte-c3lavh\", \"ul.svelte-c3lavh{padding-left:0}li.svelte-c3lavh{list-style:none;margin:none;margin-bottom:5px}\");\n}\n\nfunction create_fragment$j(ctx) {\n\tlet ul;\n\tlet li0;\n\tlet hotkey0;\n\tlet t0;\n\tlet li1;\n\tlet hotkey1;\n\tlet t1;\n\tlet li2;\n\tlet hotkey2;\n\tlet t2;\n\tlet li3;\n\tlet hotkey3;\n\tlet current;\n\n\thotkey0 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"1\",\n\t\t\t\tonPress: /*client*/ ctx[0].reset,\n\t\t\t\tlabel: \"reset\"\n\t\t\t}\n\t\t});\n\n\thotkey1 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"2\",\n\t\t\t\tonPress: /*Save*/ ctx[2],\n\t\t\t\tlabel: \"save\"\n\t\t\t}\n\t\t});\n\n\thotkey2 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"3\",\n\t\t\t\tonPress: /*Restore*/ ctx[3],\n\t\t\t\tlabel: \"restore\"\n\t\t\t}\n\t\t});\n\n\thotkey3 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \".\",\n\t\t\t\tonPress: /*ToggleVisibility*/ ctx[1],\n\t\t\t\tlabel: \"hide\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tcreate_component(hotkey0.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tcreate_component(hotkey1.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\tcreate_component(hotkey2.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tli3 = element(\"li\");\n\t\t\tcreate_component(hotkey3.$$.fragment);\n\t\t\tattr(li0, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li1, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li2, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li3, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(ul, \"id\", \"debug-controls\");\n\t\t\tattr(ul, \"class\", \"controls svelte-c3lavh\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tappend(ul, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(ul, t0);\n\t\t\tappend(ul, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(ul, t1);\n\t\t\tappend(ul, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li3);\n\t\t\tmount_component(hotkey3, li3, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst hotkey0_changes = {};\n\t\t\tif (dirty & /*client*/ 1) hotkey0_changes.onPress = /*client*/ ctx[0].reset;\n\t\t\thotkey0.$set(hotkey0_changes);\n\t\t\tconst hotkey3_changes = {};\n\t\t\tif (dirty & /*ToggleVisibility*/ 2) hotkey3_changes.onPress = /*ToggleVisibility*/ ctx[1];\n\t\t\thotkey3.$set(hotkey3_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\t\t\ttransition_in(hotkey3.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(hotkey3.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_component(hotkey0);\n\t\t\tdestroy_component(hotkey1);\n\t\t\tdestroy_component(hotkey2);\n\t\t\tdestroy_component(hotkey3);\n\t\t}\n\t};\n}\n\nfunction instance$j($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\n\tfunction Save() {\n\t\t// get state to persist and overwrite deltalog, _undo, and _redo\n\t\tconst state = client.getState();\n\n\t\tconst json = (0,flatted__WEBPACK_IMPORTED_MODULE_0__.stringify)({\n\t\t\t...state,\n\t\t\t_undo: [],\n\t\t\t_redo: [],\n\t\t\tdeltalog: []\n\t\t});\n\n\t\twindow.localStorage.setItem('gamestate', json);\n\t\twindow.localStorage.setItem('initialState', (0,flatted__WEBPACK_IMPORTED_MODULE_0__.stringify)(client.initialState));\n\t}\n\n\tfunction Restore() {\n\t\tconst gamestateJSON = window.localStorage.getItem('gamestate');\n\t\tconst initialStateJSON = window.localStorage.getItem('initialState');\n\n\t\tif (gamestateJSON !== null && initialStateJSON !== null) {\n\t\t\tconst gamestate = (0,flatted__WEBPACK_IMPORTED_MODULE_0__.parse)(gamestateJSON);\n\t\t\tconst initialState = (0,flatted__WEBPACK_IMPORTED_MODULE_0__.parse)(initialStateJSON);\n\t\t\tclient.store.dispatch((0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.s)({ state: gamestate, initialState }));\n\t\t}\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate(0, client = $$props.client);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(1, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [client, ToggleVisibility, Save, Restore];\n}\n\nclass Controls extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$j, create_fragment$j, safe_not_equal, { client: 0, ToggleVisibility: 1 }, add_css$c);\n\t}\n}\n\n/* src/client/debug/main/PlayerInfo.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$d(target) {\n\tappend_styles(target, \"svelte-19aan9p\", \".player-box.svelte-19aan9p{display:flex;flex-direction:row}.player.svelte-19aan9p{cursor:pointer;text-align:center;width:30px;height:30px;line-height:30px;background:#eee;border:3px solid #fefefe;box-sizing:content-box;padding:0}.player.current.svelte-19aan9p{background:#555;color:#eee;font-weight:bold}.player.active.svelte-19aan9p{border:3px solid #ff7f50}\");\n}\n\nfunction get_each_context$4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\treturn child_ctx;\n}\n\n// (59:2) {#each players as player}\nfunction create_each_block$4(ctx) {\n\tlet button;\n\tlet t0_value = /*player*/ ctx[7] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet button_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[5](/*player*/ ctx[7]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(button, \"class\", \"player svelte-19aan9p\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*playerLabel*/ ctx[4](/*player*/ ctx[7]));\n\t\t\ttoggle_class(button, \"current\", /*player*/ ctx[7] == /*ctx*/ ctx[0].currentPlayer);\n\t\t\ttoggle_class(button, \"active\", /*player*/ ctx[7] == /*playerID*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, t0);\n\t\t\tappend(button, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*players*/ 4 && t0_value !== (t0_value = /*player*/ ctx[7] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*players*/ 4 && button_aria_label_value !== (button_aria_label_value = /*playerLabel*/ ctx[4](/*player*/ ctx[7]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*players, ctx*/ 5) {\n\t\t\t\ttoggle_class(button, \"current\", /*player*/ ctx[7] == /*ctx*/ ctx[0].currentPlayer);\n\t\t\t}\n\n\t\t\tif (dirty & /*players, playerID*/ 6) {\n\t\t\t\ttoggle_class(button, \"active\", /*player*/ ctx[7] == /*playerID*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$k(ctx) {\n\tlet div;\n\tlet each_value = /*players*/ ctx[2];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$4(get_each_context$4(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div, \"class\", \"player-box svelte-19aan9p\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*playerLabel, players, ctx, playerID, OnClick*/ 31) {\n\t\t\t\teach_value = /*players*/ ctx[2];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$4(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$4(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$k($$self, $$props, $$invalidate) {\n\tlet { ctx } = $$props;\n\tlet { playerID } = $$props;\n\tconst dispatch = createEventDispatcher();\n\n\tfunction OnClick(player) {\n\t\tif (player == playerID) {\n\t\t\tdispatch(\"change\", { playerID: null });\n\t\t} else {\n\t\t\tdispatch(\"change\", { playerID: player });\n\t\t}\n\t}\n\n\tfunction playerLabel(player) {\n\t\tconst properties = [];\n\t\tif (player == ctx.currentPlayer) properties.push('current');\n\t\tif (player == playerID) properties.push('active');\n\t\tlet label = `Player ${player}`;\n\t\tif (properties.length) label += ` (${properties.join(', ')})`;\n\t\treturn label;\n\t}\n\n\tlet players;\n\tconst click_handler = player => OnClick(player);\n\n\t$$self.$$set = $$props => {\n\t\tif ('ctx' in $$props) $$invalidate(0, ctx = $$props.ctx);\n\t\tif ('playerID' in $$props) $$invalidate(1, playerID = $$props.playerID);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*ctx*/ 1) {\n\t\t\t $$invalidate(2, players = ctx\n\t\t\t? [...Array(ctx.numPlayers).keys()].map(i => i.toString())\n\t\t\t: []);\n\t\t}\n\t};\n\n\treturn [ctx, playerID, players, OnClick, playerLabel, click_handler];\n}\n\nclass PlayerInfo extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$k, create_fragment$k, safe_not_equal, { ctx: 0, playerID: 1 }, add_css$d);\n\t}\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nfunction AssignShortcuts(moveNames, blacklist) {\n  var shortcuts = {};\n  var taken = {};\n\n  var _iterator = _createForOfIteratorHelper(blacklist),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var c = _step.value;\n      taken[c] = true;\n    } // Try assigning the first char of each move as the shortcut.\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var t = taken;\n  var canUseFirstChar = true;\n\n  for (var name in moveNames) {\n    var shortcut = name[0];\n\n    if (t[shortcut]) {\n      canUseFirstChar = false;\n      break;\n    }\n\n    t[shortcut] = true;\n    shortcuts[name] = shortcut;\n  }\n\n  if (canUseFirstChar) {\n    return shortcuts;\n  } // If those aren't unique, use a-z.\n\n\n  t = taken;\n  var next = 97;\n  shortcuts = {};\n\n  for (var _name in moveNames) {\n    var _shortcut = String.fromCharCode(next);\n\n    while (t[_shortcut]) {\n      next++;\n      _shortcut = String.fromCharCode(next);\n    }\n\n    t[_shortcut] = true;\n    shortcuts[_name] = _shortcut;\n  }\n\n  return shortcuts;\n}\n\n/* src/client/debug/main/Main.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$e(target) {\n\tappend_styles(target, \"svelte-146sq5f\", \".tree.svelte-146sq5f{--json-tree-font-family:monospace;--json-tree-font-size:14px;--json-tree-null-color:#757575}.label.svelte-146sq5f{margin-bottom:0;text-transform:none}h3.svelte-146sq5f{text-transform:uppercase}ul.svelte-146sq5f{padding-left:0}li.svelte-146sq5f{list-style:none;margin:0;margin-bottom:5px}\");\n}\n\nfunction get_each_context$5(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[10] = list[i][0];\n\tchild_ctx[11] = list[i][1];\n\treturn child_ctx;\n}\n\n// (78:4) {#each Object.entries(moves) as [name, fn]}\nfunction create_each_block$5(ctx) {\n\tlet li;\n\tlet move;\n\tlet t;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tshortcut: /*shortcuts*/ ctx[8][/*name*/ ctx[10]],\n\t\t\t\tfn: /*fn*/ ctx[11],\n\t\t\t\tname: /*name*/ ctx[10]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tt = space();\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tappend(li, t);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*moves*/ 16) move_changes.shortcut = /*shortcuts*/ ctx[8][/*name*/ ctx[10]];\n\t\t\tif (dirty & /*moves*/ 16) move_changes.fn = /*fn*/ ctx[11];\n\t\t\tif (dirty & /*moves*/ 16) move_changes.name = /*name*/ ctx[10];\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (90:2) {#if ctx.activePlayers && events.endStage}\nfunction create_if_block_2$2(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endStage\",\n\t\t\t\tshortcut: 7,\n\t\t\t\tfn: /*events*/ ctx[5].endStage\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 32) move_changes.fn = /*events*/ ctx[5].endStage;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (95:2) {#if events.endTurn}\nfunction create_if_block_1$2(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endTurn\",\n\t\t\t\tshortcut: 8,\n\t\t\t\tfn: /*events*/ ctx[5].endTurn\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 32) move_changes.fn = /*events*/ ctx[5].endTurn;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (100:2) {#if ctx.phase && events.endPhase}\nfunction create_if_block$7(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endPhase\",\n\t\t\t\tshortcut: 9,\n\t\t\t\tfn: /*events*/ ctx[5].endPhase\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 32) move_changes.fn = /*events*/ ctx[5].endPhase;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\nfunction create_fragment$l(ctx) {\n\tlet section0;\n\tlet h30;\n\tlet t1;\n\tlet controls;\n\tlet t2;\n\tlet section1;\n\tlet h31;\n\tlet t4;\n\tlet playerinfo;\n\tlet t5;\n\tlet section2;\n\tlet h32;\n\tlet t7;\n\tlet ul0;\n\tlet t8;\n\tlet section3;\n\tlet h33;\n\tlet t10;\n\tlet ul1;\n\tlet t11;\n\tlet t12;\n\tlet t13;\n\tlet section4;\n\tlet h34;\n\tlet t15;\n\tlet jsontree0;\n\tlet t16;\n\tlet section5;\n\tlet h35;\n\tlet t18;\n\tlet jsontree1;\n\tlet t19;\n\tlet clientswitcher;\n\tlet current;\n\n\tcontrols = new Controls({\n\t\t\tprops: {\n\t\t\t\tclient: /*client*/ ctx[0],\n\t\t\t\tToggleVisibility: /*ToggleVisibility*/ ctx[2]\n\t\t\t}\n\t\t});\n\n\tplayerinfo = new PlayerInfo({\n\t\t\tprops: {\n\t\t\t\tctx: /*ctx*/ ctx[6],\n\t\t\t\tplayerID: /*playerID*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tplayerinfo.$on(\"change\", /*change_handler*/ ctx[9]);\n\tlet each_value = Object.entries(/*moves*/ ctx[4]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$5(get_each_context$5(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block0 = /*ctx*/ ctx[6].activePlayers && /*events*/ ctx[5].endStage && create_if_block_2$2(ctx);\n\tlet if_block1 = /*events*/ ctx[5].endTurn && create_if_block_1$2(ctx);\n\tlet if_block2 = /*ctx*/ ctx[6].phase && /*events*/ ctx[5].endPhase && create_if_block$7(ctx);\n\tjsontree0 = new Root({ props: { value: /*G*/ ctx[7] } });\n\n\tjsontree1 = new Root({\n\t\t\tprops: { value: SanitizeCtx(/*ctx*/ ctx[6]) }\n\t\t});\n\n\tclientswitcher = new ClientSwitcher({\n\t\t\tprops: { clientManager: /*clientManager*/ ctx[1] }\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tcreate_component(controls.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Players\";\n\t\t\tt4 = space();\n\t\t\tcreate_component(playerinfo.$$.fragment);\n\t\t\tt5 = space();\n\t\t\tsection2 = element(\"section\");\n\t\t\th32 = element(\"h3\");\n\t\t\th32.textContent = \"Moves\";\n\t\t\tt7 = space();\n\t\t\tul0 = element(\"ul\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt8 = space();\n\t\t\tsection3 = element(\"section\");\n\t\t\th33 = element(\"h3\");\n\t\t\th33.textContent = \"Events\";\n\t\t\tt10 = space();\n\t\t\tul1 = element(\"ul\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt11 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tt12 = space();\n\t\t\tif (if_block2) if_block2.c();\n\t\t\tt13 = space();\n\t\t\tsection4 = element(\"section\");\n\t\t\th34 = element(\"h3\");\n\t\t\th34.textContent = \"G\";\n\t\t\tt15 = space();\n\t\t\tcreate_component(jsontree0.$$.fragment);\n\t\t\tt16 = space();\n\t\t\tsection5 = element(\"section\");\n\t\t\th35 = element(\"h3\");\n\t\t\th35.textContent = \"ctx\";\n\t\t\tt18 = space();\n\t\t\tcreate_component(jsontree1.$$.fragment);\n\t\t\tt19 = space();\n\t\t\tcreate_component(clientswitcher.$$.fragment);\n\t\t\tattr(h30, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h31, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h32, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(ul0, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h33, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(ul1, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h34, \"class\", \"label svelte-146sq5f\");\n\t\t\tattr(section4, \"class\", \"tree svelte-146sq5f\");\n\t\t\tattr(h35, \"class\", \"label svelte-146sq5f\");\n\t\t\tattr(section5, \"class\", \"tree svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tmount_component(controls, section0, null);\n\t\t\tinsert(target, t2, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t4);\n\t\t\tmount_component(playerinfo, section1, null);\n\t\t\tinsert(target, t5, anchor);\n\t\t\tinsert(target, section2, anchor);\n\t\t\tappend(section2, h32);\n\t\t\tappend(section2, t7);\n\t\t\tappend(section2, ul0);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(ul0, null);\n\t\t\t}\n\n\t\t\tinsert(target, t8, anchor);\n\t\t\tinsert(target, section3, anchor);\n\t\t\tappend(section3, h33);\n\t\t\tappend(section3, t10);\n\t\t\tappend(section3, ul1);\n\t\t\tif (if_block0) if_block0.m(ul1, null);\n\t\t\tappend(ul1, t11);\n\t\t\tif (if_block1) if_block1.m(ul1, null);\n\t\t\tappend(ul1, t12);\n\t\t\tif (if_block2) if_block2.m(ul1, null);\n\t\t\tinsert(target, t13, anchor);\n\t\t\tinsert(target, section4, anchor);\n\t\t\tappend(section4, h34);\n\t\t\tappend(section4, t15);\n\t\t\tmount_component(jsontree0, section4, null);\n\t\t\tinsert(target, t16, anchor);\n\t\t\tinsert(target, section5, anchor);\n\t\t\tappend(section5, h35);\n\t\t\tappend(section5, t18);\n\t\t\tmount_component(jsontree1, section5, null);\n\t\t\tinsert(target, t19, anchor);\n\t\t\tmount_component(clientswitcher, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst controls_changes = {};\n\t\t\tif (dirty & /*client*/ 1) controls_changes.client = /*client*/ ctx[0];\n\t\t\tif (dirty & /*ToggleVisibility*/ 4) controls_changes.ToggleVisibility = /*ToggleVisibility*/ ctx[2];\n\t\t\tcontrols.$set(controls_changes);\n\t\t\tconst playerinfo_changes = {};\n\t\t\tif (dirty & /*ctx*/ 64) playerinfo_changes.ctx = /*ctx*/ ctx[6];\n\t\t\tif (dirty & /*playerID*/ 8) playerinfo_changes.playerID = /*playerID*/ ctx[3];\n\t\t\tplayerinfo.$set(playerinfo_changes);\n\n\t\t\tif (dirty & /*shortcuts, Object, moves*/ 272) {\n\t\t\t\teach_value = Object.entries(/*moves*/ ctx[4]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$5(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$5(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(ul0, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*ctx*/ ctx[6].activePlayers && /*events*/ ctx[5].endStage) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*ctx, events*/ 96) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_2$2(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(ul1, t11);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*events*/ ctx[5].endTurn) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*events*/ 32) {\n\t\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_1$2(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\tif_block1.m(ul1, t12);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block1, 1, 1, () => {\n\t\t\t\t\tif_block1 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*ctx*/ ctx[6].phase && /*events*/ ctx[5].endPhase) {\n\t\t\t\tif (if_block2) {\n\t\t\t\t\tif_block2.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*ctx, events*/ 96) {\n\t\t\t\t\t\ttransition_in(if_block2, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block2 = create_if_block$7(ctx);\n\t\t\t\t\tif_block2.c();\n\t\t\t\t\ttransition_in(if_block2, 1);\n\t\t\t\t\tif_block2.m(ul1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block2) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block2, 1, 1, () => {\n\t\t\t\t\tif_block2 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsontree0_changes = {};\n\t\t\tif (dirty & /*G*/ 128) jsontree0_changes.value = /*G*/ ctx[7];\n\t\t\tjsontree0.$set(jsontree0_changes);\n\t\t\tconst jsontree1_changes = {};\n\t\t\tif (dirty & /*ctx*/ 64) jsontree1_changes.value = SanitizeCtx(/*ctx*/ ctx[6]);\n\t\t\tjsontree1.$set(jsontree1_changes);\n\t\t\tconst clientswitcher_changes = {};\n\t\t\tif (dirty & /*clientManager*/ 2) clientswitcher_changes.clientManager = /*clientManager*/ ctx[1];\n\t\t\tclientswitcher.$set(clientswitcher_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(controls.$$.fragment, local);\n\t\t\ttransition_in(playerinfo.$$.fragment, local);\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(if_block1);\n\t\t\ttransition_in(if_block2);\n\t\t\ttransition_in(jsontree0.$$.fragment, local);\n\t\t\ttransition_in(jsontree1.$$.fragment, local);\n\t\t\ttransition_in(clientswitcher.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(controls.$$.fragment, local);\n\t\t\ttransition_out(playerinfo.$$.fragment, local);\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(if_block1);\n\t\t\ttransition_out(if_block2);\n\t\t\ttransition_out(jsontree0.$$.fragment, local);\n\t\t\ttransition_out(jsontree1.$$.fragment, local);\n\t\t\ttransition_out(clientswitcher.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section0);\n\t\t\tdestroy_component(controls);\n\t\t\tif (detaching) detach(t2);\n\t\t\tif (detaching) detach(section1);\n\t\t\tdestroy_component(playerinfo);\n\t\t\tif (detaching) detach(t5);\n\t\t\tif (detaching) detach(section2);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(t8);\n\t\t\tif (detaching) detach(section3);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tif (if_block2) if_block2.d();\n\t\t\tif (detaching) detach(t13);\n\t\t\tif (detaching) detach(section4);\n\t\t\tdestroy_component(jsontree0);\n\t\t\tif (detaching) detach(t16);\n\t\t\tif (detaching) detach(section5);\n\t\t\tdestroy_component(jsontree1);\n\t\t\tif (detaching) detach(t19);\n\t\t\tdestroy_component(clientswitcher, detaching);\n\t\t}\n\t};\n}\n\nfunction SanitizeCtx(ctx) {\n\tlet r = {};\n\n\tfor (const key in ctx) {\n\t\tif (!key.startsWith('_')) {\n\t\t\tr[key] = ctx[key];\n\t\t}\n\t}\n\n\treturn r;\n}\n\nfunction instance$l($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { clientManager } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\tconst shortcuts = AssignShortcuts(client.moves, 'mlia');\n\tlet { playerID, moves, events } = client;\n\tlet ctx = {};\n\tlet G = {};\n\n\tclient.subscribe(state => {\n\t\tif (state) $$invalidate(7, { G, ctx } = state, G, $$invalidate(6, ctx));\n\t\t$$invalidate(3, { playerID, moves, events } = client, playerID, $$invalidate(4, moves), $$invalidate(5, events));\n\t});\n\n\tconst change_handler = e => clientManager.switchPlayerID(e.detail.playerID);\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate(0, client = $$props.client);\n\t\tif ('clientManager' in $$props) $$invalidate(1, clientManager = $$props.clientManager);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(2, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [\n\t\tclient,\n\t\tclientManager,\n\t\tToggleVisibility,\n\t\tplayerID,\n\t\tmoves,\n\t\tevents,\n\t\tctx,\n\t\tG,\n\t\tshortcuts,\n\t\tchange_handler\n\t];\n}\n\nclass Main extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$l,\n\t\t\tcreate_fragment$l,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tclient: 0,\n\t\t\t\tclientManager: 1,\n\t\t\t\tToggleVisibility: 2\n\t\t\t},\n\t\t\tadd_css$e\n\t\t);\n\t}\n}\n\n/* src/client/debug/info/Item.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$f(target) {\n\tappend_styles(target, \"svelte-13qih23\", \".item.svelte-13qih23.svelte-13qih23{padding:10px}.item.svelte-13qih23.svelte-13qih23:not(:first-child){border-top:1px dashed #aaa}.item.svelte-13qih23 div.svelte-13qih23{float:right;text-align:right}\");\n}\n\nfunction create_fragment$m(ctx) {\n\tlet div1;\n\tlet strong;\n\tlet t0;\n\tlet t1;\n\tlet div0;\n\tlet t2_value = JSON.stringify(/*value*/ ctx[1]) + \"\";\n\tlet t2;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tstrong = element(\"strong\");\n\t\t\tt0 = text(/*name*/ ctx[0]);\n\t\t\tt1 = space();\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt2 = text(t2_value);\n\t\t\tattr(div0, \"class\", \"svelte-13qih23\");\n\t\t\tattr(div1, \"class\", \"item svelte-13qih23\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, strong);\n\t\t\tappend(strong, t0);\n\t\t\tappend(div1, t1);\n\t\t\tappend(div1, div0);\n\t\t\tappend(div0, t2);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*name*/ 1) set_data(t0, /*name*/ ctx[0]);\n\t\t\tif (dirty & /*value*/ 2 && t2_value !== (t2_value = JSON.stringify(/*value*/ ctx[1]) + \"\")) set_data(t2, t2_value);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t}\n\t};\n}\n\nfunction instance$m($$self, $$props, $$invalidate) {\n\tlet { name } = $$props;\n\tlet { value } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('name' in $$props) $$invalidate(0, name = $$props.name);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t};\n\n\treturn [name, value];\n}\n\nclass Item extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$m, create_fragment$m, safe_not_equal, { name: 0, value: 1 }, add_css$f);\n\t}\n}\n\n/* src/client/debug/info/Info.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$g(target) {\n\tappend_styles(target, \"svelte-1yzq5o8\", \".gameinfo.svelte-1yzq5o8{padding:10px}\");\n}\n\n// (19:2) {#if client.multiplayer}\nfunction create_if_block$8(ctx) {\n\tlet item;\n\tlet current;\n\n\titem = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"isConnected\",\n\t\t\t\tvalue: /*$client*/ ctx[1].isConnected\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(item.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(item, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst item_changes = {};\n\t\t\tif (dirty & /*$client*/ 2) item_changes.value = /*$client*/ ctx[1].isConnected;\n\t\t\titem.$set(item_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(item.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(item, detaching);\n\t\t}\n\t};\n}\n\nfunction create_fragment$n(ctx) {\n\tlet section;\n\tlet item0;\n\tlet t0;\n\tlet item1;\n\tlet t1;\n\tlet item2;\n\tlet t2;\n\tlet current;\n\n\titem0 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"matchID\",\n\t\t\t\tvalue: /*client*/ ctx[0].matchID\n\t\t\t}\n\t\t});\n\n\titem1 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"playerID\",\n\t\t\t\tvalue: /*client*/ ctx[0].playerID\n\t\t\t}\n\t\t});\n\n\titem2 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"isActive\",\n\t\t\t\tvalue: /*$client*/ ctx[1].isActive\n\t\t\t}\n\t\t});\n\n\tlet if_block = /*client*/ ctx[0].multiplayer && create_if_block$8(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tcreate_component(item0.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tcreate_component(item1.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tcreate_component(item2.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(section, \"class\", \"gameinfo svelte-1yzq5o8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(item0, section, null);\n\t\t\tappend(section, t0);\n\t\t\tmount_component(item1, section, null);\n\t\t\tappend(section, t1);\n\t\t\tmount_component(item2, section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block) if_block.m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst item0_changes = {};\n\t\t\tif (dirty & /*client*/ 1) item0_changes.value = /*client*/ ctx[0].matchID;\n\t\t\titem0.$set(item0_changes);\n\t\t\tconst item1_changes = {};\n\t\t\tif (dirty & /*client*/ 1) item1_changes.value = /*client*/ ctx[0].playerID;\n\t\t\titem1.$set(item1_changes);\n\t\t\tconst item2_changes = {};\n\t\t\tif (dirty & /*$client*/ 2) item2_changes.value = /*$client*/ ctx[1].isActive;\n\t\t\titem2.$set(item2_changes);\n\n\t\t\tif (/*client*/ ctx[0].multiplayer) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*client*/ 1) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$8(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item0.$$.fragment, local);\n\t\t\ttransition_in(item1.$$.fragment, local);\n\t\t\ttransition_in(item2.$$.fragment, local);\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(item0.$$.fragment, local);\n\t\t\ttransition_out(item1.$$.fragment, local);\n\t\t\ttransition_out(item2.$$.fragment, local);\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(item0);\n\t\t\tdestroy_component(item1);\n\t\t\tdestroy_component(item2);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$n($$self, $$props, $$invalidate) {\n\tlet $client,\n\t\t$$unsubscribe_client = noop,\n\t\t$$subscribe_client = () => ($$unsubscribe_client(), $$unsubscribe_client = subscribe(client, $$value => $$invalidate(1, $client = $$value)), client);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_client());\n\tlet { client } = $$props;\n\t$$subscribe_client();\n\tlet { clientManager } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$subscribe_client($$invalidate(0, client = $$props.client));\n\t\tif ('clientManager' in $$props) $$invalidate(2, clientManager = $$props.clientManager);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(3, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [client, $client, clientManager, ToggleVisibility];\n}\n\nclass Info extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$n,\n\t\t\tcreate_fragment$n,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tclient: 0,\n\t\t\t\tclientManager: 2,\n\t\t\t\tToggleVisibility: 3\n\t\t\t},\n\t\t\tadd_css$g\n\t\t);\n\t}\n}\n\n/* src/client/debug/log/TurnMarker.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$h(target) {\n\tappend_styles(target, \"svelte-6eza86\", \".turn-marker.svelte-6eza86{display:flex;justify-content:center;align-items:center;grid-column:1;background:#555;color:#eee;text-align:center;font-weight:bold;border:1px solid #888}\");\n}\n\nfunction create_fragment$o(ctx) {\n\tlet div;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(/*turn*/ ctx[0]);\n\t\t\tattr(div, \"class\", \"turn-marker svelte-6eza86\");\n\t\t\tattr(div, \"style\", /*style*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*turn*/ 1) set_data(t, /*turn*/ ctx[0]);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$o($$self, $$props, $$invalidate) {\n\tlet { turn } = $$props;\n\tlet { numEvents } = $$props;\n\tconst style = `grid-row: span ${numEvents}`;\n\n\t$$self.$$set = $$props => {\n\t\tif ('turn' in $$props) $$invalidate(0, turn = $$props.turn);\n\t\tif ('numEvents' in $$props) $$invalidate(2, numEvents = $$props.numEvents);\n\t};\n\n\treturn [turn, style, numEvents];\n}\n\nclass TurnMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$o, create_fragment$o, safe_not_equal, { turn: 0, numEvents: 2 }, add_css$h);\n\t}\n}\n\n/* src/client/debug/log/PhaseMarker.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$i(target) {\n\tappend_styles(target, \"svelte-1t4xap\", \".phase-marker.svelte-1t4xap{grid-column:3;background:#555;border:1px solid #888;color:#eee;text-align:center;font-weight:bold;padding-top:10px;padding-bottom:10px;text-orientation:sideways;writing-mode:vertical-rl;line-height:30px;width:100%}\");\n}\n\nfunction create_fragment$p(ctx) {\n\tlet div;\n\tlet t_value = (/*phase*/ ctx[0] || '') + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"phase-marker svelte-1t4xap\");\n\t\t\tattr(div, \"style\", /*style*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*phase*/ 1 && t_value !== (t_value = (/*phase*/ ctx[0] || '') + \"\")) set_data(t, t_value);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$p($$self, $$props, $$invalidate) {\n\tlet { phase } = $$props;\n\tlet { numEvents } = $$props;\n\tconst style = `grid-row: span ${numEvents}`;\n\n\t$$self.$$set = $$props => {\n\t\tif ('phase' in $$props) $$invalidate(0, phase = $$props.phase);\n\t\tif ('numEvents' in $$props) $$invalidate(2, numEvents = $$props.numEvents);\n\t};\n\n\treturn [phase, style, numEvents];\n}\n\nclass PhaseMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$p, create_fragment$p, safe_not_equal, { phase: 0, numEvents: 2 }, add_css$i);\n\t}\n}\n\n/* src/client/debug/log/LogMetadata.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$q(ctx) {\n\tlet div;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tdiv.textContent = `${/*renderedMetadata*/ ctx[0]}`;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$q($$self, $$props, $$invalidate) {\n\tlet { metadata } = $$props;\n\n\tconst renderedMetadata = metadata !== undefined\n\t? JSON.stringify(metadata, null, 4)\n\t: '';\n\n\t$$self.$$set = $$props => {\n\t\tif ('metadata' in $$props) $$invalidate(1, metadata = $$props.metadata);\n\t};\n\n\treturn [renderedMetadata, metadata];\n}\n\nclass LogMetadata extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$q, create_fragment$q, safe_not_equal, { metadata: 1 });\n\t}\n}\n\n/* src/client/debug/log/LogEvent.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$j(target) {\n\tappend_styles(target, \"svelte-vajd9z\", \".log-event.svelte-vajd9z{grid-column:2;cursor:pointer;overflow:hidden;display:flex;flex-direction:column;justify-content:center;background:#fff;border:1px dotted #ccc;border-left:5px solid #ccc;padding:5px;text-align:center;color:#666;font-size:14px;min-height:25px;line-height:25px}.log-event.svelte-vajd9z:hover,.log-event.svelte-vajd9z:focus{border-style:solid;background:#eee}.log-event.pinned.svelte-vajd9z{border-style:solid;background:#eee;opacity:1}.args.svelte-vajd9z{text-align:left;white-space:pre-wrap}.player0.svelte-vajd9z{border-left-color:#ff851b}.player1.svelte-vajd9z{border-left-color:#7fdbff}.player2.svelte-vajd9z{border-left-color:#0074d9}.player3.svelte-vajd9z{border-left-color:#39cccc}.player4.svelte-vajd9z{border-left-color:#3d9970}.player5.svelte-vajd9z{border-left-color:#2ecc40}.player6.svelte-vajd9z{border-left-color:#01ff70}.player7.svelte-vajd9z{border-left-color:#ffdc00}.player8.svelte-vajd9z{border-left-color:#001f3f}.player9.svelte-vajd9z{border-left-color:#ff4136}.player10.svelte-vajd9z{border-left-color:#85144b}.player11.svelte-vajd9z{border-left-color:#f012be}.player12.svelte-vajd9z{border-left-color:#b10dc9}.player13.svelte-vajd9z{border-left-color:#111111}.player14.svelte-vajd9z{border-left-color:#aaaaaa}.player15.svelte-vajd9z{border-left-color:#dddddd}\");\n}\n\n// (146:2) {:else}\nfunction create_else_block$1(ctx) {\n\tlet logmetadata;\n\tlet current;\n\tlogmetadata = new LogMetadata({ props: { metadata: /*metadata*/ ctx[2] } });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(logmetadata.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(logmetadata, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst logmetadata_changes = {};\n\t\t\tif (dirty & /*metadata*/ 4) logmetadata_changes.metadata = /*metadata*/ ctx[2];\n\t\t\tlogmetadata.$set(logmetadata_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(logmetadata.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(logmetadata.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(logmetadata, detaching);\n\t\t}\n\t};\n}\n\n// (144:2) {#if metadataComponent}\nfunction create_if_block$9(ctx) {\n\tlet switch_instance;\n\tlet switch_instance_anchor;\n\tlet current;\n\tvar switch_value = /*metadataComponent*/ ctx[3];\n\n\tfunction switch_props(ctx) {\n\t\treturn { props: { metadata: /*metadata*/ ctx[2] } };\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tswitch_instance_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, switch_instance_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*metadata*/ 4) switch_instance_changes.metadata = /*metadata*/ ctx[2];\n\n\t\t\tif (switch_value !== (switch_value = /*metadataComponent*/ ctx[3])) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(switch_instance_anchor);\n\t\t\tif (switch_instance) destroy_component(switch_instance, detaching);\n\t\t}\n\t};\n}\n\nfunction create_fragment$r(ctx) {\n\tlet button;\n\tlet div;\n\tlet t0;\n\tlet t1;\n\tlet t2;\n\tlet t3;\n\tlet t4;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet button_class_value;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$9, create_else_block$1];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*metadataComponent*/ ctx[3]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt0 = text(/*actionType*/ ctx[4]);\n\t\t\tt1 = text(\"(\");\n\t\t\tt2 = text(/*renderedArgs*/ ctx[6]);\n\t\t\tt3 = text(\")\");\n\t\t\tt4 = space();\n\t\t\tif_block.c();\n\t\t\tattr(div, \"class\", \"args svelte-vajd9z\");\n\t\t\tattr(button, \"class\", button_class_value = \"log-event player\" + /*playerID*/ ctx[7] + \" svelte-vajd9z\");\n\t\t\ttoggle_class(button, \"pinned\", /*pinned*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t0);\n\t\t\tappend(div, t1);\n\t\t\tappend(div, t2);\n\t\t\tappend(div, t3);\n\t\t\tappend(button, t4);\n\t\t\tif_blocks[current_block_type_index].m(button, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(button, \"click\", /*click_handler*/ ctx[9]),\n\t\t\t\t\tlisten(button, \"mouseenter\", /*mouseenter_handler*/ ctx[10]),\n\t\t\t\t\tlisten(button, \"focus\", /*focus_handler*/ ctx[11]),\n\t\t\t\t\tlisten(button, \"mouseleave\", /*mouseleave_handler*/ ctx[12]),\n\t\t\t\t\tlisten(button, \"blur\", /*blur_handler*/ ctx[13])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (!current || dirty & /*actionType*/ 16) set_data(t0, /*actionType*/ ctx[4]);\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(button, null);\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned*/ 2) {\n\t\t\t\ttoggle_class(button, \"pinned\", /*pinned*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$r($$self, $$props, $$invalidate) {\n\tlet { logIndex } = $$props;\n\tlet { action } = $$props;\n\tlet { pinned } = $$props;\n\tlet { metadata } = $$props;\n\tlet { metadataComponent } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tconst args = action.payload.args;\n\n\tconst renderedArgs = Array.isArray(args)\n\t? args.map(arg => JSON.stringify(arg, null, 2)).join(',')\n\t: JSON.stringify(args, null, 2) || '';\n\n\tconst playerID = action.payload.playerID;\n\tlet actionType;\n\n\tswitch (action.type) {\n\t\tcase 'UNDO':\n\t\t\tactionType = 'undo';\n\t\t\tbreak;\n\t\tcase 'REDO':\n\t\t\tactionType = 'redo';\n\t\tcase 'GAME_EVENT':\n\t\tcase 'MAKE_MOVE':\n\t\tdefault:\n\t\t\tactionType = action.payload.type;\n\t\t\tbreak;\n\t}\n\n\tconst click_handler = () => dispatch('click', { logIndex });\n\tconst mouseenter_handler = () => dispatch('mouseenter', { logIndex });\n\tconst focus_handler = () => dispatch('mouseenter', { logIndex });\n\tconst mouseleave_handler = () => dispatch('mouseleave');\n\tconst blur_handler = () => dispatch('mouseleave');\n\n\t$$self.$$set = $$props => {\n\t\tif ('logIndex' in $$props) $$invalidate(0, logIndex = $$props.logIndex);\n\t\tif ('action' in $$props) $$invalidate(8, action = $$props.action);\n\t\tif ('pinned' in $$props) $$invalidate(1, pinned = $$props.pinned);\n\t\tif ('metadata' in $$props) $$invalidate(2, metadata = $$props.metadata);\n\t\tif ('metadataComponent' in $$props) $$invalidate(3, metadataComponent = $$props.metadataComponent);\n\t};\n\n\treturn [\n\t\tlogIndex,\n\t\tpinned,\n\t\tmetadata,\n\t\tmetadataComponent,\n\t\tactionType,\n\t\tdispatch,\n\t\trenderedArgs,\n\t\tplayerID,\n\t\taction,\n\t\tclick_handler,\n\t\tmouseenter_handler,\n\t\tfocus_handler,\n\t\tmouseleave_handler,\n\t\tblur_handler\n\t];\n}\n\nclass LogEvent extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$r,\n\t\t\tcreate_fragment$r,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tlogIndex: 0,\n\t\t\t\taction: 8,\n\t\t\t\tpinned: 1,\n\t\t\t\tmetadata: 2,\n\t\t\t\tmetadataComponent: 3\n\t\t\t},\n\t\t\tadd_css$j\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-icons/fa/FaArrowAltCircleDown.svelte generated by Svelte v3.41.0 */\n\nfunction create_default_slot$1(ctx) {\n\tlet path;\n\n\treturn {\n\t\tc() {\n\t\t\tpath = svg_element(\"path\");\n\t\t\tattr(path, \"d\", \"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, path, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(path);\n\t\t}\n\t};\n}\n\nfunction create_fragment$s(ctx) {\n\tlet iconbase;\n\tlet current;\n\tconst iconbase_spread_levels = [{ viewBox: \"0 0 512 512\" }, /*$$props*/ ctx[0]];\n\n\tlet iconbase_props = {\n\t\t$$slots: { default: [create_default_slot$1] },\n\t\t$$scope: { ctx }\n\t};\n\n\tfor (let i = 0; i < iconbase_spread_levels.length; i += 1) {\n\t\ticonbase_props = assign(iconbase_props, iconbase_spread_levels[i]);\n\t}\n\n\ticonbase = new IconBase({ props: iconbase_props });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(iconbase.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(iconbase, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst iconbase_changes = (dirty & /*$$props*/ 1)\n\t\t\t? get_spread_update(iconbase_spread_levels, [iconbase_spread_levels[0], get_spread_object(/*$$props*/ ctx[0])])\n\t\t\t: {};\n\n\t\t\tif (dirty & /*$$scope*/ 2) {\n\t\t\t\ticonbase_changes.$$scope = { dirty, ctx };\n\t\t\t}\n\n\t\t\ticonbase.$set(iconbase_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(iconbase.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(iconbase.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(iconbase, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$s($$self, $$props, $$invalidate) {\n\t$$self.$$set = $$new_props => {\n\t\t$$invalidate(0, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));\n\t};\n\n\t$$props = exclude_internal_props($$props);\n\treturn [$$props];\n}\n\nclass FaArrowAltCircleDown extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$s, create_fragment$s, safe_not_equal, {});\n\t}\n}\n\n/* src/client/debug/mcts/Action.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$k(target) {\n\tappend_styles(target, \"svelte-1a7time\", \"div.svelte-1a7time{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:500px}\");\n}\n\nfunction create_fragment$t(ctx) {\n\tlet div;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(/*text*/ ctx[0]);\n\t\t\tattr(div, \"alt\", /*text*/ ctx[0]);\n\t\t\tattr(div, \"class\", \"svelte-1a7time\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*text*/ 1) set_data(t, /*text*/ ctx[0]);\n\n\t\t\tif (dirty & /*text*/ 1) {\n\t\t\t\tattr(div, \"alt\", /*text*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$t($$self, $$props, $$invalidate) {\n\tlet { action } = $$props;\n\tlet text;\n\n\t$$self.$$set = $$props => {\n\t\tif ('action' in $$props) $$invalidate(1, action = $$props.action);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*action*/ 2) {\n\t\t\t {\n\t\t\t\tconst { type, args } = action.payload;\n\t\t\t\tconst argsFormatted = (args || []).join(',');\n\t\t\t\t$$invalidate(0, text = `${type}(${argsFormatted})`);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [text, action];\n}\n\nclass Action extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$t, create_fragment$t, safe_not_equal, { action: 1 }, add_css$k);\n\t}\n}\n\n/* src/client/debug/mcts/Table.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$l(target) {\n\tappend_styles(target, \"svelte-ztcwsu\", \"table.svelte-ztcwsu.svelte-ztcwsu{font-size:12px;border-collapse:collapse;border:1px solid #ddd;padding:0}tr.svelte-ztcwsu.svelte-ztcwsu{cursor:pointer}tr.svelte-ztcwsu:hover td.svelte-ztcwsu{background:#eee}tr.selected.svelte-ztcwsu td.svelte-ztcwsu{background:#eee}td.svelte-ztcwsu.svelte-ztcwsu{padding:10px;height:10px;line-height:10px;font-size:12px;border:none}th.svelte-ztcwsu.svelte-ztcwsu{background:#888;color:#fff;padding:10px;text-align:center}\");\n}\n\nfunction get_each_context$6(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[10] = list[i];\n\tchild_ctx[12] = i;\n\treturn child_ctx;\n}\n\n// (86:2) {#each children as child, i}\nfunction create_each_block$6(ctx) {\n\tlet tr;\n\tlet td0;\n\tlet t0_value = /*child*/ ctx[10].value + \"\";\n\tlet t0;\n\tlet t1;\n\tlet td1;\n\tlet t2_value = /*child*/ ctx[10].visits + \"\";\n\tlet t2;\n\tlet t3;\n\tlet td2;\n\tlet action;\n\tlet t4;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\n\taction = new Action({\n\t\t\tprops: { action: /*child*/ ctx[10].parentAction }\n\t\t});\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[6](/*child*/ ctx[10], /*i*/ ctx[12]);\n\t}\n\n\tfunction mouseout_handler() {\n\t\treturn /*mouseout_handler*/ ctx[7](/*i*/ ctx[12]);\n\t}\n\n\tfunction mouseover_handler() {\n\t\treturn /*mouseover_handler*/ ctx[8](/*child*/ ctx[10], /*i*/ ctx[12]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\ttr = element(\"tr\");\n\t\t\ttd0 = element(\"td\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\ttd1 = element(\"td\");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = space();\n\t\t\ttd2 = element(\"td\");\n\t\t\tcreate_component(action.$$.fragment);\n\t\t\tt4 = space();\n\t\t\tattr(td0, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td1, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td2, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(tr, \"class\", \"svelte-ztcwsu\");\n\t\t\ttoggle_class(tr, \"clickable\", /*children*/ ctx[1].length > 0);\n\t\t\ttoggle_class(tr, \"selected\", /*i*/ ctx[12] === /*selectedIndex*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, tr, anchor);\n\t\t\tappend(tr, td0);\n\t\t\tappend(td0, t0);\n\t\t\tappend(tr, t1);\n\t\t\tappend(tr, td1);\n\t\t\tappend(td1, t2);\n\t\t\tappend(tr, t3);\n\t\t\tappend(tr, td2);\n\t\t\tmount_component(action, td2, null);\n\t\t\tappend(tr, t4);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(tr, \"click\", click_handler),\n\t\t\t\t\tlisten(tr, \"mouseout\", mouseout_handler),\n\t\t\t\t\tlisten(tr, \"mouseover\", mouseover_handler)\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((!current || dirty & /*children*/ 2) && t0_value !== (t0_value = /*child*/ ctx[10].value + \"\")) set_data(t0, t0_value);\n\t\t\tif ((!current || dirty & /*children*/ 2) && t2_value !== (t2_value = /*child*/ ctx[10].visits + \"\")) set_data(t2, t2_value);\n\t\t\tconst action_changes = {};\n\t\t\tif (dirty & /*children*/ 2) action_changes.action = /*child*/ ctx[10].parentAction;\n\t\t\taction.$set(action_changes);\n\n\t\t\tif (dirty & /*children*/ 2) {\n\t\t\t\ttoggle_class(tr, \"clickable\", /*children*/ ctx[1].length > 0);\n\t\t\t}\n\n\t\t\tif (dirty & /*selectedIndex*/ 1) {\n\t\t\t\ttoggle_class(tr, \"selected\", /*i*/ ctx[12] === /*selectedIndex*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(action.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(action.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(tr);\n\t\t\tdestroy_component(action);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction create_fragment$u(ctx) {\n\tlet table;\n\tlet thead;\n\tlet t5;\n\tlet tbody;\n\tlet current;\n\tlet each_value = /*children*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$6(get_each_context$6(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\ttable = element(\"table\");\n\t\t\tthead = element(\"thead\");\n\n\t\t\tthead.innerHTML = `<th class=\"svelte-ztcwsu\">Value</th> \n    <th class=\"svelte-ztcwsu\">Visits</th> \n    <th class=\"svelte-ztcwsu\">Action</th>`;\n\n\t\t\tt5 = space();\n\t\t\ttbody = element(\"tbody\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(table, \"class\", \"svelte-ztcwsu\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, table, anchor);\n\t\t\tappend(table, thead);\n\t\t\tappend(table, t5);\n\t\t\tappend(table, tbody);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*children, selectedIndex, Select, Preview*/ 15) {\n\t\t\t\teach_value = /*children*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$6(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$6(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(table);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$u($$self, $$props, $$invalidate) {\n\tlet { root } = $$props;\n\tlet { selectedIndex = null } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tlet parents = [];\n\tlet children = [];\n\n\tfunction Select(node, i) {\n\t\tdispatch('select', { node, selectedIndex: i });\n\t}\n\n\tfunction Preview(node, i) {\n\t\tif (selectedIndex === null) {\n\t\t\tdispatch('preview', { node });\n\t\t}\n\t}\n\n\tconst click_handler = (child, i) => Select(child, i);\n\tconst mouseout_handler = i => Preview(null);\n\tconst mouseover_handler = (child, i) => Preview(child);\n\n\t$$self.$$set = $$props => {\n\t\tif ('root' in $$props) $$invalidate(4, root = $$props.root);\n\t\tif ('selectedIndex' in $$props) $$invalidate(0, selectedIndex = $$props.selectedIndex);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*root, parents*/ 48) {\n\t\t\t {\n\t\t\t\tlet t = root;\n\t\t\t\t$$invalidate(5, parents = []);\n\n\t\t\t\twhile (t.parent) {\n\t\t\t\t\tconst parent = t.parent;\n\t\t\t\t\tconst { type, args } = t.parentAction.payload;\n\t\t\t\t\tconst argsFormatted = (args || []).join(',');\n\t\t\t\t\tconst arrowText = `${type}(${argsFormatted})`;\n\t\t\t\t\tparents.push({ parent, arrowText });\n\t\t\t\t\tt = parent;\n\t\t\t\t}\n\n\t\t\t\tparents.reverse();\n\t\t\t\t$$invalidate(1, children = [...root.children].sort((a, b) => a.visits < b.visits ? 1 : -1).slice(0, 50));\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tselectedIndex,\n\t\tchildren,\n\t\tSelect,\n\t\tPreview,\n\t\troot,\n\t\tparents,\n\t\tclick_handler,\n\t\tmouseout_handler,\n\t\tmouseover_handler\n\t];\n}\n\nclass Table extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$u, create_fragment$u, safe_not_equal, { root: 4, selectedIndex: 0 }, add_css$l);\n\t}\n}\n\n/* src/client/debug/mcts/MCTS.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$m(target) {\n\tappend_styles(target, \"svelte-1f0amz4\", \".visualizer.svelte-1f0amz4{display:flex;flex-direction:column;align-items:center;padding:50px}.preview.svelte-1f0amz4{opacity:0.5}.icon.svelte-1f0amz4{color:#777;width:32px;height:32px;margin-bottom:20px}\");\n}\n\nfunction get_each_context$7(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[9] = list[i].node;\n\tchild_ctx[10] = list[i].selectedIndex;\n\tchild_ctx[12] = i;\n\treturn child_ctx;\n}\n\n// (50:4) {#if i !== 0}\nfunction create_if_block_2$3(ctx) {\n\tlet div;\n\tlet arrow;\n\tlet current;\n\tarrow = new FaArrowAltCircleDown({});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tcreate_component(arrow.$$.fragment);\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_component(arrow);\n\t\t}\n\t};\n}\n\n// (61:6) {:else}\nfunction create_else_block$2(ctx) {\n\tlet table;\n\tlet current;\n\n\tfunction select_handler_1(...args) {\n\t\treturn /*select_handler_1*/ ctx[7](/*i*/ ctx[12], ...args);\n\t}\n\n\ttable = new Table({\n\t\t\tprops: {\n\t\t\t\troot: /*node*/ ctx[9],\n\t\t\t\tselectedIndex: /*selectedIndex*/ ctx[10]\n\t\t\t}\n\t\t});\n\n\ttable.$on(\"select\", select_handler_1);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(table.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.root = /*node*/ ctx[9];\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.selectedIndex = /*selectedIndex*/ ctx[10];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (57:6) {#if i === nodes.length - 1}\nfunction create_if_block_1$3(ctx) {\n\tlet table;\n\tlet current;\n\n\tfunction select_handler(...args) {\n\t\treturn /*select_handler*/ ctx[5](/*i*/ ctx[12], ...args);\n\t}\n\n\tfunction preview_handler(...args) {\n\t\treturn /*preview_handler*/ ctx[6](/*i*/ ctx[12], ...args);\n\t}\n\n\ttable = new Table({ props: { root: /*node*/ ctx[9] } });\n\ttable.$on(\"select\", select_handler);\n\ttable.$on(\"preview\", preview_handler);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(table.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.root = /*node*/ ctx[9];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (49:2) {#each nodes as { node, selectedIndex }\nfunction create_each_block$7(ctx) {\n\tlet t;\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block1;\n\tlet current;\n\tlet if_block0 = /*i*/ ctx[12] !== 0 && create_if_block_2$3();\n\tconst if_block_creators = [create_if_block_1$3, create_else_block$2];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*i*/ ctx[12] === /*nodes*/ ctx[0].length - 1) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\tif_block1.c();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block1 = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\tif_block1.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block0) if_block0.d(detaching);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t}\n\t};\n}\n\n// (69:2) {#if preview}\nfunction create_if_block$a(ctx) {\n\tlet div;\n\tlet arrow;\n\tlet t;\n\tlet section;\n\tlet table;\n\tlet current;\n\tarrow = new FaArrowAltCircleDown({});\n\ttable = new Table({ props: { root: /*preview*/ ctx[1] } });\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tcreate_component(arrow.$$.fragment);\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\tcreate_component(table.$$.fragment);\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t\tattr(section, \"class\", \"preview svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(table, section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*preview*/ 2) table_changes.root = /*preview*/ ctx[1];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_component(arrow);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(table);\n\t\t}\n\t};\n}\n\nfunction create_fragment$v(ctx) {\n\tlet div;\n\tlet t;\n\tlet current;\n\tlet each_value = /*nodes*/ ctx[0];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$7(get_each_context$7(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block = /*preview*/ ctx[1] && create_if_block$a(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div, \"class\", \"visualizer svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t);\n\t\t\tif (if_block) if_block.m(div, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*nodes, SelectNode, PreviewNode*/ 13) {\n\t\t\t\teach_value = /*nodes*/ ctx[0];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$7(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$7(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*preview*/ ctx[1]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*preview*/ 2) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$a(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$v($$self, $$props, $$invalidate) {\n\tlet { metadata } = $$props;\n\tlet nodes = [];\n\tlet preview = null;\n\n\tfunction SelectNode({ node, selectedIndex }, i) {\n\t\t$$invalidate(1, preview = null);\n\t\t$$invalidate(0, nodes[i].selectedIndex = selectedIndex, nodes);\n\t\t$$invalidate(0, nodes = [...nodes.slice(0, i + 1), { node }]);\n\t}\n\n\tfunction PreviewNode({ node }, i) {\n\t\t$$invalidate(1, preview = node);\n\t}\n\n\tconst select_handler = (i, e) => SelectNode(e.detail, i);\n\tconst preview_handler = (i, e) => PreviewNode(e.detail);\n\tconst select_handler_1 = (i, e) => SelectNode(e.detail, i);\n\n\t$$self.$$set = $$props => {\n\t\tif ('metadata' in $$props) $$invalidate(4, metadata = $$props.metadata);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*metadata*/ 16) {\n\t\t\t {\n\t\t\t\t$$invalidate(0, nodes = [{ node: metadata }]);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tnodes,\n\t\tpreview,\n\t\tSelectNode,\n\t\tPreviewNode,\n\t\tmetadata,\n\t\tselect_handler,\n\t\tpreview_handler,\n\t\tselect_handler_1\n\t];\n}\n\nclass MCTS extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$v, create_fragment$v, safe_not_equal, { metadata: 4 }, add_css$m);\n\t}\n}\n\n/* src/client/debug/log/Log.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$n(target) {\n\tappend_styles(target, \"svelte-1pq5e4b\", \".gamelog.svelte-1pq5e4b{display:grid;grid-template-columns:30px 1fr 30px;grid-auto-rows:auto;grid-auto-flow:column}\");\n}\n\nfunction get_each_context$8(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[16] = list[i].phase;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[19] = list[i].action;\n\tchild_ctx[20] = list[i].metadata;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[22] = list[i].turn;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\n// (136:4) {#if i in turnBoundaries}\nfunction create_if_block_1$4(ctx) {\n\tlet turnmarker;\n\tlet current;\n\n\tturnmarker = new TurnMarker({\n\t\t\tprops: {\n\t\t\t\tturn: /*turn*/ ctx[22],\n\t\t\t\tnumEvents: /*turnBoundaries*/ ctx[3][/*i*/ ctx[18]]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(turnmarker.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(turnmarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst turnmarker_changes = {};\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) turnmarker_changes.turn = /*turn*/ ctx[22];\n\t\t\tif (dirty & /*turnBoundaries*/ 8) turnmarker_changes.numEvents = /*turnBoundaries*/ ctx[3][/*i*/ ctx[18]];\n\t\t\tturnmarker.$set(turnmarker_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(turnmarker.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(turnmarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(turnmarker, detaching);\n\t\t}\n\t};\n}\n\n// (135:2) {#each renderedLogEntries as { turn }\nfunction create_each_block_2(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*i*/ ctx[18] in /*turnBoundaries*/ ctx[3] && create_if_block_1$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*i*/ ctx[18] in /*turnBoundaries*/ ctx[3]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*turnBoundaries*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$4(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\n// (141:2) {#each renderedLogEntries as { action, metadata }\nfunction create_each_block_1(ctx) {\n\tlet logevent;\n\tlet current;\n\n\tlogevent = new LogEvent({\n\t\t\tprops: {\n\t\t\t\tpinned: /*i*/ ctx[18] === /*pinned*/ ctx[2],\n\t\t\t\tlogIndex: /*i*/ ctx[18],\n\t\t\t\taction: /*action*/ ctx[19],\n\t\t\t\tmetadata: /*metadata*/ ctx[20]\n\t\t\t}\n\t\t});\n\n\tlogevent.$on(\"click\", /*OnLogClick*/ ctx[5]);\n\tlogevent.$on(\"mouseenter\", /*OnMouseEnter*/ ctx[6]);\n\tlogevent.$on(\"mouseleave\", /*OnMouseLeave*/ ctx[7]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(logevent.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(logevent, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst logevent_changes = {};\n\t\t\tif (dirty & /*pinned*/ 4) logevent_changes.pinned = /*i*/ ctx[18] === /*pinned*/ ctx[2];\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) logevent_changes.action = /*action*/ ctx[19];\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) logevent_changes.metadata = /*metadata*/ ctx[20];\n\t\t\tlogevent.$set(logevent_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(logevent.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(logevent.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(logevent, detaching);\n\t\t}\n\t};\n}\n\n// (153:4) {#if i in phaseBoundaries}\nfunction create_if_block$b(ctx) {\n\tlet phasemarker;\n\tlet current;\n\n\tphasemarker = new PhaseMarker({\n\t\t\tprops: {\n\t\t\t\tphase: /*phase*/ ctx[16],\n\t\t\t\tnumEvents: /*phaseBoundaries*/ ctx[4][/*i*/ ctx[18]]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(phasemarker.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(phasemarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst phasemarker_changes = {};\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) phasemarker_changes.phase = /*phase*/ ctx[16];\n\t\t\tif (dirty & /*phaseBoundaries*/ 16) phasemarker_changes.numEvents = /*phaseBoundaries*/ ctx[4][/*i*/ ctx[18]];\n\t\t\tphasemarker.$set(phasemarker_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(phasemarker.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(phasemarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(phasemarker, detaching);\n\t\t}\n\t};\n}\n\n// (152:2) {#each renderedLogEntries as { phase }\nfunction create_each_block$8(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*i*/ ctx[18] in /*phaseBoundaries*/ ctx[4] && create_if_block$b(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*i*/ ctx[18] in /*phaseBoundaries*/ ctx[4]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*phaseBoundaries*/ 16) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$b(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nfunction create_fragment$w(ctx) {\n\tlet div;\n\tlet t0;\n\tlet t1;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_2 = /*renderedLogEntries*/ ctx[1];\n\tlet each_blocks_2 = [];\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\teach_blocks_2[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks_2[i], 1, 1, () => {\n\t\teach_blocks_2[i] = null;\n\t});\n\n\tlet each_value_1 = /*renderedLogEntries*/ ctx[1];\n\tlet each_blocks_1 = [];\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\teach_blocks_1[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n\t}\n\n\tconst out_1 = i => transition_out(each_blocks_1[i], 1, 1, () => {\n\t\teach_blocks_1[i] = null;\n\t});\n\n\tlet each_value = /*renderedLogEntries*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$8(get_each_context$8(ctx, each_value, i));\n\t}\n\n\tconst out_2 = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tt0 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tt1 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div, \"class\", \"gamelog svelte-1pq5e4b\");\n\t\t\ttoggle_class(div, \"pinned\", /*pinned*/ ctx[2]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t0);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keydown\", /*OnKeyDown*/ ctx[8]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*renderedLogEntries, turnBoundaries*/ 10) {\n\t\t\t\teach_value_2 = /*renderedLogEntries*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_2(ctx, each_value_2, i);\n\n\t\t\t\t\tif (each_blocks_2[i]) {\n\t\t\t\t\t\teach_blocks_2[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_2[i] = create_each_block_2(child_ctx);\n\t\t\t\t\t\teach_blocks_2[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t\teach_blocks_2[i].m(div, t0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value_2.length; i < each_blocks_2.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned, renderedLogEntries, OnLogClick, OnMouseEnter, OnMouseLeave*/ 230) {\n\t\t\t\teach_value_1 = /*renderedLogEntries*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_1(ctx, each_value_1, i);\n\n\t\t\t\t\tif (each_blocks_1[i]) {\n\t\t\t\t\t\teach_blocks_1[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_1[i] = create_each_block_1(child_ctx);\n\t\t\t\t\t\teach_blocks_1[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t\teach_blocks_1[i].m(div, t1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value_1.length; i < each_blocks_1.length; i += 1) {\n\t\t\t\t\tout_1(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*renderedLogEntries, phaseBoundaries*/ 18) {\n\t\t\t\teach_value = /*renderedLogEntries*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$8(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$8(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout_2(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned*/ 4) {\n\t\t\t\ttoggle_class(div, \"pinned\", /*pinned*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks_2 = each_blocks_2.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\teach_blocks_1 = each_blocks_1.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks_2, detaching);\n\t\t\tdestroy_each(each_blocks_1, detaching);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$w($$self, $$props, $$invalidate) {\n\tlet $client,\n\t\t$$unsubscribe_client = noop,\n\t\t$$subscribe_client = () => ($$unsubscribe_client(), $$unsubscribe_client = subscribe(client, $$value => $$invalidate(10, $client = $$value)), client);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_client());\n\tlet { client } = $$props;\n\t$$subscribe_client();\n\tconst { secondaryPane } = getContext('secondaryPane');\n\tconst reducer = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_2__.C)({ game: client.game });\n\tconst initialState = client.getInitialState();\n\tlet { log } = $client;\n\tlet pinned = null;\n\n\tfunction rewind(logIndex) {\n\t\tlet state = initialState;\n\n\t\tfor (let i = 0; i < log.length; i++) {\n\t\t\tconst { action, automatic } = log[i];\n\n\t\t\tif (!automatic) {\n\t\t\t\tstate = reducer(state, action);\n\n\t\t\t\tif (logIndex == 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tlogIndex--;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tG: state.G,\n\t\t\tctx: state.ctx,\n\t\t\tplugins: state.plugins\n\t\t};\n\t}\n\n\tfunction OnLogClick(e) {\n\t\tconst { logIndex } = e.detail;\n\t\tconst state = rewind(logIndex);\n\t\tconst renderedLogEntries = log.filter(e => !e.automatic);\n\t\tclient.overrideGameState(state);\n\n\t\tif (pinned == logIndex) {\n\t\t\t$$invalidate(2, pinned = null);\n\t\t\tsecondaryPane.set(null);\n\t\t} else {\n\t\t\t$$invalidate(2, pinned = logIndex);\n\t\t\tconst { metadata } = renderedLogEntries[logIndex].action.payload;\n\n\t\t\tif (metadata) {\n\t\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction OnMouseEnter(e) {\n\t\tconst { logIndex } = e.detail;\n\n\t\tif (pinned === null) {\n\t\t\tconst state = rewind(logIndex);\n\t\t\tclient.overrideGameState(state);\n\t\t}\n\t}\n\n\tfunction OnMouseLeave() {\n\t\tif (pinned === null) {\n\t\t\tclient.overrideGameState(null);\n\t\t}\n\t}\n\n\tfunction Reset() {\n\t\t$$invalidate(2, pinned = null);\n\t\tclient.overrideGameState(null);\n\t\tsecondaryPane.set(null);\n\t}\n\n\tonDestroy(Reset);\n\n\tfunction OnKeyDown(e) {\n\t\t// ESC.\n\t\tif (e.keyCode == 27) {\n\t\t\tReset();\n\t\t}\n\t}\n\n\tlet renderedLogEntries;\n\tlet turnBoundaries = {};\n\tlet phaseBoundaries = {};\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$subscribe_client($$invalidate(0, client = $$props.client));\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$client, log, renderedLogEntries*/ 1538) {\n\t\t\t {\n\t\t\t\t$$invalidate(9, log = $client.log);\n\t\t\t\t$$invalidate(1, renderedLogEntries = log.filter(e => !e.automatic));\n\t\t\t\tlet eventsInCurrentPhase = 0;\n\t\t\t\tlet eventsInCurrentTurn = 0;\n\t\t\t\t$$invalidate(3, turnBoundaries = {});\n\t\t\t\t$$invalidate(4, phaseBoundaries = {});\n\n\t\t\t\tfor (let i = 0; i < renderedLogEntries.length; i++) {\n\t\t\t\t\tconst { action, payload, turn, phase } = renderedLogEntries[i];\n\t\t\t\t\teventsInCurrentTurn++;\n\t\t\t\t\teventsInCurrentPhase++;\n\n\t\t\t\t\tif (i == renderedLogEntries.length - 1 || renderedLogEntries[i + 1].turn != turn) {\n\t\t\t\t\t\t$$invalidate(3, turnBoundaries[i] = eventsInCurrentTurn, turnBoundaries);\n\t\t\t\t\t\teventsInCurrentTurn = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i == renderedLogEntries.length - 1 || renderedLogEntries[i + 1].phase != phase) {\n\t\t\t\t\t\t$$invalidate(4, phaseBoundaries[i] = eventsInCurrentPhase, phaseBoundaries);\n\t\t\t\t\t\teventsInCurrentPhase = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tclient,\n\t\trenderedLogEntries,\n\t\tpinned,\n\t\tturnBoundaries,\n\t\tphaseBoundaries,\n\t\tOnLogClick,\n\t\tOnMouseEnter,\n\t\tOnMouseLeave,\n\t\tOnKeyDown,\n\t\tlog,\n\t\t$client\n\t];\n}\n\nclass Log extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$w, create_fragment$w, safe_not_equal, { client: 0 }, add_css$n);\n\t}\n}\n\n/* src/client/debug/ai/Options.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$o(target) {\n\tappend_styles(target, \"svelte-1fu900w\", \"label.svelte-1fu900w{color:#666}.option.svelte-1fu900w{margin-bottom:20px}.value.svelte-1fu900w{font-weight:bold;color:#000}input[type='checkbox'].svelte-1fu900w{vertical-align:middle}\");\n}\n\nfunction get_each_context$9(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[6] = list[i][0];\n\tchild_ctx[7] = list[i][1];\n\tchild_ctx[8] = list;\n\tchild_ctx[9] = i;\n\treturn child_ctx;\n}\n\n// (44:47) \nfunction create_if_block_1$5(ctx) {\n\tlet input;\n\tlet input_id_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction input_change_handler() {\n\t\t/*input_change_handler*/ ctx[5].call(input, /*key*/ ctx[6]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tinput = element(\"input\");\n\t\t\tattr(input, \"id\", input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]));\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-1fu900w\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, input, anchor);\n\t\t\tinput.checked = /*values*/ ctx[1][/*key*/ ctx[6]];\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", input_change_handler),\n\t\t\t\t\tlisten(input, \"change\", /*OnChange*/ ctx[2])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (dirty & /*bot*/ 1 && input_id_value !== (input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]))) {\n\t\t\t\tattr(input, \"id\", input_id_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*values, Object, bot*/ 3) {\n\t\t\t\tinput.checked = /*values*/ ctx[1][/*key*/ ctx[6]];\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(input);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (41:4) {#if value.range}\nfunction create_if_block$c(ctx) {\n\tlet span;\n\tlet t0_value = /*values*/ ctx[1][/*key*/ ctx[6]] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet input;\n\tlet input_id_value;\n\tlet input_min_value;\n\tlet input_max_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction input_change_input_handler() {\n\t\t/*input_change_input_handler*/ ctx[4].call(input, /*key*/ ctx[6]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tattr(span, \"class\", \"value svelte-1fu900w\");\n\t\t\tattr(input, \"id\", input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]));\n\t\t\tattr(input, \"type\", \"range\");\n\t\t\tattr(input, \"min\", input_min_value = /*value*/ ctx[7].range.min);\n\t\t\tattr(input, \"max\", input_max_value = /*value*/ ctx[7].range.max);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t0);\n\t\t\tinsert(target, t1, anchor);\n\t\t\tinsert(target, input, anchor);\n\t\t\tset_input_value(input, /*values*/ ctx[1][/*key*/ ctx[6]]);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", input_change_input_handler),\n\t\t\t\t\tlisten(input, \"input\", input_change_input_handler),\n\t\t\t\t\tlisten(input, \"change\", /*OnChange*/ ctx[2])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*values, bot*/ 3 && t0_value !== (t0_value = /*values*/ ctx[1][/*key*/ ctx[6]] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*bot*/ 1 && input_id_value !== (input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]))) {\n\t\t\t\tattr(input, \"id\", input_id_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 1 && input_min_value !== (input_min_value = /*value*/ ctx[7].range.min)) {\n\t\t\t\tattr(input, \"min\", input_min_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 1 && input_max_value !== (input_max_value = /*value*/ ctx[7].range.max)) {\n\t\t\t\tattr(input, \"max\", input_max_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*values, Object, bot*/ 3) {\n\t\t\t\tset_input_value(input, /*values*/ ctx[1][/*key*/ ctx[6]]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t\tif (detaching) detach(t1);\n\t\t\tif (detaching) detach(input);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (37:0) {#each Object.entries(bot.opts()) as [key, value]}\nfunction create_each_block$9(ctx) {\n\tlet div;\n\tlet label;\n\tlet t0_value = /*key*/ ctx[6] + \"\";\n\tlet t0;\n\tlet label_for_value;\n\tlet t1;\n\tlet t2;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*value*/ ctx[7].range) return create_if_block$c;\n\t\tif (typeof /*value*/ ctx[7].value === 'boolean') return create_if_block_1$5;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type && current_block_type(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tt2 = space();\n\t\t\tattr(label, \"for\", label_for_value = /*makeID*/ ctx[3](/*key*/ ctx[6]));\n\t\t\tattr(label, \"class\", \"svelte-1fu900w\");\n\t\t\tattr(div, \"class\", \"option svelte-1fu900w\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div, t1);\n\t\t\tif (if_block) if_block.m(div, null);\n\t\t\tappend(div, t2);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*bot*/ 1 && t0_value !== (t0_value = /*key*/ ctx[6] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*bot*/ 1 && label_for_value !== (label_for_value = /*makeID*/ ctx[3](/*key*/ ctx[6]))) {\n\t\t\t\tattr(label, \"for\", label_for_value);\n\t\t\t}\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif (if_block) if_block.d(1);\n\t\t\t\tif_block = current_block_type && current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div, t2);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\n\t\t\tif (if_block) {\n\t\t\t\tif_block.d();\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$x(ctx) {\n\tlet each_1_anchor;\n\tlet each_value = Object.entries(/*bot*/ ctx[0].opts());\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$9(get_each_context$9(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\teach_1_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, each_1_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*makeID, Object, bot, values, OnChange*/ 15) {\n\t\t\t\teach_value = Object.entries(/*bot*/ ctx[0].opts());\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$9(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$9(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(each_1_anchor);\n\t\t}\n\t};\n}\n\nfunction instance$x($$self, $$props, $$invalidate) {\n\tlet { bot } = $$props;\n\tlet values = {};\n\n\tfor (let [key, value] of Object.entries(bot.opts())) {\n\t\tvalues[key] = value.value;\n\t}\n\n\tfunction OnChange() {\n\t\tfor (let [key, value] of Object.entries(values)) {\n\t\t\tbot.setOpt(key, value);\n\t\t}\n\t}\n\n\tconst makeID = key => 'ai-option-' + key;\n\n\tfunction input_change_input_handler(key) {\n\t\tvalues[key] = to_number(this.value);\n\t\t$$invalidate(1, values);\n\t\t$$invalidate(0, bot);\n\t}\n\n\tfunction input_change_handler(key) {\n\t\tvalues[key] = this.checked;\n\t\t$$invalidate(1, values);\n\t\t$$invalidate(0, bot);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('bot' in $$props) $$invalidate(0, bot = $$props.bot);\n\t};\n\n\treturn [\n\t\tbot,\n\t\tvalues,\n\t\tOnChange,\n\t\tmakeID,\n\t\tinput_change_input_handler,\n\t\tinput_change_handler\n\t];\n}\n\nclass Options extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$x, create_fragment$x, safe_not_equal, { bot: 0 }, add_css$o);\n\t}\n}\n\n/* src/client/debug/ai/AI.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$p(target) {\n\tappend_styles(target, \"svelte-lifdi8\", \"ul.svelte-lifdi8{padding-left:0}li.svelte-lifdi8{list-style:none;margin:none;margin-bottom:5px}h3.svelte-lifdi8{text-transform:uppercase}label.svelte-lifdi8{color:#666}input[type='checkbox'].svelte-lifdi8{vertical-align:middle}\");\n}\n\nfunction get_each_context$a(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\treturn child_ctx;\n}\n\n// (202:4) {:else}\nfunction create_else_block$3(ctx) {\n\tlet p0;\n\tlet t1;\n\tlet p1;\n\n\treturn {\n\t\tc() {\n\t\t\tp0 = element(\"p\");\n\t\t\tp0.textContent = \"No bots available.\";\n\t\t\tt1 = space();\n\t\t\tp1 = element(\"p\");\n\n\t\t\tp1.innerHTML = `Follow the instructions\n        <a href=\"https://boardgame.io/documentation/#/tutorial?id=bots\" target=\"_blank\">here</a>\n        to set up bots.`;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p0, anchor);\n\t\t\tinsert(target, t1, anchor);\n\t\t\tinsert(target, p1, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(p0);\n\t\t\tif (detaching) detach(t1);\n\t\t\tif (detaching) detach(p1);\n\t\t}\n\t};\n}\n\n// (200:4) {#if client.multiplayer}\nfunction create_if_block_5(ctx) {\n\tlet p;\n\n\treturn {\n\t\tc() {\n\t\t\tp = element(\"p\");\n\t\t\tp.textContent = \"The bot debugger is only available in singleplayer mode.\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(p);\n\t\t}\n\t};\n}\n\n// (150:2) {#if client.game.ai && !client.multiplayer}\nfunction create_if_block$d(ctx) {\n\tlet section0;\n\tlet h30;\n\tlet t1;\n\tlet ul;\n\tlet li0;\n\tlet hotkey0;\n\tlet t2;\n\tlet li1;\n\tlet hotkey1;\n\tlet t3;\n\tlet li2;\n\tlet hotkey2;\n\tlet t4;\n\tlet section1;\n\tlet h31;\n\tlet t6;\n\tlet select;\n\tlet t7;\n\tlet show_if = Object.keys(/*bot*/ ctx[7].opts()).length;\n\tlet t8;\n\tlet if_block1_anchor;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\n\thotkey0 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"1\",\n\t\t\t\tonPress: /*Reset*/ ctx[13],\n\t\t\t\tlabel: \"reset\"\n\t\t\t}\n\t\t});\n\n\thotkey1 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"2\",\n\t\t\t\tonPress: /*Step*/ ctx[11],\n\t\t\t\tlabel: \"play\"\n\t\t\t}\n\t\t});\n\n\thotkey2 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"3\",\n\t\t\t\tonPress: /*Simulate*/ ctx[12],\n\t\t\t\tlabel: \"simulate\"\n\t\t\t}\n\t\t});\n\n\tlet each_value = Object.keys(/*bots*/ ctx[8]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$a(get_each_context$a(ctx, each_value, i));\n\t}\n\n\tlet if_block0 = show_if && create_if_block_4(ctx);\n\tlet if_block1 = (/*botAction*/ ctx[5] || /*iterationCounter*/ ctx[3]) && create_if_block_1$6(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tcreate_component(hotkey0.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tcreate_component(hotkey1.$$.fragment);\n\t\t\tt3 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\tcreate_component(hotkey2.$$.fragment);\n\t\t\tt4 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Bot\";\n\t\t\tt6 = space();\n\t\t\tselect = element(\"select\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt7 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt8 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tif_block1_anchor = empty();\n\t\t\tattr(h30, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li0, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li1, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li2, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(ul, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(h31, \"class\", \"svelte-lifdi8\");\n\t\t\tif (/*selectedBot*/ ctx[4] === void 0) add_render_callback(() => /*select_change_handler*/ ctx[17].call(select));\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tappend(section0, ul);\n\t\t\tappend(ul, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(ul, t3);\n\t\t\tappend(ul, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tinsert(target, t4, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t6);\n\t\t\tappend(section1, select);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t}\n\n\t\t\tselect_option(select, /*selectedBot*/ ctx[4]);\n\t\t\tinsert(target, t7, anchor);\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t8, anchor);\n\t\t\tif (if_block1) if_block1.m(target, anchor);\n\t\t\tinsert(target, if_block1_anchor, anchor);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(select, \"change\", /*select_change_handler*/ ctx[17]),\n\t\t\t\t\tlisten(select, \"change\", /*ChangeBot*/ ctx[10])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*Object, bots*/ 256) {\n\t\t\t\teach_value = Object.keys(/*bots*/ ctx[8]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$a(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$a(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tif (dirty & /*selectedBot, Object, bots*/ 272) {\n\t\t\t\tselect_option(select, /*selectedBot*/ ctx[4]);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 128) show_if = Object.keys(/*bot*/ ctx[7].opts()).length;\n\n\t\t\tif (show_if) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*bot*/ 128) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_4(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(t8.parentNode, t8);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*botAction*/ ctx[5] || /*iterationCounter*/ ctx[3]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_1$6(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(if_block1_anchor.parentNode, if_block1_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\t\t\ttransition_in(if_block0);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(if_block0);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section0);\n\t\t\tdestroy_component(hotkey0);\n\t\t\tdestroy_component(hotkey1);\n\t\t\tdestroy_component(hotkey2);\n\t\t\tif (detaching) detach(t4);\n\t\t\tif (detaching) detach(section1);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(t7);\n\t\t\tif (if_block0) if_block0.d(detaching);\n\t\t\tif (detaching) detach(t8);\n\t\t\tif (if_block1) if_block1.d(detaching);\n\t\t\tif (detaching) detach(if_block1_anchor);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (169:8) {#each Object.keys(bots) as bot}\nfunction create_each_block$a(ctx) {\n\tlet option;\n\tlet t_value = /*bot*/ ctx[7] + \"\";\n\tlet t;\n\tlet option_value_value;\n\n\treturn {\n\t\tc() {\n\t\t\toption = element(\"option\");\n\t\t\tt = text(t_value);\n\t\t\toption.__value = option_value_value = /*bot*/ ctx[7];\n\t\t\toption.value = option.__value;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, option, anchor);\n\t\t\tappend(option, t);\n\t\t},\n\t\tp: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(option);\n\t\t}\n\t};\n}\n\n// (175:4) {#if Object.keys(bot.opts()).length}\nfunction create_if_block_4(ctx) {\n\tlet section;\n\tlet h3;\n\tlet t1;\n\tlet label;\n\tlet t3;\n\tlet input;\n\tlet t4;\n\tlet options;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\toptions = new Options({ props: { bot: /*bot*/ ctx[7] } });\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Options\";\n\t\t\tt1 = space();\n\t\t\tlabel = element(\"label\");\n\t\t\tlabel.textContent = \"debug\";\n\t\t\tt3 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tt4 = space();\n\t\t\tcreate_component(options.$$.fragment);\n\t\t\tattr(h3, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(label, \"for\", \"ai-option-debug\");\n\t\t\tattr(label, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(input, \"id\", \"ai-option-debug\");\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tappend(section, label);\n\t\t\tappend(section, t3);\n\t\t\tappend(section, input);\n\t\t\tinput.checked = /*debug*/ ctx[1];\n\t\t\tappend(section, t4);\n\t\t\tmount_component(options, section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", /*input_change_handler*/ ctx[18]),\n\t\t\t\t\tlisten(input, \"change\", /*OnDebug*/ ctx[9])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debug*/ 2) {\n\t\t\t\tinput.checked = /*debug*/ ctx[1];\n\t\t\t}\n\n\t\t\tconst options_changes = {};\n\t\t\tif (dirty & /*bot*/ 128) options_changes.bot = /*bot*/ ctx[7];\n\t\t\toptions.$set(options_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(options.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(options.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(options);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (184:4) {#if botAction || iterationCounter}\nfunction create_if_block_1$6(ctx) {\n\tlet section;\n\tlet h3;\n\tlet t1;\n\tlet t2;\n\tlet if_block0 = /*progress*/ ctx[2] && /*progress*/ ctx[2] < 1.0 && create_if_block_3$1(ctx);\n\tlet if_block1 = /*botAction*/ ctx[5] && create_if_block_2$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Result\";\n\t\t\tt1 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt2 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(h3, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tif (if_block0) if_block0.m(section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block1) if_block1.m(section, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*progress*/ ctx[2] && /*progress*/ ctx[2] < 1.0) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_3$1(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\tif_block0.m(section, t2);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tif_block0.d(1);\n\t\t\t\tif_block0 = null;\n\t\t\t}\n\n\t\t\tif (/*botAction*/ ctx[5]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_2$4(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t}\n\t};\n}\n\n// (187:6) {#if progress && progress < 1.0}\nfunction create_if_block_3$1(ctx) {\n\tlet progress_1;\n\n\treturn {\n\t\tc() {\n\t\t\tprogress_1 = element(\"progress\");\n\t\t\tprogress_1.value = /*progress*/ ctx[2];\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, progress_1, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*progress*/ 4) {\n\t\t\t\tprogress_1.value = /*progress*/ ctx[2];\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(progress_1);\n\t\t}\n\t};\n}\n\n// (191:6) {#if botAction}\nfunction create_if_block_2$4(ctx) {\n\tlet ul;\n\tlet li0;\n\tlet t0;\n\tlet t1;\n\tlet t2;\n\tlet li1;\n\tlet t3;\n\tlet t4_value = JSON.stringify(/*botActionArgs*/ ctx[6]) + \"\";\n\tlet t4;\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tt0 = text(\"Action: \");\n\t\t\tt1 = text(/*botAction*/ ctx[5]);\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tt3 = text(\"Args: \");\n\t\t\tt4 = text(t4_value);\n\t\t\tattr(li0, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li1, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(ul, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tappend(ul, li0);\n\t\t\tappend(li0, t0);\n\t\t\tappend(li0, t1);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li1);\n\t\t\tappend(li1, t3);\n\t\t\tappend(li1, t4);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*botAction*/ 32) set_data(t1, /*botAction*/ ctx[5]);\n\t\t\tif (dirty & /*botActionArgs*/ 64 && t4_value !== (t4_value = JSON.stringify(/*botActionArgs*/ ctx[6]) + \"\")) set_data(t4, t4_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t}\n\t};\n}\n\nfunction create_fragment$y(ctx) {\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$d, create_if_block_5, create_else_block$3];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*client*/ ctx[0].game.ai && !/*client*/ ctx[0].multiplayer) return 0;\n\t\tif (/*client*/ ctx[0].multiplayer) return 1;\n\t\treturn 2;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tif_block.c();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keydown\", /*OnKeyDown*/ ctx[14]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$y($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { clientManager } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\tconst { secondaryPane } = getContext('secondaryPane');\n\tconst bots = { 'MCTS': _ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_3__.M, 'Random': _ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_3__.R };\n\tlet debug = false;\n\tlet progress = null;\n\tlet iterationCounter = 0;\n\tlet metadata = null;\n\n\tconst iterationCallback = ({ iterationCounter: c, numIterations, metadata: m }) => {\n\t\t$$invalidate(3, iterationCounter = c);\n\t\t$$invalidate(2, progress = c / numIterations);\n\t\tmetadata = m;\n\n\t\tif (debug && metadata) {\n\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t}\n\t};\n\n\tfunction OnDebug() {\n\t\tif (debug && metadata) {\n\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t} else {\n\t\t\tsecondaryPane.set(null);\n\t\t}\n\t}\n\n\tlet bot;\n\n\tif (client.game.ai) {\n\t\tbot = new _ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_3__.M({\n\t\t\t\tgame: client.game,\n\t\t\t\tenumerate: client.game.ai.enumerate,\n\t\t\t\titerationCallback\n\t\t\t});\n\n\t\tbot.setOpt('async', true);\n\t}\n\n\tlet selectedBot;\n\tlet botAction;\n\tlet botActionArgs;\n\n\tfunction ChangeBot() {\n\t\tconst botConstructor = bots[selectedBot];\n\n\t\t$$invalidate(7, bot = new botConstructor({\n\t\t\t\tgame: client.game,\n\t\t\t\tenumerate: client.game.ai.enumerate,\n\t\t\t\titerationCallback\n\t\t\t}));\n\n\t\tbot.setOpt('async', true);\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\tsecondaryPane.set(null);\n\t\t$$invalidate(3, iterationCounter = 0);\n\t}\n\n\tasync function Step$1() {\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\t\tconst t = await (0,_ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_3__.S)(client, bot);\n\n\t\tif (t) {\n\t\t\t$$invalidate(5, botAction = t.payload.type);\n\t\t\t$$invalidate(6, botActionArgs = t.payload.args);\n\t\t}\n\t}\n\n\tfunction Simulate(iterations = 10000, sleepTimeout = 100) {\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\n\t\tconst step = async () => {\n\t\t\tfor (let i = 0; i < iterations; i++) {\n\t\t\t\tconst action = await (0,_ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_3__.S)(client, bot);\n\t\t\t\tif (!action) break;\n\t\t\t\tawait new Promise(resolve => setTimeout(resolve, sleepTimeout));\n\t\t\t}\n\t\t};\n\n\t\treturn step();\n\t}\n\n\tfunction Exit() {\n\t\tclient.overrideGameState(null);\n\t\tsecondaryPane.set(null);\n\t\t$$invalidate(1, debug = false);\n\t}\n\n\tfunction Reset() {\n\t\tclient.reset();\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\t\tExit();\n\t}\n\n\tfunction OnKeyDown(e) {\n\t\t// ESC.\n\t\tif (e.keyCode == 27) {\n\t\t\tExit();\n\t\t}\n\t}\n\n\tonDestroy(Exit);\n\n\tfunction select_change_handler() {\n\t\tselectedBot = select_value(this);\n\t\t$$invalidate(4, selectedBot);\n\t\t$$invalidate(8, bots);\n\t}\n\n\tfunction input_change_handler() {\n\t\tdebug = this.checked;\n\t\t$$invalidate(1, debug);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate(0, client = $$props.client);\n\t\tif ('clientManager' in $$props) $$invalidate(15, clientManager = $$props.clientManager);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(16, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [\n\t\tclient,\n\t\tdebug,\n\t\tprogress,\n\t\titerationCounter,\n\t\tselectedBot,\n\t\tbotAction,\n\t\tbotActionArgs,\n\t\tbot,\n\t\tbots,\n\t\tOnDebug,\n\t\tChangeBot,\n\t\tStep$1,\n\t\tSimulate,\n\t\tReset,\n\t\tOnKeyDown,\n\t\tclientManager,\n\t\tToggleVisibility,\n\t\tselect_change_handler,\n\t\tinput_change_handler\n\t];\n}\n\nclass AI extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$y,\n\t\t\tcreate_fragment$y,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tclient: 0,\n\t\t\t\tclientManager: 15,\n\t\t\t\tToggleVisibility: 16\n\t\t\t},\n\t\t\tadd_css$p\n\t\t);\n\t}\n}\n\n/* src/client/debug/Debug.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$q(target) {\n\tappend_styles(target, \"svelte-8ymctk\", \".debug-panel.svelte-8ymctk.svelte-8ymctk{position:fixed;color:#555;font-family:monospace;right:0;top:0;height:100%;font-size:14px;opacity:0.9;z-index:99999}.panel.svelte-8ymctk.svelte-8ymctk{display:flex;position:relative;flex-direction:row;height:100%}.visibility-toggle.svelte-8ymctk.svelte-8ymctk{position:absolute;box-sizing:border-box;top:7px;border:1px solid #ccc;border-radius:5px;width:48px;height:48px;padding:8px;background:white;color:#555;box-shadow:0 0 5px rgba(0, 0, 0, 0.2)}.visibility-toggle.svelte-8ymctk.svelte-8ymctk:hover,.visibility-toggle.svelte-8ymctk.svelte-8ymctk:focus{background:#eee}.opener.svelte-8ymctk.svelte-8ymctk{right:10px}.closer.svelte-8ymctk.svelte-8ymctk{left:-326px}@keyframes svelte-8ymctk-rotateFromZero{from{transform:rotateZ(0deg)}to{transform:rotateZ(180deg)}}.icon.svelte-8ymctk.svelte-8ymctk{display:flex;height:100%;animation:svelte-8ymctk-rotateFromZero 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0s 1\\n      normal forwards}.closer.svelte-8ymctk .icon.svelte-8ymctk{animation-direction:reverse}.pane.svelte-8ymctk.svelte-8ymctk{flex-grow:2;overflow-x:hidden;overflow-y:scroll;background:#fefefe;padding:20px;border-left:1px solid #ccc;box-shadow:-1px 0 5px rgba(0, 0, 0, 0.2);box-sizing:border-box;width:280px}.secondary-pane.svelte-8ymctk.svelte-8ymctk{background:#fefefe;overflow-y:scroll}.debug-panel.svelte-8ymctk button,.debug-panel.svelte-8ymctk select{cursor:pointer;font-size:14px;font-family:monospace}.debug-panel.svelte-8ymctk select{background:#eee;border:1px solid #bbb;color:#555;padding:3px;border-radius:3px}.debug-panel.svelte-8ymctk section{margin-bottom:20px}.debug-panel.svelte-8ymctk .screen-reader-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}\");\n}\n\n// (199:2) {:else}\nfunction create_else_block$4(ctx) {\n\tlet div1;\n\tlet t0;\n\tlet menu;\n\tlet t1;\n\tlet div0;\n\tlet switch_instance;\n\tlet t2;\n\tlet div1_transition;\n\tlet current;\n\tlet if_block0 = /*showToggleButton*/ ctx[10] && create_if_block_3$2(ctx);\n\n\tmenu = new Menu({\n\t\t\tprops: {\n\t\t\t\tpanes: /*panes*/ ctx[6],\n\t\t\t\tpane: /*pane*/ ctx[2]\n\t\t\t}\n\t\t});\n\n\tmenu.$on(\"change\", /*MenuChange*/ ctx[8]);\n\tvar switch_value = /*panes*/ ctx[6][/*pane*/ ctx[2]].component;\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tclient: /*client*/ ctx[4],\n\t\t\t\tclientManager: /*clientManager*/ ctx[0],\n\t\t\t\tToggleVisibility: /*ToggleVisibility*/ ctx[9]\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\tlet if_block1 = /*$secondaryPane*/ ctx[5] && create_if_block_2$5(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt0 = space();\n\t\t\tcreate_component(menu.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tdiv0 = element(\"div\");\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(div0, \"class\", \"pane svelte-8ymctk\");\n\t\t\tattr(div0, \"role\", \"region\");\n\t\t\tattr(div0, \"aria-label\", /*pane*/ ctx[2]);\n\t\t\tattr(div0, \"tabindex\", \"-1\");\n\t\t\tattr(div1, \"class\", \"panel svelte-8ymctk\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tif (if_block0) if_block0.m(div1, null);\n\t\t\tappend(div1, t0);\n\t\t\tmount_component(menu, div1, null);\n\t\t\tappend(div1, t1);\n\t\t\tappend(div1, div0);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div0, null);\n\t\t\t}\n\n\t\t\t/*div0_binding*/ ctx[16](div0);\n\t\t\tappend(div1, t2);\n\t\t\tif (if_block1) if_block1.m(div1, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (/*showToggleButton*/ ctx[10]) if_block0.p(ctx, dirty);\n\t\t\tconst menu_changes = {};\n\t\t\tif (dirty & /*pane*/ 4) menu_changes.pane = /*pane*/ ctx[2];\n\t\t\tmenu.$set(menu_changes);\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*client*/ 16) switch_instance_changes.client = /*client*/ ctx[4];\n\t\t\tif (dirty & /*clientManager*/ 1) switch_instance_changes.clientManager = /*clientManager*/ ctx[0];\n\n\t\t\tif (switch_value !== (switch_value = /*panes*/ ctx[6][/*pane*/ ctx[2]].component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div0, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*pane*/ 4) {\n\t\t\t\tattr(div0, \"aria-label\", /*pane*/ ctx[2]);\n\t\t\t}\n\n\t\t\tif (/*$secondaryPane*/ ctx[5]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*$secondaryPane*/ 32) {\n\t\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_2$5(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\tif_block1.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block1, 1, 1, () => {\n\t\t\t\t\tif_block1 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(menu.$$.fragment, local);\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\ttransition_in(if_block1);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (!div1_transition) div1_transition = create_bidirectional_transition(div1, fly, { x: 400, .../*transitionOpts*/ ctx[12] }, true);\n\t\t\t\tdiv1_transition.run(1);\n\t\t\t});\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(menu.$$.fragment, local);\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\ttransition_out(if_block1);\n\t\t\tif (!div1_transition) div1_transition = create_bidirectional_transition(div1, fly, { x: 400, .../*transitionOpts*/ ctx[12] }, false);\n\t\t\tdiv1_transition.run(0);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tdestroy_component(menu);\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t\t/*div0_binding*/ ctx[16](null);\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tif (detaching && div1_transition) div1_transition.end();\n\t\t}\n\t};\n}\n\n// (185:2) {#if !visible}\nfunction create_if_block$e(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*showToggleButton*/ ctx[10] && create_if_block_1$7(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*showToggleButton*/ ctx[10]) if_block.p(ctx, dirty);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\n// (201:6) {#if showToggleButton}\nfunction create_if_block_3$2(ctx) {\n\tlet button;\n\tlet span;\n\tlet chevron;\n\tlet button_intro;\n\tlet button_outro;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tchevron = new FaChevronRight({});\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tspan = element(\"span\");\n\t\t\tcreate_component(chevron.$$.fragment);\n\t\t\tattr(span, \"class\", \"icon svelte-8ymctk\");\n\t\t\tattr(span, \"aria-hidden\", \"true\");\n\t\t\tattr(button, \"class\", \"visibility-toggle closer svelte-8ymctk\");\n\t\t\tattr(button, \"title\", \"Hide Debug Panel\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, span);\n\t\t\tmount_component(chevron, span, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", /*ToggleVisibility*/ ctx[9]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp: noop,\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(chevron.$$.fragment, local);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (button_outro) button_outro.end(1);\n\t\t\t\tbutton_intro = create_in_transition(button, /*receive*/ ctx[14], { key: 'toggle' });\n\t\t\t\tbutton_intro.start();\n\t\t\t});\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(chevron.$$.fragment, local);\n\t\t\tif (button_intro) button_intro.invalidate();\n\t\t\tbutton_outro = create_out_transition(button, /*send*/ ctx[13], { key: 'toggle' });\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tdestroy_component(chevron);\n\t\t\tif (detaching && button_outro) button_outro.end();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (229:6) {#if $secondaryPane}\nfunction create_if_block_2$5(ctx) {\n\tlet div;\n\tlet switch_instance;\n\tlet current;\n\tvar switch_value = /*$secondaryPane*/ ctx[5].component;\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tmetadata: /*$secondaryPane*/ ctx[5].metadata\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tattr(div, \"class\", \"secondary-pane svelte-8ymctk\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*$secondaryPane*/ 32) switch_instance_changes.metadata = /*$secondaryPane*/ ctx[5].metadata;\n\n\t\t\tif (switch_value !== (switch_value = /*$secondaryPane*/ ctx[5].component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t}\n\t};\n}\n\n// (186:4) {#if showToggleButton}\nfunction create_if_block_1$7(ctx) {\n\tlet button;\n\tlet span;\n\tlet chevron;\n\tlet button_intro;\n\tlet button_outro;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tchevron = new FaChevronRight({});\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tspan = element(\"span\");\n\t\t\tcreate_component(chevron.$$.fragment);\n\t\t\tattr(span, \"class\", \"icon svelte-8ymctk\");\n\t\t\tattr(span, \"aria-hidden\", \"true\");\n\t\t\tattr(button, \"class\", \"visibility-toggle opener svelte-8ymctk\");\n\t\t\tattr(button, \"title\", \"Show Debug Panel\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, span);\n\t\t\tmount_component(chevron, span, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", /*ToggleVisibility*/ ctx[9]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp: noop,\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(chevron.$$.fragment, local);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (button_outro) button_outro.end(1);\n\t\t\t\tbutton_intro = create_in_transition(button, /*receive*/ ctx[14], { key: 'toggle' });\n\t\t\t\tbutton_intro.start();\n\t\t\t});\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(chevron.$$.fragment, local);\n\t\t\tif (button_intro) button_intro.invalidate();\n\t\t\tbutton_outro = create_out_transition(button, /*send*/ ctx[13], { key: 'toggle' });\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tdestroy_component(chevron);\n\t\t\tif (detaching && button_outro) button_outro.end();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$z(ctx) {\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$e, create_else_block$4];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (!/*visible*/ ctx[3]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tif_block.c();\n\t\t\tattr(section, \"aria-label\", \"boardgame.io Debug Panel\");\n\t\t\tattr(section, \"class\", \"debug-panel svelte-8ymctk\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keypress\", /*Keypress*/ ctx[11]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$z($$self, $$props, $$invalidate) {\n\tlet client;\n\n\tlet $clientManager,\n\t\t$$unsubscribe_clientManager = noop,\n\t\t$$subscribe_clientManager = () => ($$unsubscribe_clientManager(), $$unsubscribe_clientManager = subscribe(clientManager, $$value => $$invalidate(15, $clientManager = $$value)), clientManager);\n\n\tlet $secondaryPane;\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_clientManager());\n\tlet { clientManager } = $$props;\n\t$$subscribe_clientManager();\n\n\tconst panes = {\n\t\tmain: {\n\t\t\tlabel: 'Main',\n\t\t\tshortcut: 'm',\n\t\t\tcomponent: Main\n\t\t},\n\t\tlog: {\n\t\t\tlabel: 'Log',\n\t\t\tshortcut: 'l',\n\t\t\tcomponent: Log\n\t\t},\n\t\tinfo: {\n\t\t\tlabel: 'Info',\n\t\t\tshortcut: 'i',\n\t\t\tcomponent: Info\n\t\t},\n\t\tai: {\n\t\t\tlabel: 'AI',\n\t\t\tshortcut: 'a',\n\t\t\tcomponent: AI\n\t\t}\n\t};\n\n\tconst disableHotkeys = writable(false);\n\tconst secondaryPane = writable(null);\n\tcomponent_subscribe($$self, secondaryPane, value => $$invalidate(5, $secondaryPane = value));\n\tsetContext('hotkeys', { disableHotkeys });\n\tsetContext('secondaryPane', { secondaryPane });\n\tlet paneDiv;\n\tlet pane = 'main';\n\n\tfunction MenuChange(e) {\n\t\t$$invalidate(2, pane = e.detail);\n\t\tpaneDiv.focus();\n\t}\n\n\t// Toggle debugger visibilty\n\tfunction ToggleVisibility() {\n\t\t$$invalidate(3, visible = !visible);\n\t}\n\n\tconst debugOpt = $clientManager.client.debugOpt;\n\tlet visible = !debugOpt || !debugOpt.collapseOnLoad;\n\tconst showToggleButton = !debugOpt || !debugOpt.hideToggleButton;\n\n\tfunction Keypress(e) {\n\t\tif (e.key == '.') {\n\t\t\tToggleVisibility();\n\t\t\treturn;\n\t\t}\n\n\t\t// Set displayed pane\n\t\tif (!visible) return;\n\n\t\tObject.entries(panes).forEach(([key, { shortcut }]) => {\n\t\t\tif (e.key == shortcut) {\n\t\t\t\t$$invalidate(2, pane = key);\n\t\t\t}\n\t\t});\n\t}\n\n\tconst transitionOpts = { duration: 150, easing: cubicOut };\n\tconst [send, receive] = crossfade(transitionOpts);\n\n\tfunction div0_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tpaneDiv = $$value;\n\t\t\t$$invalidate(1, paneDiv);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('clientManager' in $$props) $$subscribe_clientManager($$invalidate(0, clientManager = $$props.clientManager));\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$clientManager*/ 32768) {\n\t\t\t $$invalidate(4, client = $clientManager.client);\n\t\t}\n\t};\n\n\treturn [\n\t\tclientManager,\n\t\tpaneDiv,\n\t\tpane,\n\t\tvisible,\n\t\tclient,\n\t\t$secondaryPane,\n\t\tpanes,\n\t\tsecondaryPane,\n\t\tMenuChange,\n\t\tToggleVisibility,\n\t\tshowToggleButton,\n\t\tKeypress,\n\t\ttransitionOpts,\n\t\tsend,\n\t\treceive,\n\t\t$clientManager,\n\t\tdiv0_binding\n\t];\n}\n\nclass Debug extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$z, create_fragment$z, safe_not_equal, { clientManager: 0 }, add_css$q);\n\t}\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL0RlYnVnLWZkMDliOGJjLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFpRTtBQUNGO0FBQ3BCO0FBQ2dDOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5QkFBeUI7QUFDeEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0Esa0NBQWtDLEVBQUUsY0FBYztBQUNsRDtBQUNBLG9DQUFvQyxFQUFFLGNBQWMsR0FBRztBQUN2RCw2QkFBNkIsV0FBVyxHQUFHLElBQUk7QUFDL0M7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQSw0Q0FBNEMsTUFBTSxFQUFFLEtBQUs7QUFDekQ7QUFDQTtBQUNBLDhCQUE4QixlQUFlLFVBQVUsU0FBUyxFQUFFLE1BQU0sRUFBRSxTQUFTLFlBQVksTUFBTTtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZCQUE2QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZCQUE2QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDhCQUE4QixFQUFFLEtBQUs7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUVBQWlFO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFpRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFpRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUErQztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFFQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixvQkFBb0I7QUFDcEI7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyx3REFBd0Q7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixvQkFBb0I7QUFDcEI7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyx3REFBd0Q7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsb0JBQW9CO0FBQ3BCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLDhDQUE4QztBQUNyRCxPQUFPLG1CQUFtQjtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwwREFBMEQsaUJBQWlCLHFCQUFxQixxQkFBcUIsc0JBQXNCLGtDQUFrQyxzQkFBc0IsMEJBQTBCLG9CQUFvQix3QkFBd0Isc0JBQXNCLDBCQUEwQix1QkFBdUIsMkJBQTJCLG9CQUFvQix3QkFBd0IseUJBQXlCLDZCQUE2Qix3QkFBd0IsNEJBQTRCLGtCQUFrQixzQkFBc0IsMEJBQTBCO0FBQ25rQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyw0RUFBNEU7QUFDbkYsU0FBUyxRQUFROztBQUVqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNERBQTRELGlCQUFpQixxQkFBcUIscUJBQXFCLHVCQUF1QixrQ0FBa0MseUJBQXlCLG9CQUFvQixlQUFlLGtCQUFrQjtBQUM5UDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixTQUFTLGlDQUFpQztBQUN2RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUEsaUJBQWlCLHVCQUF1QjtBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHdCQUF3QjtBQUMzQztBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix3QkFBd0I7QUFDM0M7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLHVCQUF1QjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyx3QkFBd0I7QUFDbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTyw4Q0FBOEM7QUFDckQsT0FBTyxtQkFBbUI7QUFDMUI7QUFDQSwwQkFBMEIsd0JBQXdCOztBQUVsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyw4Q0FBOEM7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFNBQVMsdUJBQXVCOztBQUV4RDtBQUNBLFlBQVk7QUFDWixHQUFHOztBQUVIO0FBQ0EsWUFBWTtBQUNaLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHdCQUF3QjtBQUMzQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix3QkFBd0I7QUFDM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLHVCQUF1QjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdDQUFnQyx3QkFBd0I7QUFDeEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHdCQUF3QjtBQUMzQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxTQUFTO0FBQ2hCLE9BQU8sZ0JBQWdCO0FBQ3ZCLE9BQU8sbUJBQW1CO0FBQzFCO0FBQ0EsT0FBTywwQkFBMEI7QUFDakM7QUFDQTs7QUFFQTtBQUNBLCtCQUErQixTQUFTO0FBQ3hDLG9CQUFvQiwwQkFBMEI7QUFDOUMsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDhFQUE4RSxhQUFhLHNEQUFzRCwyQkFBMkIsd0NBQXdDLFlBQVksaUJBQWlCO0FBQ2pQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxPQUFPO0FBQ2QsT0FBTyxRQUFROztBQUVmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLG1CQUFtQjtBQUMxRjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsbUVBQW1FLGFBQWE7QUFDaEY7O0FBRUEsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLFNBQVM7QUFDaEI7QUFDQSxPQUFPLGdCQUFnQjtBQUN2QixPQUFPLG1CQUFtQjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG9FQUFvRSxhQUFhLHVCQUF1QixtQkFBbUIsY0FBYyxnQkFBZ0IsV0FBVyxrQkFBa0IsaUJBQWlCLHNCQUFzQjtBQUM3Tjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxPQUFPO0FBQ2QsT0FBTyxZQUFZO0FBQ25CLGlDQUFpQyxVQUFVOztBQUUzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSx1QkFBdUI7QUFDOUY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFFQUFxRSxjQUFjLGdCQUFnQixzQkFBc0IsV0FBVyxrQkFBa0IsaUJBQWlCLGlCQUFpQixvQkFBb0IsMEJBQTBCLHlCQUF5QixpQkFBaUIsV0FBVztBQUMzUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLFFBQVE7QUFDZixPQUFPLFlBQVk7QUFDbkIsaUNBQWlDLFVBQVU7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLHdCQUF3QjtBQUMvRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDRCQUE0QjtBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxXQUFXOztBQUVsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLGFBQWE7QUFDcEY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtFQUFrRSxjQUFjLGVBQWUsZ0JBQWdCLGFBQWEsc0JBQXNCLHVCQUF1QixnQkFBZ0IsdUJBQXVCLDJCQUEyQixZQUFZLGtCQUFrQixXQUFXLGVBQWUsZ0JBQWdCLGlCQUFpQiw4REFBOEQsbUJBQW1CLGdCQUFnQixnQ0FBZ0MsbUJBQW1CLGdCQUFnQixVQUFVLG9CQUFvQixnQkFBZ0IscUJBQXFCLHVCQUF1QiwwQkFBMEIsdUJBQXVCLDBCQUEwQix1QkFBdUIsMEJBQTBCLHVCQUF1QiwwQkFBMEIsdUJBQXVCLDBCQUEwQix1QkFBdUIsMEJBQTBCLHVCQUF1QiwwQkFBMEIsdUJBQXVCLDBCQUEwQix1QkFBdUIsMEJBQTBCLHVCQUF1QiwwQkFBMEIsd0JBQXdCLDBCQUEwQix3QkFBd0IsMEJBQTBCLHdCQUF3QiwwQkFBMEIsd0JBQXdCLDBCQUEwQix3QkFBd0IsMEJBQTBCLHdCQUF3QiwwQkFBMEI7QUFDajBDOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsU0FBUyxpQ0FBaUM7O0FBRTNFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztB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QTtBQUNBLG9DQUFvQzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUyx5QkFBeUI7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7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QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLDhCQUE4QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSw4QkFBOEI7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSw4QkFBOEI7QUFDMUM7QUFD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O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHVCQUF1QjtBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsd0JBQXdCO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsd0JBQXdCO0FBQzNDO0FBQ0E7O0FB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QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixTQUFTLHVCQUF1Qjs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVFQUF1RSxlQUFlO0FBQ3RGO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsZUFBZTtBQUNuRjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUVBQXVFLGVBQWU7QUFDdEY7QUFDQSxJQUFJOztBQUVKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxlQUFlO0FBQ25GO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU8sZ0JBQWdCO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnQkFBZ0I7QUFDekMsK0JBQStCLGVBQWU7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5QyxVQUFVO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsa0JBQWtCO0FBQ3pGO0FBQ0E7O0FBRTRLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9ib2FyZGdhbWUuaW8vZGlzdC9lc20vRGVidWctZmQwOWI4YmMuanM/ZjNjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlIGFzIGVycm9yLCBzIGFzIHN5bmMgfSBmcm9tICcuL3R1cm4tb3JkZXItMGI3ZGNlM2QuanMnO1xuaW1wb3J0IHsgQyBhcyBDcmVhdGVHYW1lUmVkdWNlciB9IGZyb20gJy4vcmVkdWNlci0wN2M3YjMwNy5qcyc7XG5pbXBvcnQgeyBzdHJpbmdpZnksIHBhcnNlIH0gZnJvbSAnZmxhdHRlZCc7XG5pbXBvcnQgeyBNIGFzIE1DVFNCb3QsIFIgYXMgUmFuZG9tQm90LCBTIGFzIFN0ZXAgfSBmcm9tICcuL2FpLTMwOTljZTlhLmpzJztcblxuZnVuY3Rpb24gbm9vcCgpIHsgfVxuY29uc3QgaWRlbnRpdHkgPSB4ID0+IHg7XG5mdW5jdGlvbiBhc3NpZ24odGFyLCBzcmMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZm9yIChjb25zdCBrIGluIHNyYylcbiAgICAgICAgdGFyW2tdID0gc3JjW2tdO1xuICAgIHJldHVybiB0YXI7XG59XG5mdW5jdGlvbiBydW4oZm4pIHtcbiAgICByZXR1cm4gZm4oKTtcbn1cbmZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cbmZ1bmN0aW9uIHJ1bl9hbGwoZm5zKSB7XG4gICAgZm5zLmZvckVhY2gocnVuKTtcbn1cbmZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYiB8fCAoKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5mdW5jdGlvbiBpc19lbXB0eShvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5mdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuICAgIGlmIChzdG9yZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuICAgIHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cbmZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcbiAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICByZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmblxuICAgICAgICA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKVxuICAgICAgICA6ICQkc2NvcGUuY3R4O1xufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvblsyXSAmJiBmbikge1xuICAgICAgICBjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuICAgICAgICBpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGV0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2ldID0gJCRzY29wZS5kaXJ0eVtpXSB8IGxldHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcbiAgICB9XG4gICAgcmV0dXJuICQkc2NvcGUuZGlydHk7XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdF9iYXNlKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBzbG90X2NoYW5nZXMsIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBpZiAoc2xvdF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuICAgICAgICBzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG4gICAgaWYgKCQkc2NvcGUuY3R4Lmxlbmd0aCA+IDMyKSB7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gW107XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkaXJ0eVtpXSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXJ0eTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuXG5jb25zdCBpc19jbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmxldCBub3cgPSBpc19jbGllbnRcbiAgICA/ICgpID0+IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKVxuICAgIDogKCkgPT4gRGF0ZS5ub3coKTtcbmxldCByYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFzayB0aGF0IHJ1bnMgb24gZWFjaCByYWYgZnJhbWVcbiAqIHVudGlsIGl0IHJldHVybnMgYSBmYWxzeSB2YWx1ZSBvciBpcyBhYm9ydGVkXG4gKi9cbmZ1bmN0aW9uIGxvb3AoY2FsbGJhY2spIHtcbiAgICBsZXQgdGFzaztcbiAgICBpZiAodGFza3Muc2l6ZSA9PT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogbmV3IFByb21pc2UoZnVsZmlsbCA9PiB7XG4gICAgICAgICAgICB0YXNrcy5hZGQodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydCgpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX3N0eWxlcyh0YXJnZXQsIHN0eWxlX3NoZWV0X2lkLCBzdHlsZXMpIHtcbiAgICBjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG4gICAgaWYgKCFhcHBlbmRfc3R5bGVzX3RvLmdldEVsZW1lbnRCeUlkKHN0eWxlX3NoZWV0X2lkKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlLmlkID0gc3R5bGVfc2hlZXRfaWQ7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuICAgICAgICBhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUpXG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICBjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSA/IG5vZGUuZ2V0Um9vdE5vZGUoKSA6IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICBpZiAocm9vdC5ob3N0KSB7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSB7XG4gICAgY29uc3Qgc3R5bGVfZWxlbWVudCA9IGVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgYXBwZW5kX3N0eWxlc2hlZXQoZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpLCBzdHlsZV9lbGVtZW50KTtcbiAgICByZXR1cm4gc3R5bGVfZWxlbWVudDtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXNoZWV0KG5vZGUsIHN0eWxlKSB7XG4gICAgYXBwZW5kKG5vZGUuaGVhZCB8fCBub2RlLCBzdHlsZSk7XG59XG5mdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cbmZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXRlcmF0aW9uc1tpXSlcbiAgICAgICAgICAgIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5mdW5jdGlvbiB0ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5mdW5jdGlvbiBzcGFjZSgpIHtcbiAgICByZXR1cm4gdGV4dCgnICcpO1xufVxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRleHQoJycpO1xufVxuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpXG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gdG9fbnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCAhPT0gZGF0YSlcbiAgICAgICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcbiAgICBjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKSB8fCBzZWxlY3Qub3B0aW9uc1swXTtcbiAgICByZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0W3RvZ2dsZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xufVxuZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgYnViYmxlcyA9IGZhbHNlKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGJ1YmJsZXMsIGZhbHNlLCBkZXRhaWwpO1xuICAgIHJldHVybiBlO1xufVxuXG5jb25zdCBhY3RpdmVfZG9jcyA9IG5ldyBTZXQoKTtcbmxldCBhY3RpdmUgPSAwO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2gvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gICAgbGV0IGhhc2ggPSA1MzgxO1xuICAgIGxldCBpID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gaGFzaCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9ydWxlKG5vZGUsIGEsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzZSwgZm4sIHVpZCA9IDApIHtcbiAgICBjb25zdCBzdGVwID0gMTYuNjY2IC8gZHVyYXRpb247XG4gICAgbGV0IGtleWZyYW1lcyA9ICd7XFxuJztcbiAgICBmb3IgKGxldCBwID0gMDsgcCA8PSAxOyBwICs9IHN0ZXApIHtcbiAgICAgICAgY29uc3QgdCA9IGEgKyAoYiAtIGEpICogZWFzZShwKTtcbiAgICAgICAga2V5ZnJhbWVzICs9IHAgKiAxMDAgKyBgJXske2ZuKHQsIDEgLSB0KX19XFxuYDtcbiAgICB9XG4gICAgY29uc3QgcnVsZSA9IGtleWZyYW1lcyArIGAxMDAlIHske2ZuKGIsIDEgLSBiKX19XFxufWA7XG4gICAgY29uc3QgbmFtZSA9IGBfX3N2ZWx0ZV8ke2hhc2gocnVsZSl9XyR7dWlkfWA7XG4gICAgY29uc3QgZG9jID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpO1xuICAgIGFjdGl2ZV9kb2NzLmFkZChkb2MpO1xuICAgIGNvbnN0IHN0eWxlc2hlZXQgPSBkb2MuX19zdmVsdGVfc3R5bGVzaGVldCB8fCAoZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQgPSBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKS5zaGVldCk7XG4gICAgY29uc3QgY3VycmVudF9ydWxlcyA9IGRvYy5fX3N2ZWx0ZV9ydWxlcyB8fCAoZG9jLl9fc3ZlbHRlX3J1bGVzID0ge30pO1xuICAgIGlmICghY3VycmVudF9ydWxlc1tuYW1lXSkge1xuICAgICAgICBjdXJyZW50X3J1bGVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgc3R5bGVzaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7bmFtZX0gJHtydWxlfWAsIHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gbm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJyc7XG4gICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBgJHthbmltYXRpb24gPyBgJHthbmltYXRpb259LCBgIDogJyd9JHtuYW1lfSAke2R1cmF0aW9ufW1zIGxpbmVhciAke2RlbGF5fW1zIDEgYm90aGA7XG4gICAgYWN0aXZlICs9IDE7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBkZWxldGVfcnVsZShub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSAobm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJycpLnNwbGl0KCcsICcpO1xuICAgIGNvbnN0IG5leHQgPSBwcmV2aW91cy5maWx0ZXIobmFtZVxuICAgICAgICA/IGFuaW0gPT4gYW5pbS5pbmRleE9mKG5hbWUpIDwgMCAvLyByZW1vdmUgc3BlY2lmaWMgYW5pbWF0aW9uXG4gICAgICAgIDogYW5pbSA9PiBhbmltLmluZGV4T2YoJ19fc3ZlbHRlJykgPT09IC0xIC8vIHJlbW92ZSBhbGwgU3ZlbHRlIGFuaW1hdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBwcmV2aW91cy5sZW5ndGggLSBuZXh0Lmxlbmd0aDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IG5leHQuam9pbignLCAnKTtcbiAgICAgICAgYWN0aXZlIC09IGRlbGV0ZWQ7XG4gICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgY2xlYXJfcnVsZXMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhcl9ydWxlcygpIHtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBhY3RpdmVfZG9jcy5mb3JFYWNoKGRvYyA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQ7XG4gICAgICAgICAgICBsZXQgaSA9IHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LmRlbGV0ZVJ1bGUoaSk7XG4gICAgICAgICAgICBkb2MuX19zdmVsdGVfcnVsZXMgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGl2ZV9kb2NzLmNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmxldCBjdXJyZW50X2NvbXBvbmVudDtcbmZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcbiAgICBpZiAoIWN1cnJlbnRfY29tcG9uZW50KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuICAgIHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fZGVzdHJveS5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcbiAgICByZXR1cm4gKHR5cGUsIGRldGFpbCkgPT4ge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG4gICAgICAgICAgICAvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwpO1xuICAgICAgICAgICAgY2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaChmbiA9PiB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjb21wb25lbnQsIGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IGZuLmNhbGwodGhpcywgZXZlbnQpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5jb25zdCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG4gICAgaWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG4gICAgICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcbiAgICByZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxubGV0IGZsdXNoaW5nID0gZmFsc2U7XG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGlmIChmbHVzaGluZylcbiAgICAgICAgcmV0dXJuO1xuICAgIGZsdXNoaW5nID0gdHJ1ZTtcbiAgICBkbyB7XG4gICAgICAgIC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcbiAgICAgICAgLy8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGlydHlfY29tcG9uZW50c1tpXTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudC4kJCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpXG4gICAgICAgICAgICBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcbiAgICAgICAgLy8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuICAgICAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG4gICAgICAgICAgICBpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG4gICAgICAgICAgICAgICAgc2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICB9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG4gICAgd2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgZmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgfVxuICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBmbHVzaGluZyA9IGZhbHNlO1xuICAgIHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG59XG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgJCQudXBkYXRlKCk7XG4gICAgICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG4gICAgICAgICQkLmRpcnR5ID0gWy0xXTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcbiAgICAgICAgJCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG4gICAgfVxufVxuXG5sZXQgcHJvbWlzZTtcbmZ1bmN0aW9uIHdhaXQoKSB7XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcbmxldCBvdXRyb3M7XG5mdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG4gICAgb3V0cm9zID0ge1xuICAgICAgICByOiAwLFxuICAgICAgICBjOiBbXSxcbiAgICAgICAgcDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG4gICAgaWYgKCFvdXRyb3Mucikge1xuICAgICAgICBydW5fYWxsKG91dHJvcy5jKTtcbiAgICB9XG4gICAgb3V0cm9zID0gb3V0cm9zLnA7XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuICAgIGlmIChibG9jayAmJiBibG9jay5pKSB7XG4gICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgIGJsb2NrLmkobG9jYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuICAgIGlmIChibG9jayAmJiBibG9jay5vKSB7XG4gICAgICAgIGlmIChvdXRyb2luZy5oYXMoYmxvY2spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBvdXRyb2luZy5hZGQoYmxvY2spO1xuICAgICAgICBvdXRyb3MuYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgICAgICAgICBibG9jay5kKDEpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9jay5vKGxvY2FsKTtcbiAgICB9XG59XG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5mdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgbGV0IHRhc2s7XG4gICAgbGV0IHVpZCA9IDA7XG4gICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlKTtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKCk7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oZ28pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBjb25zdCBncm91cCA9IG91dHJvcztcbiAgICBncm91cC5yICs9IDE7XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSAocHJvZ3JhbS5iIC0gdCk7XG4gICAgICAgIGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYTogdCxcbiAgICAgICAgICAgIGI6IHByb2dyYW0uYixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG4gICAgICAgICAgICBncm91cDogcHJvZ3JhbS5ncm91cFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbyhiKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB7XG4gICAgICAgICAgICBzdGFydDogbm93KCkgKyBkZWxheSxcbiAgICAgICAgICAgIGJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgcHJvZ3JhbS5ncm91cCA9IG91dHJvcztcbiAgICAgICAgICAgIG91dHJvcy5yICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIpXG4gICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG4gICAgICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgcnVubmluZ19wcm9ncmFtLmIsIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbiwgMCwgZWFzaW5nLCBjb25maWcuY3NzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0ID0gcnVubmluZ19wcm9ncmFtLmIsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKGIpIHtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2NvbXBvbmVudChibG9jaykge1xuICAgIGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yLCBjdXN0b21FbGVtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgb25fbW91bnQsIG9uX2Rlc3Ryb3ksIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIGlmICghY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgaWYgKG9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBvbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuICAgICAgICAgICAgICAgIHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcbiAgICAgICAgLy8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuICAgICAgICAvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG4gICAgICAgICQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgICQkLmN0eCA9IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG4gICAgaWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgICAgICBjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcbiAgICB9XG4gICAgY29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gKDEgPDwgKGkgJSAzMSkpO1xufVxuZnVuY3Rpb24gaW5pdChjb21wb25lbnQsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIG5vdF9lcXVhbCwgcHJvcHMsIGFwcGVuZF9zdHlsZXMsIGRpcnR5ID0gWy0xXSkge1xuICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJCA9IHtcbiAgICAgICAgZnJhZ21lbnQ6IG51bGwsXG4gICAgICAgIGN0eDogbnVsbCxcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHVwZGF0ZTogbm9vcCxcbiAgICAgICAgbm90X2VxdWFsLFxuICAgICAgICBib3VuZDogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIC8vIGxpZmVjeWNsZVxuICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgIG9uX2Rlc3Ryb3k6IFtdLFxuICAgICAgICBvbl9kaXNjb25uZWN0OiBbXSxcbiAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgIGNvbnRleHQ6IG5ldyBNYXAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IG9wdGlvbnMuY29udGV4dCB8fCBbXSksXG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuICAgICAgICBkaXJ0eSxcbiAgICAgICAgc2tpcF9ib3VuZDogZmFsc2UsXG4gICAgICAgIHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuICAgIH07XG4gICAgYXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuICAgIGxldCByZWFkeSA9IGZhbHNlO1xuICAgICQkLmN0eCA9IGluc3RhbmNlXG4gICAgICAgID8gaW5zdGFuY2UoY29tcG9uZW50LCBvcHRpb25zLnByb3BzIHx8IHt9LCAoaSwgcmV0LCAuLi5yZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcbiAgICAgICAgICAgIGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgJCQuY3R4W2ldID0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkJC5za2lwX2JvdW5kICYmICQkLmJvdW5kW2ldKVxuICAgICAgICAgICAgICAgICAgICAkJC5ib3VuZFtpXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlYWR5KVxuICAgICAgICAgICAgICAgICAgICBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KVxuICAgICAgICA6IFtdO1xuICAgICQkLnVwZGF0ZSgpO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgIC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuICAgICQkLmZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50ID8gY3JlYXRlX2ZyYWdtZW50KCQkLmN0eCkgOiBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaHlkcmF0ZSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludHJvKVxuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuICAgICAgICBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IsIG9wdGlvbnMuY3VzdG9tRWxlbWVudCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgfVxuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMuIFVzZWQgd2hlbiBkZXY9ZmFsc2UuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gbm9vcDtcbiAgICB9XG4gICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSB8fCAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gPSBbXSkpO1xuICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgICRzZXQoJCRwcm9wcykge1xuICAgICAgICBpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkoJCRwcm9wcykpIHtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiQkc2V0KCQkcHJvcHMpO1xuICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7Kj19dmFsdWUgaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcj19c3RhcnQgc3RhcnQgYW5kIHN0b3Agbm90aWZpY2F0aW9ucyBmb3Igc3Vic2NyaXB0aW9uc1xuICovXG5mdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG4gICAgbGV0IHN0b3A7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuICAgICAgICBpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3X3ZhbHVlO1xuICAgICAgICAgICAgaWYgKHN0b3ApIHsgLy8gc3RvcmUgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICBjb25zdCBydW5fcXVldWUgPSAhc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJbMV0oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bl9xdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJfcXVldWUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWVbaV1bMF0oc3Vic2NyaWJlcl9xdWV1ZVtpICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG4gICAgICAgIHNldChmbih2YWx1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gbm9vcCkge1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVyID0gW3J1biwgaW52YWxpZGF0ZV07XG4gICAgICAgIHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHN0b3AgPSBzdGFydChzZXQpIHx8IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgcnVuKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgICAgIHN0b3AgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzZXQsIHVwZGF0ZSwgc3Vic2NyaWJlIH07XG59XG5cbmZ1bmN0aW9uIGN1YmljT3V0KHQpIHtcbiAgICBjb25zdCBmID0gdCAtIDEuMDtcbiAgICByZXR1cm4gZiAqIGYgKiBmICsgMS4wO1xufVxuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XG5mdW5jdGlvbiBmbHkobm9kZSwgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gNDAwLCBlYXNpbmcgPSBjdWJpY091dCwgeCA9IDAsIHkgPSAwLCBvcGFjaXR5ID0gMCB9ID0ge30pIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgY29uc3QgdGFyZ2V0X29wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgIGNvbnN0IG9kID0gdGFyZ2V0X29wYWNpdHkgKiAoMSAtIG9wYWNpdHkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6ICh0LCB1KSA9PiBgXG5cdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHsoMSAtIHQpICogeH1weCwgJHsoMSAtIHQpICogeX1weCk7XG5cdFx0XHRvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gKG9kICogdSl9YFxuICAgIH07XG59XG5mdW5jdGlvbiBjcm9zc2ZhZGUoX2EpIHtcbiAgICB2YXIgeyBmYWxsYmFjayB9ID0gX2EsIGRlZmF1bHRzID0gX19yZXN0KF9hLCBbXCJmYWxsYmFja1wiXSk7XG4gICAgY29uc3QgdG9fcmVjZWl2ZSA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCB0b19zZW5kID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGNyb3NzZmFkZShmcm9tLCBub2RlLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gZCA9PiBNYXRoLnNxcnQoZCkgKiAzMCwgZWFzaW5nID0gY3ViaWNPdXQgfSA9IGFzc2lnbihhc3NpZ24oe30sIGRlZmF1bHRzKSwgcGFyYW1zKTtcbiAgICAgICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBkeCA9IGZyb20ubGVmdCAtIHRvLmxlZnQ7XG4gICAgICAgIGNvbnN0IGR5ID0gZnJvbS50b3AgLSB0by50b3A7XG4gICAgICAgIGNvbnN0IGR3ID0gZnJvbS53aWR0aCAvIHRvLndpZHRoO1xuICAgICAgICBjb25zdCBkaCA9IGZyb20uaGVpZ2h0IC8gdG8uaGVpZ2h0O1xuICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBvcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZWxheSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBpc19mdW5jdGlvbihkdXJhdGlvbikgPyBkdXJhdGlvbihkKSA6IGR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nLFxuICAgICAgICAgICAgY3NzOiAodCwgdSkgPT4gYFxuXHRcdFx0XHRvcGFjaXR5OiAke3QgKiBvcGFjaXR5fTtcblx0XHRcdFx0dHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XG5cdFx0XHRcdHRyYW5zZm9ybTogJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke3UgKiBkeH1weCwke3UgKiBkeX1weCkgc2NhbGUoJHt0ICsgKDEgLSB0KSAqIGR3fSwgJHt0ICsgKDEgLSB0KSAqIGRofSk7XG5cdFx0XHRgXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb24oaXRlbXMsIGNvdW50ZXJwYXJ0cywgaW50cm8pIHtcbiAgICAgICAgcmV0dXJuIChub2RlLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGl0ZW1zLnNldChwYXJhbXMua2V5LCB7XG4gICAgICAgICAgICAgICAgcmVjdDogbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVycGFydHMuaGFzKHBhcmFtcy5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVjdCB9ID0gY291bnRlcnBhcnRzLmdldChwYXJhbXMua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnBhcnRzLmRlbGV0ZShwYXJhbXMua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyb3NzZmFkZShyZWN0LCBub2RlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgbm9kZSBpcyBkaXNhcHBlYXJpbmcgYWx0b2dldGhlclxuICAgICAgICAgICAgICAgIC8vIChpLmUuIHdhc24ndCBjbGFpbWVkIGJ5IHRoZSBvdGhlciBsaXN0KVxuICAgICAgICAgICAgICAgIC8vIHRoZW4gd2UgbmVlZCB0byBzdXBwbHkgYW4gb3V0cm9cbiAgICAgICAgICAgICAgICBpdGVtcy5kZWxldGUocGFyYW1zLmtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrICYmIGZhbGxiYWNrKG5vZGUsIHBhcmFtcywgaW50cm8pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgICAgdHJhbnNpdGlvbih0b19zZW5kLCB0b19yZWNlaXZlLCBmYWxzZSksXG4gICAgICAgIHRyYW5zaXRpb24odG9fcmVjZWl2ZSwgdG9fc2VuZCwgdHJ1ZSlcbiAgICBdO1xufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL2NvbXBvbmVudHMvSWNvbkJhc2Uuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzKHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtYzh0eWloXCIsIFwic3ZnLnN2ZWx0ZS1jOHR5aWh7c3Ryb2tlOmN1cnJlbnRDb2xvcjtmaWxsOmN1cnJlbnRDb2xvcjtzdHJva2Utd2lkdGg6MDt3aWR0aDoxMDAlO2hlaWdodDphdXRvO21heC1oZWlnaHQ6MTAwJX1cIik7XG59XG5cbi8vICgxODoyKSB7I2lmIHRpdGxlfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrKGN0eCkge1xuXHRsZXQgdGl0bGVfMTtcblx0bGV0IHQ7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0dGl0bGVfMSA9IHN2Z19lbGVtZW50KFwidGl0bGVcIik7XG5cdFx0XHR0ID0gdGV4dCgvKnRpdGxlKi8gY3R4WzBdKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHRpdGxlXzEsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQodGl0bGVfMSwgdCk7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qdGl0bGUqLyAxKSBzZXRfZGF0YSh0LCAvKnRpdGxlKi8gY3R4WzBdKTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2godGl0bGVfMSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdGxldCBzdmc7XG5cdGxldCBpZl9ibG9ja19hbmNob3I7XG5cdGxldCBjdXJyZW50O1xuXHRsZXQgaWZfYmxvY2sgPSAvKnRpdGxlKi8gY3R4WzBdICYmIGNyZWF0ZV9pZl9ibG9jayhjdHgpO1xuXHRjb25zdCBkZWZhdWx0X3Nsb3RfdGVtcGxhdGUgPSAvKiNzbG90cyovIGN0eFszXS5kZWZhdWx0O1xuXHRjb25zdCBkZWZhdWx0X3Nsb3QgPSBjcmVhdGVfc2xvdChkZWZhdWx0X3Nsb3RfdGVtcGxhdGUsIGN0eCwgLyokJHNjb3BlKi8gY3R4WzJdLCBudWxsKTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRzdmcgPSBzdmdfZWxlbWVudChcInN2Z1wiKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0aWZfYmxvY2tfYW5jaG9yID0gZW1wdHkoKTtcblx0XHRcdGlmIChkZWZhdWx0X3Nsb3QpIGRlZmF1bHRfc2xvdC5jKCk7XG5cdFx0XHRhdHRyKHN2ZywgXCJ4bWxuc1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpO1xuXHRcdFx0YXR0cihzdmcsIFwidmlld0JveFwiLCAvKnZpZXdCb3gqLyBjdHhbMV0pO1xuXHRcdFx0YXR0cihzdmcsIFwiY2xhc3NcIiwgXCJzdmVsdGUtYzh0eWloXCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc3ZnLCBhbmNob3IpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHN2ZywgbnVsbCk7XG5cdFx0XHRhcHBlbmQoc3ZnLCBpZl9ibG9ja19hbmNob3IpO1xuXG5cdFx0XHRpZiAoZGVmYXVsdF9zbG90KSB7XG5cdFx0XHRcdGRlZmF1bHRfc2xvdC5tKHN2ZywgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmICgvKnRpdGxlKi8gY3R4WzBdKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLnAoY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2soY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2subShzdmcsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGVmYXVsdF9zbG90KSB7XG5cdFx0XHRcdGlmIChkZWZhdWx0X3Nsb3QucCAmJiAoIWN1cnJlbnQgfHwgZGlydHkgJiAvKiQkc2NvcGUqLyA0KSkge1xuXHRcdFx0XHRcdHVwZGF0ZV9zbG90X2Jhc2UoXG5cdFx0XHRcdFx0XHRkZWZhdWx0X3Nsb3QsXG5cdFx0XHRcdFx0XHRkZWZhdWx0X3Nsb3RfdGVtcGxhdGUsXG5cdFx0XHRcdFx0XHRjdHgsXG5cdFx0XHRcdFx0XHQvKiQkc2NvcGUqLyBjdHhbMl0sXG5cdFx0XHRcdFx0XHQhY3VycmVudFxuXHRcdFx0XHRcdFx0PyBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoLyokJHNjb3BlKi8gY3R4WzJdKVxuXHRcdFx0XHRcdFx0OiBnZXRfc2xvdF9jaGFuZ2VzKGRlZmF1bHRfc2xvdF90ZW1wbGF0ZSwgLyokJHNjb3BlKi8gY3R4WzJdLCBkaXJ0eSwgbnVsbCksXG5cdFx0XHRcdFx0XHRudWxsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWN1cnJlbnQgfHwgZGlydHkgJiAvKnZpZXdCb3gqLyAyKSB7XG5cdFx0XHRcdGF0dHIoc3ZnLCBcInZpZXdCb3hcIiwgLyp2aWV3Qm94Ki8gY3R4WzFdKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGRlZmF1bHRfc2xvdCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChkZWZhdWx0X3Nsb3QsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc3ZnKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZCgpO1xuXHRcdFx0aWYgKGRlZmF1bHRfc2xvdCkgZGVmYXVsdF9zbG90LmQoZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCB7ICQkc2xvdHM6IHNsb3RzID0ge30sICQkc2NvcGUgfSA9ICQkcHJvcHM7XG5cdGxldCB7IHRpdGxlID0gbnVsbCB9ID0gJCRwcm9wcztcblx0bGV0IHsgdmlld0JveCB9ID0gJCRwcm9wcztcblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ3RpdGxlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwgdGl0bGUgPSAkJHByb3BzLnRpdGxlKTtcblx0XHRpZiAoJ3ZpZXdCb3gnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxLCB2aWV3Qm94ID0gJCRwcm9wcy52aWV3Qm94KTtcblx0XHRpZiAoJyQkc2NvcGUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCAkJHNjb3BlID0gJCRwcm9wcy4kJHNjb3BlKTtcblx0fTtcblxuXHRyZXR1cm4gW3RpdGxlLCB2aWV3Qm94LCAkJHNjb3BlLCBzbG90c107XG59XG5cbmNsYXNzIEljb25CYXNlIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgeyB0aXRsZTogMCwgdmlld0JveDogMSB9LCBhZGRfY3NzKTtcblx0fVxufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL2ZhL0ZhQ2hldnJvblJpZ2h0LnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gY3JlYXRlX2RlZmF1bHRfc2xvdChjdHgpIHtcblx0bGV0IHBhdGg7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0cGF0aCA9IHN2Z19lbGVtZW50KFwicGF0aFwiKTtcblx0XHRcdGF0dHIocGF0aCwgXCJkXCIsIFwiTTI4NS40NzYgMjcyLjk3MUw5MS4xMzIgNDY3LjMxNGMtOS4zNzMgOS4zNzMtMjQuNTY5IDkuMzczLTMzLjk0MSAwbC0yMi42NjctMjIuNjY3Yy05LjM1Ny05LjM1Ny05LjM3NS0yNC41MjItLjA0LTMzLjkwMUwxODguNTA1IDI1NiAzNC40ODQgMTAxLjI1NWMtOS4zMzUtOS4zNzktOS4zMTctMjQuNTQ0LjA0LTMzLjkwMWwyMi42NjctMjIuNjY3YzkuMzczLTkuMzczIDI0LjU2OS05LjM3MyAzMy45NDEgMEwyODUuNDc1IDIzOS4wM2M5LjM3MyA5LjM3MiA5LjM3MyAyNC41NjguMDAxIDMzLjk0MXpcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwYXRoLCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChwYXRoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCQxKGN0eCkge1xuXHRsZXQgaWNvbmJhc2U7XG5cdGxldCBjdXJyZW50O1xuXHRjb25zdCBpY29uYmFzZV9zcHJlYWRfbGV2ZWxzID0gW3sgdmlld0JveDogXCIwIDAgMzIwIDUxMlwiIH0sIC8qJCRwcm9wcyovIGN0eFswXV07XG5cblx0bGV0IGljb25iYXNlX3Byb3BzID0ge1xuXHRcdCQkc2xvdHM6IHsgZGVmYXVsdDogW2NyZWF0ZV9kZWZhdWx0X3Nsb3RdIH0sXG5cdFx0JCRzY29wZTogeyBjdHggfVxuXHR9O1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaWNvbmJhc2Vfc3ByZWFkX2xldmVscy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGljb25iYXNlX3Byb3BzID0gYXNzaWduKGljb25iYXNlX3Byb3BzLCBpY29uYmFzZV9zcHJlYWRfbGV2ZWxzW2ldKTtcblx0fVxuXG5cdGljb25iYXNlID0gbmV3IEljb25CYXNlKHsgcHJvcHM6IGljb25iYXNlX3Byb3BzIH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoaWNvbmJhc2UuJCQuZnJhZ21lbnQpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGljb25iYXNlLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRjb25zdCBpY29uYmFzZV9jaGFuZ2VzID0gKGRpcnR5ICYgLyokJHByb3BzKi8gMSlcblx0XHRcdD8gZ2V0X3NwcmVhZF91cGRhdGUoaWNvbmJhc2Vfc3ByZWFkX2xldmVscywgW2ljb25iYXNlX3NwcmVhZF9sZXZlbHNbMF0sIGdldF9zcHJlYWRfb2JqZWN0KC8qJCRwcm9wcyovIGN0eFswXSldKVxuXHRcdFx0OiB7fTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLyokJHNjb3BlKi8gMikge1xuXHRcdFx0XHRpY29uYmFzZV9jaGFuZ2VzLiQkc2NvcGUgPSB7IGRpcnR5LCBjdHggfTtcblx0XHRcdH1cblxuXHRcdFx0aWNvbmJhc2UuJHNldChpY29uYmFzZV9jaGFuZ2VzKTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGljb25iYXNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGljb25iYXNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoaWNvbmJhc2UsIGRldGFjaGluZyk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSQxKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdCQkc2VsZi4kJHNldCA9ICQkbmV3X3Byb3BzID0+IHtcblx0XHQkJGludmFsaWRhdGUoMCwgJCRwcm9wcyA9IGFzc2lnbihhc3NpZ24oe30sICQkcHJvcHMpLCBleGNsdWRlX2ludGVybmFsX3Byb3BzKCQkbmV3X3Byb3BzKSkpO1xuXHR9O1xuXG5cdCQkcHJvcHMgPSBleGNsdWRlX2ludGVybmFsX3Byb3BzKCQkcHJvcHMpO1xuXHRyZXR1cm4gWyQkcHJvcHNdO1xufVxuXG5jbGFzcyBGYUNoZXZyb25SaWdodCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkMSwgY3JlYXRlX2ZyYWdtZW50JDEsIHNhZmVfbm90X2VxdWFsLCB7fSk7XG5cdH1cbn1cblxuLyogc3JjL2NsaWVudC9kZWJ1Zy9NZW51LnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gYWRkX2NzcyQxKHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtMXhnOXY1aFwiLCBcIi5tZW51LnN2ZWx0ZS0xeGc5djVoe2Rpc3BsYXk6ZmxleDttYXJnaW4tdG9wOjQzcHg7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2U7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1yYWRpdXM6NXB4IDVweCAwIDA7aGVpZ2h0OjI1cHg7bGluZS1oZWlnaHQ6MjVweDttYXJnaW4tcmlnaHQ6LTUwMHB4O3RyYW5zZm9ybS1vcmlnaW46Ym90dG9tIHJpZ2h0O3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKSB0cmFuc2xhdGUoMCwgLTUwMHB4KX0ubWVudS1pdGVtLnN2ZWx0ZS0xeGc5djVoe2xpbmUtaGVpZ2h0OjI1cHg7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOjA7YmFja2dyb3VuZDojZmVmZWZlO2NvbG9yOiM1NTU7cGFkZGluZy1sZWZ0OjE1cHg7cGFkZGluZy1yaWdodDoxNXB4O3RleHQtYWxpZ246Y2VudGVyfS5tZW51LWl0ZW0uc3ZlbHRlLTF4Zzl2NWg6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDVweCAwIDB9Lm1lbnUtaXRlbS5zdmVsdGUtMXhnOXY1aDpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6NXB4IDAgMCAwfS5tZW51LWl0ZW0uYWN0aXZlLnN2ZWx0ZS0xeGc5djVoe2N1cnNvcjpkZWZhdWx0O2ZvbnQtd2VpZ2h0OmJvbGQ7YmFja2dyb3VuZDojZGRkO2NvbG9yOiM1NTV9Lm1lbnUtaXRlbS5zdmVsdGUtMXhnOXY1aDpob3ZlciwubWVudS1pdGVtLnN2ZWx0ZS0xeGc5djVoOmZvY3Vze2JhY2tncm91bmQ6I2VlZTtjb2xvcjojNTU1fVwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dChjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gY3R4LnNsaWNlKCk7XG5cdGNoaWxkX2N0eFs0XSA9IGxpc3RbaV1bMF07XG5cdGNoaWxkX2N0eFs1XSA9IGxpc3RbaV1bMV0ubGFiZWw7XG5cdHJldHVybiBjaGlsZF9jdHg7XG59XG5cbi8vICg1NzoyKSB7I2VhY2ggT2JqZWN0LmVudHJpZXMocGFuZXMpIGFzIFtrZXksIHtsYWJlbH1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrKGN0eCkge1xuXHRsZXQgYnV0dG9uO1xuXHRsZXQgdDBfdmFsdWUgPSAvKmxhYmVsKi8gY3R4WzVdICsgXCJcIjtcblx0bGV0IHQwO1xuXHRsZXQgdDE7XG5cdGxldCBtb3VudGVkO1xuXHRsZXQgZGlzcG9zZTtcblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRcdHJldHVybiAvKmNsaWNrX2hhbmRsZXIqLyBjdHhbM10oLyprZXkqLyBjdHhbNF0pO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0YnV0dG9uID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdHQwID0gdGV4dCh0MF92YWx1ZSk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJjbGFzc1wiLCBcIm1lbnUtaXRlbSBzdmVsdGUtMXhnOXY1aFwiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhidXR0b24sIFwiYWN0aXZlXCIsIC8qcGFuZSovIGN0eFswXSA9PSAvKmtleSovIGN0eFs0XSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoYnV0dG9uLCB0MCk7XG5cdFx0XHRhcHBlbmQoYnV0dG9uLCB0MSk7XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gbGlzdGVuKGJ1dHRvbiwgXCJjbGlja1wiLCBjbGlja19oYW5kbGVyKTtcblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwKG5ld19jdHgsIGRpcnR5KSB7XG5cdFx0XHRjdHggPSBuZXdfY3R4O1xuXHRcdFx0aWYgKGRpcnR5ICYgLypwYW5lcyovIDIgJiYgdDBfdmFsdWUgIT09ICh0MF92YWx1ZSA9IC8qbGFiZWwqLyBjdHhbNV0gKyBcIlwiKSkgc2V0X2RhdGEodDAsIHQwX3ZhbHVlKTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLypwYW5lLCBPYmplY3QsIHBhbmVzKi8gMykge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MoYnV0dG9uLCBcImFjdGl2ZVwiLCAvKnBhbmUqLyBjdHhbMF0gPT0gLyprZXkqLyBjdHhbNF0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChidXR0b24pO1xuXHRcdFx0bW91bnRlZCA9IGZhbHNlO1xuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JDIoY3R4KSB7XG5cdGxldCBuYXY7XG5cdGxldCBlYWNoX3ZhbHVlID0gT2JqZWN0LmVudHJpZXMoLypwYW5lcyovIGN0eFsxXSk7XG5cdGxldCBlYWNoX2Jsb2NrcyA9IFtdO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2soZ2V0X2VhY2hfY29udGV4dChjdHgsIGVhY2hfdmFsdWUsIGkpKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdG5hdiA9IGVsZW1lbnQoXCJuYXZcIik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0fVxuXG5cdFx0XHRhdHRyKG5hdiwgXCJjbGFzc1wiLCBcIm1lbnUgc3ZlbHRlLTF4Zzl2NWhcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBuYXYsIGFuY2hvcik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ubShuYXYsIG51bGwpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qcGFuZSwgT2JqZWN0LCBwYW5lcywgZGlzcGF0Y2gqLyA3KSB7XG5cdFx0XHRcdGVhY2hfdmFsdWUgPSBPYmplY3QuZW50cmllcygvKnBhbmVzKi8gY3R4WzFdKTtcblx0XHRcdFx0bGV0IGk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0KGN0eCwgZWFjaF92YWx1ZSwgaSk7XG5cblx0XHRcdFx0XHRpZiAoZWFjaF9ibG9ja3NbaV0pIHtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2soY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0obmF2LCBudWxsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uZCgxKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVhY2hfYmxvY2tzLmxlbmd0aCA9IGVhY2hfdmFsdWUubGVuZ3RoO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gobmF2KTtcblx0XHRcdGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2NrcywgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJDIoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHsgcGFuZSB9ID0gJCRwcm9wcztcblx0bGV0IHsgcGFuZXMgfSA9ICQkcHJvcHM7XG5cdGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cdGNvbnN0IGNsaWNrX2hhbmRsZXIgPSBrZXkgPT4gZGlzcGF0Y2goJ2NoYW5nZScsIGtleSk7XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdwYW5lJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwgcGFuZSA9ICQkcHJvcHMucGFuZSk7XG5cdFx0aWYgKCdwYW5lcycgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEsIHBhbmVzID0gJCRwcm9wcy5wYW5lcyk7XG5cdH07XG5cblx0cmV0dXJuIFtwYW5lLCBwYW5lcywgZGlzcGF0Y2gsIGNsaWNrX2hhbmRsZXJdO1xufVxuXG5jbGFzcyBNZW51IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSQyLCBjcmVhdGVfZnJhZ21lbnQkMiwgc2FmZV9ub3RfZXF1YWwsIHsgcGFuZTogMCwgcGFuZXM6IDEgfSwgYWRkX2NzcyQxKTtcblx0fVxufVxuXG52YXIgY29udGV4dEtleSA9IHt9O1xuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWpzb24tdHJlZS1hdXRvL3NyYy9KU09OQXJyb3cuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJDIodGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS0xdnltbDg2XCIsIFwiLmNvbnRhaW5lci5zdmVsdGUtMXZ5bWw4NntkaXNwbGF5OmlubGluZS1ibG9jaztjdXJzb3I6cG9pbnRlcjt0cmFuc2Zvcm06dHJhbnNsYXRlKGNhbGMoMHB4IC0gdmFyKC0tbGktaWRlbnRhdGlvbikpLCAtNTAlKTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO3BhZGRpbmctcmlnaHQ6MTAwJX0uYXJyb3cuc3ZlbHRlLTF2eW1sODZ7dHJhbnNmb3JtLW9yaWdpbjoyNSUgNTAlO3Bvc2l0aW9uOnJlbGF0aXZlO2xpbmUtaGVpZ2h0OjEuMWVtO2ZvbnQtc2l6ZTowLjc1ZW07bWFyZ2luLWxlZnQ6MDt0cmFuc2l0aW9uOjE1MG1zO2NvbG9yOnZhcigtLWFycm93LXNpZ24pO3VzZXItc2VsZWN0Om5vbmU7Zm9udC1mYW1pbHk6J0NvdXJpZXIgTmV3JywgQ291cmllciwgbW9ub3NwYWNlfS5leHBhbmRlZC5zdmVsdGUtMXZ5bWw4Nnt0cmFuc2Zvcm06cm90YXRlWig5MGRlZykgdHJhbnNsYXRlWCgtM3B4KX1cIik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCQzKGN0eCkge1xuXHRsZXQgZGl2MTtcblx0bGV0IGRpdjA7XG5cdGxldCBtb3VudGVkO1xuXHRsZXQgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRkaXYxID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjAgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MC50ZXh0Q29udGVudCA9IGAkeydcXHUyNUI2J31gO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiYXJyb3cgc3ZlbHRlLTF2eW1sODZcIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MoZGl2MCwgXCJleHBhbmRlZFwiLCAvKmV4cGFuZGVkKi8gY3R4WzBdKTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImNvbnRhaW5lciBzdmVsdGUtMXZ5bWw4NlwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjEsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2MSwgZGl2MCk7XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gbGlzdGVuKGRpdjEsIFwiY2xpY2tcIiwgLypjbGlja19oYW5kbGVyKi8gY3R4WzFdKTtcblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwKGN0eCwgW2RpcnR5XSkge1xuXHRcdFx0aWYgKGRpcnR5ICYgLypleHBhbmRlZCovIDEpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGRpdjAsIFwiZXhwYW5kZWRcIiwgLypleHBhbmRlZCovIGN0eFswXSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYxKTtcblx0XHRcdG1vdW50ZWQgPSBmYWxzZTtcblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJDMoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHsgZXhwYW5kZWQgfSA9ICQkcHJvcHM7XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcihldmVudCkge1xuXHRcdGJ1YmJsZS5jYWxsKHRoaXMsICQkc2VsZiwgZXZlbnQpO1xuXHR9XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdleHBhbmRlZCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIGV4cGFuZGVkID0gJCRwcm9wcy5leHBhbmRlZCk7XG5cdH07XG5cblx0cmV0dXJuIFtleHBhbmRlZCwgY2xpY2tfaGFuZGxlcl07XG59XG5cbmNsYXNzIEpTT05BcnJvdyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkMywgY3JlYXRlX2ZyYWdtZW50JDMsIHNhZmVfbm90X2VxdWFsLCB7IGV4cGFuZGVkOiAwIH0sIGFkZF9jc3MkMik7XG5cdH1cbn1cblxuLyogbm9kZV9tb2R1bGVzL3N2ZWx0ZS1qc29uLXRyZWUtYXV0by9zcmMvSlNPTktleS5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3MkMyh0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLTF2bGJhY2dcIiwgXCJsYWJlbC5zdmVsdGUtMXZsYmFjZ3tkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjp2YXIoLS1sYWJlbC1jb2xvcik7cGFkZGluZzowfS5zcGFjZWQuc3ZlbHRlLTF2bGJhY2d7cGFkZGluZy1yaWdodDp2YXIoLS1saS1jb2xvbi1zcGFjZSl9XCIpO1xufVxuXG4vLyAoMTY6MCkgeyNpZiBzaG93S2V5ICYmIGtleX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayQxKGN0eCkge1xuXHRsZXQgbGFiZWw7XG5cdGxldCBzcGFuO1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IG1vdW50ZWQ7XG5cdGxldCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGxhYmVsID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dDAgPSB0ZXh0KC8qa2V5Ki8gY3R4WzBdKTtcblx0XHRcdHQxID0gdGV4dCgvKmNvbG9uKi8gY3R4WzJdKTtcblx0XHRcdGF0dHIobGFiZWwsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMXZsYmFjZ1wiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhsYWJlbCwgXCJzcGFjZWRcIiwgLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzFdKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGxhYmVsLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGxhYmVsLCBzcGFuKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0MCk7XG5cdFx0XHRhcHBlbmQoc3BhbiwgdDEpO1xuXG5cdFx0XHRpZiAoIW1vdW50ZWQpIHtcblx0XHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihsYWJlbCwgXCJjbGlja1wiLCAvKmNsaWNrX2hhbmRsZXIqLyBjdHhbNV0pO1xuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0aWYgKGRpcnR5ICYgLyprZXkqLyAxKSBzZXRfZGF0YSh0MCwgLyprZXkqLyBjdHhbMF0pO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypjb2xvbiovIDQpIHNldF9kYXRhKHQxLCAvKmNvbG9uKi8gY3R4WzJdKTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gMikge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MobGFiZWwsIFwic3BhY2VkXCIsIC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsxXSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGxhYmVsKTtcblx0XHRcdG1vdW50ZWQgPSBmYWxzZTtcblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCQ0KGN0eCkge1xuXHRsZXQgaWZfYmxvY2tfYW5jaG9yO1xuXHRsZXQgaWZfYmxvY2sgPSAvKnNob3dLZXkqLyBjdHhbM10gJiYgLyprZXkqLyBjdHhbMF0gJiYgY3JlYXRlX2lmX2Jsb2NrJDEoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmMoKTtcblx0XHRcdGlmX2Jsb2NrX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaWZfYmxvY2tfYW5jaG9yLCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmICgvKnNob3dLZXkqLyBjdHhbM10gJiYgLyprZXkqLyBjdHhbMF0pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sucChjdHgsIGRpcnR5KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jayA9IGNyZWF0ZV9pZl9ibG9jayQxKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0oaWZfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmQoZGV0YWNoaW5nKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChpZl9ibG9ja19hbmNob3IpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkNCgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgc2hvd0tleTtcblx0bGV0IHsga2V5LCBpc1BhcmVudEV4cGFuZGVkLCBpc1BhcmVudEFycmF5ID0gZmFsc2UsIGNvbG9uID0gJzonIH0gPSAkJHByb3BzO1xuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXIoZXZlbnQpIHtcblx0XHRidWJibGUuY2FsbCh0aGlzLCAkJHNlbGYsIGV2ZW50KTtcblx0fVxuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgna2V5JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwga2V5ID0gJCRwcm9wcy5rZXkpO1xuXHRcdGlmICgnaXNQYXJlbnRFeHBhbmRlZCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEsIGlzUGFyZW50RXhwYW5kZWQgPSAkJHByb3BzLmlzUGFyZW50RXhwYW5kZWQpO1xuXHRcdGlmICgnaXNQYXJlbnRBcnJheScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDQsIGlzUGFyZW50QXJyYXkgPSAkJHByb3BzLmlzUGFyZW50QXJyYXkpO1xuXHRcdGlmICgnY29sb24nIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBjb2xvbiA9ICQkcHJvcHMuY29sb24pO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCwgaXNQYXJlbnRBcnJheSwga2V5Ki8gMTkpIHtcblx0XHRcdCAkJGludmFsaWRhdGUoMywgc2hvd0tleSA9IGlzUGFyZW50RXhwYW5kZWQgfHwgIWlzUGFyZW50QXJyYXkgfHwga2V5ICE9ICtrZXkpO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gW2tleSwgaXNQYXJlbnRFeHBhbmRlZCwgY29sb24sIHNob3dLZXksIGlzUGFyZW50QXJyYXksIGNsaWNrX2hhbmRsZXJdO1xufVxuXG5jbGFzcyBKU09OS2V5IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cblx0XHRpbml0KFxuXHRcdFx0dGhpcyxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRpbnN0YW5jZSQ0LFxuXHRcdFx0Y3JlYXRlX2ZyYWdtZW50JDQsXG5cdFx0XHRzYWZlX25vdF9lcXVhbCxcblx0XHRcdHtcblx0XHRcdFx0a2V5OiAwLFxuXHRcdFx0XHRpc1BhcmVudEV4cGFuZGVkOiAxLFxuXHRcdFx0XHRpc1BhcmVudEFycmF5OiA0LFxuXHRcdFx0XHRjb2xvbjogMlxuXHRcdFx0fSxcblx0XHRcdGFkZF9jc3MkM1xuXHRcdCk7XG5cdH1cbn1cblxuLyogbm9kZV9tb2R1bGVzL3N2ZWx0ZS1qc29uLXRyZWUtYXV0by9zcmMvSlNPTk5lc3RlZC5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3MkNCh0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLXJ3eHYzN1wiLCBcImxhYmVsLnN2ZWx0ZS1yd3h2Mzd7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmluZGVudC5zdmVsdGUtcnd4djM3e3BhZGRpbmctbGVmdDp2YXIoLS1saS1pZGVudGF0aW9uKX0uY29sbGFwc2Uuc3ZlbHRlLXJ3eHYzN3stLWxpLWRpc3BsYXk6aW5saW5lO2Rpc3BsYXk6aW5saW5lO2ZvbnQtc3R5bGU6aXRhbGljfS5jb21tYS5zdmVsdGUtcnd4djM3e21hcmdpbi1sZWZ0Oi0wLjVlbTttYXJnaW4tcmlnaHQ6MC41ZW19bGFiZWwuc3ZlbHRlLXJ3eHYzN3twb3NpdGlvbjpyZWxhdGl2ZX1cIik7XG59XG5cbmZ1bmN0aW9uIGdldF9lYWNoX2NvbnRleHQkMShjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gY3R4LnNsaWNlKCk7XG5cdGNoaWxkX2N0eFsxMl0gPSBsaXN0W2ldO1xuXHRjaGlsZF9jdHhbMjBdID0gaTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDU3OjQpIHsjaWYgZXhwYW5kYWJsZSAmJiBpc1BhcmVudEV4cGFuZGVkfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KSB7XG5cdGxldCBqc29uYXJyb3c7XG5cdGxldCBjdXJyZW50O1xuXHRqc29uYXJyb3cgPSBuZXcgSlNPTkFycm93KHsgcHJvcHM6IHsgZXhwYW5kZWQ6IC8qZXhwYW5kZWQqLyBjdHhbMF0gfSB9KTtcblx0anNvbmFycm93LiRvbihcImNsaWNrXCIsIC8qdG9nZ2xlRXhwYW5kKi8gY3R4WzE1XSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChqc29uYXJyb3cuJCQuZnJhZ21lbnQpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGpzb25hcnJvdywgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IGpzb25hcnJvd19jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKmV4cGFuZGVkKi8gMSkganNvbmFycm93X2NoYW5nZXMuZXhwYW5kZWQgPSAvKmV4cGFuZGVkKi8gY3R4WzBdO1xuXHRcdFx0anNvbmFycm93LiRzZXQoanNvbmFycm93X2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbmFycm93LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGpzb25hcnJvdy4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGpzb25hcnJvdywgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg3NTo0KSB7OmVsc2V9XG5mdW5jdGlvbiBjcmVhdGVfZWxzZV9ibG9jayhjdHgpIHtcblx0bGV0IHNwYW47XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0c3Bhbi50ZXh0Q29udGVudCA9IFwi4oCmXCI7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzcGFuLCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0cDogbm9vcCxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzcGFuKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg2Mzo0KSB7I2lmIGlzUGFyZW50RXhwYW5kZWR9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2skMihjdHgpIHtcblx0bGV0IHVsO1xuXHRsZXQgdDtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBtb3VudGVkO1xuXHRsZXQgZGlzcG9zZTtcblx0bGV0IGVhY2hfdmFsdWUgPSAvKnNsaWNlZEtleXMqLyBjdHhbMTNdO1xuXHRsZXQgZWFjaF9ibG9ja3MgPSBbXTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrJDEoZ2V0X2VhY2hfY29udGV4dCQxKGN0eCwgZWFjaF92YWx1ZSwgaSkpO1xuXHR9XG5cblx0Y29uc3Qgb3V0ID0gaSA9PiB0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSwgMSwgMSwgKCkgPT4ge1xuXHRcdGVhY2hfYmxvY2tzW2ldID0gbnVsbDtcblx0fSk7XG5cblx0bGV0IGlmX2Jsb2NrID0gLypzbGljZWRLZXlzKi8gY3R4WzEzXS5sZW5ndGggPCAvKnByZXZpZXdLZXlzKi8gY3R4WzddLmxlbmd0aCAmJiBjcmVhdGVfaWZfYmxvY2tfMSgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdHVsID0gZWxlbWVudChcInVsXCIpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdH1cblxuXHRcdFx0dCA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmMoKTtcblx0XHRcdGF0dHIodWwsIFwiY2xhc3NcIiwgXCJzdmVsdGUtcnd4djM3XCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKHVsLCBcImNvbGxhcHNlXCIsICEvKmV4cGFuZGVkKi8gY3R4WzBdKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHVsLCBhbmNob3IpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0odWwsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRhcHBlbmQodWwsIHQpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHVsLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXG5cdFx0XHRpZiAoIW1vdW50ZWQpIHtcblx0XHRcdFx0ZGlzcG9zZSA9IGxpc3Rlbih1bCwgXCJjbGlja1wiLCAvKmV4cGFuZCovIGN0eFsxNl0pO1xuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0aWYgKGRpcnR5ICYgLypleHBhbmRlZCwgcHJldmlld0tleXMsIGdldEtleSwgc2xpY2VkS2V5cywgaXNBcnJheSwgZ2V0VmFsdWUsIGdldFByZXZpZXdWYWx1ZSovIDEwMTI5KSB7XG5cdFx0XHRcdGVhY2hfdmFsdWUgPSAvKnNsaWNlZEtleXMqLyBjdHhbMTNdO1xuXHRcdFx0XHRsZXQgaTtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHQkMShjdHgsIGVhY2hfdmFsdWUsIGkpO1xuXG5cdFx0XHRcdFx0aWYgKGVhY2hfYmxvY2tzW2ldKSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5wKGNoaWxkX2N0eCwgZGlydHkpO1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSwgMSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2skMShjaGlsZF9jdHgpO1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSwgMSk7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5tKHVsLCB0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHRmb3IgKGkgPSBlYWNoX3ZhbHVlLmxlbmd0aDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0b3V0KGkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgvKnNsaWNlZEtleXMqLyBjdHhbMTNdLmxlbmd0aCA8IC8qcHJldmlld0tleXMqLyBjdHhbN10ubGVuZ3RoKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykgOyBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jayA9IGNyZWF0ZV9pZl9ibG9ja18xKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0odWwsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdGlmX2Jsb2NrLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRpcnR5ICYgLypleHBhbmRlZCovIDEpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKHVsLCBcImNvbGxhcHNlXCIsICEvKmV4cGFuZGVkKi8gY3R4WzBdKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHR0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHRlYWNoX2Jsb2NrcyA9IGVhY2hfYmxvY2tzLmZpbHRlcihCb29sZWFuKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2godWwpO1xuXHRcdFx0ZGVzdHJveV9lYWNoKGVhY2hfYmxvY2tzLCBkZXRhY2hpbmcpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5kKCk7XG5cdFx0XHRtb3VudGVkID0gZmFsc2U7XG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNjc6MTApIHsjaWYgIWV4cGFuZGVkICYmIGluZGV4IDwgcHJldmlld0tleXMubGVuZ3RoIC0gMX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18yKGN0eCkge1xuXHRsZXQgc3BhbjtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRzcGFuLnRleHRDb250ZW50ID0gXCIsXCI7XG5cdFx0XHRhdHRyKHNwYW4sIFwiY2xhc3NcIiwgXCJjb21tYSBzdmVsdGUtcnd4djM3XCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc3BhbiwgYW5jaG9yKTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc3Bhbik7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNjU6OCkgeyNlYWNoIHNsaWNlZEtleXMgYXMga2V5LCBpbmRleH1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrJDEoY3R4KSB7XG5cdGxldCBqc29ubm9kZTtcblx0bGV0IHQ7XG5cdGxldCBpZl9ibG9ja19hbmNob3I7XG5cdGxldCBjdXJyZW50O1xuXG5cdGpzb25ub2RlID0gbmV3IEpTT05Ob2RlKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdGtleTogLypnZXRLZXkqLyBjdHhbOF0oLyprZXkqLyBjdHhbMTJdKSxcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogLypleHBhbmRlZCovIGN0eFswXSxcblx0XHRcdFx0aXNQYXJlbnRBcnJheTogLyppc0FycmF5Ki8gY3R4WzRdLFxuXHRcdFx0XHR2YWx1ZTogLypleHBhbmRlZCovIGN0eFswXVxuXHRcdFx0XHQ/IC8qZ2V0VmFsdWUqLyBjdHhbOV0oLyprZXkqLyBjdHhbMTJdKVxuXHRcdFx0XHQ6IC8qZ2V0UHJldmlld1ZhbHVlKi8gY3R4WzEwXSgvKmtleSovIGN0eFsxMl0pXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0bGV0IGlmX2Jsb2NrID0gIS8qZXhwYW5kZWQqLyBjdHhbMF0gJiYgLyppbmRleCovIGN0eFsyMF0gPCAvKnByZXZpZXdLZXlzKi8gY3R4WzddLmxlbmd0aCAtIDEgJiYgY3JlYXRlX2lmX2Jsb2NrXzIoKTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGpzb25ub2RlLiQkLmZyYWdtZW50KTtcblx0XHRcdHQgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5jKCk7XG5cdFx0XHRpZl9ibG9ja19hbmNob3IgPSBlbXB0eSgpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGpzb25ub2RlLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0LCBhbmNob3IpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGlmX2Jsb2NrX2FuY2hvciwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRjb25zdCBqc29ubm9kZV9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKmdldEtleSwgc2xpY2VkS2V5cyovIDg0NDgpIGpzb25ub2RlX2NoYW5nZXMua2V5ID0gLypnZXRLZXkqLyBjdHhbOF0oLyprZXkqLyBjdHhbMTJdKTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qZXhwYW5kZWQqLyAxKSBqc29ubm9kZV9jaGFuZ2VzLmlzUGFyZW50RXhwYW5kZWQgPSAvKmV4cGFuZGVkKi8gY3R4WzBdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyppc0FycmF5Ki8gMTYpIGpzb25ub2RlX2NoYW5nZXMuaXNQYXJlbnRBcnJheSA9IC8qaXNBcnJheSovIGN0eFs0XTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLypleHBhbmRlZCwgZ2V0VmFsdWUsIHNsaWNlZEtleXMsIGdldFByZXZpZXdWYWx1ZSovIDk3MjkpIGpzb25ub2RlX2NoYW5nZXMudmFsdWUgPSAvKmV4cGFuZGVkKi8gY3R4WzBdXG5cdFx0XHQ/IC8qZ2V0VmFsdWUqLyBjdHhbOV0oLyprZXkqLyBjdHhbMTJdKVxuXHRcdFx0OiAvKmdldFByZXZpZXdWYWx1ZSovIGN0eFsxMF0oLyprZXkqLyBjdHhbMTJdKTtcblxuXHRcdFx0anNvbm5vZGUuJHNldChqc29ubm9kZV9jaGFuZ2VzKTtcblxuXHRcdFx0aWYgKCEvKmV4cGFuZGVkKi8gY3R4WzBdICYmIC8qaW5kZXgqLyBjdHhbMjBdIDwgLypwcmV2aWV3S2V5cyovIGN0eFs3XS5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykgOyBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jayA9IGNyZWF0ZV9pZl9ibG9ja18yKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0oaWZfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbm5vZGUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoanNvbm5vZGUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChqc29ubm9kZSwgZGV0YWNoaW5nKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0KTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZChkZXRhY2hpbmcpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNzE6OCkgeyNpZiBzbGljZWRLZXlzLmxlbmd0aCA8IHByZXZpZXdLZXlzLmxlbmd0aCB9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMShjdHgpIHtcblx0bGV0IHNwYW47XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0c3Bhbi50ZXh0Q29udGVudCA9IFwi4oCmXCI7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzcGFuLCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzcGFuKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCQ1KGN0eCkge1xuXHRsZXQgbGk7XG5cdGxldCBsYWJlbF8xO1xuXHRsZXQgdDA7XG5cdGxldCBqc29ua2V5O1xuXHRsZXQgdDE7XG5cdGxldCBzcGFuMTtcblx0bGV0IHNwYW4wO1xuXHRsZXQgdDI7XG5cdGxldCB0Mztcblx0bGV0IHQ0O1xuXHRsZXQgY3VycmVudF9ibG9ja190eXBlX2luZGV4O1xuXHRsZXQgaWZfYmxvY2sxO1xuXHRsZXQgdDU7XG5cdGxldCBzcGFuMjtcblx0bGV0IHQ2O1xuXHRsZXQgY3VycmVudDtcblx0bGV0IG1vdW50ZWQ7XG5cdGxldCBkaXNwb3NlO1xuXHRsZXQgaWZfYmxvY2swID0gLypleHBhbmRhYmxlKi8gY3R4WzExXSAmJiAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMl0gJiYgY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KTtcblxuXHRqc29ua2V5ID0gbmV3IEpTT05LZXkoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0a2V5OiAvKmtleSovIGN0eFsxMl0sXG5cdFx0XHRcdGNvbG9uOiAvKmNvbnRleHQqLyBjdHhbMTRdLmNvbG9uLFxuXHRcdFx0XHRpc1BhcmVudEV4cGFuZGVkOiAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMl0sXG5cdFx0XHRcdGlzUGFyZW50QXJyYXk6IC8qaXNQYXJlbnRBcnJheSovIGN0eFszXVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGpzb25rZXkuJG9uKFwiY2xpY2tcIiwgLyp0b2dnbGVFeHBhbmQqLyBjdHhbMTVdKTtcblx0Y29uc3QgaWZfYmxvY2tfY3JlYXRvcnMgPSBbY3JlYXRlX2lmX2Jsb2NrJDIsIGNyZWF0ZV9lbHNlX2Jsb2NrXTtcblx0Y29uc3QgaWZfYmxvY2tzID0gW107XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4LCBkaXJ0eSkge1xuXHRcdGlmICgvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMl0pIHJldHVybiAwO1xuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblx0aWZfYmxvY2sxID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0gPSBpZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0bGkgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRsYWJlbF8xID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmMoKTtcblx0XHRcdHQwID0gc3BhY2UoKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoanNvbmtleS4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRzcGFuMSA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0c3BhbjAgPSBlbGVtZW50KFwic3BhblwiKTtcblx0XHRcdHQyID0gdGV4dCgvKmxhYmVsKi8gY3R4WzFdKTtcblx0XHRcdHQzID0gdGV4dCgvKmJyYWNrZXRPcGVuKi8gY3R4WzVdKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHR0NSA9IHNwYWNlKCk7XG5cdFx0XHRzcGFuMiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dDYgPSB0ZXh0KC8qYnJhY2tldENsb3NlKi8gY3R4WzZdKTtcblx0XHRcdGF0dHIobGFiZWxfMSwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1yd3h2MzdcIik7XG5cdFx0XHRhdHRyKGxpLCBcImNsYXNzXCIsIFwic3ZlbHRlLXJ3eHYzN1wiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhsaSwgXCJpbmRlbnRcIiwgLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzJdKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGxpLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGxpLCBsYWJlbF8xKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5tKGxhYmVsXzEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGxhYmVsXzEsIHQwKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChqc29ua2V5LCBsYWJlbF8xLCBudWxsKTtcblx0XHRcdGFwcGVuZChsYWJlbF8xLCB0MSk7XG5cdFx0XHRhcHBlbmQobGFiZWxfMSwgc3BhbjEpO1xuXHRcdFx0YXBwZW5kKHNwYW4xLCBzcGFuMCk7XG5cdFx0XHRhcHBlbmQoc3BhbjAsIHQyKTtcblx0XHRcdGFwcGVuZChzcGFuMSwgdDMpO1xuXHRcdFx0YXBwZW5kKGxpLCB0NCk7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5tKGxpLCBudWxsKTtcblx0XHRcdGFwcGVuZChsaSwgdDUpO1xuXHRcdFx0YXBwZW5kKGxpLCBzcGFuMik7XG5cdFx0XHRhcHBlbmQoc3BhbjIsIHQ2KTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXG5cdFx0XHRpZiAoIW1vdW50ZWQpIHtcblx0XHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihzcGFuMSwgXCJjbGlja1wiLCAvKnRvZ2dsZUV4cGFuZCovIGN0eFsxNV0pO1xuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRpZiAoLypleHBhbmRhYmxlKi8gY3R4WzExXSAmJiAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMl0pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGN0eCwgZGlydHkpO1xuXG5cdFx0XHRcdFx0aWYgKGRpcnR5ICYgLypleHBhbmRhYmxlLCBpc1BhcmVudEV4cGFuZGVkKi8gMjA1Mikge1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazAsIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazAgPSBjcmVhdGVfaWZfYmxvY2tfMyhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazAsIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKGxhYmVsXzEsIHQwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2swLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGpzb25rZXlfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyprZXkqLyA0MDk2KSBqc29ua2V5X2NoYW5nZXMua2V5ID0gLyprZXkqLyBjdHhbMTJdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gNCkganNvbmtleV9jaGFuZ2VzLmlzUGFyZW50RXhwYW5kZWQgPSAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMl07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmlzUGFyZW50QXJyYXkqLyA4KSBqc29ua2V5X2NoYW5nZXMuaXNQYXJlbnRBcnJheSA9IC8qaXNQYXJlbnRBcnJheSovIGN0eFszXTtcblx0XHRcdGpzb25rZXkuJHNldChqc29ua2V5X2NoYW5nZXMpO1xuXHRcdFx0aWYgKCFjdXJyZW50IHx8IGRpcnR5ICYgLypsYWJlbCovIDIpIHNldF9kYXRhKHQyLCAvKmxhYmVsKi8gY3R4WzFdKTtcblx0XHRcdGlmICghY3VycmVudCB8fCBkaXJ0eSAmIC8qYnJhY2tldE9wZW4qLyAzMikgc2V0X2RhdGEodDMsIC8qYnJhY2tldE9wZW4qLyBjdHhbNV0pO1xuXHRcdFx0bGV0IHByZXZpb3VzX2Jsb2NrX2luZGV4ID0gY3VycmVudF9ibG9ja190eXBlX2luZGV4O1xuXHRcdFx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblxuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9PT0gcHJldmlvdXNfYmxvY2tfaW5kZXgpIHtcblx0XHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ucChjdHgsIGRpcnR5KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0sIDEsIDEsICgpID0+IHtcblx0XHRcdFx0XHRpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHRcdGlmX2Jsb2NrMSA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdO1xuXG5cdFx0XHRcdGlmICghaWZfYmxvY2sxKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0gPSBpZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLmMoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjdHgsIGRpcnR5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2sxLCAxKTtcblx0XHRcdFx0aWZfYmxvY2sxLm0obGksIHQ1KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFjdXJyZW50IHx8IGRpcnR5ICYgLypicmFja2V0Q2xvc2UqLyA2NCkgc2V0X2RhdGEodDYsIC8qYnJhY2tldENsb3NlKi8gY3R4WzZdKTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gNCkge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MobGksIFwiaW5kZW50XCIsIC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsyXSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazApO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihqc29ua2V5LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMSk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29ua2V5LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazEpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChsaSk7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuZCgpO1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoanNvbmtleSk7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5kKCk7XG5cdFx0XHRtb3VudGVkID0gZmFsc2U7XG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSQ1KCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCBzbGljZWRLZXlzO1xuXHRsZXQgeyBrZXksIGtleXMsIGNvbG9uID0gJzonLCBsYWJlbCA9ICcnLCBpc1BhcmVudEV4cGFuZGVkLCBpc1BhcmVudEFycmF5LCBpc0FycmF5ID0gZmFsc2UsIGJyYWNrZXRPcGVuLCBicmFja2V0Q2xvc2UgfSA9ICQkcHJvcHM7XG5cdGxldCB7IHByZXZpZXdLZXlzID0ga2V5cyB9ID0gJCRwcm9wcztcblx0bGV0IHsgZ2V0S2V5ID0ga2V5ID0+IGtleSB9ID0gJCRwcm9wcztcblx0bGV0IHsgZ2V0VmFsdWUgPSBrZXkgPT4ga2V5IH0gPSAkJHByb3BzO1xuXHRsZXQgeyBnZXRQcmV2aWV3VmFsdWUgPSBnZXRWYWx1ZSB9ID0gJCRwcm9wcztcblx0bGV0IHsgZXhwYW5kZWQgPSBmYWxzZSwgZXhwYW5kYWJsZSA9IHRydWUgfSA9ICQkcHJvcHM7XG5cdGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0KGNvbnRleHRLZXkpO1xuXHRzZXRDb250ZXh0KGNvbnRleHRLZXksIHsgLi4uY29udGV4dCwgY29sb24gfSk7XG5cblx0ZnVuY3Rpb24gdG9nZ2xlRXhwYW5kKCkge1xuXHRcdCQkaW52YWxpZGF0ZSgwLCBleHBhbmRlZCA9ICFleHBhbmRlZCk7XG5cdH1cblxuXHRmdW5jdGlvbiBleHBhbmQoKSB7XG5cdFx0JCRpbnZhbGlkYXRlKDAsIGV4cGFuZGVkID0gdHJ1ZSk7XG5cdH1cblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2tleScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEyLCBrZXkgPSAkJHByb3BzLmtleSk7XG5cdFx0aWYgKCdrZXlzJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMTcsIGtleXMgPSAkJHByb3BzLmtleXMpO1xuXHRcdGlmICgnY29sb24nIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxOCwgY29sb24gPSAkJHByb3BzLmNvbG9uKTtcblx0XHRpZiAoJ2xhYmVsJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgbGFiZWwgPSAkJHByb3BzLmxhYmVsKTtcblx0XHRpZiAoJ2lzUGFyZW50RXhwYW5kZWQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBpc1BhcmVudEV4cGFuZGVkID0gJCRwcm9wcy5pc1BhcmVudEV4cGFuZGVkKTtcblx0XHRpZiAoJ2lzUGFyZW50QXJyYXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgzLCBpc1BhcmVudEFycmF5ID0gJCRwcm9wcy5pc1BhcmVudEFycmF5KTtcblx0XHRpZiAoJ2lzQXJyYXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSg0LCBpc0FycmF5ID0gJCRwcm9wcy5pc0FycmF5KTtcblx0XHRpZiAoJ2JyYWNrZXRPcGVuJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoNSwgYnJhY2tldE9wZW4gPSAkJHByb3BzLmJyYWNrZXRPcGVuKTtcblx0XHRpZiAoJ2JyYWNrZXRDbG9zZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDYsIGJyYWNrZXRDbG9zZSA9ICQkcHJvcHMuYnJhY2tldENsb3NlKTtcblx0XHRpZiAoJ3ByZXZpZXdLZXlzJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoNywgcHJldmlld0tleXMgPSAkJHByb3BzLnByZXZpZXdLZXlzKTtcblx0XHRpZiAoJ2dldEtleScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDgsIGdldEtleSA9ICQkcHJvcHMuZ2V0S2V5KTtcblx0XHRpZiAoJ2dldFZhbHVlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoOSwgZ2V0VmFsdWUgPSAkJHByb3BzLmdldFZhbHVlKTtcblx0XHRpZiAoJ2dldFByZXZpZXdWYWx1ZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEwLCBnZXRQcmV2aWV3VmFsdWUgPSAkJHByb3BzLmdldFByZXZpZXdWYWx1ZSk7XG5cdFx0aWYgKCdleHBhbmRlZCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIGV4cGFuZGVkID0gJCRwcm9wcy5leHBhbmRlZCk7XG5cdFx0aWYgKCdleHBhbmRhYmxlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMTEsIGV4cGFuZGFibGUgPSAkJHByb3BzLmV4cGFuZGFibGUpO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDQpIHtcblx0XHRcdCBpZiAoIWlzUGFyZW50RXhwYW5kZWQpIHtcblx0XHRcdFx0JCRpbnZhbGlkYXRlKDAsIGV4cGFuZGVkID0gZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgkJHNlbGYuJCQuZGlydHkgJiAvKmV4cGFuZGVkLCBrZXlzLCBwcmV2aWV3S2V5cyovIDEzMTIwMSkge1xuXHRcdFx0ICQkaW52YWxpZGF0ZSgxMywgc2xpY2VkS2V5cyA9IGV4cGFuZGVkID8ga2V5cyA6IHByZXZpZXdLZXlzLnNsaWNlKDAsIDUpKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIFtcblx0XHRleHBhbmRlZCxcblx0XHRsYWJlbCxcblx0XHRpc1BhcmVudEV4cGFuZGVkLFxuXHRcdGlzUGFyZW50QXJyYXksXG5cdFx0aXNBcnJheSxcblx0XHRicmFja2V0T3Blbixcblx0XHRicmFja2V0Q2xvc2UsXG5cdFx0cHJldmlld0tleXMsXG5cdFx0Z2V0S2V5LFxuXHRcdGdldFZhbHVlLFxuXHRcdGdldFByZXZpZXdWYWx1ZSxcblx0XHRleHBhbmRhYmxlLFxuXHRcdGtleSxcblx0XHRzbGljZWRLZXlzLFxuXHRcdGNvbnRleHQsXG5cdFx0dG9nZ2xlRXhwYW5kLFxuXHRcdGV4cGFuZCxcblx0XHRrZXlzLFxuXHRcdGNvbG9uXG5cdF07XG59XG5cbmNsYXNzIEpTT05OZXN0ZWQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGluaXQoXG5cdFx0XHR0aGlzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdGluc3RhbmNlJDUsXG5cdFx0XHRjcmVhdGVfZnJhZ21lbnQkNSxcblx0XHRcdHNhZmVfbm90X2VxdWFsLFxuXHRcdFx0e1xuXHRcdFx0XHRrZXk6IDEyLFxuXHRcdFx0XHRrZXlzOiAxNyxcblx0XHRcdFx0Y29sb246IDE4LFxuXHRcdFx0XHRsYWJlbDogMSxcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogMixcblx0XHRcdFx0aXNQYXJlbnRBcnJheTogMyxcblx0XHRcdFx0aXNBcnJheTogNCxcblx0XHRcdFx0YnJhY2tldE9wZW46IDUsXG5cdFx0XHRcdGJyYWNrZXRDbG9zZTogNixcblx0XHRcdFx0cHJldmlld0tleXM6IDcsXG5cdFx0XHRcdGdldEtleTogOCxcblx0XHRcdFx0Z2V0VmFsdWU6IDksXG5cdFx0XHRcdGdldFByZXZpZXdWYWx1ZTogMTAsXG5cdFx0XHRcdGV4cGFuZGVkOiAwLFxuXHRcdFx0XHRleHBhbmRhYmxlOiAxMVxuXHRcdFx0fSxcblx0XHRcdGFkZF9jc3MkNFxuXHRcdCk7XG5cdH1cbn1cblxuLyogbm9kZV9tb2R1bGVzL3N2ZWx0ZS1qc29uLXRyZWUtYXV0by9zcmMvSlNPTk9iamVjdE5vZGUuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkNihjdHgpIHtcblx0bGV0IGpzb25uZXN0ZWQ7XG5cdGxldCBjdXJyZW50O1xuXG5cdGpzb25uZXN0ZWQgPSBuZXcgSlNPTk5lc3RlZCh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRrZXk6IC8qa2V5Ki8gY3R4WzBdLFxuXHRcdFx0XHRleHBhbmRlZDogLypleHBhbmRlZCovIGN0eFs0XSxcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzFdLFxuXHRcdFx0XHRpc1BhcmVudEFycmF5OiAvKmlzUGFyZW50QXJyYXkqLyBjdHhbMl0sXG5cdFx0XHRcdGtleXM6IC8qa2V5cyovIGN0eFs1XSxcblx0XHRcdFx0cHJldmlld0tleXM6IC8qa2V5cyovIGN0eFs1XSxcblx0XHRcdFx0Z2V0VmFsdWU6IC8qZ2V0VmFsdWUqLyBjdHhbNl0sXG5cdFx0XHRcdGxhYmVsOiBcIlwiICsgKC8qbm9kZVR5cGUqLyBjdHhbM10gKyBcIiBcIiksXG5cdFx0XHRcdGJyYWNrZXRPcGVuOiAneycsXG5cdFx0XHRcdGJyYWNrZXRDbG9zZTogJ30nXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChqc29ubmVzdGVkLiQkLmZyYWdtZW50KTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdG1vdW50X2NvbXBvbmVudChqc29ubmVzdGVkLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRjb25zdCBqc29ubmVzdGVkX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qa2V5Ki8gMSkganNvbm5lc3RlZF9jaGFuZ2VzLmtleSA9IC8qa2V5Ki8gY3R4WzBdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypleHBhbmRlZCovIDE2KSBqc29ubmVzdGVkX2NoYW5nZXMuZXhwYW5kZWQgPSAvKmV4cGFuZGVkKi8gY3R4WzRdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gMikganNvbm5lc3RlZF9jaGFuZ2VzLmlzUGFyZW50RXhwYW5kZWQgPSAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMV07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmlzUGFyZW50QXJyYXkqLyA0KSBqc29ubmVzdGVkX2NoYW5nZXMuaXNQYXJlbnRBcnJheSA9IC8qaXNQYXJlbnRBcnJheSovIGN0eFsyXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qa2V5cyovIDMyKSBqc29ubmVzdGVkX2NoYW5nZXMua2V5cyA9IC8qa2V5cyovIGN0eFs1XTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qa2V5cyovIDMyKSBqc29ubmVzdGVkX2NoYW5nZXMucHJldmlld0tleXMgPSAvKmtleXMqLyBjdHhbNV07XG5cdFx0XHRpZiAoZGlydHkgJiAvKm5vZGVUeXBlKi8gOCkganNvbm5lc3RlZF9jaGFuZ2VzLmxhYmVsID0gXCJcIiArICgvKm5vZGVUeXBlKi8gY3R4WzNdICsgXCIgXCIpO1xuXHRcdFx0anNvbm5lc3RlZC4kc2V0KGpzb25uZXN0ZWRfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihqc29ubmVzdGVkLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGpzb25uZXN0ZWQuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChqc29ubmVzdGVkLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkNigkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQga2V5cztcblx0bGV0IHsga2V5LCB2YWx1ZSwgaXNQYXJlbnRFeHBhbmRlZCwgaXNQYXJlbnRBcnJheSwgbm9kZVR5cGUgfSA9ICQkcHJvcHM7XG5cdGxldCB7IGV4cGFuZGVkID0gdHJ1ZSB9ID0gJCRwcm9wcztcblxuXHRmdW5jdGlvbiBnZXRWYWx1ZShrZXkpIHtcblx0XHRyZXR1cm4gdmFsdWVba2V5XTtcblx0fVxuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgna2V5JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwga2V5ID0gJCRwcm9wcy5rZXkpO1xuXHRcdGlmICgndmFsdWUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSg3LCB2YWx1ZSA9ICQkcHJvcHMudmFsdWUpO1xuXHRcdGlmICgnaXNQYXJlbnRFeHBhbmRlZCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEsIGlzUGFyZW50RXhwYW5kZWQgPSAkJHByb3BzLmlzUGFyZW50RXhwYW5kZWQpO1xuXHRcdGlmICgnaXNQYXJlbnRBcnJheScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDIsIGlzUGFyZW50QXJyYXkgPSAkJHByb3BzLmlzUGFyZW50QXJyYXkpO1xuXHRcdGlmICgnbm9kZVR5cGUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgzLCBub2RlVHlwZSA9ICQkcHJvcHMubm9kZVR5cGUpO1xuXHRcdGlmICgnZXhwYW5kZWQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSg0LCBleHBhbmRlZCA9ICQkcHJvcHMuZXhwYW5kZWQpO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qdmFsdWUqLyAxMjgpIHtcblx0XHRcdCAkJGludmFsaWRhdGUoNSwga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKSk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBbXG5cdFx0a2V5LFxuXHRcdGlzUGFyZW50RXhwYW5kZWQsXG5cdFx0aXNQYXJlbnRBcnJheSxcblx0XHRub2RlVHlwZSxcblx0XHRleHBhbmRlZCxcblx0XHRrZXlzLFxuXHRcdGdldFZhbHVlLFxuXHRcdHZhbHVlXG5cdF07XG59XG5cbmNsYXNzIEpTT05PYmplY3ROb2RlIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJDYsIGNyZWF0ZV9mcmFnbWVudCQ2LCBzYWZlX25vdF9lcXVhbCwge1xuXHRcdFx0a2V5OiAwLFxuXHRcdFx0dmFsdWU6IDcsXG5cdFx0XHRpc1BhcmVudEV4cGFuZGVkOiAxLFxuXHRcdFx0aXNQYXJlbnRBcnJheTogMixcblx0XHRcdG5vZGVUeXBlOiAzLFxuXHRcdFx0ZXhwYW5kZWQ6IDRcblx0XHR9KTtcblx0fVxufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWpzb24tdHJlZS1hdXRvL3NyYy9KU09OQXJyYXlOb2RlLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JDcoY3R4KSB7XG5cdGxldCBqc29ubmVzdGVkO1xuXHRsZXQgY3VycmVudDtcblxuXHRqc29ubmVzdGVkID0gbmV3IEpTT05OZXN0ZWQoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0a2V5OiAvKmtleSovIGN0eFswXSxcblx0XHRcdFx0ZXhwYW5kZWQ6IC8qZXhwYW5kZWQqLyBjdHhbNF0sXG5cdFx0XHRcdGlzUGFyZW50RXhwYW5kZWQ6IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsyXSxcblx0XHRcdFx0aXNQYXJlbnRBcnJheTogLyppc1BhcmVudEFycmF5Ki8gY3R4WzNdLFxuXHRcdFx0XHRpc0FycmF5OiB0cnVlLFxuXHRcdFx0XHRrZXlzOiAvKmtleXMqLyBjdHhbNV0sXG5cdFx0XHRcdHByZXZpZXdLZXlzOiAvKnByZXZpZXdLZXlzKi8gY3R4WzZdLFxuXHRcdFx0XHRnZXRWYWx1ZTogLypnZXRWYWx1ZSovIGN0eFs3XSxcblx0XHRcdFx0bGFiZWw6IFwiQXJyYXkoXCIgKyAvKnZhbHVlKi8gY3R4WzFdLmxlbmd0aCArIFwiKVwiLFxuXHRcdFx0XHRicmFja2V0T3BlbjogXCJbXCIsXG5cdFx0XHRcdGJyYWNrZXRDbG9zZTogXCJdXCJcblx0XHRcdH1cblx0XHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGpzb25uZXN0ZWQuJCQuZnJhZ21lbnQpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGpzb25uZXN0ZWQsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGNvbnN0IGpzb25uZXN0ZWRfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyprZXkqLyAxKSBqc29ubmVzdGVkX2NoYW5nZXMua2V5ID0gLyprZXkqLyBjdHhbMF07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmV4cGFuZGVkKi8gMTYpIGpzb25uZXN0ZWRfY2hhbmdlcy5leHBhbmRlZCA9IC8qZXhwYW5kZWQqLyBjdHhbNF07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmlzUGFyZW50RXhwYW5kZWQqLyA0KSBqc29ubmVzdGVkX2NoYW5nZXMuaXNQYXJlbnRFeHBhbmRlZCA9IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsyXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRBcnJheSovIDgpIGpzb25uZXN0ZWRfY2hhbmdlcy5pc1BhcmVudEFycmF5ID0gLyppc1BhcmVudEFycmF5Ki8gY3R4WzNdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyprZXlzKi8gMzIpIGpzb25uZXN0ZWRfY2hhbmdlcy5rZXlzID0gLyprZXlzKi8gY3R4WzVdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypwcmV2aWV3S2V5cyovIDY0KSBqc29ubmVzdGVkX2NoYW5nZXMucHJldmlld0tleXMgPSAvKnByZXZpZXdLZXlzKi8gY3R4WzZdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyp2YWx1ZSovIDIpIGpzb25uZXN0ZWRfY2hhbmdlcy5sYWJlbCA9IFwiQXJyYXkoXCIgKyAvKnZhbHVlKi8gY3R4WzFdLmxlbmd0aCArIFwiKVwiO1xuXHRcdFx0anNvbm5lc3RlZC4kc2V0KGpzb25uZXN0ZWRfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihqc29ubmVzdGVkLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGpzb25uZXN0ZWQuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChqc29ubmVzdGVkLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkNygkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQga2V5cztcblx0bGV0IHByZXZpZXdLZXlzO1xuXHRsZXQgeyBrZXksIHZhbHVlLCBpc1BhcmVudEV4cGFuZGVkLCBpc1BhcmVudEFycmF5IH0gPSAkJHByb3BzO1xuXHRsZXQgeyBleHBhbmRlZCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKS5sZW5ndGggPCAxMDI0IH0gPSAkJHByb3BzO1xuXHRjb25zdCBmaWx0ZXJlZEtleSA9IG5ldyBTZXQoWydsZW5ndGgnXSk7XG5cblx0ZnVuY3Rpb24gZ2V0VmFsdWUoa2V5KSB7XG5cdFx0cmV0dXJuIHZhbHVlW2tleV07XG5cdH1cblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2tleScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIGtleSA9ICQkcHJvcHMua2V5KTtcblx0XHRpZiAoJ3ZhbHVlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgdmFsdWUgPSAkJHByb3BzLnZhbHVlKTtcblx0XHRpZiAoJ2lzUGFyZW50RXhwYW5kZWQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBpc1BhcmVudEV4cGFuZGVkID0gJCRwcm9wcy5pc1BhcmVudEV4cGFuZGVkKTtcblx0XHRpZiAoJ2lzUGFyZW50QXJyYXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgzLCBpc1BhcmVudEFycmF5ID0gJCRwcm9wcy5pc1BhcmVudEFycmF5KTtcblx0XHRpZiAoJ2V4cGFuZGVkJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoNCwgZXhwYW5kZWQgPSAkJHByb3BzLmV4cGFuZGVkKTtcblx0fTtcblxuXHQkJHNlbGYuJCQudXBkYXRlID0gKCkgPT4ge1xuXHRcdGlmICgkJHNlbGYuJCQuZGlydHkgJiAvKnZhbHVlKi8gMikge1xuXHRcdFx0ICQkaW52YWxpZGF0ZSg1LCBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKTtcblx0XHR9XG5cblx0XHRpZiAoJCRzZWxmLiQkLmRpcnR5ICYgLyprZXlzKi8gMzIpIHtcblx0XHRcdCAkJGludmFsaWRhdGUoNiwgcHJldmlld0tleXMgPSBrZXlzLmZpbHRlcihrZXkgPT4gIWZpbHRlcmVkS2V5LmhhcyhrZXkpKSk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBbXG5cdFx0a2V5LFxuXHRcdHZhbHVlLFxuXHRcdGlzUGFyZW50RXhwYW5kZWQsXG5cdFx0aXNQYXJlbnRBcnJheSxcblx0XHRleHBhbmRlZCxcblx0XHRrZXlzLFxuXHRcdHByZXZpZXdLZXlzLFxuXHRcdGdldFZhbHVlXG5cdF07XG59XG5cbmNsYXNzIEpTT05BcnJheU5vZGUgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkNywgY3JlYXRlX2ZyYWdtZW50JDcsIHNhZmVfbm90X2VxdWFsLCB7XG5cdFx0XHRrZXk6IDAsXG5cdFx0XHR2YWx1ZTogMSxcblx0XHRcdGlzUGFyZW50RXhwYW5kZWQ6IDIsXG5cdFx0XHRpc1BhcmVudEFycmF5OiAzLFxuXHRcdFx0ZXhwYW5kZWQ6IDRcblx0XHR9KTtcblx0fVxufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWpzb24tdHJlZS1hdXRvL3NyYy9KU09OSXRlcmFibGVBcnJheU5vZGUuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkOChjdHgpIHtcblx0bGV0IGpzb25uZXN0ZWQ7XG5cdGxldCBjdXJyZW50O1xuXG5cdGpzb25uZXN0ZWQgPSBuZXcgSlNPTk5lc3RlZCh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRrZXk6IC8qa2V5Ki8gY3R4WzBdLFxuXHRcdFx0XHRpc1BhcmVudEV4cGFuZGVkOiAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMV0sXG5cdFx0XHRcdGlzUGFyZW50QXJyYXk6IC8qaXNQYXJlbnRBcnJheSovIGN0eFsyXSxcblx0XHRcdFx0a2V5czogLyprZXlzKi8gY3R4WzRdLFxuXHRcdFx0XHRnZXRLZXksXG5cdFx0XHRcdGdldFZhbHVlLFxuXHRcdFx0XHRpc0FycmF5OiB0cnVlLFxuXHRcdFx0XHRsYWJlbDogXCJcIiArICgvKm5vZGVUeXBlKi8gY3R4WzNdICsgXCIoXCIgKyAvKmtleXMqLyBjdHhbNF0ubGVuZ3RoICsgXCIpXCIpLFxuXHRcdFx0XHRicmFja2V0T3BlbjogJ3snLFxuXHRcdFx0XHRicmFja2V0Q2xvc2U6ICd9J1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoanNvbm5lc3RlZC4kJC5mcmFnbWVudCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoanNvbm5lc3RlZCwgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgW2RpcnR5XSkge1xuXHRcdFx0Y29uc3QganNvbm5lc3RlZF9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKmtleSovIDEpIGpzb25uZXN0ZWRfY2hhbmdlcy5rZXkgPSAvKmtleSovIGN0eFswXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDIpIGpzb25uZXN0ZWRfY2hhbmdlcy5pc1BhcmVudEV4cGFuZGVkID0gLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzFdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEFycmF5Ki8gNCkganNvbm5lc3RlZF9jaGFuZ2VzLmlzUGFyZW50QXJyYXkgPSAvKmlzUGFyZW50QXJyYXkqLyBjdHhbMl07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmtleXMqLyAxNikganNvbm5lc3RlZF9jaGFuZ2VzLmtleXMgPSAvKmtleXMqLyBjdHhbNF07XG5cdFx0XHRpZiAoZGlydHkgJiAvKm5vZGVUeXBlLCBrZXlzKi8gMjQpIGpzb25uZXN0ZWRfY2hhbmdlcy5sYWJlbCA9IFwiXCIgKyAoLypub2RlVHlwZSovIGN0eFszXSArIFwiKFwiICsgLyprZXlzKi8gY3R4WzRdLmxlbmd0aCArIFwiKVwiKTtcblx0XHRcdGpzb25uZXN0ZWQuJHNldChqc29ubmVzdGVkX2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbm5lc3RlZC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29ubmVzdGVkLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoanNvbm5lc3RlZCwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGdldEtleShrZXkpIHtcblx0cmV0dXJuIFN0cmluZyhrZXlbMF0pO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZShrZXkpIHtcblx0cmV0dXJuIGtleVsxXTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkOCgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBrZXksIHZhbHVlLCBpc1BhcmVudEV4cGFuZGVkLCBpc1BhcmVudEFycmF5LCBub2RlVHlwZSB9ID0gJCRwcm9wcztcblx0bGV0IGtleXMgPSBbXTtcblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2tleScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIGtleSA9ICQkcHJvcHMua2V5KTtcblx0XHRpZiAoJ3ZhbHVlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoNSwgdmFsdWUgPSAkJHByb3BzLnZhbHVlKTtcblx0XHRpZiAoJ2lzUGFyZW50RXhwYW5kZWQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxLCBpc1BhcmVudEV4cGFuZGVkID0gJCRwcm9wcy5pc1BhcmVudEV4cGFuZGVkKTtcblx0XHRpZiAoJ2lzUGFyZW50QXJyYXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBpc1BhcmVudEFycmF5ID0gJCRwcm9wcy5pc1BhcmVudEFycmF5KTtcblx0XHRpZiAoJ25vZGVUeXBlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMywgbm9kZVR5cGUgPSAkJHByb3BzLm5vZGVUeXBlKTtcblx0fTtcblxuXHQkJHNlbGYuJCQudXBkYXRlID0gKCkgPT4ge1xuXHRcdGlmICgkJHNlbGYuJCQuZGlydHkgJiAvKnZhbHVlKi8gMzIpIHtcblx0XHRcdCB7XG5cdFx0XHRcdGxldCByZXN1bHQgPSBbXTtcblx0XHRcdFx0bGV0IGkgPSAwO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgdmFsdWUpIHtcblx0XHRcdFx0XHRyZXN1bHQucHVzaChbaSsrLCBlbnRyeV0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0JCRpbnZhbGlkYXRlKDQsIGtleXMgPSByZXN1bHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gW2tleSwgaXNQYXJlbnRFeHBhbmRlZCwgaXNQYXJlbnRBcnJheSwgbm9kZVR5cGUsIGtleXMsIHZhbHVlXTtcbn1cblxuY2xhc3MgSlNPTkl0ZXJhYmxlQXJyYXlOb2RlIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJDgsIGNyZWF0ZV9mcmFnbWVudCQ4LCBzYWZlX25vdF9lcXVhbCwge1xuXHRcdFx0a2V5OiAwLFxuXHRcdFx0dmFsdWU6IDUsXG5cdFx0XHRpc1BhcmVudEV4cGFuZGVkOiAxLFxuXHRcdFx0aXNQYXJlbnRBcnJheTogMixcblx0XHRcdG5vZGVUeXBlOiAzXG5cdFx0fSk7XG5cdH1cbn1cblxuY2xhc3MgTWFwRW50cnkge1xyXG4gIGNvbnN0cnVjdG9yKGtleSwgdmFsdWUpIHtcclxuICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gIH1cclxufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWpzb24tdHJlZS1hdXRvL3NyYy9KU09OSXRlcmFibGVNYXBOb2RlLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JDkoY3R4KSB7XG5cdGxldCBqc29ubmVzdGVkO1xuXHRsZXQgY3VycmVudDtcblxuXHRqc29ubmVzdGVkID0gbmV3IEpTT05OZXN0ZWQoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0a2V5OiAvKmtleSovIGN0eFswXSxcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzFdLFxuXHRcdFx0XHRpc1BhcmVudEFycmF5OiAvKmlzUGFyZW50QXJyYXkqLyBjdHhbMl0sXG5cdFx0XHRcdGtleXM6IC8qa2V5cyovIGN0eFs0XSxcblx0XHRcdFx0Z2V0S2V5OiBnZXRLZXkkMSxcblx0XHRcdFx0Z2V0VmFsdWU6IGdldFZhbHVlJDEsXG5cdFx0XHRcdGxhYmVsOiBcIlwiICsgKC8qbm9kZVR5cGUqLyBjdHhbM10gKyBcIihcIiArIC8qa2V5cyovIGN0eFs0XS5sZW5ndGggKyBcIilcIiksXG5cdFx0XHRcdGNvbG9uOiBcIlwiLFxuXHRcdFx0XHRicmFja2V0T3BlbjogJ3snLFxuXHRcdFx0XHRicmFja2V0Q2xvc2U6ICd9J1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoanNvbm5lc3RlZC4kJC5mcmFnbWVudCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoanNvbm5lc3RlZCwgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgW2RpcnR5XSkge1xuXHRcdFx0Y29uc3QganNvbm5lc3RlZF9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKmtleSovIDEpIGpzb25uZXN0ZWRfY2hhbmdlcy5rZXkgPSAvKmtleSovIGN0eFswXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDIpIGpzb25uZXN0ZWRfY2hhbmdlcy5pc1BhcmVudEV4cGFuZGVkID0gLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzFdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEFycmF5Ki8gNCkganNvbm5lc3RlZF9jaGFuZ2VzLmlzUGFyZW50QXJyYXkgPSAvKmlzUGFyZW50QXJyYXkqLyBjdHhbMl07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmtleXMqLyAxNikganNvbm5lc3RlZF9jaGFuZ2VzLmtleXMgPSAvKmtleXMqLyBjdHhbNF07XG5cdFx0XHRpZiAoZGlydHkgJiAvKm5vZGVUeXBlLCBrZXlzKi8gMjQpIGpzb25uZXN0ZWRfY2hhbmdlcy5sYWJlbCA9IFwiXCIgKyAoLypub2RlVHlwZSovIGN0eFszXSArIFwiKFwiICsgLyprZXlzKi8gY3R4WzRdLmxlbmd0aCArIFwiKVwiKTtcblx0XHRcdGpzb25uZXN0ZWQuJHNldChqc29ubmVzdGVkX2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbm5lc3RlZC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29ubmVzdGVkLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoanNvbm5lc3RlZCwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGdldEtleSQxKGVudHJ5KSB7XG5cdHJldHVybiBlbnRyeVswXTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUkMShlbnRyeSkge1xuXHRyZXR1cm4gZW50cnlbMV07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJDkoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHsga2V5LCB2YWx1ZSwgaXNQYXJlbnRFeHBhbmRlZCwgaXNQYXJlbnRBcnJheSwgbm9kZVR5cGUgfSA9ICQkcHJvcHM7XG5cdGxldCBrZXlzID0gW107XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdrZXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBrZXkgPSAkJHByb3BzLmtleSk7XG5cdFx0aWYgKCd2YWx1ZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDUsIHZhbHVlID0gJCRwcm9wcy52YWx1ZSk7XG5cdFx0aWYgKCdpc1BhcmVudEV4cGFuZGVkJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgaXNQYXJlbnRFeHBhbmRlZCA9ICQkcHJvcHMuaXNQYXJlbnRFeHBhbmRlZCk7XG5cdFx0aWYgKCdpc1BhcmVudEFycmF5JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMiwgaXNQYXJlbnRBcnJheSA9ICQkcHJvcHMuaXNQYXJlbnRBcnJheSk7XG5cdFx0aWYgKCdub2RlVHlwZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDMsIG5vZGVUeXBlID0gJCRwcm9wcy5ub2RlVHlwZSk7XG5cdH07XG5cblx0JCRzZWxmLiQkLnVwZGF0ZSA9ICgpID0+IHtcblx0XHRpZiAoJCRzZWxmLiQkLmRpcnR5ICYgLyp2YWx1ZSovIDMyKSB7XG5cdFx0XHQge1xuXHRcdFx0XHRsZXQgcmVzdWx0ID0gW107XG5cdFx0XHRcdGxldCBpID0gMDtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIHZhbHVlKSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goW2krKywgbmV3IE1hcEVudHJ5KGVudHJ5WzBdLCBlbnRyeVsxXSldKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdCQkaW52YWxpZGF0ZSg0LCBrZXlzID0gcmVzdWx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIFtrZXksIGlzUGFyZW50RXhwYW5kZWQsIGlzUGFyZW50QXJyYXksIG5vZGVUeXBlLCBrZXlzLCB2YWx1ZV07XG59XG5cbmNsYXNzIEpTT05JdGVyYWJsZU1hcE5vZGUgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkOSwgY3JlYXRlX2ZyYWdtZW50JDksIHNhZmVfbm90X2VxdWFsLCB7XG5cdFx0XHRrZXk6IDAsXG5cdFx0XHR2YWx1ZTogNSxcblx0XHRcdGlzUGFyZW50RXhwYW5kZWQ6IDEsXG5cdFx0XHRpc1BhcmVudEFycmF5OiAyLFxuXHRcdFx0bm9kZVR5cGU6IDNcblx0XHR9KTtcblx0fVxufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWpzb24tdHJlZS1hdXRvL3NyYy9KU09OTWFwRW50cnlOb2RlLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JGEoY3R4KSB7XG5cdGxldCBqc29ubmVzdGVkO1xuXHRsZXQgY3VycmVudDtcblxuXHRqc29ubmVzdGVkID0gbmV3IEpTT05OZXN0ZWQoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0ZXhwYW5kZWQ6IC8qZXhwYW5kZWQqLyBjdHhbNF0sXG5cdFx0XHRcdGlzUGFyZW50RXhwYW5kZWQ6IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsyXSxcblx0XHRcdFx0aXNQYXJlbnRBcnJheTogLyppc1BhcmVudEFycmF5Ki8gY3R4WzNdLFxuXHRcdFx0XHRrZXk6IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsyXVxuXHRcdFx0XHQ/IFN0cmluZygvKmtleSovIGN0eFswXSlcblx0XHRcdFx0OiAvKnZhbHVlKi8gY3R4WzFdLmtleSxcblx0XHRcdFx0a2V5czogLyprZXlzKi8gY3R4WzVdLFxuXHRcdFx0XHRnZXRWYWx1ZTogLypnZXRWYWx1ZSovIGN0eFs2XSxcblx0XHRcdFx0bGFiZWw6IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsyXSA/ICdFbnRyeSAnIDogJz0+ICcsXG5cdFx0XHRcdGJyYWNrZXRPcGVuOiAneycsXG5cdFx0XHRcdGJyYWNrZXRDbG9zZTogJ30nXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChqc29ubmVzdGVkLiQkLmZyYWdtZW50KTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdG1vdW50X2NvbXBvbmVudChqc29ubmVzdGVkLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRjb25zdCBqc29ubmVzdGVkX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qZXhwYW5kZWQqLyAxNikganNvbm5lc3RlZF9jaGFuZ2VzLmV4cGFuZGVkID0gLypleHBhbmRlZCovIGN0eFs0XTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDQpIGpzb25uZXN0ZWRfY2hhbmdlcy5pc1BhcmVudEV4cGFuZGVkID0gLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzJdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEFycmF5Ki8gOCkganNvbm5lc3RlZF9jaGFuZ2VzLmlzUGFyZW50QXJyYXkgPSAvKmlzUGFyZW50QXJyYXkqLyBjdHhbM107XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCwga2V5LCB2YWx1ZSovIDcpIGpzb25uZXN0ZWRfY2hhbmdlcy5rZXkgPSAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbMl1cblx0XHRcdD8gU3RyaW5nKC8qa2V5Ki8gY3R4WzBdKVxuXHRcdFx0OiAvKnZhbHVlKi8gY3R4WzFdLmtleTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gNCkganNvbm5lc3RlZF9jaGFuZ2VzLmxhYmVsID0gLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzJdID8gJ0VudHJ5ICcgOiAnPT4gJztcblx0XHRcdGpzb25uZXN0ZWQuJHNldChqc29ubmVzdGVkX2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbm5lc3RlZC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29ubmVzdGVkLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoanNvbm5lc3RlZCwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJGEoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHsga2V5LCB2YWx1ZSwgaXNQYXJlbnRFeHBhbmRlZCwgaXNQYXJlbnRBcnJheSB9ID0gJCRwcm9wcztcblx0bGV0IHsgZXhwYW5kZWQgPSBmYWxzZSB9ID0gJCRwcm9wcztcblx0Y29uc3Qga2V5cyA9IFsna2V5JywgJ3ZhbHVlJ107XG5cblx0ZnVuY3Rpb24gZ2V0VmFsdWUoa2V5KSB7XG5cdFx0cmV0dXJuIHZhbHVlW2tleV07XG5cdH1cblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2tleScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIGtleSA9ICQkcHJvcHMua2V5KTtcblx0XHRpZiAoJ3ZhbHVlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgdmFsdWUgPSAkJHByb3BzLnZhbHVlKTtcblx0XHRpZiAoJ2lzUGFyZW50RXhwYW5kZWQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBpc1BhcmVudEV4cGFuZGVkID0gJCRwcm9wcy5pc1BhcmVudEV4cGFuZGVkKTtcblx0XHRpZiAoJ2lzUGFyZW50QXJyYXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgzLCBpc1BhcmVudEFycmF5ID0gJCRwcm9wcy5pc1BhcmVudEFycmF5KTtcblx0XHRpZiAoJ2V4cGFuZGVkJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoNCwgZXhwYW5kZWQgPSAkJHByb3BzLmV4cGFuZGVkKTtcblx0fTtcblxuXHRyZXR1cm4gW2tleSwgdmFsdWUsIGlzUGFyZW50RXhwYW5kZWQsIGlzUGFyZW50QXJyYXksIGV4cGFuZGVkLCBrZXlzLCBnZXRWYWx1ZV07XG59XG5cbmNsYXNzIEpTT05NYXBFbnRyeU5vZGUgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkYSwgY3JlYXRlX2ZyYWdtZW50JGEsIHNhZmVfbm90X2VxdWFsLCB7XG5cdFx0XHRrZXk6IDAsXG5cdFx0XHR2YWx1ZTogMSxcblx0XHRcdGlzUGFyZW50RXhwYW5kZWQ6IDIsXG5cdFx0XHRpc1BhcmVudEFycmF5OiAzLFxuXHRcdFx0ZXhwYW5kZWQ6IDRcblx0XHR9KTtcblx0fVxufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWpzb24tdHJlZS1hdXRvL3NyYy9KU09OVmFsdWVOb2RlLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gYWRkX2NzcyQ1KHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtM2JqeXZsXCIsIFwibGkuc3ZlbHRlLTNianl2bHt1c2VyLXNlbGVjdDp0ZXh0O3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstYWxsfS5pbmRlbnQuc3ZlbHRlLTNianl2bHtwYWRkaW5nLWxlZnQ6dmFyKC0tbGktaWRlbnRhdGlvbil9LlN0cmluZy5zdmVsdGUtM2JqeXZse2NvbG9yOnZhcigtLXN0cmluZy1jb2xvcil9LkRhdGUuc3ZlbHRlLTNianl2bHtjb2xvcjp2YXIoLS1kYXRlLWNvbG9yKX0uTnVtYmVyLnN2ZWx0ZS0zYmp5dmx7Y29sb3I6dmFyKC0tbnVtYmVyLWNvbG9yKX0uQm9vbGVhbi5zdmVsdGUtM2JqeXZse2NvbG9yOnZhcigtLWJvb2xlYW4tY29sb3IpfS5OdWxsLnN2ZWx0ZS0zYmp5dmx7Y29sb3I6dmFyKC0tbnVsbC1jb2xvcil9LlVuZGVmaW5lZC5zdmVsdGUtM2JqeXZse2NvbG9yOnZhcigtLXVuZGVmaW5lZC1jb2xvcil9LkZ1bmN0aW9uLnN2ZWx0ZS0zYmp5dmx7Y29sb3I6dmFyKC0tZnVuY3Rpb24tY29sb3IpO2ZvbnQtc3R5bGU6aXRhbGljfS5TeW1ib2wuc3ZlbHRlLTNianl2bHtjb2xvcjp2YXIoLS1zeW1ib2wtY29sb3IpfVwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JGIoY3R4KSB7XG5cdGxldCBsaTtcblx0bGV0IGpzb25rZXk7XG5cdGxldCB0MDtcblx0bGV0IHNwYW47XG5cblx0bGV0IHQxX3ZhbHVlID0gKC8qdmFsdWVHZXR0ZXIqLyBjdHhbMl1cblx0PyAvKnZhbHVlR2V0dGVyKi8gY3R4WzJdKC8qdmFsdWUqLyBjdHhbMV0pXG5cdDogLyp2YWx1ZSovIGN0eFsxXSkgKyBcIlwiO1xuXG5cdGxldCB0MTtcblx0bGV0IHNwYW5fY2xhc3NfdmFsdWU7XG5cdGxldCBjdXJyZW50O1xuXG5cdGpzb25rZXkgPSBuZXcgSlNPTktleSh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRrZXk6IC8qa2V5Ki8gY3R4WzBdLFxuXHRcdFx0XHRjb2xvbjogLypjb2xvbiovIGN0eFs2XSxcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzNdLFxuXHRcdFx0XHRpc1BhcmVudEFycmF5OiAvKmlzUGFyZW50QXJyYXkqLyBjdHhbNF1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRsaSA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoanNvbmtleS4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHR0MSA9IHRleHQodDFfdmFsdWUpO1xuXHRcdFx0YXR0cihzcGFuLCBcImNsYXNzXCIsIHNwYW5fY2xhc3NfdmFsdWUgPSBcIlwiICsgKG51bGxfdG9fZW1wdHkoLypub2RlVHlwZSovIGN0eFs1XSkgKyBcIiBzdmVsdGUtM2JqeXZsXCIpKTtcblx0XHRcdGF0dHIobGksIFwiY2xhc3NcIiwgXCJzdmVsdGUtM2JqeXZsXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGxpLCBcImluZGVudFwiLCAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbM10pO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgbGksIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoanNvbmtleSwgbGksIG51bGwpO1xuXHRcdFx0YXBwZW5kKGxpLCB0MCk7XG5cdFx0XHRhcHBlbmQobGksIHNwYW4pO1xuXHRcdFx0YXBwZW5kKHNwYW4sIHQxKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGNvbnN0IGpzb25rZXlfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyprZXkqLyAxKSBqc29ua2V5X2NoYW5nZXMua2V5ID0gLyprZXkqLyBjdHhbMF07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmlzUGFyZW50RXhwYW5kZWQqLyA4KSBqc29ua2V5X2NoYW5nZXMuaXNQYXJlbnRFeHBhbmRlZCA9IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFszXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRBcnJheSovIDE2KSBqc29ua2V5X2NoYW5nZXMuaXNQYXJlbnRBcnJheSA9IC8qaXNQYXJlbnRBcnJheSovIGN0eFs0XTtcblx0XHRcdGpzb25rZXkuJHNldChqc29ua2V5X2NoYW5nZXMpO1xuXG5cdFx0XHRpZiAoKCFjdXJyZW50IHx8IGRpcnR5ICYgLyp2YWx1ZUdldHRlciwgdmFsdWUqLyA2KSAmJiB0MV92YWx1ZSAhPT0gKHQxX3ZhbHVlID0gKC8qdmFsdWVHZXR0ZXIqLyBjdHhbMl1cblx0XHRcdD8gLyp2YWx1ZUdldHRlciovIGN0eFsyXSgvKnZhbHVlKi8gY3R4WzFdKVxuXHRcdFx0OiAvKnZhbHVlKi8gY3R4WzFdKSArIFwiXCIpKSBzZXRfZGF0YSh0MSwgdDFfdmFsdWUpO1xuXG5cdFx0XHRpZiAoIWN1cnJlbnQgfHwgZGlydHkgJiAvKm5vZGVUeXBlKi8gMzIgJiYgc3Bhbl9jbGFzc192YWx1ZSAhPT0gKHNwYW5fY2xhc3NfdmFsdWUgPSBcIlwiICsgKG51bGxfdG9fZW1wdHkoLypub2RlVHlwZSovIGN0eFs1XSkgKyBcIiBzdmVsdGUtM2JqeXZsXCIpKSkge1xuXHRcdFx0XHRhdHRyKHNwYW4sIFwiY2xhc3NcIiwgc3Bhbl9jbGFzc192YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDgpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGxpLCBcImluZGVudFwiLCAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbM10pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbmtleS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29ua2V5LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGxpKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGpzb25rZXkpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkYigkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBrZXksIHZhbHVlLCB2YWx1ZUdldHRlciA9IG51bGwsIGlzUGFyZW50RXhwYW5kZWQsIGlzUGFyZW50QXJyYXksIG5vZGVUeXBlIH0gPSAkJHByb3BzO1xuXHRjb25zdCB7IGNvbG9uIH0gPSBnZXRDb250ZXh0KGNvbnRleHRLZXkpO1xuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgna2V5JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwga2V5ID0gJCRwcm9wcy5rZXkpO1xuXHRcdGlmICgndmFsdWUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxLCB2YWx1ZSA9ICQkcHJvcHMudmFsdWUpO1xuXHRcdGlmICgndmFsdWVHZXR0ZXInIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCB2YWx1ZUdldHRlciA9ICQkcHJvcHMudmFsdWVHZXR0ZXIpO1xuXHRcdGlmICgnaXNQYXJlbnRFeHBhbmRlZCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDMsIGlzUGFyZW50RXhwYW5kZWQgPSAkJHByb3BzLmlzUGFyZW50RXhwYW5kZWQpO1xuXHRcdGlmICgnaXNQYXJlbnRBcnJheScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDQsIGlzUGFyZW50QXJyYXkgPSAkJHByb3BzLmlzUGFyZW50QXJyYXkpO1xuXHRcdGlmICgnbm9kZVR5cGUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSg1LCBub2RlVHlwZSA9ICQkcHJvcHMubm9kZVR5cGUpO1xuXHR9O1xuXG5cdHJldHVybiBba2V5LCB2YWx1ZSwgdmFsdWVHZXR0ZXIsIGlzUGFyZW50RXhwYW5kZWQsIGlzUGFyZW50QXJyYXksIG5vZGVUeXBlLCBjb2xvbl07XG59XG5cbmNsYXNzIEpTT05WYWx1ZU5vZGUgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGluaXQoXG5cdFx0XHR0aGlzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdGluc3RhbmNlJGIsXG5cdFx0XHRjcmVhdGVfZnJhZ21lbnQkYixcblx0XHRcdHNhZmVfbm90X2VxdWFsLFxuXHRcdFx0e1xuXHRcdFx0XHRrZXk6IDAsXG5cdFx0XHRcdHZhbHVlOiAxLFxuXHRcdFx0XHR2YWx1ZUdldHRlcjogMixcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogMyxcblx0XHRcdFx0aXNQYXJlbnRBcnJheTogNCxcblx0XHRcdFx0bm9kZVR5cGU6IDVcblx0XHRcdH0sXG5cdFx0XHRhZGRfY3NzJDVcblx0XHQpO1xuXHR9XG59XG5cbi8qIG5vZGVfbW9kdWxlcy9zdmVsdGUtanNvbi10cmVlLWF1dG8vc3JjL0Vycm9yTm9kZS5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3MkNih0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLTFjYTNnYjJcIiwgXCJsaS5zdmVsdGUtMWNhM2diMnt1c2VyLXNlbGVjdDp0ZXh0O3dvcmQtd3JhcDpicmVhay13b3JkO3dvcmQtYnJlYWs6YnJlYWstYWxsfS5pbmRlbnQuc3ZlbHRlLTFjYTNnYjJ7cGFkZGluZy1sZWZ0OnZhcigtLWxpLWlkZW50YXRpb24pfS5jb2xsYXBzZS5zdmVsdGUtMWNhM2diMnstLWxpLWRpc3BsYXk6aW5saW5lO2Rpc3BsYXk6aW5saW5lO2ZvbnQtc3R5bGU6aXRhbGljfVwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dCQyKGN0eCwgbGlzdCwgaSkge1xuXHRjb25zdCBjaGlsZF9jdHggPSBjdHguc2xpY2UoKTtcblx0Y2hpbGRfY3R4WzhdID0gbGlzdFtpXTtcblx0Y2hpbGRfY3R4WzEwXSA9IGk7XG5cdHJldHVybiBjaGlsZF9jdHg7XG59XG5cbi8vICg0MDoyKSB7I2lmIGlzUGFyZW50RXhwYW5kZWR9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMiQxKGN0eCkge1xuXHRsZXQganNvbmFycm93O1xuXHRsZXQgY3VycmVudDtcblx0anNvbmFycm93ID0gbmV3IEpTT05BcnJvdyh7IHByb3BzOiB7IGV4cGFuZGVkOiAvKmV4cGFuZGVkKi8gY3R4WzBdIH0gfSk7XG5cdGpzb25hcnJvdy4kb24oXCJjbGlja1wiLCAvKnRvZ2dsZUV4cGFuZCovIGN0eFs3XSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChqc29uYXJyb3cuJCQuZnJhZ21lbnQpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGpzb25hcnJvdywgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IGpzb25hcnJvd19jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKmV4cGFuZGVkKi8gMSkganNvbmFycm93X2NoYW5nZXMuZXhwYW5kZWQgPSAvKmV4cGFuZGVkKi8gY3R4WzBdO1xuXHRcdFx0anNvbmFycm93LiRzZXQoanNvbmFycm93X2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbmFycm93LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGpzb25hcnJvdy4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGpzb25hcnJvdywgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg0NToyKSB7I2lmIGlzUGFyZW50RXhwYW5kZWR9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2skMyhjdHgpIHtcblx0bGV0IHVsO1xuXHRsZXQgY3VycmVudDtcblx0bGV0IGlmX2Jsb2NrID0gLypleHBhbmRlZCovIGN0eFswXSAmJiBjcmVhdGVfaWZfYmxvY2tfMSQxKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0dWwgPSBlbGVtZW50KFwidWxcIik7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmMoKTtcblx0XHRcdGF0dHIodWwsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMWNhM2diMlwiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyh1bCwgXCJjb2xsYXBzZVwiLCAhLypleHBhbmRlZCovIGN0eFswXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB1bCwgYW5jaG9yKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2subSh1bCwgbnVsbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0aWYgKC8qZXhwYW5kZWQqLyBjdHhbMF0pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sucChjdHgsIGRpcnR5KTtcblxuXHRcdFx0XHRcdGlmIChkaXJ0eSAmIC8qZXhwYW5kZWQqLyAxKSB7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrLCAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2tfMSQxKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2ssIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0odWwsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRpcnR5ICYgLypleHBhbmRlZCovIDEpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKHVsLCBcImNvbGxhcHNlXCIsICEvKmV4cGFuZGVkKi8gY3R4WzBdKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2spO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh1bCk7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmQoKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg0Nzo2KSB7I2lmIGV4cGFuZGVkfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzEkMShjdHgpIHtcblx0bGV0IGpzb25ub2RlO1xuXHRsZXQgdDA7XG5cdGxldCBsaTtcblx0bGV0IGpzb25rZXk7XG5cdGxldCB0MTtcblx0bGV0IHNwYW47XG5cdGxldCBjdXJyZW50O1xuXG5cdGpzb25ub2RlID0gbmV3IEpTT05Ob2RlKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdGtleTogXCJtZXNzYWdlXCIsXG5cdFx0XHRcdHZhbHVlOiAvKnZhbHVlKi8gY3R4WzJdLm1lc3NhZ2Vcblx0XHRcdH1cblx0XHR9KTtcblxuXHRqc29ua2V5ID0gbmV3IEpTT05LZXkoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0a2V5OiBcInN0YWNrXCIsXG5cdFx0XHRcdGNvbG9uOiBcIjpcIixcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzNdXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0bGV0IGVhY2hfdmFsdWUgPSAvKnN0YWNrKi8gY3R4WzVdO1xuXHRsZXQgZWFjaF9ibG9ja3MgPSBbXTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrJDIoZ2V0X2VhY2hfY29udGV4dCQyKGN0eCwgZWFjaF92YWx1ZSwgaSkpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChqc29ubm9kZS4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRsaSA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoanNvbmtleS4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0fVxuXG5cdFx0XHRhdHRyKGxpLCBcImNsYXNzXCIsIFwic3ZlbHRlLTFjYTNnYjJcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoanNvbm5vZGUsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQwLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgbGksIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoanNvbmtleSwgbGksIG51bGwpO1xuXHRcdFx0YXBwZW5kKGxpLCB0MSk7XG5cdFx0XHRhcHBlbmQobGksIHNwYW4pO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oc3BhbiwgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRjb25zdCBqc29ubm9kZV9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKnZhbHVlKi8gNCkganNvbm5vZGVfY2hhbmdlcy52YWx1ZSA9IC8qdmFsdWUqLyBjdHhbMl0ubWVzc2FnZTtcblx0XHRcdGpzb25ub2RlLiRzZXQoanNvbm5vZGVfY2hhbmdlcyk7XG5cdFx0XHRjb25zdCBqc29ua2V5X2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDgpIGpzb25rZXlfY2hhbmdlcy5pc1BhcmVudEV4cGFuZGVkID0gLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzNdO1xuXHRcdFx0anNvbmtleS4kc2V0KGpzb25rZXlfY2hhbmdlcyk7XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qc3RhY2sqLyAzMikge1xuXHRcdFx0XHRlYWNoX3ZhbHVlID0gLypzdGFjayovIGN0eFs1XTtcblx0XHRcdFx0bGV0IGk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0JDIoY3R4LCBlYWNoX3ZhbHVlLCBpKTtcblxuXHRcdFx0XHRcdGlmIChlYWNoX2Jsb2Nrc1tpXSkge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ucChjaGlsZF9jdHgsIGRpcnR5KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQyKGNoaWxkX2N0eCk7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5tKHNwYW4sIG51bGwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5kKDEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZWFjaF9ibG9ja3MubGVuZ3RoID0gZWFjaF92YWx1ZS5sZW5ndGg7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihqc29ubm9kZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihqc29ua2V5LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGpzb25ub2RlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29ua2V5LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoanNvbm5vZGUsIGRldGFjaGluZyk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2godDApO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGxpKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGpzb25rZXkpO1xuXHRcdFx0ZGVzdHJveV9lYWNoKGVhY2hfYmxvY2tzLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDUyOjEyKSB7I2VhY2ggc3RhY2sgYXMgbGluZSwgaW5kZXh9XG5mdW5jdGlvbiBjcmVhdGVfZWFjaF9ibG9jayQyKGN0eCkge1xuXHRsZXQgc3Bhbjtcblx0bGV0IHRfdmFsdWUgPSAvKmxpbmUqLyBjdHhbOF0gKyBcIlwiO1xuXHRsZXQgdDtcblx0bGV0IGJyO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdHNwYW4gPSBlbGVtZW50KFwic3BhblwiKTtcblx0XHRcdHQgPSB0ZXh0KHRfdmFsdWUpO1xuXHRcdFx0YnIgPSBlbGVtZW50KFwiYnJcIik7XG5cdFx0XHRhdHRyKHNwYW4sIFwiY2xhc3NcIiwgXCJzdmVsdGUtMWNhM2diMlwiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhzcGFuLCBcImluZGVudFwiLCAvKmluZGV4Ki8gY3R4WzEwXSA+IDApO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc3BhbiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0KTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJyLCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnN0YWNrKi8gMzIgJiYgdF92YWx1ZSAhPT0gKHRfdmFsdWUgPSAvKmxpbmUqLyBjdHhbOF0gKyBcIlwiKSkgc2V0X2RhdGEodCwgdF92YWx1ZSk7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNwYW4pO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGJyKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCRjKGN0eCkge1xuXHRsZXQgbGk7XG5cdGxldCB0MDtcblx0bGV0IGpzb25rZXk7XG5cdGxldCB0MTtcblx0bGV0IHNwYW47XG5cdGxldCB0Mjtcblx0bGV0IHQzX3ZhbHVlID0gKC8qZXhwYW5kZWQqLyBjdHhbMF0gPyAnJyA6IC8qdmFsdWUqLyBjdHhbMl0ubWVzc2FnZSkgKyBcIlwiO1xuXHRsZXQgdDM7XG5cdGxldCB0NDtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBtb3VudGVkO1xuXHRsZXQgZGlzcG9zZTtcblx0bGV0IGlmX2Jsb2NrMCA9IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFszXSAmJiBjcmVhdGVfaWZfYmxvY2tfMiQxKGN0eCk7XG5cblx0anNvbmtleSA9IG5ldyBKU09OS2V5KHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdGtleTogLyprZXkqLyBjdHhbMV0sXG5cdFx0XHRcdGNvbG9uOiAvKmNvbnRleHQqLyBjdHhbNl0uY29sb24sXG5cdFx0XHRcdGlzUGFyZW50RXhwYW5kZWQ6IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFszXSxcblx0XHRcdFx0aXNQYXJlbnRBcnJheTogLyppc1BhcmVudEFycmF5Ki8gY3R4WzRdXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0bGV0IGlmX2Jsb2NrMSA9IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFszXSAmJiBjcmVhdGVfaWZfYmxvY2skMyhjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGxpID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmMoKTtcblx0XHRcdHQwID0gc3BhY2UoKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoanNvbmtleS4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHR0MiA9IHRleHQoXCJFcnJvcjogXCIpO1xuXHRcdFx0dDMgPSB0ZXh0KHQzX3ZhbHVlKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRhdHRyKGxpLCBcImNsYXNzXCIsIFwic3ZlbHRlLTFjYTNnYjJcIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MobGksIFwiaW5kZW50XCIsIC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFszXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBsaSwgYW5jaG9yKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5tKGxpLCBudWxsKTtcblx0XHRcdGFwcGVuZChsaSwgdDApO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGpzb25rZXksIGxpLCBudWxsKTtcblx0XHRcdGFwcGVuZChsaSwgdDEpO1xuXHRcdFx0YXBwZW5kKGxpLCBzcGFuKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0Mik7XG5cdFx0XHRhcHBlbmQoc3BhbiwgdDMpO1xuXHRcdFx0YXBwZW5kKGxpLCB0NCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEubShsaSwgbnVsbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblxuXHRcdFx0aWYgKCFtb3VudGVkKSB7XG5cdFx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oc3BhbiwgXCJjbGlja1wiLCAvKnRvZ2dsZUV4cGFuZCovIGN0eFs3XSk7XG5cdFx0XHRcdG1vdW50ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmICgvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbM10pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGN0eCwgZGlydHkpO1xuXG5cdFx0XHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gOCkge1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazAsIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazAgPSBjcmVhdGVfaWZfYmxvY2tfMiQxKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLmMoKTtcblx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMCwgMSk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLm0obGksIHQwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2swLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGpzb25rZXlfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyprZXkqLyAyKSBqc29ua2V5X2NoYW5nZXMua2V5ID0gLyprZXkqLyBjdHhbMV07XG5cdFx0XHRpZiAoZGlydHkgJiAvKmlzUGFyZW50RXhwYW5kZWQqLyA4KSBqc29ua2V5X2NoYW5nZXMuaXNQYXJlbnRFeHBhbmRlZCA9IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFszXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRBcnJheSovIDE2KSBqc29ua2V5X2NoYW5nZXMuaXNQYXJlbnRBcnJheSA9IC8qaXNQYXJlbnRBcnJheSovIGN0eFs0XTtcblx0XHRcdGpzb25rZXkuJHNldChqc29ua2V5X2NoYW5nZXMpO1xuXHRcdFx0aWYgKCghY3VycmVudCB8fCBkaXJ0eSAmIC8qZXhwYW5kZWQsIHZhbHVlKi8gNSkgJiYgdDNfdmFsdWUgIT09ICh0M192YWx1ZSA9ICgvKmV4cGFuZGVkKi8gY3R4WzBdID8gJycgOiAvKnZhbHVlKi8gY3R4WzJdLm1lc3NhZ2UpICsgXCJcIikpIHNldF9kYXRhKHQzLCB0M192YWx1ZSk7XG5cblx0XHRcdGlmICgvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbM10pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5wKGN0eCwgZGlydHkpO1xuXG5cdFx0XHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gOCkge1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEsIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazEgPSBjcmVhdGVfaWZfYmxvY2skMyhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEsIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5tKGxpLCBudWxsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2sxLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDgpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGxpLCBcImluZGVudFwiLCAvKmlzUGFyZW50RXhwYW5kZWQqLyBjdHhbM10pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2swKTtcblx0XHRcdHRyYW5zaXRpb25faW4oanNvbmtleS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazApO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoanNvbmtleS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2sxKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gobGkpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmQoKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGpzb25rZXkpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmQoKTtcblx0XHRcdG1vdW50ZWQgPSBmYWxzZTtcblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJGMoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHN0YWNrO1xuXHRsZXQgeyBrZXksIHZhbHVlLCBpc1BhcmVudEV4cGFuZGVkLCBpc1BhcmVudEFycmF5IH0gPSAkJHByb3BzO1xuXHRsZXQgeyBleHBhbmRlZCA9IGZhbHNlIH0gPSAkJHByb3BzO1xuXHRjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dChjb250ZXh0S2V5KTtcblx0c2V0Q29udGV4dChjb250ZXh0S2V5LCB7IC4uLmNvbnRleHQsIGNvbG9uOiAnOicgfSk7XG5cblx0ZnVuY3Rpb24gdG9nZ2xlRXhwYW5kKCkge1xuXHRcdCQkaW52YWxpZGF0ZSgwLCBleHBhbmRlZCA9ICFleHBhbmRlZCk7XG5cdH1cblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2tleScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEsIGtleSA9ICQkcHJvcHMua2V5KTtcblx0XHRpZiAoJ3ZhbHVlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMiwgdmFsdWUgPSAkJHByb3BzLnZhbHVlKTtcblx0XHRpZiAoJ2lzUGFyZW50RXhwYW5kZWQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgzLCBpc1BhcmVudEV4cGFuZGVkID0gJCRwcm9wcy5pc1BhcmVudEV4cGFuZGVkKTtcblx0XHRpZiAoJ2lzUGFyZW50QXJyYXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSg0LCBpc1BhcmVudEFycmF5ID0gJCRwcm9wcy5pc1BhcmVudEFycmF5KTtcblx0XHRpZiAoJ2V4cGFuZGVkJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwgZXhwYW5kZWQgPSAkJHByb3BzLmV4cGFuZGVkKTtcblx0fTtcblxuXHQkJHNlbGYuJCQudXBkYXRlID0gKCkgPT4ge1xuXHRcdGlmICgkJHNlbGYuJCQuZGlydHkgJiAvKnZhbHVlKi8gNCkge1xuXHRcdFx0ICQkaW52YWxpZGF0ZSg1LCBzdGFjayA9IHZhbHVlLnN0YWNrLnNwbGl0KCdcXG4nKSk7XG5cdFx0fVxuXG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qaXNQYXJlbnRFeHBhbmRlZCovIDgpIHtcblx0XHRcdCBpZiAoIWlzUGFyZW50RXhwYW5kZWQpIHtcblx0XHRcdFx0JCRpbnZhbGlkYXRlKDAsIGV4cGFuZGVkID0gZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gW1xuXHRcdGV4cGFuZGVkLFxuXHRcdGtleSxcblx0XHR2YWx1ZSxcblx0XHRpc1BhcmVudEV4cGFuZGVkLFxuXHRcdGlzUGFyZW50QXJyYXksXG5cdFx0c3RhY2ssXG5cdFx0Y29udGV4dCxcblx0XHR0b2dnbGVFeHBhbmRcblx0XTtcbn1cblxuY2xhc3MgRXJyb3JOb2RlIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cblx0XHRpbml0KFxuXHRcdFx0dGhpcyxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRpbnN0YW5jZSRjLFxuXHRcdFx0Y3JlYXRlX2ZyYWdtZW50JGMsXG5cdFx0XHRzYWZlX25vdF9lcXVhbCxcblx0XHRcdHtcblx0XHRcdFx0a2V5OiAxLFxuXHRcdFx0XHR2YWx1ZTogMixcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogMyxcblx0XHRcdFx0aXNQYXJlbnRBcnJheTogNCxcblx0XHRcdFx0ZXhwYW5kZWQ6IDBcblx0XHRcdH0sXG5cdFx0XHRhZGRfY3NzJDZcblx0XHQpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIG9ialR5cGUob2JqKSB7XHJcbiAgY29uc3QgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopLnNsaWNlKDgsIC0xKTtcclxuICBpZiAodHlwZSA9PT0gJ09iamVjdCcpIHtcclxuICAgIGlmICh0eXBlb2Ygb2JqW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgcmV0dXJuICdJdGVyYWJsZSc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHlwZTtcclxufVxuXG4vKiBub2RlX21vZHVsZXMvc3ZlbHRlLWpzb24tdHJlZS1hdXRvL3NyYy9KU09OTm9kZS5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCRkKGN0eCkge1xuXHRsZXQgc3dpdGNoX2luc3RhbmNlO1xuXHRsZXQgc3dpdGNoX2luc3RhbmNlX2FuY2hvcjtcblx0bGV0IGN1cnJlbnQ7XG5cdHZhciBzd2l0Y2hfdmFsdWUgPSAvKmNvbXBvbmVudFR5cGUqLyBjdHhbNl07XG5cblx0ZnVuY3Rpb24gc3dpdGNoX3Byb3BzKGN0eCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRrZXk6IC8qa2V5Ki8gY3R4WzBdLFxuXHRcdFx0XHR2YWx1ZTogLyp2YWx1ZSovIGN0eFsxXSxcblx0XHRcdFx0aXNQYXJlbnRFeHBhbmRlZDogLyppc1BhcmVudEV4cGFuZGVkKi8gY3R4WzJdLFxuXHRcdFx0XHRpc1BhcmVudEFycmF5OiAvKmlzUGFyZW50QXJyYXkqLyBjdHhbM10sXG5cdFx0XHRcdG5vZGVUeXBlOiAvKm5vZGVUeXBlKi8gY3R4WzRdLFxuXHRcdFx0XHR2YWx1ZUdldHRlcjogLyp2YWx1ZUdldHRlciovIGN0eFs1XVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0c3dpdGNoX2luc3RhbmNlID0gbmV3IHN3aXRjaF92YWx1ZShzd2l0Y2hfcHJvcHMoY3R4KSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSBjcmVhdGVfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCk7XG5cdFx0XHRzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yID0gZW1wdHkoKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHtcblx0XHRcdFx0bW91bnRfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yLCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgW2RpcnR5XSkge1xuXHRcdFx0Y29uc3Qgc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qa2V5Ki8gMSkgc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMua2V5ID0gLyprZXkqLyBjdHhbMF07XG5cdFx0XHRpZiAoZGlydHkgJiAvKnZhbHVlKi8gMikgc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMudmFsdWUgPSAvKnZhbHVlKi8gY3R4WzFdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLyppc1BhcmVudEV4cGFuZGVkKi8gNCkgc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMuaXNQYXJlbnRFeHBhbmRlZCA9IC8qaXNQYXJlbnRFeHBhbmRlZCovIGN0eFsyXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qaXNQYXJlbnRBcnJheSovIDgpIHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzLmlzUGFyZW50QXJyYXkgPSAvKmlzUGFyZW50QXJyYXkqLyBjdHhbM107XG5cdFx0XHRpZiAoZGlydHkgJiAvKm5vZGVUeXBlKi8gMTYpIHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzLm5vZGVUeXBlID0gLypub2RlVHlwZSovIGN0eFs0XTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qdmFsdWVHZXR0ZXIqLyAzMikgc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMudmFsdWVHZXR0ZXIgPSAvKnZhbHVlR2V0dGVyKi8gY3R4WzVdO1xuXG5cdFx0XHRpZiAoc3dpdGNoX3ZhbHVlICE9PSAoc3dpdGNoX3ZhbHVlID0gLypjb21wb25lbnRUeXBlKi8gY3R4WzZdKSkge1xuXHRcdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRcdFx0Y29uc3Qgb2xkX2NvbXBvbmVudCA9IHN3aXRjaF9pbnN0YW5jZTtcblxuXHRcdFx0XHRcdHRyYW5zaXRpb25fb3V0KG9sZF9jb21wb25lbnQuJCQuZnJhZ21lbnQsIDEsIDAsICgpID0+IHtcblx0XHRcdFx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG9sZF9jb21wb25lbnQsIDEpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdFx0c3dpdGNoX2luc3RhbmNlID0gbmV3IHN3aXRjaF92YWx1ZShzd2l0Y2hfcHJvcHMoY3R4KSk7XG5cdFx0XHRcdFx0Y3JlYXRlX2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCAxKTtcblx0XHRcdFx0XHRtb3VudF9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLCBzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yLnBhcmVudE5vZGUsIHN3aXRjaF9pbnN0YW5jZV9hbmNob3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN3aXRjaF9pbnN0YW5jZSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdHN3aXRjaF9pbnN0YW5jZS4kc2V0KHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB0cmFuc2l0aW9uX2luKHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB0cmFuc2l0aW9uX291dChzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc3dpdGNoX2luc3RhbmNlX2FuY2hvcik7XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSBkZXN0cm95X2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UsIGRldGFjaGluZyk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSRkKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCBub2RlVHlwZTtcblx0bGV0IGNvbXBvbmVudFR5cGU7XG5cdGxldCB2YWx1ZUdldHRlcjtcblx0bGV0IHsga2V5LCB2YWx1ZSwgaXNQYXJlbnRFeHBhbmRlZCwgaXNQYXJlbnRBcnJheSB9ID0gJCRwcm9wcztcblxuXHRmdW5jdGlvbiBnZXRDb21wb25lbnQobm9kZVR5cGUpIHtcblx0XHRzd2l0Y2ggKG5vZGVUeXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0XHRyZXR1cm4gSlNPTk9iamVjdE5vZGU7XG5cdFx0XHRjYXNlICdFcnJvcic6XG5cdFx0XHRcdHJldHVybiBFcnJvck5vZGU7XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiBKU09OQXJyYXlOb2RlO1xuXHRcdFx0Y2FzZSAnSXRlcmFibGUnOlxuXHRcdFx0Y2FzZSAnTWFwJzpcblx0XHRcdGNhc2UgJ1NldCc6XG5cdFx0XHRcdHJldHVybiB0eXBlb2YgdmFsdWUuc2V0ID09PSAnZnVuY3Rpb24nXG5cdFx0XHRcdD8gSlNPTkl0ZXJhYmxlTWFwTm9kZVxuXHRcdFx0XHQ6IEpTT05JdGVyYWJsZUFycmF5Tm9kZTtcblx0XHRcdGNhc2UgJ01hcEVudHJ5Jzpcblx0XHRcdFx0cmV0dXJuIEpTT05NYXBFbnRyeU5vZGU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gSlNPTlZhbHVlTm9kZTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRWYWx1ZUdldHRlcihub2RlVHlwZSkge1xuXHRcdHN3aXRjaCAobm9kZVR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdFcnJvcic6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRjYXNlICdJdGVyYWJsZSc6XG5cdFx0XHRjYXNlICdNYXAnOlxuXHRcdFx0Y2FzZSAnU2V0Jzpcblx0XHRcdGNhc2UgJ01hcEVudHJ5Jzpcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHRjYXNlICdTdHJpbmcnOlxuXHRcdFx0XHRyZXR1cm4gcmF3ID0+IGBcIiR7cmF3fVwiYDtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gcmF3ID0+IHJhdyA/ICd0cnVlJyA6ICdmYWxzZSc7XG5cdFx0XHRjYXNlICdEYXRlJzpcblx0XHRcdFx0cmV0dXJuIHJhdyA9PiByYXcudG9JU09TdHJpbmcoKTtcblx0XHRcdGNhc2UgJ051bGwnOlxuXHRcdFx0XHRyZXR1cm4gKCkgPT4gJ251bGwnO1xuXHRcdFx0Y2FzZSAnVW5kZWZpbmVkJzpcblx0XHRcdFx0cmV0dXJuICgpID0+ICd1bmRlZmluZWQnO1xuXHRcdFx0Y2FzZSAnRnVuY3Rpb24nOlxuXHRcdFx0Y2FzZSAnU3ltYm9sJzpcblx0XHRcdFx0cmV0dXJuIHJhdyA9PiByYXcudG9TdHJpbmcoKTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAoKSA9PiBgPCR7bm9kZVR5cGV9PmA7XG5cdFx0fVxuXHR9XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdrZXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBrZXkgPSAkJHByb3BzLmtleSk7XG5cdFx0aWYgKCd2YWx1ZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEsIHZhbHVlID0gJCRwcm9wcy52YWx1ZSk7XG5cdFx0aWYgKCdpc1BhcmVudEV4cGFuZGVkJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMiwgaXNQYXJlbnRFeHBhbmRlZCA9ICQkcHJvcHMuaXNQYXJlbnRFeHBhbmRlZCk7XG5cdFx0aWYgKCdpc1BhcmVudEFycmF5JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMywgaXNQYXJlbnRBcnJheSA9ICQkcHJvcHMuaXNQYXJlbnRBcnJheSk7XG5cdH07XG5cblx0JCRzZWxmLiQkLnVwZGF0ZSA9ICgpID0+IHtcblx0XHRpZiAoJCRzZWxmLiQkLmRpcnR5ICYgLyp2YWx1ZSovIDIpIHtcblx0XHRcdCAkJGludmFsaWRhdGUoNCwgbm9kZVR5cGUgPSBvYmpUeXBlKHZhbHVlKSk7XG5cdFx0fVxuXG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qbm9kZVR5cGUqLyAxNikge1xuXHRcdFx0ICQkaW52YWxpZGF0ZSg2LCBjb21wb25lbnRUeXBlID0gZ2V0Q29tcG9uZW50KG5vZGVUeXBlKSk7XG5cdFx0fVxuXG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qbm9kZVR5cGUqLyAxNikge1xuXHRcdFx0ICQkaW52YWxpZGF0ZSg1LCB2YWx1ZUdldHRlciA9IGdldFZhbHVlR2V0dGVyKG5vZGVUeXBlKSk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBbXG5cdFx0a2V5LFxuXHRcdHZhbHVlLFxuXHRcdGlzUGFyZW50RXhwYW5kZWQsXG5cdFx0aXNQYXJlbnRBcnJheSxcblx0XHRub2RlVHlwZSxcblx0XHR2YWx1ZUdldHRlcixcblx0XHRjb21wb25lbnRUeXBlXG5cdF07XG59XG5cbmNsYXNzIEpTT05Ob2RlIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJGQsIGNyZWF0ZV9mcmFnbWVudCRkLCBzYWZlX25vdF9lcXVhbCwge1xuXHRcdFx0a2V5OiAwLFxuXHRcdFx0dmFsdWU6IDEsXG5cdFx0XHRpc1BhcmVudEV4cGFuZGVkOiAyLFxuXHRcdFx0aXNQYXJlbnRBcnJheTogM1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qIG5vZGVfbW9kdWxlcy9zdmVsdGUtanNvbi10cmVlLWF1dG8vc3JjL1Jvb3Quc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJDcodGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS03NzNuNjBcIiwgXCJ1bC5zdmVsdGUtNzczbjYwey0tc3RyaW5nLWNvbG9yOnZhcigtLWpzb24tdHJlZS1zdHJpbmctY29sb3IsICNjYjNmNDEpOy0tc3ltYm9sLWNvbG9yOnZhcigtLWpzb24tdHJlZS1zeW1ib2wtY29sb3IsICNjYjNmNDEpOy0tYm9vbGVhbi1jb2xvcjp2YXIoLS1qc29uLXRyZWUtYm9vbGVhbi1jb2xvciwgIzExMmFhNyk7LS1mdW5jdGlvbi1jb2xvcjp2YXIoLS1qc29uLXRyZWUtZnVuY3Rpb24tY29sb3IsICMxMTJhYTcpOy0tbnVtYmVyLWNvbG9yOnZhcigtLWpzb24tdHJlZS1udW1iZXItY29sb3IsICMzMDI5Y2YpOy0tbGFiZWwtY29sb3I6dmFyKC0tanNvbi10cmVlLWxhYmVsLWNvbG9yLCAjODcxZDhmKTstLWFycm93LWNvbG9yOnZhcigtLWpzb24tdHJlZS1hcnJvdy1jb2xvciwgIzcyNzI3Mik7LS1udWxsLWNvbG9yOnZhcigtLWpzb24tdHJlZS1udWxsLWNvbG9yLCAjOGQ4ZDhkKTstLXVuZGVmaW5lZC1jb2xvcjp2YXIoLS1qc29uLXRyZWUtdW5kZWZpbmVkLWNvbG9yLCAjOGQ4ZDhkKTstLWRhdGUtY29sb3I6dmFyKC0tanNvbi10cmVlLWRhdGUtY29sb3IsICM4ZDhkOGQpOy0tbGktaWRlbnRhdGlvbjp2YXIoLS1qc29uLXRyZWUtbGktaW5kZW50YXRpb24sIDFlbSk7LS1saS1saW5lLWhlaWdodDp2YXIoLS1qc29uLXRyZWUtbGktbGluZS1oZWlnaHQsIDEuMyk7LS1saS1jb2xvbi1zcGFjZTowLjNlbTtmb250LXNpemU6dmFyKC0tanNvbi10cmVlLWZvbnQtc2l6ZSwgMTJweCk7Zm9udC1mYW1pbHk6dmFyKC0tanNvbi10cmVlLWZvbnQtZmFtaWx5LCAnQ291cmllciBOZXcnLCBDb3VyaWVyLCBtb25vc3BhY2UpfXVsLnN2ZWx0ZS03NzNuNjAgbGl7bGluZS1oZWlnaHQ6dmFyKC0tbGktbGluZS1oZWlnaHQpO2Rpc3BsYXk6dmFyKC0tbGktZGlzcGxheSwgbGlzdC1pdGVtKTtsaXN0LXN0eWxlOm5vbmV9dWwuc3ZlbHRlLTc3M242MCx1bC5zdmVsdGUtNzczbjYwIHVse3BhZGRpbmc6MDttYXJnaW46MH1cIik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCRlKGN0eCkge1xuXHRsZXQgdWw7XG5cdGxldCBqc29ubm9kZTtcblx0bGV0IGN1cnJlbnQ7XG5cblx0anNvbm5vZGUgPSBuZXcgSlNPTk5vZGUoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0a2V5OiAvKmtleSovIGN0eFswXSxcblx0XHRcdFx0dmFsdWU6IC8qdmFsdWUqLyBjdHhbMV0sXG5cdFx0XHRcdGlzUGFyZW50RXhwYW5kZWQ6IHRydWUsXG5cdFx0XHRcdGlzUGFyZW50QXJyYXk6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0dWwgPSBlbGVtZW50KFwidWxcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGpzb25ub2RlLiQkLmZyYWdtZW50KTtcblx0XHRcdGF0dHIodWwsIFwiY2xhc3NcIiwgXCJzdmVsdGUtNzczbjYwXCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdWwsIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoanNvbm5vZGUsIHVsLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGNvbnN0IGpzb25ub2RlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qa2V5Ki8gMSkganNvbm5vZGVfY2hhbmdlcy5rZXkgPSAvKmtleSovIGN0eFswXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qdmFsdWUqLyAyKSBqc29ubm9kZV9jaGFuZ2VzLnZhbHVlID0gLyp2YWx1ZSovIGN0eFsxXTtcblx0XHRcdGpzb25ub2RlLiRzZXQoanNvbm5vZGVfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihqc29ubm9kZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29ubm9kZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh1bCk7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChqc29ubm9kZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSRlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdHNldENvbnRleHQoY29udGV4dEtleSwge30pO1xuXHRsZXQgeyBrZXkgPSAnJywgdmFsdWUgfSA9ICQkcHJvcHM7XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdrZXknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBrZXkgPSAkJHByb3BzLmtleSk7XG5cdFx0aWYgKCd2YWx1ZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEsIHZhbHVlID0gJCRwcm9wcy52YWx1ZSk7XG5cdH07XG5cblx0cmV0dXJuIFtrZXksIHZhbHVlXTtcbn1cblxuY2xhc3MgUm9vdCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkZSwgY3JlYXRlX2ZyYWdtZW50JGUsIHNhZmVfbm90X2VxdWFsLCB7IGtleTogMCwgdmFsdWU6IDEgfSwgYWRkX2NzcyQ3KTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL21haW4vQ2xpZW50U3dpdGNoZXIuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJDgodGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS1qdmZxM2lcIiwgXCIuc3ZlbHRlLWp2ZnEzaXtib3gtc2l6aW5nOmJvcmRlci1ib3h9c2VjdGlvbi5zd2l0Y2hlci5zdmVsdGUtanZmcTNpe3Bvc2l0aW9uOnN0aWNreTtib3R0b206MDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgyMHB4KTttYXJnaW46NDBweCAtMjBweCAwO2JvcmRlci10b3A6MXB4IHNvbGlkICM5OTk7cGFkZGluZzoyMHB4O2JhY2tncm91bmQ6I2ZmZn1sYWJlbC5zdmVsdGUtanZmcTNpe2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpiYXNlbGluZTtnYXA6NXB4O2ZvbnQtd2VpZ2h0OmJvbGR9c2VsZWN0LnN2ZWx0ZS1qdmZxM2l7bWluLXdpZHRoOjE0MHB4fVwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dCQzKGN0eCwgbGlzdCwgaSkge1xuXHRjb25zdCBjaGlsZF9jdHggPSBjdHguc2xpY2UoKTtcblx0Y2hpbGRfY3R4WzddID0gbGlzdFtpXTtcblx0Y2hpbGRfY3R4WzldID0gaTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDQyOjApIHsjaWYgZGVidWdnYWJsZUNsaWVudHMubGVuZ3RoID4gMX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayQ0KGN0eCkge1xuXHRsZXQgc2VjdGlvbjtcblx0bGV0IGxhYmVsO1xuXHRsZXQgdDtcblx0bGV0IHNlbGVjdDtcblx0bGV0IG1vdW50ZWQ7XG5cdGxldCBkaXNwb3NlO1xuXHRsZXQgZWFjaF92YWx1ZSA9IC8qZGVidWdnYWJsZUNsaWVudHMqLyBjdHhbMV07XG5cdGxldCBlYWNoX2Jsb2NrcyA9IFtdO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2skMyhnZXRfZWFjaF9jb250ZXh0JDMoY3R4LCBlYWNoX3ZhbHVlLCBpKSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRzZWN0aW9uID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRsYWJlbCA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdHQgPSB0ZXh0KFwiQ2xpZW50XFxuICAgICAgXFxuICAgICAgXCIpO1xuXHRcdFx0c2VsZWN0ID0gZWxlbWVudChcInNlbGVjdFwiKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cdFx0XHR9XG5cblx0XHRcdGF0dHIoc2VsZWN0LCBcImlkXCIsIHNlbGVjdElkKTtcblx0XHRcdGF0dHIoc2VsZWN0LCBcImNsYXNzXCIsIFwic3ZlbHRlLWp2ZnEzaVwiKTtcblx0XHRcdGlmICgvKnNlbGVjdGVkKi8gY3R4WzJdID09PSB2b2lkIDApIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gLypzZWxlY3RfY2hhbmdlX2hhbmRsZXIqLyBjdHhbNl0uY2FsbChzZWxlY3QpKTtcblx0XHRcdGF0dHIobGFiZWwsIFwiY2xhc3NcIiwgXCJzdmVsdGUtanZmcTNpXCIpO1xuXHRcdFx0YXR0cihzZWN0aW9uLCBcImNsYXNzXCIsIFwic3dpdGNoZXIgc3ZlbHRlLWp2ZnEzaVwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNlY3Rpb24sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbiwgbGFiZWwpO1xuXHRcdFx0YXBwZW5kKGxhYmVsLCB0KTtcblx0XHRcdGFwcGVuZChsYWJlbCwgc2VsZWN0KTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5tKHNlbGVjdCwgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdF9vcHRpb24oc2VsZWN0LCAvKnNlbGVjdGVkKi8gY3R4WzJdKTtcblxuXHRcdFx0aWYgKCFtb3VudGVkKSB7XG5cdFx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdFx0bGlzdGVuKHNlbGVjdCwgXCJjaGFuZ2VcIiwgLypoYW5kbGVTZWxlY3Rpb24qLyBjdHhbM10pLFxuXHRcdFx0XHRcdGxpc3RlbihzZWxlY3QsIFwiY2hhbmdlXCIsIC8qc2VsZWN0X2NoYW5nZV9oYW5kbGVyKi8gY3R4WzZdKVxuXHRcdFx0XHRdO1xuXG5cdFx0XHRcdG1vdW50ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKmRlYnVnZ2FibGVDbGllbnRzLCBKU09OKi8gMikge1xuXHRcdFx0XHRlYWNoX3ZhbHVlID0gLypkZWJ1Z2dhYmxlQ2xpZW50cyovIGN0eFsxXTtcblx0XHRcdFx0bGV0IGk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0JDMoY3R4LCBlYWNoX3ZhbHVlLCBpKTtcblxuXHRcdFx0XHRcdGlmIChlYWNoX2Jsb2Nrc1tpXSkge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ucChjaGlsZF9jdHgsIGRpcnR5KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQzKGNoaWxkX2N0eCk7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5tKHNlbGVjdCwgbnVsbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yICg7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmQoMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlYWNoX2Jsb2Nrcy5sZW5ndGggPSBlYWNoX3ZhbHVlLmxlbmd0aDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRpcnR5ICYgLypzZWxlY3RlZCovIDQpIHtcblx0XHRcdFx0c2VsZWN0X29wdGlvbihzZWxlY3QsIC8qc2VsZWN0ZWQqLyBjdHhbMl0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzZWN0aW9uKTtcblx0XHRcdGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2NrcywgZGV0YWNoaW5nKTtcblx0XHRcdG1vdW50ZWQgPSBmYWxzZTtcblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNDg6OCkgeyNlYWNoIGRlYnVnZ2FibGVDbGllbnRzIGFzIGNsaWVudE9wdGlvbiwgaW5kZXh9XG5mdW5jdGlvbiBjcmVhdGVfZWFjaF9ibG9jayQzKGN0eCkge1xuXHRsZXQgb3B0aW9uO1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IHQyX3ZhbHVlID0gSlNPTi5zdHJpbmdpZnkoLypjbGllbnRPcHRpb24qLyBjdHhbN10ucGxheWVySUQpICsgXCJcIjtcblx0bGV0IHQyO1xuXHRsZXQgdDM7XG5cdGxldCB0NF92YWx1ZSA9IEpTT04uc3RyaW5naWZ5KC8qY2xpZW50T3B0aW9uKi8gY3R4WzddLm1hdGNoSUQpICsgXCJcIjtcblx0bGV0IHQ0O1xuXHRsZXQgdDU7XG5cdGxldCB0Nl92YWx1ZSA9IC8qY2xpZW50T3B0aW9uKi8gY3R4WzddLmdhbWUubmFtZSArIFwiXCI7XG5cdGxldCB0Njtcblx0bGV0IHQ3O1xuXHRsZXQgb3B0aW9uX3ZhbHVlX3ZhbHVlO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdG9wdGlvbiA9IGVsZW1lbnQoXCJvcHRpb25cIik7XG5cdFx0XHR0MCA9IHRleHQoLyppbmRleCovIGN0eFs5XSk7XG5cdFx0XHR0MSA9IHRleHQoXCIg4oCUXFxuICAgICAgICAgICAgcGxheWVySUQ6IFwiKTtcblx0XHRcdHQyID0gdGV4dCh0Ml92YWx1ZSk7XG5cdFx0XHR0MyA9IHRleHQoXCIsXFxuICAgICAgICAgICAgbWF0Y2hJRDogXCIpO1xuXHRcdFx0dDQgPSB0ZXh0KHQ0X3ZhbHVlKTtcblx0XHRcdHQ1ID0gdGV4dChcIlxcbiAgICAgICAgICAgIChcIik7XG5cdFx0XHR0NiA9IHRleHQodDZfdmFsdWUpO1xuXHRcdFx0dDcgPSB0ZXh0KFwiKVxcbiAgICAgICAgICBcIik7XG5cdFx0XHRvcHRpb24uX192YWx1ZSA9IG9wdGlvbl92YWx1ZV92YWx1ZSA9IC8qaW5kZXgqLyBjdHhbOV07XG5cdFx0XHRvcHRpb24udmFsdWUgPSBvcHRpb24uX192YWx1ZTtcblx0XHRcdGF0dHIob3B0aW9uLCBcImNsYXNzXCIsIFwic3ZlbHRlLWp2ZnEzaVwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIG9wdGlvbiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQwKTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQxKTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQyKTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQzKTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQ0KTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQ1KTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQ2KTtcblx0XHRcdGFwcGVuZChvcHRpb24sIHQ3KTtcblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0aWYgKGRpcnR5ICYgLypkZWJ1Z2dhYmxlQ2xpZW50cyovIDIgJiYgdDJfdmFsdWUgIT09ICh0Ml92YWx1ZSA9IEpTT04uc3RyaW5naWZ5KC8qY2xpZW50T3B0aW9uKi8gY3R4WzddLnBsYXllcklEKSArIFwiXCIpKSBzZXRfZGF0YSh0MiwgdDJfdmFsdWUpO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypkZWJ1Z2dhYmxlQ2xpZW50cyovIDIgJiYgdDRfdmFsdWUgIT09ICh0NF92YWx1ZSA9IEpTT04uc3RyaW5naWZ5KC8qY2xpZW50T3B0aW9uKi8gY3R4WzddLm1hdGNoSUQpICsgXCJcIikpIHNldF9kYXRhKHQ0LCB0NF92YWx1ZSk7XG5cdFx0XHRpZiAoZGlydHkgJiAvKmRlYnVnZ2FibGVDbGllbnRzKi8gMiAmJiB0Nl92YWx1ZSAhPT0gKHQ2X3ZhbHVlID0gLypjbGllbnRPcHRpb24qLyBjdHhbN10uZ2FtZS5uYW1lICsgXCJcIikpIHNldF9kYXRhKHQ2LCB0Nl92YWx1ZSk7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKG9wdGlvbik7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkZihjdHgpIHtcblx0bGV0IGlmX2Jsb2NrX2FuY2hvcjtcblx0bGV0IGlmX2Jsb2NrID0gLypkZWJ1Z2dhYmxlQ2xpZW50cyovIGN0eFsxXS5sZW5ndGggPiAxICYmIGNyZWF0ZV9pZl9ibG9jayQ0KGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5jKCk7XG5cdFx0XHRpZl9ibG9ja19hbmNob3IgPSBlbXB0eSgpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGlmX2Jsb2NrX2FuY2hvciwgYW5jaG9yKTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRpZiAoLypkZWJ1Z2dhYmxlQ2xpZW50cyovIGN0eFsxXS5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLnAoY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2skNChjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKGlmX2Jsb2NrX2FuY2hvci5wYXJlbnROb2RlLCBpZl9ibG9ja19hbmNob3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdGlmX2Jsb2NrLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrID0gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5kKGRldGFjaGluZyk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goaWZfYmxvY2tfYW5jaG9yKTtcblx0XHR9XG5cdH07XG59XG5cbmNvbnN0IHNlbGVjdElkID0gJ2JnaW8tZGVidWctc2VsZWN0LWNsaWVudCc7XG5cbmZ1bmN0aW9uIGluc3RhbmNlJGYoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IGNsaWVudDtcblx0bGV0IGRlYnVnZ2FibGVDbGllbnRzO1xuXHRsZXQgc2VsZWN0ZWQ7XG5cblx0bGV0ICRjbGllbnRNYW5hZ2VyLFxuXHRcdCQkdW5zdWJzY3JpYmVfY2xpZW50TWFuYWdlciA9IG5vb3AsXG5cdFx0JCRzdWJzY3JpYmVfY2xpZW50TWFuYWdlciA9ICgpID0+ICgkJHVuc3Vic2NyaWJlX2NsaWVudE1hbmFnZXIoKSwgJCR1bnN1YnNjcmliZV9jbGllbnRNYW5hZ2VyID0gc3Vic2NyaWJlKGNsaWVudE1hbmFnZXIsICQkdmFsdWUgPT4gJCRpbnZhbGlkYXRlKDUsICRjbGllbnRNYW5hZ2VyID0gJCR2YWx1ZSkpLCBjbGllbnRNYW5hZ2VyKTtcblxuXHQkJHNlbGYuJCQub25fZGVzdHJveS5wdXNoKCgpID0+ICQkdW5zdWJzY3JpYmVfY2xpZW50TWFuYWdlcigpKTtcblx0bGV0IHsgY2xpZW50TWFuYWdlciB9ID0gJCRwcm9wcztcblx0JCRzdWJzY3JpYmVfY2xpZW50TWFuYWdlcigpO1xuXG5cdGNvbnN0IGhhbmRsZVNlbGVjdGlvbiA9IGUgPT4ge1xuXHRcdC8vIFJlcXVlc3QgdG8gc3dpdGNoIHRvIHRoZSBzZWxlY3RlZCBjbGllbnQuXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDbGllbnQgPSBkZWJ1Z2dhYmxlQ2xpZW50c1tlLnRhcmdldC52YWx1ZV07XG5cblx0XHRjbGllbnRNYW5hZ2VyLnN3aXRjaFRvQ2xpZW50KHNlbGVjdGVkQ2xpZW50KTtcblxuXHRcdC8vIE1haW50YWluIGZvY3VzIG9uIHRoZSBjbGllbnQgc2VsZWN0IG1lbnUgYWZ0ZXIgc3dpdGNoaW5nIGNsaWVudHMuXG5cdFx0Ly8gTmVjZXNzYXJ5IGJlY2F1c2Ugc3dpdGNoaW5nIGNsaWVudHMgd2lsbCB1c3VhbGx5IHRyaWdnZXIgYSBtb3VudC91bm1vdW50LlxuXHRcdGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdElkKTtcblxuXHRcdGlmIChzZWxlY3QpIHNlbGVjdC5mb2N1cygpO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRzZWxlY3RlZCA9IHNlbGVjdF92YWx1ZSh0aGlzKTtcblx0XHQoKCgkJGludmFsaWRhdGUoMiwgc2VsZWN0ZWQpLCAkJGludmFsaWRhdGUoMSwgZGVidWdnYWJsZUNsaWVudHMpKSwgJCRpbnZhbGlkYXRlKDQsIGNsaWVudCkpLCAkJGludmFsaWRhdGUoNSwgJGNsaWVudE1hbmFnZXIpKTtcblx0fVxuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnY2xpZW50TWFuYWdlcicgaW4gJCRwcm9wcykgJCRzdWJzY3JpYmVfY2xpZW50TWFuYWdlcigkJGludmFsaWRhdGUoMCwgY2xpZW50TWFuYWdlciA9ICQkcHJvcHMuY2xpZW50TWFuYWdlcikpO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qJGNsaWVudE1hbmFnZXIqLyAzMikge1xuXHRcdFx0ICQkaW52YWxpZGF0ZSg0LCB7IGNsaWVudCwgZGVidWdnYWJsZUNsaWVudHMgfSA9ICRjbGllbnRNYW5hZ2VyLCBjbGllbnQsICgkJGludmFsaWRhdGUoMSwgZGVidWdnYWJsZUNsaWVudHMpLCAkJGludmFsaWRhdGUoNSwgJGNsaWVudE1hbmFnZXIpKSk7XG5cdFx0fVxuXG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qZGVidWdnYWJsZUNsaWVudHMsIGNsaWVudCovIDE4KSB7XG5cdFx0XHQgJCRpbnZhbGlkYXRlKDIsIHNlbGVjdGVkID0gZGVidWdnYWJsZUNsaWVudHMuaW5kZXhPZihjbGllbnQpKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIFtcblx0XHRjbGllbnRNYW5hZ2VyLFxuXHRcdGRlYnVnZ2FibGVDbGllbnRzLFxuXHRcdHNlbGVjdGVkLFxuXHRcdGhhbmRsZVNlbGVjdGlvbixcblx0XHRjbGllbnQsXG5cdFx0JGNsaWVudE1hbmFnZXIsXG5cdFx0c2VsZWN0X2NoYW5nZV9oYW5kbGVyXG5cdF07XG59XG5cbmNsYXNzIENsaWVudFN3aXRjaGVyIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSRmLCBjcmVhdGVfZnJhZ21lbnQkZiwgc2FmZV9ub3RfZXF1YWwsIHsgY2xpZW50TWFuYWdlcjogMCB9LCBhZGRfY3NzJDgpO1xuXHR9XG59XG5cbi8qIHNyYy9jbGllbnQvZGVidWcvbWFpbi9Ib3RrZXkuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJDkodGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS0xdmZqMW1uXCIsIFwiLmtleS5zdmVsdGUtMXZmajFtbi5zdmVsdGUtMXZmajFtbntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcn1idXR0b24uc3ZlbHRlLTF2ZmoxbW4uc3ZlbHRlLTF2ZmoxbW57Y3Vyc29yOnBvaW50ZXI7bWluLXdpZHRoOjEwcHg7cGFkZGluZy1sZWZ0OjVweDtwYWRkaW5nLXJpZ2h0OjVweDtoZWlnaHQ6MjBweDtsaW5lLWhlaWdodDoyMHB4O3RleHQtYWxpZ246Y2VudGVyO2JvcmRlcjoxcHggc29saWQgI2NjYztib3gtc2hhZG93OjFweCAxcHggMXB4ICM4ODg7YmFja2dyb3VuZDojZWVlO2NvbG9yOiM0NDR9YnV0dG9uLnN2ZWx0ZS0xdmZqMW1uLnN2ZWx0ZS0xdmZqMW1uOmhvdmVye2JhY2tncm91bmQ6I2RkZH0ua2V5LmFjdGl2ZS5zdmVsdGUtMXZmajFtbiBidXR0b24uc3ZlbHRlLTF2ZmoxbW57YmFja2dyb3VuZDojZGRkO2JvcmRlcjoxcHggc29saWQgIzk5OTtib3gtc2hhZG93Om5vbmV9bGFiZWwuc3ZlbHRlLTF2ZmoxbW4uc3ZlbHRlLTF2ZmoxbW57bWFyZ2luLWxlZnQ6MTBweH1cIik7XG59XG5cbi8vICg3ODoyKSB7I2lmIGxhYmVsfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrJDUoY3R4KSB7XG5cdGxldCBsYWJlbF8xO1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IHNwYW47XG5cdGxldCB0Ml92YWx1ZSA9IGAoc2hvcnRjdXQ6ICR7Lyp2YWx1ZSovIGN0eFswXX0pYCArIFwiXCI7XG5cdGxldCB0MjtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRsYWJlbF8xID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0dDAgPSB0ZXh0KC8qbGFiZWwqLyBjdHhbMV0pO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dDIgPSB0ZXh0KHQyX3ZhbHVlKTtcblx0XHRcdGF0dHIoc3BhbiwgXCJjbGFzc1wiLCBcInNjcmVlbi1yZWFkZXItb25seVwiKTtcblx0XHRcdGF0dHIobGFiZWxfMSwgXCJmb3JcIiwgLyppZCovIGN0eFs1XSk7XG5cdFx0XHRhdHRyKGxhYmVsXzEsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMXZmajFtblwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGxhYmVsXzEsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQobGFiZWxfMSwgdDApO1xuXHRcdFx0YXBwZW5kKGxhYmVsXzEsIHQxKTtcblx0XHRcdGFwcGVuZChsYWJlbF8xLCBzcGFuKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0Mik7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qbGFiZWwqLyAyKSBzZXRfZGF0YSh0MCwgLypsYWJlbCovIGN0eFsxXSk7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnZhbHVlKi8gMSAmJiB0Ml92YWx1ZSAhPT0gKHQyX3ZhbHVlID0gYChzaG9ydGN1dDogJHsvKnZhbHVlKi8gY3R4WzBdfSlgICsgXCJcIikpIHNldF9kYXRhKHQyLCB0Ml92YWx1ZSk7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGxhYmVsXzEpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JGcoY3R4KSB7XG5cdGxldCBkaXY7XG5cdGxldCBidXR0b247XG5cdGxldCB0MDtcblx0bGV0IHQxO1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cdGxldCBpZl9ibG9jayA9IC8qbGFiZWwqLyBjdHhbMV0gJiYgY3JlYXRlX2lmX2Jsb2NrJDUoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YnV0dG9uID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdHQwID0gdGV4dCgvKnZhbHVlKi8gY3R4WzBdKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0YXR0cihidXR0b24sIFwiaWRcIiwgLyppZCovIGN0eFs1XSk7XG5cdFx0XHRidXR0b24uZGlzYWJsZWQgPSAvKmRpc2FibGUqLyBjdHhbMl07XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJjbGFzc1wiLCBcInN2ZWx0ZS0xdmZqMW1uXCIpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJrZXkgc3ZlbHRlLTF2ZmoxbW5cIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MoZGl2LCBcImFjdGl2ZVwiLCAvKmFjdGl2ZSovIGN0eFszXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBidXR0b24pO1xuXHRcdFx0YXBwZW5kKGJ1dHRvbiwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDEpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKGRpdiwgbnVsbCk7XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRcdGxpc3Rlbih3aW5kb3csIFwia2V5ZG93blwiLCAvKktleXByZXNzKi8gY3R4WzddKSxcblx0XHRcdFx0XHRsaXN0ZW4oYnV0dG9uLCBcImNsaWNrXCIsIC8qQWN0aXZhdGUqLyBjdHhbNl0pXG5cdFx0XHRcdF07XG5cblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwKGN0eCwgW2RpcnR5XSkge1xuXHRcdFx0aWYgKGRpcnR5ICYgLyp2YWx1ZSovIDEpIHNldF9kYXRhKHQwLCAvKnZhbHVlKi8gY3R4WzBdKTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLypkaXNhYmxlKi8gNCkge1xuXHRcdFx0XHRidXR0b24uZGlzYWJsZWQgPSAvKmRpc2FibGUqLyBjdHhbMl07XG5cdFx0XHR9XG5cblx0XHRcdGlmICgvKmxhYmVsKi8gY3R4WzFdKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLnAoY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2skNShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKGRpdiwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKmFjdGl2ZSovIDgpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGRpdiwgXCJhY3RpdmVcIiwgLyphY3RpdmUqLyBjdHhbM10pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goZGl2KTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZCgpO1xuXHRcdFx0bW91bnRlZCA9IGZhbHNlO1xuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJGcoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0ICRkaXNhYmxlSG90a2V5cztcblx0bGV0IHsgdmFsdWUgfSA9ICQkcHJvcHM7XG5cdGxldCB7IG9uUHJlc3MgPSBudWxsIH0gPSAkJHByb3BzO1xuXHRsZXQgeyBsYWJlbCA9IG51bGwgfSA9ICQkcHJvcHM7XG5cdGxldCB7IGRpc2FibGUgPSBmYWxzZSB9ID0gJCRwcm9wcztcblx0Y29uc3QgeyBkaXNhYmxlSG90a2V5cyB9ID0gZ2V0Q29udGV4dCgnaG90a2V5cycpO1xuXHRjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgZGlzYWJsZUhvdGtleXMsIHZhbHVlID0+ICQkaW52YWxpZGF0ZSg5LCAkZGlzYWJsZUhvdGtleXMgPSB2YWx1ZSkpO1xuXHRsZXQgYWN0aXZlID0gZmFsc2U7XG5cdGxldCBpZCA9IGBrZXktJHt2YWx1ZX1gO1xuXG5cdGZ1bmN0aW9uIERlYWN0aXZhdGUoKSB7XG5cdFx0JCRpbnZhbGlkYXRlKDMsIGFjdGl2ZSA9IGZhbHNlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIEFjdGl2YXRlKCkge1xuXHRcdCQkaW52YWxpZGF0ZSgzLCBhY3RpdmUgPSB0cnVlKTtcblx0XHRzZXRUaW1lb3V0KERlYWN0aXZhdGUsIDIwMCk7XG5cblx0XHRpZiAob25QcmVzcykge1xuXHRcdFx0c2V0VGltZW91dChvblByZXNzLCAxKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBLZXlwcmVzcyhlKSB7XG5cdFx0aWYgKCEkZGlzYWJsZUhvdGtleXMgJiYgIWRpc2FibGUgJiYgIWUuY3RybEtleSAmJiAhZS5tZXRhS2V5ICYmIGUua2V5ID09IHZhbHVlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRBY3RpdmF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgndmFsdWUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCB2YWx1ZSA9ICQkcHJvcHMudmFsdWUpO1xuXHRcdGlmICgnb25QcmVzcycgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDgsIG9uUHJlc3MgPSAkJHByb3BzLm9uUHJlc3MpO1xuXHRcdGlmICgnbGFiZWwnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxLCBsYWJlbCA9ICQkcHJvcHMubGFiZWwpO1xuXHRcdGlmICgnZGlzYWJsZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDIsIGRpc2FibGUgPSAkJHByb3BzLmRpc2FibGUpO1xuXHR9O1xuXG5cdHJldHVybiBbdmFsdWUsIGxhYmVsLCBkaXNhYmxlLCBhY3RpdmUsIGRpc2FibGVIb3RrZXlzLCBpZCwgQWN0aXZhdGUsIEtleXByZXNzLCBvblByZXNzXTtcbn1cblxuY2xhc3MgSG90a2V5IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cblx0XHRpbml0KFxuXHRcdFx0dGhpcyxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRpbnN0YW5jZSRnLFxuXHRcdFx0Y3JlYXRlX2ZyYWdtZW50JGcsXG5cdFx0XHRzYWZlX25vdF9lcXVhbCxcblx0XHRcdHtcblx0XHRcdFx0dmFsdWU6IDAsXG5cdFx0XHRcdG9uUHJlc3M6IDgsXG5cdFx0XHRcdGxhYmVsOiAxLFxuXHRcdFx0XHRkaXNhYmxlOiAyXG5cdFx0XHR9LFxuXHRcdFx0YWRkX2NzcyQ5XG5cdFx0KTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL21haW4vSW50ZXJhY3RpdmVGdW5jdGlvbi5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3MkYSh0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLTFtcHBxbXBcIiwgXCIubW92ZS5zdmVsdGUtMW1wcHFtcHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2N1cnNvcjpwb2ludGVyO21hcmdpbi1sZWZ0OjEwcHg7Y29sb3I6IzY2Nn0ubW92ZS5zdmVsdGUtMW1wcHFtcDpob3Zlcntjb2xvcjojMzMzfS5tb3ZlLmFjdGl2ZS5zdmVsdGUtMW1wcHFtcHtjb2xvcjojMTExO2ZvbnQtd2VpZ2h0OmJvbGR9LmFyZy1maWVsZC5zdmVsdGUtMW1wcHFtcHtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6bW9ub3NwYWNlfVwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JGgoY3R4KSB7XG5cdGxldCBkaXY7XG5cdGxldCBzcGFuMDtcblx0bGV0IHQwO1xuXHRsZXQgdDE7XG5cdGxldCBzcGFuMTtcblx0bGV0IHQzO1xuXHRsZXQgc3BhbjI7XG5cdGxldCB0NDtcblx0bGV0IHNwYW4zO1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHNwYW4wID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHR0MCA9IHRleHQoLypuYW1lKi8gY3R4WzJdKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdHNwYW4xID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRzcGFuMS50ZXh0Q29udGVudCA9IFwiKFwiO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0c3BhbjIgPSBlbGVtZW50KFwic3BhblwiKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdHNwYW4zID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRzcGFuMy50ZXh0Q29udGVudCA9IFwiKVwiO1xuXHRcdFx0YXR0cihzcGFuMiwgXCJjbGFzc1wiLCBcImFyZy1maWVsZCBzdmVsdGUtMW1wcHFtcFwiKTtcblx0XHRcdGF0dHIoc3BhbjIsIFwiY29udGVudGVkaXRhYmxlXCIsIFwiXCIpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJtb3ZlIHN2ZWx0ZS0xbXBwcW1wXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGRpdiwgXCJhY3RpdmVcIiwgLyphY3RpdmUqLyBjdHhbM10pO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgc3BhbjApO1xuXHRcdFx0YXBwZW5kKHNwYW4wLCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MSk7XG5cdFx0XHRhcHBlbmQoZGl2LCBzcGFuMSk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0Myk7XG5cdFx0XHRhcHBlbmQoZGl2LCBzcGFuMik7XG5cdFx0XHQvKnNwYW4yX2JpbmRpbmcqLyBjdHhbNl0oc3BhbjIpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDQpO1xuXHRcdFx0YXBwZW5kKGRpdiwgc3BhbjMpO1xuXG5cdFx0XHRpZiAoIW1vdW50ZWQpIHtcblx0XHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0XHRsaXN0ZW4oc3BhbjIsIFwiZm9jdXNcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0aWYgKGlzX2Z1bmN0aW9uKC8qQWN0aXZhdGUqLyBjdHhbMF0pKSAvKkFjdGl2YXRlKi8gY3R4WzBdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0bGlzdGVuKHNwYW4yLCBcImJsdXJcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0aWYgKGlzX2Z1bmN0aW9uKC8qRGVhY3RpdmF0ZSovIGN0eFsxXSkpIC8qRGVhY3RpdmF0ZSovIGN0eFsxXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdGxpc3RlbihzcGFuMiwgXCJrZXlwcmVzc1wiLCBzdG9wX3Byb3BhZ2F0aW9uKGtleXByZXNzX2hhbmRsZXIpKSxcblx0XHRcdFx0XHRsaXN0ZW4oc3BhbjIsIFwia2V5ZG93blwiLCAvKk9uS2V5RG93biovIGN0eFs1XSksXG5cdFx0XHRcdFx0bGlzdGVuKGRpdiwgXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRpZiAoaXNfZnVuY3Rpb24oLypBY3RpdmF0ZSovIGN0eFswXSkpIC8qQWN0aXZhdGUqLyBjdHhbMF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRdO1xuXG5cdFx0XHRcdG1vdW50ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cChuZXdfY3R4LCBbZGlydHldKSB7XG5cdFx0XHRjdHggPSBuZXdfY3R4O1xuXHRcdFx0aWYgKGRpcnR5ICYgLypuYW1lKi8gNCkgc2V0X2RhdGEodDAsIC8qbmFtZSovIGN0eFsyXSk7XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qYWN0aXZlKi8gOCkge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MoZGl2LCBcImFjdGl2ZVwiLCAvKmFjdGl2ZSovIGN0eFszXSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYpO1xuXHRcdFx0LypzcGFuMl9iaW5kaW5nKi8gY3R4WzZdKG51bGwpO1xuXHRcdFx0bW91bnRlZCA9IGZhbHNlO1xuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbmNvbnN0IGtleXByZXNzX2hhbmRsZXIgPSAoKSA9PiB7XG5cdFxufTtcblxuZnVuY3Rpb24gaW5zdGFuY2UkaCgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBBY3RpdmF0ZSB9ID0gJCRwcm9wcztcblx0bGV0IHsgRGVhY3RpdmF0ZSB9ID0gJCRwcm9wcztcblx0bGV0IHsgbmFtZSB9ID0gJCRwcm9wcztcblx0bGV0IHsgYWN0aXZlIH0gPSAkJHByb3BzO1xuXHRsZXQgc3Bhbjtcblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuXHRmdW5jdGlvbiBTdWJtaXQoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHZhbHVlID0gc3Bhbi5pbm5lclRleHQ7XG5cdFx0XHRsZXQgYXJnQXJyYXkgPSBuZXcgRnVuY3Rpb24oYHJldHVybiBbJHt2YWx1ZX1dYCkoKTtcblx0XHRcdGRpc3BhdGNoKCdzdWJtaXQnLCBhcmdBcnJheSk7XG5cdFx0fSBjYXRjaChlcnJvcikge1xuXHRcdFx0ZGlzcGF0Y2goJ2Vycm9yJywgZXJyb3IpO1xuXHRcdH1cblxuXHRcdCQkaW52YWxpZGF0ZSg0LCBzcGFuLmlubmVyVGV4dCA9ICcnLCBzcGFuKTtcblx0fVxuXG5cdGZ1bmN0aW9uIE9uS2V5RG93bihlKSB7XG5cdFx0aWYgKGUua2V5ID09ICdFbnRlcicpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFN1Ym1pdCgpO1xuXHRcdH1cblxuXHRcdGlmIChlLmtleSA9PSAnRXNjYXBlJykge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0RGVhY3RpdmF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdGFmdGVyVXBkYXRlKCgpID0+IHtcblx0XHRpZiAoYWN0aXZlKSB7XG5cdFx0XHRzcGFuLmZvY3VzKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwYW4uYmx1cigpO1xuXHRcdH1cblx0fSk7XG5cblx0ZnVuY3Rpb24gc3BhbjJfYmluZGluZygkJHZhbHVlKSB7XG5cdFx0YmluZGluZ19jYWxsYmFja3NbJCR2YWx1ZSA/ICd1bnNoaWZ0JyA6ICdwdXNoJ10oKCkgPT4ge1xuXHRcdFx0c3BhbiA9ICQkdmFsdWU7XG5cdFx0XHQkJGludmFsaWRhdGUoNCwgc3Bhbik7XG5cdFx0fSk7XG5cdH1cblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ0FjdGl2YXRlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwgQWN0aXZhdGUgPSAkJHByb3BzLkFjdGl2YXRlKTtcblx0XHRpZiAoJ0RlYWN0aXZhdGUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxLCBEZWFjdGl2YXRlID0gJCRwcm9wcy5EZWFjdGl2YXRlKTtcblx0XHRpZiAoJ25hbWUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBuYW1lID0gJCRwcm9wcy5uYW1lKTtcblx0XHRpZiAoJ2FjdGl2ZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDMsIGFjdGl2ZSA9ICQkcHJvcHMuYWN0aXZlKTtcblx0fTtcblxuXHRyZXR1cm4gW0FjdGl2YXRlLCBEZWFjdGl2YXRlLCBuYW1lLCBhY3RpdmUsIHNwYW4sIE9uS2V5RG93biwgc3BhbjJfYmluZGluZ107XG59XG5cbmNsYXNzIEludGVyYWN0aXZlRnVuY3Rpb24gZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGluaXQoXG5cdFx0XHR0aGlzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdGluc3RhbmNlJGgsXG5cdFx0XHRjcmVhdGVfZnJhZ21lbnQkaCxcblx0XHRcdHNhZmVfbm90X2VxdWFsLFxuXHRcdFx0e1xuXHRcdFx0XHRBY3RpdmF0ZTogMCxcblx0XHRcdFx0RGVhY3RpdmF0ZTogMSxcblx0XHRcdFx0bmFtZTogMixcblx0XHRcdFx0YWN0aXZlOiAzXG5cdFx0XHR9LFxuXHRcdFx0YWRkX2NzcyRhXG5cdFx0KTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL21haW4vTW92ZS5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3MkYih0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLXNtcXNzY1wiLCBcIi5tb3ZlLWVycm9yLnN2ZWx0ZS1zbXFzc2N7Y29sb3I6I2EwMDtmb250LXdlaWdodDpib2xkfS53cmFwcGVyLnN2ZWx0ZS1zbXFzc2N7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzthbGlnbi1pdGVtczpjZW50ZXJ9XCIpO1xufVxuXG4vLyAoNjU6MikgeyNpZiBlcnJvcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayQ2KGN0eCkge1xuXHRsZXQgc3Bhbjtcblx0bGV0IHQ7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dCA9IHRleHQoLyplcnJvciovIGN0eFsyXSk7XG5cdFx0XHRhdHRyKHNwYW4sIFwiY2xhc3NcIiwgXCJtb3ZlLWVycm9yIHN2ZWx0ZS1zbXFzc2NcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzcGFuLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHNwYW4sIHQpO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKmVycm9yKi8gNCkgc2V0X2RhdGEodCwgLyplcnJvciovIGN0eFsyXSk7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNwYW4pO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JGkoY3R4KSB7XG5cdGxldCBkaXYxO1xuXHRsZXQgZGl2MDtcblx0bGV0IGhvdGtleTtcblx0bGV0IHQwO1xuXHRsZXQgaW50ZXJhY3RpdmVmdW5jdGlvbjtcblx0bGV0IHQxO1xuXHRsZXQgY3VycmVudDtcblxuXHRob3RrZXkgPSBuZXcgSG90a2V5KHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHZhbHVlOiAvKnNob3J0Y3V0Ki8gY3R4WzBdLFxuXHRcdFx0XHRvblByZXNzOiAvKkFjdGl2YXRlKi8gY3R4WzRdXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0aW50ZXJhY3RpdmVmdW5jdGlvbiA9IG5ldyBJbnRlcmFjdGl2ZUZ1bmN0aW9uKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdEFjdGl2YXRlOiAvKkFjdGl2YXRlKi8gY3R4WzRdLFxuXHRcdFx0XHREZWFjdGl2YXRlOiAvKkRlYWN0aXZhdGUqLyBjdHhbNV0sXG5cdFx0XHRcdG5hbWU6IC8qbmFtZSovIGN0eFsxXSxcblx0XHRcdFx0YWN0aXZlOiAvKmFjdGl2ZSovIGN0eFszXVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGludGVyYWN0aXZlZnVuY3Rpb24uJG9uKFwic3VibWl0XCIsIC8qU3VibWl0Ki8gY3R4WzZdKTtcblx0aW50ZXJhY3RpdmVmdW5jdGlvbi4kb24oXCJlcnJvclwiLCAvKkVycm9yKi8gY3R4WzddKTtcblx0bGV0IGlmX2Jsb2NrID0gLyplcnJvciovIGN0eFsyXSAmJiBjcmVhdGVfaWZfYmxvY2skNihjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGhvdGtleS4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGludGVyYWN0aXZlZnVuY3Rpb24uJCQuZnJhZ21lbnQpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5jKCk7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJ3cmFwcGVyIHN2ZWx0ZS1zbXFzc2NcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYxLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGRpdjApO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGhvdGtleSwgZGl2MCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgdDApO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGludGVyYWN0aXZlZnVuY3Rpb24sIGRpdjAsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2subShkaXYxLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGNvbnN0IGhvdGtleV9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKnNob3J0Y3V0Ki8gMSkgaG90a2V5X2NoYW5nZXMudmFsdWUgPSAvKnNob3J0Y3V0Ki8gY3R4WzBdO1xuXHRcdFx0aG90a2V5LiRzZXQoaG90a2V5X2NoYW5nZXMpO1xuXHRcdFx0Y29uc3QgaW50ZXJhY3RpdmVmdW5jdGlvbl9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKm5hbWUqLyAyKSBpbnRlcmFjdGl2ZWZ1bmN0aW9uX2NoYW5nZXMubmFtZSA9IC8qbmFtZSovIGN0eFsxXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qYWN0aXZlKi8gOCkgaW50ZXJhY3RpdmVmdW5jdGlvbl9jaGFuZ2VzLmFjdGl2ZSA9IC8qYWN0aXZlKi8gY3R4WzNdO1xuXHRcdFx0aW50ZXJhY3RpdmVmdW5jdGlvbi4kc2V0KGludGVyYWN0aXZlZnVuY3Rpb25fY2hhbmdlcyk7XG5cblx0XHRcdGlmICgvKmVycm9yKi8gY3R4WzJdKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLnAoY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2skNihjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKGRpdjEsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdGlmX2Jsb2NrLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrID0gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGhvdGtleS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpbnRlcmFjdGl2ZWZ1bmN0aW9uLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGhvdGtleS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaW50ZXJhY3RpdmVmdW5jdGlvbi4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYxKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGhvdGtleSk7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChpbnRlcmFjdGl2ZWZ1bmN0aW9uKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZCgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkaSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBzaG9ydGN1dCB9ID0gJCRwcm9wcztcblx0bGV0IHsgbmFtZSB9ID0gJCRwcm9wcztcblx0bGV0IHsgZm4gfSA9ICQkcHJvcHM7XG5cdGNvbnN0IHsgZGlzYWJsZUhvdGtleXMgfSA9IGdldENvbnRleHQoJ2hvdGtleXMnKTtcblx0bGV0IGVycm9yJDEgPSAnJztcblx0bGV0IGFjdGl2ZSA9IGZhbHNlO1xuXG5cdGZ1bmN0aW9uIEFjdGl2YXRlKCkge1xuXHRcdGRpc2FibGVIb3RrZXlzLnNldCh0cnVlKTtcblx0XHQkJGludmFsaWRhdGUoMywgYWN0aXZlID0gdHJ1ZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBEZWFjdGl2YXRlKCkge1xuXHRcdGRpc2FibGVIb3RrZXlzLnNldChmYWxzZSk7XG5cdFx0JCRpbnZhbGlkYXRlKDIsIGVycm9yJDEgPSAnJyk7XG5cdFx0JCRpbnZhbGlkYXRlKDMsIGFjdGl2ZSA9IGZhbHNlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIFN1Ym1pdChlKSB7XG5cdFx0JCRpbnZhbGlkYXRlKDIsIGVycm9yJDEgPSAnJyk7XG5cdFx0RGVhY3RpdmF0ZSgpO1xuXHRcdGZuLmFwcGx5KHRoaXMsIGUuZGV0YWlsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIEVycm9yKGUpIHtcblx0XHQkJGludmFsaWRhdGUoMiwgZXJyb3IkMSA9IGUuZGV0YWlsKTtcblx0XHRlcnJvcihlLmRldGFpbCk7XG5cdH1cblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ3Nob3J0Y3V0JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMCwgc2hvcnRjdXQgPSAkJHByb3BzLnNob3J0Y3V0KTtcblx0XHRpZiAoJ25hbWUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxLCBuYW1lID0gJCRwcm9wcy5uYW1lKTtcblx0XHRpZiAoJ2ZuJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoOCwgZm4gPSAkJHByb3BzLmZuKTtcblx0fTtcblxuXHRyZXR1cm4gW3Nob3J0Y3V0LCBuYW1lLCBlcnJvciQxLCBhY3RpdmUsIEFjdGl2YXRlLCBEZWFjdGl2YXRlLCBTdWJtaXQsIEVycm9yLCBmbl07XG59XG5cbmNsYXNzIE1vdmUgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJGksIGNyZWF0ZV9mcmFnbWVudCRpLCBzYWZlX25vdF9lcXVhbCwgeyBzaG9ydGN1dDogMCwgbmFtZTogMSwgZm46IDggfSwgYWRkX2NzcyRiKTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL21haW4vQ29udHJvbHMuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJGModGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS1jM2xhdmhcIiwgXCJ1bC5zdmVsdGUtYzNsYXZoe3BhZGRpbmctbGVmdDowfWxpLnN2ZWx0ZS1jM2xhdmh7bGlzdC1zdHlsZTpub25lO21hcmdpbjpub25lO21hcmdpbi1ib3R0b206NXB4fVwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JGooY3R4KSB7XG5cdGxldCB1bDtcblx0bGV0IGxpMDtcblx0bGV0IGhvdGtleTA7XG5cdGxldCB0MDtcblx0bGV0IGxpMTtcblx0bGV0IGhvdGtleTE7XG5cdGxldCB0MTtcblx0bGV0IGxpMjtcblx0bGV0IGhvdGtleTI7XG5cdGxldCB0Mjtcblx0bGV0IGxpMztcblx0bGV0IGhvdGtleTM7XG5cdGxldCBjdXJyZW50O1xuXG5cdGhvdGtleTAgPSBuZXcgSG90a2V5KHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHZhbHVlOiBcIjFcIixcblx0XHRcdFx0b25QcmVzczogLypjbGllbnQqLyBjdHhbMF0ucmVzZXQsXG5cdFx0XHRcdGxhYmVsOiBcInJlc2V0XCJcblx0XHRcdH1cblx0XHR9KTtcblxuXHRob3RrZXkxID0gbmV3IEhvdGtleSh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHR2YWx1ZTogXCIyXCIsXG5cdFx0XHRcdG9uUHJlc3M6IC8qU2F2ZSovIGN0eFsyXSxcblx0XHRcdFx0bGFiZWw6IFwic2F2ZVwiXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0aG90a2V5MiA9IG5ldyBIb3RrZXkoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0dmFsdWU6IFwiM1wiLFxuXHRcdFx0XHRvblByZXNzOiAvKlJlc3RvcmUqLyBjdHhbM10sXG5cdFx0XHRcdGxhYmVsOiBcInJlc3RvcmVcIlxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGhvdGtleTMgPSBuZXcgSG90a2V5KHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHZhbHVlOiBcIi5cIixcblx0XHRcdFx0b25QcmVzczogLypUb2dnbGVWaXNpYmlsaXR5Ki8gY3R4WzFdLFxuXHRcdFx0XHRsYWJlbDogXCJoaWRlXCJcblx0XHRcdH1cblx0XHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHR1bCA9IGVsZW1lbnQoXCJ1bFwiKTtcblx0XHRcdGxpMCA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoaG90a2V5MC4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRsaTEgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGhvdGtleTEuJCQuZnJhZ21lbnQpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0bGkyID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChob3RrZXkyLiQkLmZyYWdtZW50KTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGxpMyA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoaG90a2V5My4kJC5mcmFnbWVudCk7XG5cdFx0XHRhdHRyKGxpMCwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1jM2xhdmhcIik7XG5cdFx0XHRhdHRyKGxpMSwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1jM2xhdmhcIik7XG5cdFx0XHRhdHRyKGxpMiwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1jM2xhdmhcIik7XG5cdFx0XHRhdHRyKGxpMywgXCJjbGFzc1wiLCBcInN2ZWx0ZS1jM2xhdmhcIik7XG5cdFx0XHRhdHRyKHVsLCBcImlkXCIsIFwiZGVidWctY29udHJvbHNcIik7XG5cdFx0XHRhdHRyKHVsLCBcImNsYXNzXCIsIFwiY29udHJvbHMgc3ZlbHRlLWMzbGF2aFwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHVsLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTApO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGhvdGtleTAsIGxpMCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQodWwsIHQwKTtcblx0XHRcdGFwcGVuZCh1bCwgbGkxKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChob3RrZXkxLCBsaTEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKHVsLCB0MSk7XG5cdFx0XHRhcHBlbmQodWwsIGxpMik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoaG90a2V5MiwgbGkyLCBudWxsKTtcblx0XHRcdGFwcGVuZCh1bCwgdDIpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTMpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGhvdGtleTMsIGxpMywgbnVsbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRjb25zdCBob3RrZXkwX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qY2xpZW50Ki8gMSkgaG90a2V5MF9jaGFuZ2VzLm9uUHJlc3MgPSAvKmNsaWVudCovIGN0eFswXS5yZXNldDtcblx0XHRcdGhvdGtleTAuJHNldChob3RrZXkwX2NoYW5nZXMpO1xuXHRcdFx0Y29uc3QgaG90a2V5M19jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKlRvZ2dsZVZpc2liaWxpdHkqLyAyKSBob3RrZXkzX2NoYW5nZXMub25QcmVzcyA9IC8qVG9nZ2xlVmlzaWJpbGl0eSovIGN0eFsxXTtcblx0XHRcdGhvdGtleTMuJHNldChob3RrZXkzX2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oaG90a2V5MC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihob3RrZXkxLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGhvdGtleTIuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdHRyYW5zaXRpb25faW4oaG90a2V5My4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChob3RrZXkwLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChob3RrZXkxLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChob3RrZXkyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChob3RrZXkzLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHVsKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGhvdGtleTApO1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoaG90a2V5MSk7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChob3RrZXkyKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGhvdGtleTMpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkaigkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBjbGllbnQgfSA9ICQkcHJvcHM7XG5cdGxldCB7IFRvZ2dsZVZpc2liaWxpdHkgfSA9ICQkcHJvcHM7XG5cblx0ZnVuY3Rpb24gU2F2ZSgpIHtcblx0XHQvLyBnZXQgc3RhdGUgdG8gcGVyc2lzdCBhbmQgb3ZlcndyaXRlIGRlbHRhbG9nLCBfdW5kbywgYW5kIF9yZWRvXG5cdFx0Y29uc3Qgc3RhdGUgPSBjbGllbnQuZ2V0U3RhdGUoKTtcblxuXHRcdGNvbnN0IGpzb24gPSBzdHJpbmdpZnkoe1xuXHRcdFx0Li4uc3RhdGUsXG5cdFx0XHRfdW5kbzogW10sXG5cdFx0XHRfcmVkbzogW10sXG5cdFx0XHRkZWx0YWxvZzogW11cblx0XHR9KTtcblxuXHRcdHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2FtZXN0YXRlJywganNvbik7XG5cdFx0d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpbml0aWFsU3RhdGUnLCBzdHJpbmdpZnkoY2xpZW50LmluaXRpYWxTdGF0ZSkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gUmVzdG9yZSgpIHtcblx0XHRjb25zdCBnYW1lc3RhdGVKU09OID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lc3RhdGUnKTtcblx0XHRjb25zdCBpbml0aWFsU3RhdGVKU09OID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpbml0aWFsU3RhdGUnKTtcblxuXHRcdGlmIChnYW1lc3RhdGVKU09OICE9PSBudWxsICYmIGluaXRpYWxTdGF0ZUpTT04gIT09IG51bGwpIHtcblx0XHRcdGNvbnN0IGdhbWVzdGF0ZSA9IHBhcnNlKGdhbWVzdGF0ZUpTT04pO1xuXHRcdFx0Y29uc3QgaW5pdGlhbFN0YXRlID0gcGFyc2UoaW5pdGlhbFN0YXRlSlNPTik7XG5cdFx0XHRjbGllbnQuc3RvcmUuZGlzcGF0Y2goc3luYyh7IHN0YXRlOiBnYW1lc3RhdGUsIGluaXRpYWxTdGF0ZSB9KSk7XG5cdFx0fVxuXHR9XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdjbGllbnQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBjbGllbnQgPSAkJHByb3BzLmNsaWVudCk7XG5cdFx0aWYgKCdUb2dnbGVWaXNpYmlsaXR5JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgVG9nZ2xlVmlzaWJpbGl0eSA9ICQkcHJvcHMuVG9nZ2xlVmlzaWJpbGl0eSk7XG5cdH07XG5cblx0cmV0dXJuIFtjbGllbnQsIFRvZ2dsZVZpc2liaWxpdHksIFNhdmUsIFJlc3RvcmVdO1xufVxuXG5jbGFzcyBDb250cm9scyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkaiwgY3JlYXRlX2ZyYWdtZW50JGosIHNhZmVfbm90X2VxdWFsLCB7IGNsaWVudDogMCwgVG9nZ2xlVmlzaWJpbGl0eTogMSB9LCBhZGRfY3NzJGMpO1xuXHR9XG59XG5cbi8qIHNyYy9jbGllbnQvZGVidWcvbWFpbi9QbGF5ZXJJbmZvLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gYWRkX2NzcyRkKHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtMTlhYW45cFwiLCBcIi5wbGF5ZXItYm94LnN2ZWx0ZS0xOWFhbjlwe2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3d9LnBsYXllci5zdmVsdGUtMTlhYW45cHtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDozMHB4O2hlaWdodDozMHB4O2xpbmUtaGVpZ2h0OjMwcHg7YmFja2dyb3VuZDojZWVlO2JvcmRlcjozcHggc29saWQgI2ZlZmVmZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94O3BhZGRpbmc6MH0ucGxheWVyLmN1cnJlbnQuc3ZlbHRlLTE5YWFuOXB7YmFja2dyb3VuZDojNTU1O2NvbG9yOiNlZWU7Zm9udC13ZWlnaHQ6Ym9sZH0ucGxheWVyLmFjdGl2ZS5zdmVsdGUtMTlhYW45cHtib3JkZXI6M3B4IHNvbGlkICNmZjdmNTB9XCIpO1xufVxuXG5mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0JDQoY3R4LCBsaXN0LCBpKSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuXHRjaGlsZF9jdHhbN10gPSBsaXN0W2ldO1xuXHRyZXR1cm4gY2hpbGRfY3R4O1xufVxuXG4vLyAoNTk6MikgeyNlYWNoIHBsYXllcnMgYXMgcGxheWVyfVxuZnVuY3Rpb24gY3JlYXRlX2VhY2hfYmxvY2skNChjdHgpIHtcblx0bGV0IGJ1dHRvbjtcblx0bGV0IHQwX3ZhbHVlID0gLypwbGF5ZXIqLyBjdHhbN10gKyBcIlwiO1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IGJ1dHRvbl9hcmlhX2xhYmVsX3ZhbHVlO1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcigpIHtcblx0XHRyZXR1cm4gLypjbGlja19oYW5kbGVyKi8gY3R4WzVdKC8qcGxheWVyKi8gY3R4WzddKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGJ1dHRvbiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHR0MCA9IHRleHQodDBfdmFsdWUpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0YXR0cihidXR0b24sIFwiY2xhc3NcIiwgXCJwbGF5ZXIgc3ZlbHRlLTE5YWFuOXBcIik7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJhcmlhLWxhYmVsXCIsIGJ1dHRvbl9hcmlhX2xhYmVsX3ZhbHVlID0gLypwbGF5ZXJMYWJlbCovIGN0eFs0XSgvKnBsYXllciovIGN0eFs3XSkpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGJ1dHRvbiwgXCJjdXJyZW50XCIsIC8qcGxheWVyKi8gY3R4WzddID09IC8qY3R4Ki8gY3R4WzBdLmN1cnJlbnRQbGF5ZXIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGJ1dHRvbiwgXCJhY3RpdmVcIiwgLypwbGF5ZXIqLyBjdHhbN10gPT0gLypwbGF5ZXJJRCovIGN0eFsxXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoYnV0dG9uLCB0MCk7XG5cdFx0XHRhcHBlbmQoYnV0dG9uLCB0MSk7XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gbGlzdGVuKGJ1dHRvbiwgXCJjbGlja1wiLCBjbGlja19oYW5kbGVyKTtcblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwKG5ld19jdHgsIGRpcnR5KSB7XG5cdFx0XHRjdHggPSBuZXdfY3R4O1xuXHRcdFx0aWYgKGRpcnR5ICYgLypwbGF5ZXJzKi8gNCAmJiB0MF92YWx1ZSAhPT0gKHQwX3ZhbHVlID0gLypwbGF5ZXIqLyBjdHhbN10gKyBcIlwiKSkgc2V0X2RhdGEodDAsIHQwX3ZhbHVlKTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLypwbGF5ZXJzKi8gNCAmJiBidXR0b25fYXJpYV9sYWJlbF92YWx1ZSAhPT0gKGJ1dHRvbl9hcmlhX2xhYmVsX3ZhbHVlID0gLypwbGF5ZXJMYWJlbCovIGN0eFs0XSgvKnBsYXllciovIGN0eFs3XSkpKSB7XG5cdFx0XHRcdGF0dHIoYnV0dG9uLCBcImFyaWEtbGFiZWxcIiwgYnV0dG9uX2FyaWFfbGFiZWxfdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKnBsYXllcnMsIGN0eCovIDUpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGJ1dHRvbiwgXCJjdXJyZW50XCIsIC8qcGxheWVyKi8gY3R4WzddID09IC8qY3R4Ki8gY3R4WzBdLmN1cnJlbnRQbGF5ZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKnBsYXllcnMsIHBsYXllcklEKi8gNikge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MoYnV0dG9uLCBcImFjdGl2ZVwiLCAvKnBsYXllciovIGN0eFs3XSA9PSAvKnBsYXllcklEKi8gY3R4WzFdKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goYnV0dG9uKTtcblx0XHRcdG1vdW50ZWQgPSBmYWxzZTtcblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCRrKGN0eCkge1xuXHRsZXQgZGl2O1xuXHRsZXQgZWFjaF92YWx1ZSA9IC8qcGxheWVycyovIGN0eFsyXTtcblx0bGV0IGVhY2hfYmxvY2tzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQ0KGdldF9lYWNoX2NvbnRleHQkNChjdHgsIGVhY2hfdmFsdWUsIGkpKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0fVxuXG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInBsYXllci1ib3ggc3ZlbHRlLTE5YWFuOXBcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ubShkaXYsIG51bGwpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qcGxheWVyTGFiZWwsIHBsYXllcnMsIGN0eCwgcGxheWVySUQsIE9uQ2xpY2sqLyAzMSkge1xuXHRcdFx0XHRlYWNoX3ZhbHVlID0gLypwbGF5ZXJzKi8gY3R4WzJdO1xuXHRcdFx0XHRsZXQgaTtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHQkNChjdHgsIGVhY2hfdmFsdWUsIGkpO1xuXG5cdFx0XHRcdFx0aWYgKGVhY2hfYmxvY2tzW2ldKSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5wKGNoaWxkX2N0eCwgZGlydHkpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrJDQoY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oZGl2LCBudWxsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uZCgxKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVhY2hfYmxvY2tzLmxlbmd0aCA9IGVhY2hfdmFsdWUubGVuZ3RoO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goZGl2KTtcblx0XHRcdGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2NrcywgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJGsoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHsgY3R4IH0gPSAkJHByb3BzO1xuXHRsZXQgeyBwbGF5ZXJJRCB9ID0gJCRwcm9wcztcblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuXHRmdW5jdGlvbiBPbkNsaWNrKHBsYXllcikge1xuXHRcdGlmIChwbGF5ZXIgPT0gcGxheWVySUQpIHtcblx0XHRcdGRpc3BhdGNoKFwiY2hhbmdlXCIsIHsgcGxheWVySUQ6IG51bGwgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRpc3BhdGNoKFwiY2hhbmdlXCIsIHsgcGxheWVySUQ6IHBsYXllciB9KTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBwbGF5ZXJMYWJlbChwbGF5ZXIpIHtcblx0XHRjb25zdCBwcm9wZXJ0aWVzID0gW107XG5cdFx0aWYgKHBsYXllciA9PSBjdHguY3VycmVudFBsYXllcikgcHJvcGVydGllcy5wdXNoKCdjdXJyZW50Jyk7XG5cdFx0aWYgKHBsYXllciA9PSBwbGF5ZXJJRCkgcHJvcGVydGllcy5wdXNoKCdhY3RpdmUnKTtcblx0XHRsZXQgbGFiZWwgPSBgUGxheWVyICR7cGxheWVyfWA7XG5cdFx0aWYgKHByb3BlcnRpZXMubGVuZ3RoKSBsYWJlbCArPSBgICgke3Byb3BlcnRpZXMuam9pbignLCAnKX0pYDtcblx0XHRyZXR1cm4gbGFiZWw7XG5cdH1cblxuXHRsZXQgcGxheWVycztcblx0Y29uc3QgY2xpY2tfaGFuZGxlciA9IHBsYXllciA9PiBPbkNsaWNrKHBsYXllcik7XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdjdHgnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBjdHggPSAkJHByb3BzLmN0eCk7XG5cdFx0aWYgKCdwbGF5ZXJJRCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDEsIHBsYXllcklEID0gJCRwcm9wcy5wbGF5ZXJJRCk7XG5cdH07XG5cblx0JCRzZWxmLiQkLnVwZGF0ZSA9ICgpID0+IHtcblx0XHRpZiAoJCRzZWxmLiQkLmRpcnR5ICYgLypjdHgqLyAxKSB7XG5cdFx0XHQgJCRpbnZhbGlkYXRlKDIsIHBsYXllcnMgPSBjdHhcblx0XHRcdD8gWy4uLkFycmF5KGN0eC5udW1QbGF5ZXJzKS5rZXlzKCldLm1hcChpID0+IGkudG9TdHJpbmcoKSlcblx0XHRcdDogW10pO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gW2N0eCwgcGxheWVySUQsIHBsYXllcnMsIE9uQ2xpY2ssIHBsYXllckxhYmVsLCBjbGlja19oYW5kbGVyXTtcbn1cblxuY2xhc3MgUGxheWVySW5mbyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkaywgY3JlYXRlX2ZyYWdtZW50JGssIHNhZmVfbm90X2VxdWFsLCB7IGN0eDogMCwgcGxheWVySUQ6IDEgfSwgYWRkX2NzcyRkKTtcblx0fVxufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG5cbiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHtcbiAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuICB2YXIga2V5LCBpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgfVxuXG4gIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkge1xuICB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTtcblxuICByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7XG4gICAgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLFxuICAgICAgICByZXN1bHQ7XG5cbiAgICBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkge1xuICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcblxuICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7XG4gIHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmICghaXQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICBpZiAoaXQpIG8gPSBpdDtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgdmFyIEYgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgczogRixcbiAgICAgICAgbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IG9baSsrXVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSxcbiAgICAgICAgZjogRlxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gIH1cblxuICB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsXG4gICAgICBkaWRFcnIgPSBmYWxzZSxcbiAgICAgIGVycjtcbiAgcmV0dXJuIHtcbiAgICBzOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpdCA9IGl0LmNhbGwobyk7XG4gICAgfSxcbiAgICBuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTtcbiAgICAgIG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7XG4gICAgICByZXR1cm4gc3RlcDtcbiAgICB9LFxuICAgIGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICBkaWRFcnIgPSB0cnVlO1xuICAgICAgZXJyID0gZTtcbiAgICB9LFxuICAgIGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG4vKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXG4gKi9cbmZ1bmN0aW9uIEFzc2lnblNob3J0Y3V0cyhtb3ZlTmFtZXMsIGJsYWNrbGlzdCkge1xuICB2YXIgc2hvcnRjdXRzID0ge307XG4gIHZhciB0YWtlbiA9IHt9O1xuXG4gIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihibGFja2xpc3QpLFxuICAgICAgX3N0ZXA7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgdmFyIGMgPSBfc3RlcC52YWx1ZTtcbiAgICAgIHRha2VuW2NdID0gdHJ1ZTtcbiAgICB9IC8vIFRyeSBhc3NpZ25pbmcgdGhlIGZpcnN0IGNoYXIgb2YgZWFjaCBtb3ZlIGFzIHRoZSBzaG9ydGN1dC5cblxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3IuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvci5mKCk7XG4gIH1cblxuICB2YXIgdCA9IHRha2VuO1xuICB2YXIgY2FuVXNlRmlyc3RDaGFyID0gdHJ1ZTtcblxuICBmb3IgKHZhciBuYW1lIGluIG1vdmVOYW1lcykge1xuICAgIHZhciBzaG9ydGN1dCA9IG5hbWVbMF07XG5cbiAgICBpZiAodFtzaG9ydGN1dF0pIHtcbiAgICAgIGNhblVzZUZpcnN0Q2hhciA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdFtzaG9ydGN1dF0gPSB0cnVlO1xuICAgIHNob3J0Y3V0c1tuYW1lXSA9IHNob3J0Y3V0O1xuICB9XG5cbiAgaWYgKGNhblVzZUZpcnN0Q2hhcikge1xuICAgIHJldHVybiBzaG9ydGN1dHM7XG4gIH0gLy8gSWYgdGhvc2UgYXJlbid0IHVuaXF1ZSwgdXNlIGEtei5cblxuXG4gIHQgPSB0YWtlbjtcbiAgdmFyIG5leHQgPSA5NztcbiAgc2hvcnRjdXRzID0ge307XG5cbiAgZm9yICh2YXIgX25hbWUgaW4gbW92ZU5hbWVzKSB7XG4gICAgdmFyIF9zaG9ydGN1dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dCk7XG5cbiAgICB3aGlsZSAodFtfc2hvcnRjdXRdKSB7XG4gICAgICBuZXh0Kys7XG4gICAgICBfc2hvcnRjdXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQpO1xuICAgIH1cblxuICAgIHRbX3Nob3J0Y3V0XSA9IHRydWU7XG4gICAgc2hvcnRjdXRzW19uYW1lXSA9IF9zaG9ydGN1dDtcbiAgfVxuXG4gIHJldHVybiBzaG9ydGN1dHM7XG59XG5cbi8qIHNyYy9jbGllbnQvZGVidWcvbWFpbi9NYWluLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gYWRkX2NzcyRlKHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtMTQ2c3E1ZlwiLCBcIi50cmVlLnN2ZWx0ZS0xNDZzcTVmey0tanNvbi10cmVlLWZvbnQtZmFtaWx5Om1vbm9zcGFjZTstLWpzb24tdHJlZS1mb250LXNpemU6MTRweDstLWpzb24tdHJlZS1udWxsLWNvbG9yOiM3NTc1NzV9LmxhYmVsLnN2ZWx0ZS0xNDZzcTVme21hcmdpbi1ib3R0b206MDt0ZXh0LXRyYW5zZm9ybTpub25lfWgzLnN2ZWx0ZS0xNDZzcTVme3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZX11bC5zdmVsdGUtMTQ2c3E1ZntwYWRkaW5nLWxlZnQ6MH1saS5zdmVsdGUtMTQ2c3E1ZntsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOjA7bWFyZ2luLWJvdHRvbTo1cHh9XCIpO1xufVxuXG5mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0JDUoY3R4LCBsaXN0LCBpKSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuXHRjaGlsZF9jdHhbMTBdID0gbGlzdFtpXVswXTtcblx0Y2hpbGRfY3R4WzExXSA9IGxpc3RbaV1bMV07XG5cdHJldHVybiBjaGlsZF9jdHg7XG59XG5cbi8vICg3ODo0KSB7I2VhY2ggT2JqZWN0LmVudHJpZXMobW92ZXMpIGFzIFtuYW1lLCBmbl19XG5mdW5jdGlvbiBjcmVhdGVfZWFjaF9ibG9jayQ1KGN0eCkge1xuXHRsZXQgbGk7XG5cdGxldCBtb3ZlO1xuXHRsZXQgdDtcblx0bGV0IGN1cnJlbnQ7XG5cblx0bW92ZSA9IG5ldyBNb3ZlKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHNob3J0Y3V0OiAvKnNob3J0Y3V0cyovIGN0eFs4XVsvKm5hbWUqLyBjdHhbMTBdXSxcblx0XHRcdFx0Zm46IC8qZm4qLyBjdHhbMTFdLFxuXHRcdFx0XHRuYW1lOiAvKm5hbWUqLyBjdHhbMTBdXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0bGkgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KG1vdmUuJCQuZnJhZ21lbnQpO1xuXHRcdFx0dCA9IHNwYWNlKCk7XG5cdFx0XHRhdHRyKGxpLCBcImNsYXNzXCIsIFwic3ZlbHRlLTE0NnNxNWZcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBsaSwgYW5jaG9yKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChtb3ZlLCBsaSwgbnVsbCk7XG5cdFx0XHRhcHBlbmQobGksIHQpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IG1vdmVfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyptb3ZlcyovIDE2KSBtb3ZlX2NoYW5nZXMuc2hvcnRjdXQgPSAvKnNob3J0Y3V0cyovIGN0eFs4XVsvKm5hbWUqLyBjdHhbMTBdXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qbW92ZXMqLyAxNikgbW92ZV9jaGFuZ2VzLmZuID0gLypmbiovIGN0eFsxMV07XG5cdFx0XHRpZiAoZGlydHkgJiAvKm1vdmVzKi8gMTYpIG1vdmVfY2hhbmdlcy5uYW1lID0gLypuYW1lKi8gY3R4WzEwXTtcblx0XHRcdG1vdmUuJHNldChtb3ZlX2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4obW92ZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChtb3ZlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGxpKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG1vdmUpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDkwOjIpIHsjaWYgY3R4LmFjdGl2ZVBsYXllcnMgJiYgZXZlbnRzLmVuZFN0YWdlfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzIkMihjdHgpIHtcblx0bGV0IGxpO1xuXHRsZXQgbW92ZTtcblx0bGV0IGN1cnJlbnQ7XG5cblx0bW92ZSA9IG5ldyBNb3ZlKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdG5hbWU6IFwiZW5kU3RhZ2VcIixcblx0XHRcdFx0c2hvcnRjdXQ6IDcsXG5cdFx0XHRcdGZuOiAvKmV2ZW50cyovIGN0eFs1XS5lbmRTdGFnZVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGxpID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChtb3ZlLiQkLmZyYWdtZW50KTtcblx0XHRcdGF0dHIobGksIFwiY2xhc3NcIiwgXCJzdmVsdGUtMTQ2c3E1ZlwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGxpLCBhbmNob3IpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KG1vdmUsIGxpLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRjb25zdCBtb3ZlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qZXZlbnRzKi8gMzIpIG1vdmVfY2hhbmdlcy5mbiA9IC8qZXZlbnRzKi8gY3R4WzVdLmVuZFN0YWdlO1xuXHRcdFx0bW92ZS4kc2V0KG1vdmVfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihtb3ZlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KG1vdmUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gobGkpO1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQobW92ZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoOTU6MikgeyNpZiBldmVudHMuZW5kVHVybn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xJDIoY3R4KSB7XG5cdGxldCBsaTtcblx0bGV0IG1vdmU7XG5cdGxldCBjdXJyZW50O1xuXG5cdG1vdmUgPSBuZXcgTW92ZSh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRuYW1lOiBcImVuZFR1cm5cIixcblx0XHRcdFx0c2hvcnRjdXQ6IDgsXG5cdFx0XHRcdGZuOiAvKmV2ZW50cyovIGN0eFs1XS5lbmRUdXJuXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0bGkgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KG1vdmUuJCQuZnJhZ21lbnQpO1xuXHRcdFx0YXR0cihsaSwgXCJjbGFzc1wiLCBcInN2ZWx0ZS0xNDZzcTVmXCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgbGksIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQobW92ZSwgbGksIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IG1vdmVfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLypldmVudHMqLyAzMikgbW92ZV9jaGFuZ2VzLmZuID0gLypldmVudHMqLyBjdHhbNV0uZW5kVHVybjtcblx0XHRcdG1vdmUuJHNldChtb3ZlX2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4obW92ZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChtb3ZlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGxpKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG1vdmUpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDEwMDoyKSB7I2lmIGN0eC5waGFzZSAmJiBldmVudHMuZW5kUGhhc2V9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2skNyhjdHgpIHtcblx0bGV0IGxpO1xuXHRsZXQgbW92ZTtcblx0bGV0IGN1cnJlbnQ7XG5cblx0bW92ZSA9IG5ldyBNb3ZlKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdG5hbWU6IFwiZW5kUGhhc2VcIixcblx0XHRcdFx0c2hvcnRjdXQ6IDksXG5cdFx0XHRcdGZuOiAvKmV2ZW50cyovIGN0eFs1XS5lbmRQaGFzZVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGxpID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChtb3ZlLiQkLmZyYWdtZW50KTtcblx0XHRcdGF0dHIobGksIFwiY2xhc3NcIiwgXCJzdmVsdGUtMTQ2c3E1ZlwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGxpLCBhbmNob3IpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KG1vdmUsIGxpLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRjb25zdCBtb3ZlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qZXZlbnRzKi8gMzIpIG1vdmVfY2hhbmdlcy5mbiA9IC8qZXZlbnRzKi8gY3R4WzVdLmVuZFBoYXNlO1xuXHRcdFx0bW92ZS4kc2V0KG1vdmVfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihtb3ZlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KG1vdmUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gobGkpO1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQobW92ZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkbChjdHgpIHtcblx0bGV0IHNlY3Rpb24wO1xuXHRsZXQgaDMwO1xuXHRsZXQgdDE7XG5cdGxldCBjb250cm9scztcblx0bGV0IHQyO1xuXHRsZXQgc2VjdGlvbjE7XG5cdGxldCBoMzE7XG5cdGxldCB0NDtcblx0bGV0IHBsYXllcmluZm87XG5cdGxldCB0NTtcblx0bGV0IHNlY3Rpb24yO1xuXHRsZXQgaDMyO1xuXHRsZXQgdDc7XG5cdGxldCB1bDA7XG5cdGxldCB0ODtcblx0bGV0IHNlY3Rpb24zO1xuXHRsZXQgaDMzO1xuXHRsZXQgdDEwO1xuXHRsZXQgdWwxO1xuXHRsZXQgdDExO1xuXHRsZXQgdDEyO1xuXHRsZXQgdDEzO1xuXHRsZXQgc2VjdGlvbjQ7XG5cdGxldCBoMzQ7XG5cdGxldCB0MTU7XG5cdGxldCBqc29udHJlZTA7XG5cdGxldCB0MTY7XG5cdGxldCBzZWN0aW9uNTtcblx0bGV0IGgzNTtcblx0bGV0IHQxODtcblx0bGV0IGpzb250cmVlMTtcblx0bGV0IHQxOTtcblx0bGV0IGNsaWVudHN3aXRjaGVyO1xuXHRsZXQgY3VycmVudDtcblxuXHRjb250cm9scyA9IG5ldyBDb250cm9scyh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRjbGllbnQ6IC8qY2xpZW50Ki8gY3R4WzBdLFxuXHRcdFx0XHRUb2dnbGVWaXNpYmlsaXR5OiAvKlRvZ2dsZVZpc2liaWxpdHkqLyBjdHhbMl1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRwbGF5ZXJpbmZvID0gbmV3IFBsYXllckluZm8oe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0Y3R4OiAvKmN0eCovIGN0eFs2XSxcblx0XHRcdFx0cGxheWVySUQ6IC8qcGxheWVySUQqLyBjdHhbM11cblx0XHRcdH1cblx0XHR9KTtcblxuXHRwbGF5ZXJpbmZvLiRvbihcImNoYW5nZVwiLCAvKmNoYW5nZV9oYW5kbGVyKi8gY3R4WzldKTtcblx0bGV0IGVhY2hfdmFsdWUgPSBPYmplY3QuZW50cmllcygvKm1vdmVzKi8gY3R4WzRdKTtcblx0bGV0IGVhY2hfYmxvY2tzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQ1KGdldF9lYWNoX2NvbnRleHQkNShjdHgsIGVhY2hfdmFsdWUsIGkpKTtcblx0fVxuXG5cdGNvbnN0IG91dCA9IGkgPT4gdHJhbnNpdGlvbl9vdXQoZWFjaF9ibG9ja3NbaV0sIDEsIDEsICgpID0+IHtcblx0XHRlYWNoX2Jsb2Nrc1tpXSA9IG51bGw7XG5cdH0pO1xuXG5cdGxldCBpZl9ibG9jazAgPSAvKmN0eCovIGN0eFs2XS5hY3RpdmVQbGF5ZXJzICYmIC8qZXZlbnRzKi8gY3R4WzVdLmVuZFN0YWdlICYmIGNyZWF0ZV9pZl9ibG9ja18yJDIoY3R4KTtcblx0bGV0IGlmX2Jsb2NrMSA9IC8qZXZlbnRzKi8gY3R4WzVdLmVuZFR1cm4gJiYgY3JlYXRlX2lmX2Jsb2NrXzEkMihjdHgpO1xuXHRsZXQgaWZfYmxvY2syID0gLypjdHgqLyBjdHhbNl0ucGhhc2UgJiYgLypldmVudHMqLyBjdHhbNV0uZW5kUGhhc2UgJiYgY3JlYXRlX2lmX2Jsb2NrJDcoY3R4KTtcblx0anNvbnRyZWUwID0gbmV3IFJvb3QoeyBwcm9wczogeyB2YWx1ZTogLypHKi8gY3R4WzddIH0gfSk7XG5cblx0anNvbnRyZWUxID0gbmV3IFJvb3Qoe1xuXHRcdFx0cHJvcHM6IHsgdmFsdWU6IFNhbml0aXplQ3R4KC8qY3R4Ki8gY3R4WzZdKSB9XG5cdFx0fSk7XG5cblx0Y2xpZW50c3dpdGNoZXIgPSBuZXcgQ2xpZW50U3dpdGNoZXIoe1xuXHRcdFx0cHJvcHM6IHsgY2xpZW50TWFuYWdlcjogLypjbGllbnRNYW5hZ2VyKi8gY3R4WzFdIH1cblx0XHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRzZWN0aW9uMCA9IGVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRcdFx0aDMwID0gZWxlbWVudChcImgzXCIpO1xuXHRcdFx0aDMwLnRleHRDb250ZW50ID0gXCJDb250cm9sc1wiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChjb250cm9scy4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRzZWN0aW9uMSA9IGVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRcdFx0aDMxID0gZWxlbWVudChcImgzXCIpO1xuXHRcdFx0aDMxLnRleHRDb250ZW50ID0gXCJQbGF5ZXJzXCI7XG5cdFx0XHR0NCA9IHNwYWNlKCk7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KHBsYXllcmluZm8uJCQuZnJhZ21lbnQpO1xuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0c2VjdGlvbjIgPSBlbGVtZW50KFwic2VjdGlvblwiKTtcblx0XHRcdGgzMiA9IGVsZW1lbnQoXCJoM1wiKTtcblx0XHRcdGgzMi50ZXh0Q29udGVudCA9IFwiTW92ZXNcIjtcblx0XHRcdHQ3ID0gc3BhY2UoKTtcblx0XHRcdHVsMCA9IGVsZW1lbnQoXCJ1bFwiKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cdFx0XHR9XG5cblx0XHRcdHQ4ID0gc3BhY2UoKTtcblx0XHRcdHNlY3Rpb24zID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRoMzMgPSBlbGVtZW50KFwiaDNcIik7XG5cdFx0XHRoMzMudGV4dENvbnRlbnQgPSBcIkV2ZW50c1wiO1xuXHRcdFx0dDEwID0gc3BhY2UoKTtcblx0XHRcdHVsMSA9IGVsZW1lbnQoXCJ1bFwiKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0MTEgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmMoKTtcblx0XHRcdHQxMiA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIuYygpO1xuXHRcdFx0dDEzID0gc3BhY2UoKTtcblx0XHRcdHNlY3Rpb240ID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRoMzQgPSBlbGVtZW50KFwiaDNcIik7XG5cdFx0XHRoMzQudGV4dENvbnRlbnQgPSBcIkdcIjtcblx0XHRcdHQxNSA9IHNwYWNlKCk7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGpzb250cmVlMC4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MTYgPSBzcGFjZSgpO1xuXHRcdFx0c2VjdGlvbjUgPSBlbGVtZW50KFwic2VjdGlvblwiKTtcblx0XHRcdGgzNSA9IGVsZW1lbnQoXCJoM1wiKTtcblx0XHRcdGgzNS50ZXh0Q29udGVudCA9IFwiY3R4XCI7XG5cdFx0XHR0MTggPSBzcGFjZSgpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChqc29udHJlZTEuJCQuZnJhZ21lbnQpO1xuXHRcdFx0dDE5ID0gc3BhY2UoKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoY2xpZW50c3dpdGNoZXIuJCQuZnJhZ21lbnQpO1xuXHRcdFx0YXR0cihoMzAsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMTQ2c3E1ZlwiKTtcblx0XHRcdGF0dHIoaDMxLCBcImNsYXNzXCIsIFwic3ZlbHRlLTE0NnNxNWZcIik7XG5cdFx0XHRhdHRyKGgzMiwgXCJjbGFzc1wiLCBcInN2ZWx0ZS0xNDZzcTVmXCIpO1xuXHRcdFx0YXR0cih1bDAsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMTQ2c3E1ZlwiKTtcblx0XHRcdGF0dHIoaDMzLCBcImNsYXNzXCIsIFwic3ZlbHRlLTE0NnNxNWZcIik7XG5cdFx0XHRhdHRyKHVsMSwgXCJjbGFzc1wiLCBcInN2ZWx0ZS0xNDZzcTVmXCIpO1xuXHRcdFx0YXR0cihoMzQsIFwiY2xhc3NcIiwgXCJsYWJlbCBzdmVsdGUtMTQ2c3E1ZlwiKTtcblx0XHRcdGF0dHIoc2VjdGlvbjQsIFwiY2xhc3NcIiwgXCJ0cmVlIHN2ZWx0ZS0xNDZzcTVmXCIpO1xuXHRcdFx0YXR0cihoMzUsIFwiY2xhc3NcIiwgXCJsYWJlbCBzdmVsdGUtMTQ2c3E1ZlwiKTtcblx0XHRcdGF0dHIoc2VjdGlvbjUsIFwiY2xhc3NcIiwgXCJ0cmVlIHN2ZWx0ZS0xNDZzcTVmXCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc2VjdGlvbjAsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIGgzMCk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIHQxKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChjb250cm9scywgc2VjdGlvbjAsIG51bGwpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDIsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzZWN0aW9uMSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMSwgaDMxKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMSwgdDQpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KHBsYXllcmluZm8sIHNlY3Rpb24xLCBudWxsKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQ1LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc2VjdGlvbjIsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjIsIGgzMik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjIsIHQ3KTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMiwgdWwwKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5tKHVsMCwgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdGluc2VydCh0YXJnZXQsIHQ4LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc2VjdGlvbjMsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjMsIGgzMyk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjMsIHQxMCk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjMsIHVsMSk7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubSh1bDEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKHVsMSwgdDExKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKHVsMSwgbnVsbCk7XG5cdFx0XHRhcHBlbmQodWwxLCB0MTIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLm0odWwxLCBudWxsKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQxMywgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNlY3Rpb240LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb240LCBoMzQpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb240LCB0MTUpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGpzb250cmVlMCwgc2VjdGlvbjQsIG51bGwpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDE2LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc2VjdGlvbjUsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjUsIGgzNSk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjUsIHQxOCk7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoanNvbnRyZWUxLCBzZWN0aW9uNSwgbnVsbCk7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MTksIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoY2xpZW50c3dpdGNoZXIsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGNvbnN0IGNvbnRyb2xzX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qY2xpZW50Ki8gMSkgY29udHJvbHNfY2hhbmdlcy5jbGllbnQgPSAvKmNsaWVudCovIGN0eFswXTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qVG9nZ2xlVmlzaWJpbGl0eSovIDQpIGNvbnRyb2xzX2NoYW5nZXMuVG9nZ2xlVmlzaWJpbGl0eSA9IC8qVG9nZ2xlVmlzaWJpbGl0eSovIGN0eFsyXTtcblx0XHRcdGNvbnRyb2xzLiRzZXQoY29udHJvbHNfY2hhbmdlcyk7XG5cdFx0XHRjb25zdCBwbGF5ZXJpbmZvX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qY3R4Ki8gNjQpIHBsYXllcmluZm9fY2hhbmdlcy5jdHggPSAvKmN0eCovIGN0eFs2XTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qcGxheWVySUQqLyA4KSBwbGF5ZXJpbmZvX2NoYW5nZXMucGxheWVySUQgPSAvKnBsYXllcklEKi8gY3R4WzNdO1xuXHRcdFx0cGxheWVyaW5mby4kc2V0KHBsYXllcmluZm9fY2hhbmdlcyk7XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qc2hvcnRjdXRzLCBPYmplY3QsIG1vdmVzKi8gMjcyKSB7XG5cdFx0XHRcdGVhY2hfdmFsdWUgPSBPYmplY3QuZW50cmllcygvKm1vdmVzKi8gY3R4WzRdKTtcblx0XHRcdFx0bGV0IGk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0JDUoY3R4LCBlYWNoX3ZhbHVlLCBpKTtcblxuXHRcdFx0XHRcdGlmIChlYWNoX2Jsb2Nrc1tpXSkge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ucChjaGlsZF9jdHgsIGRpcnR5KTtcblx0XHRcdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0sIDEpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrJDUoY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0sIDEpO1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ubSh1bDAsIG51bGwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdGZvciAoaSA9IGVhY2hfdmFsdWUubGVuZ3RoOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRvdXQoaSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKC8qY3R4Ki8gY3R4WzZdLmFjdGl2ZVBsYXllcnMgJiYgLypldmVudHMqLyBjdHhbNV0uZW5kU3RhZ2UpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGN0eCwgZGlydHkpO1xuXG5cdFx0XHRcdFx0aWYgKGRpcnR5ICYgLypjdHgsIGV2ZW50cyovIDk2KSB7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMCwgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMCA9IGNyZWF0ZV9pZl9ibG9ja18yJDIoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2swLCAxKTtcblx0XHRcdFx0XHRpZl9ibG9jazAubSh1bDEsIHQxMSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2swKSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMCwgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMCA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoLypldmVudHMqLyBjdHhbNV0uZW5kVHVybikge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLnAoY3R4LCBkaXJ0eSk7XG5cblx0XHRcdFx0XHRpZiAoZGlydHkgJiAvKmV2ZW50cyovIDMyKSB7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMSwgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGNyZWF0ZV9pZl9ibG9ja18xJDIoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2sxLCAxKTtcblx0XHRcdFx0XHRpZl9ibG9jazEubSh1bDEsIHQxMik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMSwgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoLypjdHgqLyBjdHhbNl0ucGhhc2UgJiYgLypldmVudHMqLyBjdHhbNV0uZW5kUGhhc2UpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMikge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5wKGN0eCwgZGlydHkpO1xuXG5cdFx0XHRcdFx0aWYgKGRpcnR5ICYgLypjdHgsIGV2ZW50cyovIDk2KSB7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMiwgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMiA9IGNyZWF0ZV9pZl9ibG9jayQ3KGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2syLmMoKTtcblx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMiwgMSk7XG5cdFx0XHRcdFx0aWZfYmxvY2syLm0odWwxLCBudWxsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazIpIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2syLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2syID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGpzb250cmVlMF9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKkcqLyAxMjgpIGpzb250cmVlMF9jaGFuZ2VzLnZhbHVlID0gLypHKi8gY3R4WzddO1xuXHRcdFx0anNvbnRyZWUwLiRzZXQoanNvbnRyZWUwX2NoYW5nZXMpO1xuXHRcdFx0Y29uc3QganNvbnRyZWUxX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qY3R4Ki8gNjQpIGpzb250cmVlMV9jaGFuZ2VzLnZhbHVlID0gU2FuaXRpemVDdHgoLypjdHgqLyBjdHhbNl0pO1xuXHRcdFx0anNvbnRyZWUxLiRzZXQoanNvbnRyZWUxX2NoYW5nZXMpO1xuXHRcdFx0Y29uc3QgY2xpZW50c3dpdGNoZXJfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLypjbGllbnRNYW5hZ2VyKi8gMikgY2xpZW50c3dpdGNoZXJfY2hhbmdlcy5jbGllbnRNYW5hZ2VyID0gLypjbGllbnRNYW5hZ2VyKi8gY3R4WzFdO1xuXHRcdFx0Y2xpZW50c3dpdGNoZXIuJHNldChjbGllbnRzd2l0Y2hlcl9jaGFuZ2VzKTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGNvbnRyb2xzLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKHBsYXllcmluZm8uJCQuZnJhZ21lbnQsIGxvY2FsKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0pO1xuXHRcdFx0fVxuXG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMSk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMik7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGpzb250cmVlMC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihqc29udHJlZTEuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdHRyYW5zaXRpb25faW4oY2xpZW50c3dpdGNoZXIuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoY29udHJvbHMuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdHRyYW5zaXRpb25fb3V0KHBsYXllcmluZm8uJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGVhY2hfYmxvY2tzID0gZWFjaF9ibG9ja3MuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGVhY2hfYmxvY2tzW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2swKTtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMSk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazIpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoanNvbnRyZWUwLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChqc29udHJlZTEuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGNsaWVudHN3aXRjaGVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNlY3Rpb24wKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGNvbnRyb2xzKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0Mik7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc2VjdGlvbjEpO1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQocGxheWVyaW5mbyk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2godDUpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNlY3Rpb24yKTtcblx0XHRcdGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2NrcywgZGV0YWNoaW5nKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0OCk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc2VjdGlvbjMpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIuZCgpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHQxMyk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc2VjdGlvbjQpO1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoanNvbnRyZWUwKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0MTYpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNlY3Rpb241KTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGpzb250cmVlMSk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2godDE5KTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGNsaWVudHN3aXRjaGVyLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gU2FuaXRpemVDdHgoY3R4KSB7XG5cdGxldCByID0ge307XG5cblx0Zm9yIChjb25zdCBrZXkgaW4gY3R4KSB7XG5cdFx0aWYgKCFrZXkuc3RhcnRzV2l0aCgnXycpKSB7XG5cdFx0XHRyW2tleV0gPSBjdHhba2V5XTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkbCgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBjbGllbnQgfSA9ICQkcHJvcHM7XG5cdGxldCB7IGNsaWVudE1hbmFnZXIgfSA9ICQkcHJvcHM7XG5cdGxldCB7IFRvZ2dsZVZpc2liaWxpdHkgfSA9ICQkcHJvcHM7XG5cdGNvbnN0IHNob3J0Y3V0cyA9IEFzc2lnblNob3J0Y3V0cyhjbGllbnQubW92ZXMsICdtbGlhJyk7XG5cdGxldCB7IHBsYXllcklELCBtb3ZlcywgZXZlbnRzIH0gPSBjbGllbnQ7XG5cdGxldCBjdHggPSB7fTtcblx0bGV0IEcgPSB7fTtcblxuXHRjbGllbnQuc3Vic2NyaWJlKHN0YXRlID0+IHtcblx0XHRpZiAoc3RhdGUpICQkaW52YWxpZGF0ZSg3LCB7IEcsIGN0eCB9ID0gc3RhdGUsIEcsICQkaW52YWxpZGF0ZSg2LCBjdHgpKTtcblx0XHQkJGludmFsaWRhdGUoMywgeyBwbGF5ZXJJRCwgbW92ZXMsIGV2ZW50cyB9ID0gY2xpZW50LCBwbGF5ZXJJRCwgJCRpbnZhbGlkYXRlKDQsIG1vdmVzKSwgJCRpbnZhbGlkYXRlKDUsIGV2ZW50cykpO1xuXHR9KTtcblxuXHRjb25zdCBjaGFuZ2VfaGFuZGxlciA9IGUgPT4gY2xpZW50TWFuYWdlci5zd2l0Y2hQbGF5ZXJJRChlLmRldGFpbC5wbGF5ZXJJRCk7XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdjbGllbnQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBjbGllbnQgPSAkJHByb3BzLmNsaWVudCk7XG5cdFx0aWYgKCdjbGllbnRNYW5hZ2VyJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgY2xpZW50TWFuYWdlciA9ICQkcHJvcHMuY2xpZW50TWFuYWdlcik7XG5cdFx0aWYgKCdUb2dnbGVWaXNpYmlsaXR5JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMiwgVG9nZ2xlVmlzaWJpbGl0eSA9ICQkcHJvcHMuVG9nZ2xlVmlzaWJpbGl0eSk7XG5cdH07XG5cblx0cmV0dXJuIFtcblx0XHRjbGllbnQsXG5cdFx0Y2xpZW50TWFuYWdlcixcblx0XHRUb2dnbGVWaXNpYmlsaXR5LFxuXHRcdHBsYXllcklELFxuXHRcdG1vdmVzLFxuXHRcdGV2ZW50cyxcblx0XHRjdHgsXG5cdFx0Ryxcblx0XHRzaG9ydGN1dHMsXG5cdFx0Y2hhbmdlX2hhbmRsZXJcblx0XTtcbn1cblxuY2xhc3MgTWFpbiBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0aW5pdChcblx0XHRcdHRoaXMsXG5cdFx0XHRvcHRpb25zLFxuXHRcdFx0aW5zdGFuY2UkbCxcblx0XHRcdGNyZWF0ZV9mcmFnbWVudCRsLFxuXHRcdFx0c2FmZV9ub3RfZXF1YWwsXG5cdFx0XHR7XG5cdFx0XHRcdGNsaWVudDogMCxcblx0XHRcdFx0Y2xpZW50TWFuYWdlcjogMSxcblx0XHRcdFx0VG9nZ2xlVmlzaWJpbGl0eTogMlxuXHRcdFx0fSxcblx0XHRcdGFkZF9jc3MkZVxuXHRcdCk7XG5cdH1cbn1cblxuLyogc3JjL2NsaWVudC9kZWJ1Zy9pbmZvL0l0ZW0uc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJGYodGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS0xM3FpaDIzXCIsIFwiLml0ZW0uc3ZlbHRlLTEzcWloMjMuc3ZlbHRlLTEzcWloMjN7cGFkZGluZzoxMHB4fS5pdGVtLnN2ZWx0ZS0xM3FpaDIzLnN2ZWx0ZS0xM3FpaDIzOm5vdCg6Zmlyc3QtY2hpbGQpe2JvcmRlci10b3A6MXB4IGRhc2hlZCAjYWFhfS5pdGVtLnN2ZWx0ZS0xM3FpaDIzIGRpdi5zdmVsdGUtMTNxaWgyM3tmbG9hdDpyaWdodDt0ZXh0LWFsaWduOnJpZ2h0fVwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JG0oY3R4KSB7XG5cdGxldCBkaXYxO1xuXHRsZXQgc3Ryb25nO1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IGRpdjA7XG5cdGxldCB0Ml92YWx1ZSA9IEpTT04uc3RyaW5naWZ5KC8qdmFsdWUqLyBjdHhbMV0pICsgXCJcIjtcblx0bGV0IHQyO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0c3Ryb25nID0gZWxlbWVudChcInN0cm9uZ1wiKTtcblx0XHRcdHQwID0gdGV4dCgvKm5hbWUqLyBjdHhbMF0pO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MiA9IHRleHQodDJfdmFsdWUpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwic3ZlbHRlLTEzcWloMjNcIik7XG5cdFx0XHRhdHRyKGRpdjEsIFwiY2xhc3NcIiwgXCJpdGVtIHN2ZWx0ZS0xM3FpaDIzXCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2MSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYxLCBzdHJvbmcpO1xuXHRcdFx0YXBwZW5kKHN0cm9uZywgdDApO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxKTtcblx0XHRcdGFwcGVuZChkaXYxLCBkaXYwKTtcblx0XHRcdGFwcGVuZChkaXYwLCB0Mik7XG5cdFx0fSxcblx0XHRwKGN0eCwgW2RpcnR5XSkge1xuXHRcdFx0aWYgKGRpcnR5ICYgLypuYW1lKi8gMSkgc2V0X2RhdGEodDAsIC8qbmFtZSovIGN0eFswXSk7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnZhbHVlKi8gMiAmJiB0Ml92YWx1ZSAhPT0gKHQyX3ZhbHVlID0gSlNPTi5zdHJpbmdpZnkoLyp2YWx1ZSovIGN0eFsxXSkgKyBcIlwiKSkgc2V0X2RhdGEodDIsIHQyX3ZhbHVlKTtcblx0XHR9LFxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGRpdjEpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkbSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBuYW1lIH0gPSAkJHByb3BzO1xuXHRsZXQgeyB2YWx1ZSB9ID0gJCRwcm9wcztcblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ25hbWUnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBuYW1lID0gJCRwcm9wcy5uYW1lKTtcblx0XHRpZiAoJ3ZhbHVlJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgdmFsdWUgPSAkJHByb3BzLnZhbHVlKTtcblx0fTtcblxuXHRyZXR1cm4gW25hbWUsIHZhbHVlXTtcbn1cblxuY2xhc3MgSXRlbSBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkbSwgY3JlYXRlX2ZyYWdtZW50JG0sIHNhZmVfbm90X2VxdWFsLCB7IG5hbWU6IDAsIHZhbHVlOiAxIH0sIGFkZF9jc3MkZik7XG5cdH1cbn1cblxuLyogc3JjL2NsaWVudC9kZWJ1Zy9pbmZvL0luZm8uc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJGcodGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS0xeXpxNW84XCIsIFwiLmdhbWVpbmZvLnN2ZWx0ZS0xeXpxNW84e3BhZGRpbmc6MTBweH1cIik7XG59XG5cbi8vICgxOToyKSB7I2lmIGNsaWVudC5tdWx0aXBsYXllcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayQ4KGN0eCkge1xuXHRsZXQgaXRlbTtcblx0bGV0IGN1cnJlbnQ7XG5cblx0aXRlbSA9IG5ldyBJdGVtKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdG5hbWU6IFwiaXNDb25uZWN0ZWRcIixcblx0XHRcdFx0dmFsdWU6IC8qJGNsaWVudCovIGN0eFsxXS5pc0Nvbm5lY3RlZFxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoaXRlbS4kJC5mcmFnbWVudCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoaXRlbSwgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IGl0ZW1fY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyokY2xpZW50Ki8gMikgaXRlbV9jaGFuZ2VzLnZhbHVlID0gLyokY2xpZW50Ki8gY3R4WzFdLmlzQ29ubmVjdGVkO1xuXHRcdFx0aXRlbS4kc2V0KGl0ZW1fY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpdGVtLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGl0ZW0uJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChpdGVtLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JG4oY3R4KSB7XG5cdGxldCBzZWN0aW9uO1xuXHRsZXQgaXRlbTA7XG5cdGxldCB0MDtcblx0bGV0IGl0ZW0xO1xuXHRsZXQgdDE7XG5cdGxldCBpdGVtMjtcblx0bGV0IHQyO1xuXHRsZXQgY3VycmVudDtcblxuXHRpdGVtMCA9IG5ldyBJdGVtKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdG5hbWU6IFwibWF0Y2hJRFwiLFxuXHRcdFx0XHR2YWx1ZTogLypjbGllbnQqLyBjdHhbMF0ubWF0Y2hJRFxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGl0ZW0xID0gbmV3IEl0ZW0oe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0bmFtZTogXCJwbGF5ZXJJRFwiLFxuXHRcdFx0XHR2YWx1ZTogLypjbGllbnQqLyBjdHhbMF0ucGxheWVySURcblx0XHRcdH1cblx0XHR9KTtcblxuXHRpdGVtMiA9IG5ldyBJdGVtKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdG5hbWU6IFwiaXNBY3RpdmVcIixcblx0XHRcdFx0dmFsdWU6IC8qJGNsaWVudCovIGN0eFsxXS5pc0FjdGl2ZVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGxldCBpZl9ibG9jayA9IC8qY2xpZW50Ki8gY3R4WzBdLm11bHRpcGxheWVyICYmIGNyZWF0ZV9pZl9ibG9jayQ4KGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0c2VjdGlvbiA9IGVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChpdGVtMC4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGl0ZW0xLiQkLmZyYWdtZW50KTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoaXRlbTIuJCQuZnJhZ21lbnQpO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5jKCk7XG5cdFx0XHRhdHRyKHNlY3Rpb24sIFwiY2xhc3NcIiwgXCJnYW1laW5mbyBzdmVsdGUtMXl6cTVvOFwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNlY3Rpb24sIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoaXRlbTAsIHNlY3Rpb24sIG51bGwpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24sIHQwKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChpdGVtMSwgc2VjdGlvbiwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbiwgdDEpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGl0ZW0yLCBzZWN0aW9uLCBudWxsKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uLCB0Mik7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLm0oc2VjdGlvbiwgbnVsbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRjb25zdCBpdGVtMF9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKmNsaWVudCovIDEpIGl0ZW0wX2NoYW5nZXMudmFsdWUgPSAvKmNsaWVudCovIGN0eFswXS5tYXRjaElEO1xuXHRcdFx0aXRlbTAuJHNldChpdGVtMF9jaGFuZ2VzKTtcblx0XHRcdGNvbnN0IGl0ZW0xX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qY2xpZW50Ki8gMSkgaXRlbTFfY2hhbmdlcy52YWx1ZSA9IC8qY2xpZW50Ki8gY3R4WzBdLnBsYXllcklEO1xuXHRcdFx0aXRlbTEuJHNldChpdGVtMV9jaGFuZ2VzKTtcblx0XHRcdGNvbnN0IGl0ZW0yX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qJGNsaWVudCovIDIpIGl0ZW0yX2NoYW5nZXMudmFsdWUgPSAvKiRjbGllbnQqLyBjdHhbMV0uaXNBY3RpdmU7XG5cdFx0XHRpdGVtMi4kc2V0KGl0ZW0yX2NoYW5nZXMpO1xuXG5cdFx0XHRpZiAoLypjbGllbnQqLyBjdHhbMF0ubXVsdGlwbGF5ZXIpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sucChjdHgsIGRpcnR5KTtcblxuXHRcdFx0XHRcdGlmIChkaXJ0eSAmIC8qY2xpZW50Ki8gMSkge1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jaywgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrID0gY3JlYXRlX2lmX2Jsb2NrJDgoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jaywgMSk7XG5cdFx0XHRcdFx0aWZfYmxvY2subShzZWN0aW9uLCBudWxsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdGlmX2Jsb2NrID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpdGVtMC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpdGVtMS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpdGVtMi4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGl0ZW0wLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpdGVtMS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaXRlbTIuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc2VjdGlvbik7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChpdGVtMCk7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChpdGVtMSk7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChpdGVtMik7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmQoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJG4oJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0ICRjbGllbnQsXG5cdFx0JCR1bnN1YnNjcmliZV9jbGllbnQgPSBub29wLFxuXHRcdCQkc3Vic2NyaWJlX2NsaWVudCA9ICgpID0+ICgkJHVuc3Vic2NyaWJlX2NsaWVudCgpLCAkJHVuc3Vic2NyaWJlX2NsaWVudCA9IHN1YnNjcmliZShjbGllbnQsICQkdmFsdWUgPT4gJCRpbnZhbGlkYXRlKDEsICRjbGllbnQgPSAkJHZhbHVlKSksIGNsaWVudCk7XG5cblx0JCRzZWxmLiQkLm9uX2Rlc3Ryb3kucHVzaCgoKSA9PiAkJHVuc3Vic2NyaWJlX2NsaWVudCgpKTtcblx0bGV0IHsgY2xpZW50IH0gPSAkJHByb3BzO1xuXHQkJHN1YnNjcmliZV9jbGllbnQoKTtcblx0bGV0IHsgY2xpZW50TWFuYWdlciB9ID0gJCRwcm9wcztcblx0bGV0IHsgVG9nZ2xlVmlzaWJpbGl0eSB9ID0gJCRwcm9wcztcblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2NsaWVudCcgaW4gJCRwcm9wcykgJCRzdWJzY3JpYmVfY2xpZW50KCQkaW52YWxpZGF0ZSgwLCBjbGllbnQgPSAkJHByb3BzLmNsaWVudCkpO1xuXHRcdGlmICgnY2xpZW50TWFuYWdlcicgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDIsIGNsaWVudE1hbmFnZXIgPSAkJHByb3BzLmNsaWVudE1hbmFnZXIpO1xuXHRcdGlmICgnVG9nZ2xlVmlzaWJpbGl0eScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDMsIFRvZ2dsZVZpc2liaWxpdHkgPSAkJHByb3BzLlRvZ2dsZVZpc2liaWxpdHkpO1xuXHR9O1xuXG5cdHJldHVybiBbY2xpZW50LCAkY2xpZW50LCBjbGllbnRNYW5hZ2VyLCBUb2dnbGVWaXNpYmlsaXR5XTtcbn1cblxuY2xhc3MgSW5mbyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0aW5pdChcblx0XHRcdHRoaXMsXG5cdFx0XHRvcHRpb25zLFxuXHRcdFx0aW5zdGFuY2Ukbixcblx0XHRcdGNyZWF0ZV9mcmFnbWVudCRuLFxuXHRcdFx0c2FmZV9ub3RfZXF1YWwsXG5cdFx0XHR7XG5cdFx0XHRcdGNsaWVudDogMCxcblx0XHRcdFx0Y2xpZW50TWFuYWdlcjogMixcblx0XHRcdFx0VG9nZ2xlVmlzaWJpbGl0eTogM1xuXHRcdFx0fSxcblx0XHRcdGFkZF9jc3MkZ1xuXHRcdCk7XG5cdH1cbn1cblxuLyogc3JjL2NsaWVudC9kZWJ1Zy9sb2cvVHVybk1hcmtlci5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3MkaCh0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLTZlemE4NlwiLCBcIi50dXJuLW1hcmtlci5zdmVsdGUtNmV6YTg2e2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtncmlkLWNvbHVtbjoxO2JhY2tncm91bmQ6IzU1NTtjb2xvcjojZWVlO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OmJvbGQ7Ym9yZGVyOjFweCBzb2xpZCAjODg4fVwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JG8oY3R4KSB7XG5cdGxldCBkaXY7XG5cdGxldCB0O1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0ID0gdGV4dCgvKnR1cm4qLyBjdHhbMF0pO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJ0dXJuLW1hcmtlciBzdmVsdGUtNmV6YTg2XCIpO1xuXHRcdFx0YXR0cihkaXYsIFwic3R5bGVcIiwgLypzdHlsZSovIGN0eFsxXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0KTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnR1cm4qLyAxKSBzZXRfZGF0YSh0LCAvKnR1cm4qLyBjdHhbMF0pO1xuXHRcdH0sXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goZGl2KTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJG8oJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHsgdHVybiB9ID0gJCRwcm9wcztcblx0bGV0IHsgbnVtRXZlbnRzIH0gPSAkJHByb3BzO1xuXHRjb25zdCBzdHlsZSA9IGBncmlkLXJvdzogc3BhbiAke251bUV2ZW50c31gO1xuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgndHVybicgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIHR1cm4gPSAkJHByb3BzLnR1cm4pO1xuXHRcdGlmICgnbnVtRXZlbnRzJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMiwgbnVtRXZlbnRzID0gJCRwcm9wcy5udW1FdmVudHMpO1xuXHR9O1xuXG5cdHJldHVybiBbdHVybiwgc3R5bGUsIG51bUV2ZW50c107XG59XG5cbmNsYXNzIFR1cm5NYXJrZXIgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJG8sIGNyZWF0ZV9mcmFnbWVudCRvLCBzYWZlX25vdF9lcXVhbCwgeyB0dXJuOiAwLCBudW1FdmVudHM6IDIgfSwgYWRkX2NzcyRoKTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL2xvZy9QaGFzZU1hcmtlci5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3MkaSh0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLTF0NHhhcFwiLCBcIi5waGFzZS1tYXJrZXIuc3ZlbHRlLTF0NHhhcHtncmlkLWNvbHVtbjozO2JhY2tncm91bmQ6IzU1NTtib3JkZXI6MXB4IHNvbGlkICM4ODg7Y29sb3I6I2VlZTt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDpib2xkO3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1ib3R0b206MTBweDt0ZXh0LW9yaWVudGF0aW9uOnNpZGV3YXlzO3dyaXRpbmctbW9kZTp2ZXJ0aWNhbC1ybDtsaW5lLWhlaWdodDozMHB4O3dpZHRoOjEwMCV9XCIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkcChjdHgpIHtcblx0bGV0IGRpdjtcblx0bGV0IHRfdmFsdWUgPSAoLypwaGFzZSovIGN0eFswXSB8fCAnJykgKyBcIlwiO1xuXHRsZXQgdDtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dCA9IHRleHQodF92YWx1ZSk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInBoYXNlLW1hcmtlciBzdmVsdGUtMXQ0eGFwXCIpO1xuXHRcdFx0YXR0cihkaXYsIFwic3R5bGVcIiwgLypzdHlsZSovIGN0eFsxXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0KTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnBoYXNlKi8gMSAmJiB0X3ZhbHVlICE9PSAodF92YWx1ZSA9ICgvKnBoYXNlKi8gY3R4WzBdIHx8ICcnKSArIFwiXCIpKSBzZXRfZGF0YSh0LCB0X3ZhbHVlKTtcblx0XHR9LFxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGRpdik7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSRwKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCB7IHBoYXNlIH0gPSAkJHByb3BzO1xuXHRsZXQgeyBudW1FdmVudHMgfSA9ICQkcHJvcHM7XG5cdGNvbnN0IHN0eWxlID0gYGdyaWQtcm93OiBzcGFuICR7bnVtRXZlbnRzfWA7XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdwaGFzZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIHBoYXNlID0gJCRwcm9wcy5waGFzZSk7XG5cdFx0aWYgKCdudW1FdmVudHMnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBudW1FdmVudHMgPSAkJHByb3BzLm51bUV2ZW50cyk7XG5cdH07XG5cblx0cmV0dXJuIFtwaGFzZSwgc3R5bGUsIG51bUV2ZW50c107XG59XG5cbmNsYXNzIFBoYXNlTWFya2VyIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSRwLCBjcmVhdGVfZnJhZ21lbnQkcCwgc2FmZV9ub3RfZXF1YWwsIHsgcGhhc2U6IDAsIG51bUV2ZW50czogMiB9LCBhZGRfY3NzJGkpO1xuXHR9XG59XG5cbi8qIHNyYy9jbGllbnQvZGVidWcvbG9nL0xvZ01ldGFkYXRhLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JHEoY3R4KSB7XG5cdGxldCBkaXY7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdi50ZXh0Q29udGVudCA9IGAkey8qcmVuZGVyZWRNZXRhZGF0YSovIGN0eFswXX1gO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0cDogbm9vcCxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkcSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBtZXRhZGF0YSB9ID0gJCRwcm9wcztcblxuXHRjb25zdCByZW5kZXJlZE1ldGFkYXRhID0gbWV0YWRhdGEgIT09IHVuZGVmaW5lZFxuXHQ/IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhLCBudWxsLCA0KVxuXHQ6ICcnO1xuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnbWV0YWRhdGEnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgxLCBtZXRhZGF0YSA9ICQkcHJvcHMubWV0YWRhdGEpO1xuXHR9O1xuXG5cdHJldHVybiBbcmVuZGVyZWRNZXRhZGF0YSwgbWV0YWRhdGFdO1xufVxuXG5jbGFzcyBMb2dNZXRhZGF0YSBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkcSwgY3JlYXRlX2ZyYWdtZW50JHEsIHNhZmVfbm90X2VxdWFsLCB7IG1ldGFkYXRhOiAxIH0pO1xuXHR9XG59XG5cbi8qIHNyYy9jbGllbnQvZGVidWcvbG9nL0xvZ0V2ZW50LnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gYWRkX2NzcyRqKHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtdmFqZDl6XCIsIFwiLmxvZy1ldmVudC5zdmVsdGUtdmFqZDl6e2dyaWQtY29sdW1uOjI7Y3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47anVzdGlmeS1jb250ZW50OmNlbnRlcjtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjFweCBkb3R0ZWQgI2NjYztib3JkZXItbGVmdDo1cHggc29saWQgI2NjYztwYWRkaW5nOjVweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojNjY2O2ZvbnQtc2l6ZToxNHB4O21pbi1oZWlnaHQ6MjVweDtsaW5lLWhlaWdodDoyNXB4fS5sb2ctZXZlbnQuc3ZlbHRlLXZhamQ5ejpob3ZlciwubG9nLWV2ZW50LnN2ZWx0ZS12YWpkOXo6Zm9jdXN7Ym9yZGVyLXN0eWxlOnNvbGlkO2JhY2tncm91bmQ6I2VlZX0ubG9nLWV2ZW50LnBpbm5lZC5zdmVsdGUtdmFqZDl6e2JvcmRlci1zdHlsZTpzb2xpZDtiYWNrZ3JvdW5kOiNlZWU7b3BhY2l0eToxfS5hcmdzLnN2ZWx0ZS12YWpkOXp7dGV4dC1hbGlnbjpsZWZ0O3doaXRlLXNwYWNlOnByZS13cmFwfS5wbGF5ZXIwLnN2ZWx0ZS12YWpkOXp7Ym9yZGVyLWxlZnQtY29sb3I6I2ZmODUxYn0ucGxheWVyMS5zdmVsdGUtdmFqZDl6e2JvcmRlci1sZWZ0LWNvbG9yOiM3ZmRiZmZ9LnBsYXllcjIuc3ZlbHRlLXZhamQ5entib3JkZXItbGVmdC1jb2xvcjojMDA3NGQ5fS5wbGF5ZXIzLnN2ZWx0ZS12YWpkOXp7Ym9yZGVyLWxlZnQtY29sb3I6IzM5Y2NjY30ucGxheWVyNC5zdmVsdGUtdmFqZDl6e2JvcmRlci1sZWZ0LWNvbG9yOiMzZDk5NzB9LnBsYXllcjUuc3ZlbHRlLXZhamQ5entib3JkZXItbGVmdC1jb2xvcjojMmVjYzQwfS5wbGF5ZXI2LnN2ZWx0ZS12YWpkOXp7Ym9yZGVyLWxlZnQtY29sb3I6IzAxZmY3MH0ucGxheWVyNy5zdmVsdGUtdmFqZDl6e2JvcmRlci1sZWZ0LWNvbG9yOiNmZmRjMDB9LnBsYXllcjguc3ZlbHRlLXZhamQ5entib3JkZXItbGVmdC1jb2xvcjojMDAxZjNmfS5wbGF5ZXI5LnN2ZWx0ZS12YWpkOXp7Ym9yZGVyLWxlZnQtY29sb3I6I2ZmNDEzNn0ucGxheWVyMTAuc3ZlbHRlLXZhamQ5entib3JkZXItbGVmdC1jb2xvcjojODUxNDRifS5wbGF5ZXIxMS5zdmVsdGUtdmFqZDl6e2JvcmRlci1sZWZ0LWNvbG9yOiNmMDEyYmV9LnBsYXllcjEyLnN2ZWx0ZS12YWpkOXp7Ym9yZGVyLWxlZnQtY29sb3I6I2IxMGRjOX0ucGxheWVyMTMuc3ZlbHRlLXZhamQ5entib3JkZXItbGVmdC1jb2xvcjojMTExMTExfS5wbGF5ZXIxNC5zdmVsdGUtdmFqZDl6e2JvcmRlci1sZWZ0LWNvbG9yOiNhYWFhYWF9LnBsYXllcjE1LnN2ZWx0ZS12YWpkOXp7Ym9yZGVyLWxlZnQtY29sb3I6I2RkZGRkZH1cIik7XG59XG5cbi8vICgxNDY6MikgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2skMShjdHgpIHtcblx0bGV0IGxvZ21ldGFkYXRhO1xuXHRsZXQgY3VycmVudDtcblx0bG9nbWV0YWRhdGEgPSBuZXcgTG9nTWV0YWRhdGEoeyBwcm9wczogeyBtZXRhZGF0YTogLyptZXRhZGF0YSovIGN0eFsyXSB9IH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQobG9nbWV0YWRhdGEuJCQuZnJhZ21lbnQpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGxvZ21ldGFkYXRhLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0Y29uc3QgbG9nbWV0YWRhdGFfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyptZXRhZGF0YSovIDQpIGxvZ21ldGFkYXRhX2NoYW5nZXMubWV0YWRhdGEgPSAvKm1ldGFkYXRhKi8gY3R4WzJdO1xuXHRcdFx0bG9nbWV0YWRhdGEuJHNldChsb2dtZXRhZGF0YV9jaGFuZ2VzKTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGxvZ21ldGFkYXRhLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGxvZ21ldGFkYXRhLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQobG9nbWV0YWRhdGEsIGRldGFjaGluZyk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTQ0OjIpIHsjaWYgbWV0YWRhdGFDb21wb25lbnR9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2skOShjdHgpIHtcblx0bGV0IHN3aXRjaF9pbnN0YW5jZTtcblx0bGV0IHN3aXRjaF9pbnN0YW5jZV9hbmNob3I7XG5cdGxldCBjdXJyZW50O1xuXHR2YXIgc3dpdGNoX3ZhbHVlID0gLyptZXRhZGF0YUNvbXBvbmVudCovIGN0eFszXTtcblxuXHRmdW5jdGlvbiBzd2l0Y2hfcHJvcHMoY3R4KSB7XG5cdFx0cmV0dXJuIHsgcHJvcHM6IHsgbWV0YWRhdGE6IC8qbWV0YWRhdGEqLyBjdHhbMl0gfSB9O1xuXHR9XG5cblx0aWYgKHN3aXRjaF92YWx1ZSkge1xuXHRcdHN3aXRjaF9pbnN0YW5jZSA9IG5ldyBzd2l0Y2hfdmFsdWUoc3dpdGNoX3Byb3BzKGN0eCkpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgY3JlYXRlX2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQpO1xuXHRcdFx0c3dpdGNoX2luc3RhbmNlX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB7XG5cdFx0XHRcdG1vdW50X2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdH1cblxuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc3dpdGNoX2luc3RhbmNlX2FuY2hvciwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRjb25zdCBzd2l0Y2hfaW5zdGFuY2VfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyptZXRhZGF0YSovIDQpIHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzLm1ldGFkYXRhID0gLyptZXRhZGF0YSovIGN0eFsyXTtcblxuXHRcdFx0aWYgKHN3aXRjaF92YWx1ZSAhPT0gKHN3aXRjaF92YWx1ZSA9IC8qbWV0YWRhdGFDb21wb25lbnQqLyBjdHhbM10pKSB7XG5cdFx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblx0XHRcdFx0XHRjb25zdCBvbGRfY29tcG9uZW50ID0gc3dpdGNoX2luc3RhbmNlO1xuXG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9vdXQob2xkX2NvbXBvbmVudC4kJC5mcmFnbWVudCwgMSwgMCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0ZGVzdHJveV9jb21wb25lbnQob2xkX2NvbXBvbmVudCwgMSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChzd2l0Y2hfdmFsdWUpIHtcblx0XHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UgPSBuZXcgc3dpdGNoX3ZhbHVlKHN3aXRjaF9wcm9wcyhjdHgpKTtcblx0XHRcdFx0XHRjcmVhdGVfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQsIDEpO1xuXHRcdFx0XHRcdG1vdW50X2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UsIHN3aXRjaF9pbnN0YW5jZV9hbmNob3IucGFyZW50Tm9kZSwgc3dpdGNoX2luc3RhbmNlX2FuY2hvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3dpdGNoX2luc3RhbmNlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzd2l0Y2hfdmFsdWUpIHtcblx0XHRcdFx0c3dpdGNoX2luc3RhbmNlLiRzZXQoc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHRyYW5zaXRpb25fb3V0KHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yKTtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIGRlc3Ryb3lfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCRyKGN0eCkge1xuXHRsZXQgYnV0dG9uO1xuXHRsZXQgZGl2O1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IHQyO1xuXHRsZXQgdDM7XG5cdGxldCB0NDtcblx0bGV0IGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleDtcblx0bGV0IGlmX2Jsb2NrO1xuXHRsZXQgYnV0dG9uX2NsYXNzX3ZhbHVlO1xuXHRsZXQgY3VycmVudDtcblx0bGV0IG1vdW50ZWQ7XG5cdGxldCBkaXNwb3NlO1xuXHRjb25zdCBpZl9ibG9ja19jcmVhdG9ycyA9IFtjcmVhdGVfaWZfYmxvY2skOSwgY3JlYXRlX2Vsc2VfYmxvY2skMV07XG5cdGNvbnN0IGlmX2Jsb2NrcyA9IFtdO1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlKGN0eCwgZGlydHkpIHtcblx0XHRpZiAoLyptZXRhZGF0YUNvbXBvbmVudCovIGN0eFszXSkgcmV0dXJuIDA7XG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpO1xuXHRpZl9ibG9jayA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdID0gaWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGJ1dHRvbiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KC8qYWN0aW9uVHlwZSovIGN0eFs0XSk7XG5cdFx0XHR0MSA9IHRleHQoXCIoXCIpO1xuXHRcdFx0dDIgPSB0ZXh0KC8qcmVuZGVyZWRBcmdzKi8gY3R4WzZdKTtcblx0XHRcdHQzID0gdGV4dChcIilcIik7XG5cdFx0XHR0NCA9IHNwYWNlKCk7XG5cdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImFyZ3Mgc3ZlbHRlLXZhamQ5elwiKTtcblx0XHRcdGF0dHIoYnV0dG9uLCBcImNsYXNzXCIsIGJ1dHRvbl9jbGFzc192YWx1ZSA9IFwibG9nLWV2ZW50IHBsYXllclwiICsgLypwbGF5ZXJJRCovIGN0eFs3XSArIFwiIHN2ZWx0ZS12YWpkOXpcIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MoYnV0dG9uLCBcInBpbm5lZFwiLCAvKnBpbm5lZCovIGN0eFsxXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoYnV0dG9uLCBkaXYpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDEpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDIpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDMpO1xuXHRcdFx0YXBwZW5kKGJ1dHRvbiwgdDQpO1xuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ubShidXR0b24sIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRcdGxpc3RlbihidXR0b24sIFwiY2xpY2tcIiwgLypjbGlja19oYW5kbGVyKi8gY3R4WzldKSxcblx0XHRcdFx0XHRsaXN0ZW4oYnV0dG9uLCBcIm1vdXNlZW50ZXJcIiwgLyptb3VzZWVudGVyX2hhbmRsZXIqLyBjdHhbMTBdKSxcblx0XHRcdFx0XHRsaXN0ZW4oYnV0dG9uLCBcImZvY3VzXCIsIC8qZm9jdXNfaGFuZGxlciovIGN0eFsxMV0pLFxuXHRcdFx0XHRcdGxpc3RlbihidXR0b24sIFwibW91c2VsZWF2ZVwiLCAvKm1vdXNlbGVhdmVfaGFuZGxlciovIGN0eFsxMl0pLFxuXHRcdFx0XHRcdGxpc3RlbihidXR0b24sIFwiYmx1clwiLCAvKmJsdXJfaGFuZGxlciovIGN0eFsxM10pXG5cdFx0XHRcdF07XG5cblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwKGN0eCwgW2RpcnR5XSkge1xuXHRcdFx0aWYgKCFjdXJyZW50IHx8IGRpcnR5ICYgLyphY3Rpb25UeXBlKi8gMTYpIHNldF9kYXRhKHQwLCAvKmFjdGlvblR5cGUqLyBjdHhbNF0pO1xuXHRcdFx0bGV0IHByZXZpb3VzX2Jsb2NrX2luZGV4ID0gY3VycmVudF9ibG9ja190eXBlX2luZGV4O1xuXHRcdFx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblxuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9PT0gcHJldmlvdXNfYmxvY2tfaW5kZXgpIHtcblx0XHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ucChjdHgsIGRpcnR5KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0sIDEsIDEsICgpID0+IHtcblx0XHRcdFx0XHRpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHRcdGlmX2Jsb2NrID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF07XG5cblx0XHRcdFx0aWYgKCFpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0gPSBpZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLnAoY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrLCAxKTtcblx0XHRcdFx0aWZfYmxvY2subShidXR0b24sIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKnBpbm5lZCovIDIpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGJ1dHRvbiwgXCJwaW5uZWRcIiwgLypwaW5uZWQqLyBjdHhbMV0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2spO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGJ1dHRvbik7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5kKCk7XG5cdFx0XHRtb3VudGVkID0gZmFsc2U7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkcigkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBsb2dJbmRleCB9ID0gJCRwcm9wcztcblx0bGV0IHsgYWN0aW9uIH0gPSAkJHByb3BzO1xuXHRsZXQgeyBwaW5uZWQgfSA9ICQkcHJvcHM7XG5cdGxldCB7IG1ldGFkYXRhIH0gPSAkJHByb3BzO1xuXHRsZXQgeyBtZXRhZGF0YUNvbXBvbmVudCB9ID0gJCRwcm9wcztcblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblx0Y29uc3QgYXJncyA9IGFjdGlvbi5wYXlsb2FkLmFyZ3M7XG5cblx0Y29uc3QgcmVuZGVyZWRBcmdzID0gQXJyYXkuaXNBcnJheShhcmdzKVxuXHQ/IGFyZ3MubWFwKGFyZyA9PiBKU09OLnN0cmluZ2lmeShhcmcsIG51bGwsIDIpKS5qb2luKCcsJylcblx0OiBKU09OLnN0cmluZ2lmeShhcmdzLCBudWxsLCAyKSB8fCAnJztcblxuXHRjb25zdCBwbGF5ZXJJRCA9IGFjdGlvbi5wYXlsb2FkLnBsYXllcklEO1xuXHRsZXQgYWN0aW9uVHlwZTtcblxuXHRzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdFx0Y2FzZSAnVU5ETyc6XG5cdFx0XHRhY3Rpb25UeXBlID0gJ3VuZG8nO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnUkVETyc6XG5cdFx0XHRhY3Rpb25UeXBlID0gJ3JlZG8nO1xuXHRcdGNhc2UgJ0dBTUVfRVZFTlQnOlxuXHRcdGNhc2UgJ01BS0VfTU9WRSc6XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGFjdGlvblR5cGUgPSBhY3Rpb24ucGF5bG9hZC50eXBlO1xuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRjb25zdCBjbGlja19oYW5kbGVyID0gKCkgPT4gZGlzcGF0Y2goJ2NsaWNrJywgeyBsb2dJbmRleCB9KTtcblx0Y29uc3QgbW91c2VlbnRlcl9oYW5kbGVyID0gKCkgPT4gZGlzcGF0Y2goJ21vdXNlZW50ZXInLCB7IGxvZ0luZGV4IH0pO1xuXHRjb25zdCBmb2N1c19oYW5kbGVyID0gKCkgPT4gZGlzcGF0Y2goJ21vdXNlZW50ZXInLCB7IGxvZ0luZGV4IH0pO1xuXHRjb25zdCBtb3VzZWxlYXZlX2hhbmRsZXIgPSAoKSA9PiBkaXNwYXRjaCgnbW91c2VsZWF2ZScpO1xuXHRjb25zdCBibHVyX2hhbmRsZXIgPSAoKSA9PiBkaXNwYXRjaCgnbW91c2VsZWF2ZScpO1xuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnbG9nSW5kZXgnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBsb2dJbmRleCA9ICQkcHJvcHMubG9nSW5kZXgpO1xuXHRcdGlmICgnYWN0aW9uJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoOCwgYWN0aW9uID0gJCRwcm9wcy5hY3Rpb24pO1xuXHRcdGlmICgncGlubmVkJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgcGlubmVkID0gJCRwcm9wcy5waW5uZWQpO1xuXHRcdGlmICgnbWV0YWRhdGEnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgyLCBtZXRhZGF0YSA9ICQkcHJvcHMubWV0YWRhdGEpO1xuXHRcdGlmICgnbWV0YWRhdGFDb21wb25lbnQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgzLCBtZXRhZGF0YUNvbXBvbmVudCA9ICQkcHJvcHMubWV0YWRhdGFDb21wb25lbnQpO1xuXHR9O1xuXG5cdHJldHVybiBbXG5cdFx0bG9nSW5kZXgsXG5cdFx0cGlubmVkLFxuXHRcdG1ldGFkYXRhLFxuXHRcdG1ldGFkYXRhQ29tcG9uZW50LFxuXHRcdGFjdGlvblR5cGUsXG5cdFx0ZGlzcGF0Y2gsXG5cdFx0cmVuZGVyZWRBcmdzLFxuXHRcdHBsYXllcklELFxuXHRcdGFjdGlvbixcblx0XHRjbGlja19oYW5kbGVyLFxuXHRcdG1vdXNlZW50ZXJfaGFuZGxlcixcblx0XHRmb2N1c19oYW5kbGVyLFxuXHRcdG1vdXNlbGVhdmVfaGFuZGxlcixcblx0XHRibHVyX2hhbmRsZXJcblx0XTtcbn1cblxuY2xhc3MgTG9nRXZlbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGluaXQoXG5cdFx0XHR0aGlzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdGluc3RhbmNlJHIsXG5cdFx0XHRjcmVhdGVfZnJhZ21lbnQkcixcblx0XHRcdHNhZmVfbm90X2VxdWFsLFxuXHRcdFx0e1xuXHRcdFx0XHRsb2dJbmRleDogMCxcblx0XHRcdFx0YWN0aW9uOiA4LFxuXHRcdFx0XHRwaW5uZWQ6IDEsXG5cdFx0XHRcdG1ldGFkYXRhOiAyLFxuXHRcdFx0XHRtZXRhZGF0YUNvbXBvbmVudDogM1xuXHRcdFx0fSxcblx0XHRcdGFkZF9jc3MkalxuXHRcdCk7XG5cdH1cbn1cblxuLyogbm9kZV9tb2R1bGVzL3N2ZWx0ZS1pY29ucy9mYS9GYUFycm93QWx0Q2lyY2xlRG93bi5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGNyZWF0ZV9kZWZhdWx0X3Nsb3QkMShjdHgpIHtcblx0bGV0IHBhdGg7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0cGF0aCA9IHN2Z19lbGVtZW50KFwicGF0aFwiKTtcblx0XHRcdGF0dHIocGF0aCwgXCJkXCIsIFwiTTUwNCAyNTZjMCAxMzctMTExIDI0OC0yNDggMjQ4UzggMzkzIDggMjU2IDExOSA4IDI1NiA4czI0OCAxMTEgMjQ4IDI0OHpNMjEyIDE0MHYxMTZoLTcwLjljLTEwLjcgMC0xNi4xIDEzLTguNSAyMC41bDExNC45IDExNC4zYzQuNyA0LjcgMTIuMiA0LjcgMTYuOSAwbDExNC45LTExNC4zYzcuNi03LjYgMi4yLTIwLjUtOC41LTIwLjVIMzAwVjE0MGMwLTYuNi01LjQtMTItMTItMTJoLTY0Yy02LjYgMC0xMiA1LjQtMTIgMTJ6XCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcGF0aCwgYW5jaG9yKTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gocGF0aCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkcyhjdHgpIHtcblx0bGV0IGljb25iYXNlO1xuXHRsZXQgY3VycmVudDtcblx0Y29uc3QgaWNvbmJhc2Vfc3ByZWFkX2xldmVscyA9IFt7IHZpZXdCb3g6IFwiMCAwIDUxMiA1MTJcIiB9LCAvKiQkcHJvcHMqLyBjdHhbMF1dO1xuXG5cdGxldCBpY29uYmFzZV9wcm9wcyA9IHtcblx0XHQkJHNsb3RzOiB7IGRlZmF1bHQ6IFtjcmVhdGVfZGVmYXVsdF9zbG90JDFdIH0sXG5cdFx0JCRzY29wZTogeyBjdHggfVxuXHR9O1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaWNvbmJhc2Vfc3ByZWFkX2xldmVscy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGljb25iYXNlX3Byb3BzID0gYXNzaWduKGljb25iYXNlX3Byb3BzLCBpY29uYmFzZV9zcHJlYWRfbGV2ZWxzW2ldKTtcblx0fVxuXG5cdGljb25iYXNlID0gbmV3IEljb25CYXNlKHsgcHJvcHM6IGljb25iYXNlX3Byb3BzIH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoaWNvbmJhc2UuJCQuZnJhZ21lbnQpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGljb25iYXNlLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRjb25zdCBpY29uYmFzZV9jaGFuZ2VzID0gKGRpcnR5ICYgLyokJHByb3BzKi8gMSlcblx0XHRcdD8gZ2V0X3NwcmVhZF91cGRhdGUoaWNvbmJhc2Vfc3ByZWFkX2xldmVscywgW2ljb25iYXNlX3NwcmVhZF9sZXZlbHNbMF0sIGdldF9zcHJlYWRfb2JqZWN0KC8qJCRwcm9wcyovIGN0eFswXSldKVxuXHRcdFx0OiB7fTtcblxuXHRcdFx0aWYgKGRpcnR5ICYgLyokJHNjb3BlKi8gMikge1xuXHRcdFx0XHRpY29uYmFzZV9jaGFuZ2VzLiQkc2NvcGUgPSB7IGRpcnR5LCBjdHggfTtcblx0XHRcdH1cblxuXHRcdFx0aWNvbmJhc2UuJHNldChpY29uYmFzZV9jaGFuZ2VzKTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGljb25iYXNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGljb25iYXNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoaWNvbmJhc2UsIGRldGFjaGluZyk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSRzKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdCQkc2VsZi4kJHNldCA9ICQkbmV3X3Byb3BzID0+IHtcblx0XHQkJGludmFsaWRhdGUoMCwgJCRwcm9wcyA9IGFzc2lnbihhc3NpZ24oe30sICQkcHJvcHMpLCBleGNsdWRlX2ludGVybmFsX3Byb3BzKCQkbmV3X3Byb3BzKSkpO1xuXHR9O1xuXG5cdCQkcHJvcHMgPSBleGNsdWRlX2ludGVybmFsX3Byb3BzKCQkcHJvcHMpO1xuXHRyZXR1cm4gWyQkcHJvcHNdO1xufVxuXG5jbGFzcyBGYUFycm93QWx0Q2lyY2xlRG93biBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkcywgY3JlYXRlX2ZyYWdtZW50JHMsIHNhZmVfbm90X2VxdWFsLCB7fSk7XG5cdH1cbn1cblxuLyogc3JjL2NsaWVudC9kZWJ1Zy9tY3RzL0FjdGlvbi5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3Mkayh0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLTFhN3RpbWVcIiwgXCJkaXYuc3ZlbHRlLTFhN3RpbWV7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVuO21heC13aWR0aDo1MDBweH1cIik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCR0KGN0eCkge1xuXHRsZXQgZGl2O1xuXHRsZXQgdDtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dCA9IHRleHQoLyp0ZXh0Ki8gY3R4WzBdKTtcblx0XHRcdGF0dHIoZGl2LCBcImFsdFwiLCAvKnRleHQqLyBjdHhbMF0pO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMWE3dGltZVwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIHQpO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qdGV4dCovIDEpIHNldF9kYXRhKHQsIC8qdGV4dCovIGN0eFswXSk7XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qdGV4dCovIDEpIHtcblx0XHRcdFx0YXR0cihkaXYsIFwiYWx0XCIsIC8qdGV4dCovIGN0eFswXSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkdCgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBhY3Rpb24gfSA9ICQkcHJvcHM7XG5cdGxldCB0ZXh0O1xuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnYWN0aW9uJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMSwgYWN0aW9uID0gJCRwcm9wcy5hY3Rpb24pO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qYWN0aW9uKi8gMikge1xuXHRcdFx0IHtcblx0XHRcdFx0Y29uc3QgeyB0eXBlLCBhcmdzIH0gPSBhY3Rpb24ucGF5bG9hZDtcblx0XHRcdFx0Y29uc3QgYXJnc0Zvcm1hdHRlZCA9IChhcmdzIHx8IFtdKS5qb2luKCcsJyk7XG5cdFx0XHRcdCQkaW52YWxpZGF0ZSgwLCB0ZXh0ID0gYCR7dHlwZX0oJHthcmdzRm9ybWF0dGVkfSlgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIFt0ZXh0LCBhY3Rpb25dO1xufVxuXG5jbGFzcyBBY3Rpb24gZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJHQsIGNyZWF0ZV9mcmFnbWVudCR0LCBzYWZlX25vdF9lcXVhbCwgeyBhY3Rpb246IDEgfSwgYWRkX2NzcyRrKTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL21jdHMvVGFibGUuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJGwodGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS16dGN3c3VcIiwgXCJ0YWJsZS5zdmVsdGUtenRjd3N1LnN2ZWx0ZS16dGN3c3V7Zm9udC1zaXplOjEycHg7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlcjoxcHggc29saWQgI2RkZDtwYWRkaW5nOjB9dHIuc3ZlbHRlLXp0Y3dzdS5zdmVsdGUtenRjd3N1e2N1cnNvcjpwb2ludGVyfXRyLnN2ZWx0ZS16dGN3c3U6aG92ZXIgdGQuc3ZlbHRlLXp0Y3dzdXtiYWNrZ3JvdW5kOiNlZWV9dHIuc2VsZWN0ZWQuc3ZlbHRlLXp0Y3dzdSB0ZC5zdmVsdGUtenRjd3N1e2JhY2tncm91bmQ6I2VlZX10ZC5zdmVsdGUtenRjd3N1LnN2ZWx0ZS16dGN3c3V7cGFkZGluZzoxMHB4O2hlaWdodDoxMHB4O2xpbmUtaGVpZ2h0OjEwcHg7Zm9udC1zaXplOjEycHg7Ym9yZGVyOm5vbmV9dGguc3ZlbHRlLXp0Y3dzdS5zdmVsdGUtenRjd3N1e2JhY2tncm91bmQ6Izg4ODtjb2xvcjojZmZmO3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn1cIik7XG59XG5cbmZ1bmN0aW9uIGdldF9lYWNoX2NvbnRleHQkNihjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gY3R4LnNsaWNlKCk7XG5cdGNoaWxkX2N0eFsxMF0gPSBsaXN0W2ldO1xuXHRjaGlsZF9jdHhbMTJdID0gaTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDg2OjIpIHsjZWFjaCBjaGlsZHJlbiBhcyBjaGlsZCwgaX1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrJDYoY3R4KSB7XG5cdGxldCB0cjtcblx0bGV0IHRkMDtcblx0bGV0IHQwX3ZhbHVlID0gLypjaGlsZCovIGN0eFsxMF0udmFsdWUgKyBcIlwiO1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IHRkMTtcblx0bGV0IHQyX3ZhbHVlID0gLypjaGlsZCovIGN0eFsxMF0udmlzaXRzICsgXCJcIjtcblx0bGV0IHQyO1xuXHRsZXQgdDM7XG5cdGxldCB0ZDI7XG5cdGxldCBhY3Rpb247XG5cdGxldCB0NDtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBtb3VudGVkO1xuXHRsZXQgZGlzcG9zZTtcblxuXHRhY3Rpb24gPSBuZXcgQWN0aW9uKHtcblx0XHRcdHByb3BzOiB7IGFjdGlvbjogLypjaGlsZCovIGN0eFsxMF0ucGFyZW50QWN0aW9uIH1cblx0XHR9KTtcblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRcdHJldHVybiAvKmNsaWNrX2hhbmRsZXIqLyBjdHhbNl0oLypjaGlsZCovIGN0eFsxMF0sIC8qaSovIGN0eFsxMl0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gbW91c2VvdXRfaGFuZGxlcigpIHtcblx0XHRyZXR1cm4gLyptb3VzZW91dF9oYW5kbGVyKi8gY3R4WzddKC8qaSovIGN0eFsxMl0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gbW91c2VvdmVyX2hhbmRsZXIoKSB7XG5cdFx0cmV0dXJuIC8qbW91c2VvdmVyX2hhbmRsZXIqLyBjdHhbOF0oLypjaGlsZCovIGN0eFsxMF0sIC8qaSovIGN0eFsxMl0pO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0dHIgPSBlbGVtZW50KFwidHJcIik7XG5cdFx0XHR0ZDAgPSBlbGVtZW50KFwidGRcIik7XG5cdFx0XHR0MCA9IHRleHQodDBfdmFsdWUpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0dGQxID0gZWxlbWVudChcInRkXCIpO1xuXHRcdFx0dDIgPSB0ZXh0KHQyX3ZhbHVlKTtcblx0XHRcdHQzID0gc3BhY2UoKTtcblx0XHRcdHRkMiA9IGVsZW1lbnQoXCJ0ZFwiKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoYWN0aW9uLiQkLmZyYWdtZW50KTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGF0dHIodGQwLCBcImNsYXNzXCIsIFwic3ZlbHRlLXp0Y3dzdVwiKTtcblx0XHRcdGF0dHIodGQxLCBcImNsYXNzXCIsIFwic3ZlbHRlLXp0Y3dzdVwiKTtcblx0XHRcdGF0dHIodGQyLCBcImNsYXNzXCIsIFwic3ZlbHRlLXp0Y3dzdVwiKTtcblx0XHRcdGF0dHIodHIsIFwiY2xhc3NcIiwgXCJzdmVsdGUtenRjd3N1XCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKHRyLCBcImNsaWNrYWJsZVwiLCAvKmNoaWxkcmVuKi8gY3R4WzFdLmxlbmd0aCA+IDApO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKHRyLCBcInNlbGVjdGVkXCIsIC8qaSovIGN0eFsxMl0gPT09IC8qc2VsZWN0ZWRJbmRleCovIGN0eFswXSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0ciwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZCh0ciwgdGQwKTtcblx0XHRcdGFwcGVuZCh0ZDAsIHQwKTtcblx0XHRcdGFwcGVuZCh0ciwgdDEpO1xuXHRcdFx0YXBwZW5kKHRyLCB0ZDEpO1xuXHRcdFx0YXBwZW5kKHRkMSwgdDIpO1xuXHRcdFx0YXBwZW5kKHRyLCB0Myk7XG5cdFx0XHRhcHBlbmQodHIsIHRkMik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoYWN0aW9uLCB0ZDIsIG51bGwpO1xuXHRcdFx0YXBwZW5kKHRyLCB0NCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblxuXHRcdFx0aWYgKCFtb3VudGVkKSB7XG5cdFx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdFx0bGlzdGVuKHRyLCBcImNsaWNrXCIsIGNsaWNrX2hhbmRsZXIpLFxuXHRcdFx0XHRcdGxpc3Rlbih0ciwgXCJtb3VzZW91dFwiLCBtb3VzZW91dF9oYW5kbGVyKSxcblx0XHRcdFx0XHRsaXN0ZW4odHIsIFwibW91c2VvdmVyXCIsIG1vdXNlb3Zlcl9oYW5kbGVyKVxuXHRcdFx0XHRdO1xuXG5cdFx0XHRcdG1vdW50ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cChuZXdfY3R4LCBkaXJ0eSkge1xuXHRcdFx0Y3R4ID0gbmV3X2N0eDtcblx0XHRcdGlmICgoIWN1cnJlbnQgfHwgZGlydHkgJiAvKmNoaWxkcmVuKi8gMikgJiYgdDBfdmFsdWUgIT09ICh0MF92YWx1ZSA9IC8qY2hpbGQqLyBjdHhbMTBdLnZhbHVlICsgXCJcIikpIHNldF9kYXRhKHQwLCB0MF92YWx1ZSk7XG5cdFx0XHRpZiAoKCFjdXJyZW50IHx8IGRpcnR5ICYgLypjaGlsZHJlbiovIDIpICYmIHQyX3ZhbHVlICE9PSAodDJfdmFsdWUgPSAvKmNoaWxkKi8gY3R4WzEwXS52aXNpdHMgKyBcIlwiKSkgc2V0X2RhdGEodDIsIHQyX3ZhbHVlKTtcblx0XHRcdGNvbnN0IGFjdGlvbl9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKmNoaWxkcmVuKi8gMikgYWN0aW9uX2NoYW5nZXMuYWN0aW9uID0gLypjaGlsZCovIGN0eFsxMF0ucGFyZW50QWN0aW9uO1xuXHRcdFx0YWN0aW9uLiRzZXQoYWN0aW9uX2NoYW5nZXMpO1xuXG5cdFx0XHRpZiAoZGlydHkgJiAvKmNoaWxkcmVuKi8gMikge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3ModHIsIFwiY2xpY2thYmxlXCIsIC8qY2hpbGRyZW4qLyBjdHhbMV0ubGVuZ3RoID4gMCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qc2VsZWN0ZWRJbmRleCovIDEpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKHRyLCBcInNlbGVjdGVkXCIsIC8qaSovIGN0eFsxMl0gPT09IC8qc2VsZWN0ZWRJbmRleCovIGN0eFswXSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihhY3Rpb24uJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoYWN0aW9uLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHRyKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGFjdGlvbik7XG5cdFx0XHRtb3VudGVkID0gZmFsc2U7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JHUoY3R4KSB7XG5cdGxldCB0YWJsZTtcblx0bGV0IHRoZWFkO1xuXHRsZXQgdDU7XG5cdGxldCB0Ym9keTtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBlYWNoX3ZhbHVlID0gLypjaGlsZHJlbiovIGN0eFsxXTtcblx0bGV0IGVhY2hfYmxvY2tzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQ2KGdldF9lYWNoX2NvbnRleHQkNihjdHgsIGVhY2hfdmFsdWUsIGkpKTtcblx0fVxuXG5cdGNvbnN0IG91dCA9IGkgPT4gdHJhbnNpdGlvbl9vdXQoZWFjaF9ibG9ja3NbaV0sIDEsIDEsICgpID0+IHtcblx0XHRlYWNoX2Jsb2Nrc1tpXSA9IG51bGw7XG5cdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdHRhYmxlID0gZWxlbWVudChcInRhYmxlXCIpO1xuXHRcdFx0dGhlYWQgPSBlbGVtZW50KFwidGhlYWRcIik7XG5cblx0XHRcdHRoZWFkLmlubmVySFRNTCA9IGA8dGggY2xhc3M9XCJzdmVsdGUtenRjd3N1XCI+VmFsdWU8L3RoPiBcbiAgICA8dGggY2xhc3M9XCJzdmVsdGUtenRjd3N1XCI+VmlzaXRzPC90aD4gXG4gICAgPHRoIGNsYXNzPVwic3ZlbHRlLXp0Y3dzdVwiPkFjdGlvbjwvdGg+YDtcblxuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0dGJvZHkgPSBlbGVtZW50KFwidGJvZHlcIik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0fVxuXG5cdFx0XHRhdHRyKHRhYmxlLCBcImNsYXNzXCIsIFwic3ZlbHRlLXp0Y3dzdVwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHRhYmxlLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHRhYmxlLCB0aGVhZCk7XG5cdFx0XHRhcHBlbmQodGFibGUsIHQ1KTtcblx0XHRcdGFwcGVuZCh0YWJsZSwgdGJvZHkpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0odGJvZHksIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKmNoaWxkcmVuLCBzZWxlY3RlZEluZGV4LCBTZWxlY3QsIFByZXZpZXcqLyAxNSkge1xuXHRcdFx0XHRlYWNoX3ZhbHVlID0gLypjaGlsZHJlbiovIGN0eFsxXTtcblx0XHRcdFx0bGV0IGk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0JDYoY3R4LCBlYWNoX3ZhbHVlLCBpKTtcblxuXHRcdFx0XHRcdGlmIChlYWNoX2Jsb2Nrc1tpXSkge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ucChjaGlsZF9jdHgsIGRpcnR5KTtcblx0XHRcdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0sIDEpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrJDYoY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0sIDEpO1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ubSh0Ym9keSwgbnVsbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cblx0XHRcdFx0Zm9yIChpID0gZWFjaF92YWx1ZS5sZW5ndGg7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdG91dChpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0pO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdGVhY2hfYmxvY2tzID0gZWFjaF9ibG9ja3MuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGVhY2hfYmxvY2tzW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0YWJsZSk7XG5cdFx0XHRkZXN0cm95X2VhY2goZWFjaF9ibG9ja3MsIGRldGFjaGluZyk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSR1KCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCB7IHJvb3QgfSA9ICQkcHJvcHM7XG5cdGxldCB7IHNlbGVjdGVkSW5kZXggPSBudWxsIH0gPSAkJHByb3BzO1xuXHRjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXHRsZXQgcGFyZW50cyA9IFtdO1xuXHRsZXQgY2hpbGRyZW4gPSBbXTtcblxuXHRmdW5jdGlvbiBTZWxlY3Qobm9kZSwgaSkge1xuXHRcdGRpc3BhdGNoKCdzZWxlY3QnLCB7IG5vZGUsIHNlbGVjdGVkSW5kZXg6IGkgfSk7XG5cdH1cblxuXHRmdW5jdGlvbiBQcmV2aWV3KG5vZGUsIGkpIHtcblx0XHRpZiAoc2VsZWN0ZWRJbmRleCA9PT0gbnVsbCkge1xuXHRcdFx0ZGlzcGF0Y2goJ3ByZXZpZXcnLCB7IG5vZGUgfSk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgY2xpY2tfaGFuZGxlciA9IChjaGlsZCwgaSkgPT4gU2VsZWN0KGNoaWxkLCBpKTtcblx0Y29uc3QgbW91c2VvdXRfaGFuZGxlciA9IGkgPT4gUHJldmlldyhudWxsKTtcblx0Y29uc3QgbW91c2VvdmVyX2hhbmRsZXIgPSAoY2hpbGQsIGkpID0+IFByZXZpZXcoY2hpbGQpO1xuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgncm9vdCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDQsIHJvb3QgPSAkJHByb3BzLnJvb3QpO1xuXHRcdGlmICgnc2VsZWN0ZWRJbmRleCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIHNlbGVjdGVkSW5kZXggPSAkJHByb3BzLnNlbGVjdGVkSW5kZXgpO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qcm9vdCwgcGFyZW50cyovIDQ4KSB7XG5cdFx0XHQge1xuXHRcdFx0XHRsZXQgdCA9IHJvb3Q7XG5cdFx0XHRcdCQkaW52YWxpZGF0ZSg1LCBwYXJlbnRzID0gW10pO1xuXG5cdFx0XHRcdHdoaWxlICh0LnBhcmVudCkge1xuXHRcdFx0XHRcdGNvbnN0IHBhcmVudCA9IHQucGFyZW50O1xuXHRcdFx0XHRcdGNvbnN0IHsgdHlwZSwgYXJncyB9ID0gdC5wYXJlbnRBY3Rpb24ucGF5bG9hZDtcblx0XHRcdFx0XHRjb25zdCBhcmdzRm9ybWF0dGVkID0gKGFyZ3MgfHwgW10pLmpvaW4oJywnKTtcblx0XHRcdFx0XHRjb25zdCBhcnJvd1RleHQgPSBgJHt0eXBlfSgke2FyZ3NGb3JtYXR0ZWR9KWA7XG5cdFx0XHRcdFx0cGFyZW50cy5wdXNoKHsgcGFyZW50LCBhcnJvd1RleHQgfSk7XG5cdFx0XHRcdFx0dCA9IHBhcmVudDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBhcmVudHMucmV2ZXJzZSgpO1xuXHRcdFx0XHQkJGludmFsaWRhdGUoMSwgY2hpbGRyZW4gPSBbLi4ucm9vdC5jaGlsZHJlbl0uc29ydCgoYSwgYikgPT4gYS52aXNpdHMgPCBiLnZpc2l0cyA/IDEgOiAtMSkuc2xpY2UoMCwgNTApKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIFtcblx0XHRzZWxlY3RlZEluZGV4LFxuXHRcdGNoaWxkcmVuLFxuXHRcdFNlbGVjdCxcblx0XHRQcmV2aWV3LFxuXHRcdHJvb3QsXG5cdFx0cGFyZW50cyxcblx0XHRjbGlja19oYW5kbGVyLFxuXHRcdG1vdXNlb3V0X2hhbmRsZXIsXG5cdFx0bW91c2VvdmVyX2hhbmRsZXJcblx0XTtcbn1cblxuY2xhc3MgVGFibGUgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJHUsIGNyZWF0ZV9mcmFnbWVudCR1LCBzYWZlX25vdF9lcXVhbCwgeyByb290OiA0LCBzZWxlY3RlZEluZGV4OiAwIH0sIGFkZF9jc3MkbCk7XG5cdH1cbn1cblxuLyogc3JjL2NsaWVudC9kZWJ1Zy9tY3RzL01DVFMuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJG0odGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS0xZjBhbXo0XCIsIFwiLnZpc3VhbGl6ZXIuc3ZlbHRlLTFmMGFtejR7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo1MHB4fS5wcmV2aWV3LnN2ZWx0ZS0xZjBhbXo0e29wYWNpdHk6MC41fS5pY29uLnN2ZWx0ZS0xZjBhbXo0e2NvbG9yOiM3Nzc7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDttYXJnaW4tYm90dG9tOjIwcHh9XCIpO1xufVxuXG5mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0JDcoY3R4LCBsaXN0LCBpKSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuXHRjaGlsZF9jdHhbOV0gPSBsaXN0W2ldLm5vZGU7XG5cdGNoaWxkX2N0eFsxMF0gPSBsaXN0W2ldLnNlbGVjdGVkSW5kZXg7XG5cdGNoaWxkX2N0eFsxMl0gPSBpO1xuXHRyZXR1cm4gY2hpbGRfY3R4O1xufVxuXG4vLyAoNTA6NCkgeyNpZiBpICE9PSAwfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzIkMyhjdHgpIHtcblx0bGV0IGRpdjtcblx0bGV0IGFycm93O1xuXHRsZXQgY3VycmVudDtcblx0YXJyb3cgPSBuZXcgRmFBcnJvd0FsdENpcmNsZURvd24oe30pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGFycm93LiQkLmZyYWdtZW50KTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiaWNvbiBzdmVsdGUtMWYwYW16NFwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChhcnJvdywgZGl2LCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oYXJyb3cuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoYXJyb3cuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goZGl2KTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGFycm93KTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg2MTo2KSB7OmVsc2V9XG5mdW5jdGlvbiBjcmVhdGVfZWxzZV9ibG9jayQyKGN0eCkge1xuXHRsZXQgdGFibGU7XG5cdGxldCBjdXJyZW50O1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9oYW5kbGVyXzEoLi4uYXJncykge1xuXHRcdHJldHVybiAvKnNlbGVjdF9oYW5kbGVyXzEqLyBjdHhbN10oLyppKi8gY3R4WzEyXSwgLi4uYXJncyk7XG5cdH1cblxuXHR0YWJsZSA9IG5ldyBUYWJsZSh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRyb290OiAvKm5vZGUqLyBjdHhbOV0sXG5cdFx0XHRcdHNlbGVjdGVkSW5kZXg6IC8qc2VsZWN0ZWRJbmRleCovIGN0eFsxMF1cblx0XHRcdH1cblx0XHR9KTtcblxuXHR0YWJsZS4kb24oXCJzZWxlY3RcIiwgc2VsZWN0X2hhbmRsZXJfMSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudCh0YWJsZS4kJC5mcmFnbWVudCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRtb3VudF9jb21wb25lbnQodGFibGUsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChuZXdfY3R4LCBkaXJ0eSkge1xuXHRcdFx0Y3R4ID0gbmV3X2N0eDtcblx0XHRcdGNvbnN0IHRhYmxlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qbm9kZXMqLyAxKSB0YWJsZV9jaGFuZ2VzLnJvb3QgPSAvKm5vZGUqLyBjdHhbOV07XG5cdFx0XHRpZiAoZGlydHkgJiAvKm5vZGVzKi8gMSkgdGFibGVfY2hhbmdlcy5zZWxlY3RlZEluZGV4ID0gLypzZWxlY3RlZEluZGV4Ki8gY3R4WzEwXTtcblx0XHRcdHRhYmxlLiRzZXQodGFibGVfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbih0YWJsZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dCh0YWJsZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KHRhYmxlLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDU3OjYpIHsjaWYgaSA9PT0gbm9kZXMubGVuZ3RoIC0gMX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xJDMoY3R4KSB7XG5cdGxldCB0YWJsZTtcblx0bGV0IGN1cnJlbnQ7XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2hhbmRsZXIoLi4uYXJncykge1xuXHRcdHJldHVybiAvKnNlbGVjdF9oYW5kbGVyKi8gY3R4WzVdKC8qaSovIGN0eFsxMl0sIC4uLmFyZ3MpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJldmlld19oYW5kbGVyKC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gLypwcmV2aWV3X2hhbmRsZXIqLyBjdHhbNl0oLyppKi8gY3R4WzEyXSwgLi4uYXJncyk7XG5cdH1cblxuXHR0YWJsZSA9IG5ldyBUYWJsZSh7IHByb3BzOiB7IHJvb3Q6IC8qbm9kZSovIGN0eFs5XSB9IH0pO1xuXHR0YWJsZS4kb24oXCJzZWxlY3RcIiwgc2VsZWN0X2hhbmRsZXIpO1xuXHR0YWJsZS4kb24oXCJwcmV2aWV3XCIsIHByZXZpZXdfaGFuZGxlcik7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudCh0YWJsZS4kJC5mcmFnbWVudCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRtb3VudF9jb21wb25lbnQodGFibGUsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChuZXdfY3R4LCBkaXJ0eSkge1xuXHRcdFx0Y3R4ID0gbmV3X2N0eDtcblx0XHRcdGNvbnN0IHRhYmxlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qbm9kZXMqLyAxKSB0YWJsZV9jaGFuZ2VzLnJvb3QgPSAvKm5vZGUqLyBjdHhbOV07XG5cdFx0XHR0YWJsZS4kc2V0KHRhYmxlX2NoYW5nZXMpO1xuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4odGFibGUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQodGFibGUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudCh0YWJsZSwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg0OToyKSB7I2VhY2ggbm9kZXMgYXMgeyBub2RlLCBzZWxlY3RlZEluZGV4IH1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrJDcoY3R4KSB7XG5cdGxldCB0O1xuXHRsZXQgc2VjdGlvbjtcblx0bGV0IGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleDtcblx0bGV0IGlmX2Jsb2NrMTtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBpZl9ibG9jazAgPSAvKmkqLyBjdHhbMTJdICE9PSAwICYmIGNyZWF0ZV9pZl9ibG9ja18yJDMoKTtcblx0Y29uc3QgaWZfYmxvY2tfY3JlYXRvcnMgPSBbY3JlYXRlX2lmX2Jsb2NrXzEkMywgY3JlYXRlX2Vsc2VfYmxvY2skMl07XG5cdGNvbnN0IGlmX2Jsb2NrcyA9IFtdO1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlKGN0eCwgZGlydHkpIHtcblx0XHRpZiAoLyppKi8gY3R4WzEyXSA9PT0gLypub2RlcyovIGN0eFswXS5sZW5ndGggLSAxKSByZXR1cm4gMDtcblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCk7XG5cdGlmX2Jsb2NrMSA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdID0gaWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0ID0gc3BhY2UoKTtcblx0XHRcdHNlY3Rpb24gPSBlbGVtZW50KFwic2VjdGlvblwiKTtcblx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc2VjdGlvbiwgYW5jaG9yKTtcblx0XHRcdGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdLm0oc2VjdGlvbiwgbnVsbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0bGV0IHByZXZpb3VzX2Jsb2NrX2luZGV4ID0gY3VycmVudF9ibG9ja190eXBlX2luZGV4O1xuXHRcdFx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblxuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9PT0gcHJldmlvdXNfYmxvY2tfaW5kZXgpIHtcblx0XHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ucChjdHgsIGRpcnR5KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0sIDEsIDEsICgpID0+IHtcblx0XHRcdFx0XHRpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHRcdGlmX2Jsb2NrMSA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdO1xuXG5cdFx0XHRcdGlmICghaWZfYmxvY2sxKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0gPSBpZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLmMoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjdHgsIGRpcnR5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2sxLCAxKTtcblx0XHRcdFx0aWZfYmxvY2sxLm0oc2VjdGlvbiwgbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazApO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazApO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2sxKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuZChkZXRhY2hpbmcpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHQpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNlY3Rpb24pO1xuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0uZCgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDY5OjIpIHsjaWYgcHJldmlld31cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayRhKGN0eCkge1xuXHRsZXQgZGl2O1xuXHRsZXQgYXJyb3c7XG5cdGxldCB0O1xuXHRsZXQgc2VjdGlvbjtcblx0bGV0IHRhYmxlO1xuXHRsZXQgY3VycmVudDtcblx0YXJyb3cgPSBuZXcgRmFBcnJvd0FsdENpcmNsZURvd24oe30pO1xuXHR0YWJsZSA9IG5ldyBUYWJsZSh7IHByb3BzOiB7IHJvb3Q6IC8qcHJldmlldyovIGN0eFsxXSB9IH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGFycm93LiQkLmZyYWdtZW50KTtcblx0XHRcdHQgPSBzcGFjZSgpO1xuXHRcdFx0c2VjdGlvbiA9IGVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudCh0YWJsZS4kJC5mcmFnbWVudCk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImljb24gc3ZlbHRlLTFmMGFtejRcIik7XG5cdFx0XHRhdHRyKHNlY3Rpb24sIFwiY2xhc3NcIiwgXCJwcmV2aWV3IHN2ZWx0ZS0xZjBhbXo0XCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGFycm93LCBkaXYsIG51bGwpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNlY3Rpb24sIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQodGFibGUsIHNlY3Rpb24sIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IHRhYmxlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qcHJldmlldyovIDIpIHRhYmxlX2NoYW5nZXMucm9vdCA9IC8qcHJldmlldyovIGN0eFsxXTtcblx0XHRcdHRhYmxlLiRzZXQodGFibGVfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihhcnJvdy4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbih0YWJsZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChhcnJvdy4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQodGFibGUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goZGl2KTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGFycm93KTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0KTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzZWN0aW9uKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KHRhYmxlKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCR2KGN0eCkge1xuXHRsZXQgZGl2O1xuXHRsZXQgdDtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBlYWNoX3ZhbHVlID0gLypub2RlcyovIGN0eFswXTtcblx0bGV0IGVhY2hfYmxvY2tzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQ3KGdldF9lYWNoX2NvbnRleHQkNyhjdHgsIGVhY2hfdmFsdWUsIGkpKTtcblx0fVxuXG5cdGNvbnN0IG91dCA9IGkgPT4gdHJhbnNpdGlvbl9vdXQoZWFjaF9ibG9ja3NbaV0sIDEsIDEsICgpID0+IHtcblx0XHRlYWNoX2Jsb2Nrc1tpXSA9IG51bGw7XG5cdH0pO1xuXG5cdGxldCBpZl9ibG9jayA9IC8qcHJldmlldyovIGN0eFsxXSAmJiBjcmVhdGVfaWZfYmxvY2skYShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0fVxuXG5cdFx0XHR0ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJ2aXN1YWxpemVyIHN2ZWx0ZS0xZjBhbXo0XCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oZGl2LCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0YXBwZW5kKGRpdiwgdCk7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLm0oZGl2LCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qbm9kZXMsIFNlbGVjdE5vZGUsIFByZXZpZXdOb2RlKi8gMTMpIHtcblx0XHRcdFx0ZWFjaF92YWx1ZSA9IC8qbm9kZXMqLyBjdHhbMF07XG5cdFx0XHRcdGxldCBpO1xuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRfY3R4ID0gZ2V0X2VhY2hfY29udGV4dCQ3KGN0eCwgZWFjaF92YWx1ZSwgaSk7XG5cblx0XHRcdFx0XHRpZiAoZWFjaF9ibG9ja3NbaV0pIHtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldLCAxKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQ3KGNoaWxkX2N0eCk7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldLCAxKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oZGl2LCB0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHRmb3IgKGkgPSBlYWNoX3ZhbHVlLmxlbmd0aDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0b3V0KGkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgvKnByZXZpZXcqLyBjdHhbMV0pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sucChjdHgsIGRpcnR5KTtcblxuXHRcdFx0XHRcdGlmIChkaXJ0eSAmIC8qcHJldmlldyovIDIpIHtcblx0XHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2ssIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jayA9IGNyZWF0ZV9pZl9ibG9jayRhKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2ssIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0oZGl2LCBudWxsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdGlmX2Jsb2NrID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0dHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSk7XG5cdFx0XHR9XG5cblx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2spO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHRlYWNoX2Jsb2NrcyA9IGVhY2hfYmxvY2tzLmZpbHRlcihCb29sZWFuKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7XG5cdFx0XHR9XG5cblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goZGl2KTtcblx0XHRcdGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2NrcywgZGV0YWNoaW5nKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZCgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkdigkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBtZXRhZGF0YSB9ID0gJCRwcm9wcztcblx0bGV0IG5vZGVzID0gW107XG5cdGxldCBwcmV2aWV3ID0gbnVsbDtcblxuXHRmdW5jdGlvbiBTZWxlY3ROb2RlKHsgbm9kZSwgc2VsZWN0ZWRJbmRleCB9LCBpKSB7XG5cdFx0JCRpbnZhbGlkYXRlKDEsIHByZXZpZXcgPSBudWxsKTtcblx0XHQkJGludmFsaWRhdGUoMCwgbm9kZXNbaV0uc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSW5kZXgsIG5vZGVzKTtcblx0XHQkJGludmFsaWRhdGUoMCwgbm9kZXMgPSBbLi4ubm9kZXMuc2xpY2UoMCwgaSArIDEpLCB7IG5vZGUgfV0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gUHJldmlld05vZGUoeyBub2RlIH0sIGkpIHtcblx0XHQkJGludmFsaWRhdGUoMSwgcHJldmlldyA9IG5vZGUpO1xuXHR9XG5cblx0Y29uc3Qgc2VsZWN0X2hhbmRsZXIgPSAoaSwgZSkgPT4gU2VsZWN0Tm9kZShlLmRldGFpbCwgaSk7XG5cdGNvbnN0IHByZXZpZXdfaGFuZGxlciA9IChpLCBlKSA9PiBQcmV2aWV3Tm9kZShlLmRldGFpbCk7XG5cdGNvbnN0IHNlbGVjdF9oYW5kbGVyXzEgPSAoaSwgZSkgPT4gU2VsZWN0Tm9kZShlLmRldGFpbCwgaSk7XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdtZXRhZGF0YScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDQsIG1ldGFkYXRhID0gJCRwcm9wcy5tZXRhZGF0YSk7XG5cdH07XG5cblx0JCRzZWxmLiQkLnVwZGF0ZSA9ICgpID0+IHtcblx0XHRpZiAoJCRzZWxmLiQkLmRpcnR5ICYgLyptZXRhZGF0YSovIDE2KSB7XG5cdFx0XHQge1xuXHRcdFx0XHQkJGludmFsaWRhdGUoMCwgbm9kZXMgPSBbeyBub2RlOiBtZXRhZGF0YSB9XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBbXG5cdFx0bm9kZXMsXG5cdFx0cHJldmlldyxcblx0XHRTZWxlY3ROb2RlLFxuXHRcdFByZXZpZXdOb2RlLFxuXHRcdG1ldGFkYXRhLFxuXHRcdHNlbGVjdF9oYW5kbGVyLFxuXHRcdHByZXZpZXdfaGFuZGxlcixcblx0XHRzZWxlY3RfaGFuZGxlcl8xXG5cdF07XG59XG5cbmNsYXNzIE1DVFMgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJHYsIGNyZWF0ZV9mcmFnbWVudCR2LCBzYWZlX25vdF9lcXVhbCwgeyBtZXRhZGF0YTogNCB9LCBhZGRfY3NzJG0pO1xuXHR9XG59XG5cbi8qIHNyYy9jbGllbnQvZGVidWcvbG9nL0xvZy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My40MS4wICovXG5cbmZ1bmN0aW9uIGFkZF9jc3Mkbih0YXJnZXQpIHtcblx0YXBwZW5kX3N0eWxlcyh0YXJnZXQsIFwic3ZlbHRlLTFwcTVlNGJcIiwgXCIuZ2FtZWxvZy5zdmVsdGUtMXBxNWU0YntkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjMwcHggMWZyIDMwcHg7Z3JpZC1hdXRvLXJvd3M6YXV0bztncmlkLWF1dG8tZmxvdzpjb2x1bW59XCIpO1xufVxuXG5mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0JDgoY3R4LCBsaXN0LCBpKSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuXHRjaGlsZF9jdHhbMTZdID0gbGlzdFtpXS5waGFzZTtcblx0Y2hpbGRfY3R4WzE4XSA9IGk7XG5cdHJldHVybiBjaGlsZF9jdHg7XG59XG5cbmZ1bmN0aW9uIGdldF9lYWNoX2NvbnRleHRfMShjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gY3R4LnNsaWNlKCk7XG5cdGNoaWxkX2N0eFsxOV0gPSBsaXN0W2ldLmFjdGlvbjtcblx0Y2hpbGRfY3R4WzIwXSA9IGxpc3RbaV0ubWV0YWRhdGE7XG5cdGNoaWxkX2N0eFsxOF0gPSBpO1xuXHRyZXR1cm4gY2hpbGRfY3R4O1xufVxuXG5mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0XzIoY3R4LCBsaXN0LCBpKSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuXHRjaGlsZF9jdHhbMjJdID0gbGlzdFtpXS50dXJuO1xuXHRjaGlsZF9jdHhbMThdID0gaTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDEzNjo0KSB7I2lmIGkgaW4gdHVybkJvdW5kYXJpZXN9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMSQ0KGN0eCkge1xuXHRsZXQgdHVybm1hcmtlcjtcblx0bGV0IGN1cnJlbnQ7XG5cblx0dHVybm1hcmtlciA9IG5ldyBUdXJuTWFya2VyKHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHR1cm46IC8qdHVybiovIGN0eFsyMl0sXG5cdFx0XHRcdG51bUV2ZW50czogLyp0dXJuQm91bmRhcmllcyovIGN0eFszXVsvKmkqLyBjdHhbMThdXVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQodHVybm1hcmtlci4kJC5mcmFnbWVudCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRtb3VudF9jb21wb25lbnQodHVybm1hcmtlciwgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IHR1cm5tYXJrZXJfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLypyZW5kZXJlZExvZ0VudHJpZXMqLyAyKSB0dXJubWFya2VyX2NoYW5nZXMudHVybiA9IC8qdHVybiovIGN0eFsyMl07XG5cdFx0XHRpZiAoZGlydHkgJiAvKnR1cm5Cb3VuZGFyaWVzKi8gOCkgdHVybm1hcmtlcl9jaGFuZ2VzLm51bUV2ZW50cyA9IC8qdHVybkJvdW5kYXJpZXMqLyBjdHhbM11bLyppKi8gY3R4WzE4XV07XG5cdFx0XHR0dXJubWFya2VyLiRzZXQodHVybm1hcmtlcl9jaGFuZ2VzKTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKHR1cm5tYXJrZXIuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQodHVybm1hcmtlci4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KHR1cm5tYXJrZXIsIGRldGFjaGluZyk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTM1OjIpIHsjZWFjaCByZW5kZXJlZExvZ0VudHJpZXMgYXMgeyB0dXJuIH1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrXzIoY3R4KSB7XG5cdGxldCBpZl9ibG9ja19hbmNob3I7XG5cdGxldCBjdXJyZW50O1xuXHRsZXQgaWZfYmxvY2sgPSAvKmkqLyBjdHhbMThdIGluIC8qdHVybkJvdW5kYXJpZXMqLyBjdHhbM10gJiYgY3JlYXRlX2lmX2Jsb2NrXzEkNChjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0aWZfYmxvY2tfYW5jaG9yID0gZW1wdHkoKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2subSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpZl9ibG9ja19hbmNob3IsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0aWYgKC8qaSovIGN0eFsxOF0gaW4gLyp0dXJuQm91bmRhcmllcyovIGN0eFszXSkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jay5wKGN0eCwgZGlydHkpO1xuXG5cdFx0XHRcdFx0aWYgKGRpcnR5ICYgLyp0dXJuQm91bmRhcmllcyovIDgpIHtcblx0XHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2ssIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jayA9IGNyZWF0ZV9pZl9ibG9ja18xJDQoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jaywgMSk7XG5cdFx0XHRcdFx0aWZfYmxvY2subShpZl9ibG9ja19hbmNob3IucGFyZW50Tm9kZSwgaWZfYmxvY2tfYW5jaG9yKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdGlmX2Jsb2NrID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmQoZGV0YWNoaW5nKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChpZl9ibG9ja19hbmNob3IpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE0MToyKSB7I2VhY2ggcmVuZGVyZWRMb2dFbnRyaWVzIGFzIHsgYWN0aW9uLCBtZXRhZGF0YSB9XG5mdW5jdGlvbiBjcmVhdGVfZWFjaF9ibG9ja18xKGN0eCkge1xuXHRsZXQgbG9nZXZlbnQ7XG5cdGxldCBjdXJyZW50O1xuXG5cdGxvZ2V2ZW50ID0gbmV3IExvZ0V2ZW50KHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHBpbm5lZDogLyppKi8gY3R4WzE4XSA9PT0gLypwaW5uZWQqLyBjdHhbMl0sXG5cdFx0XHRcdGxvZ0luZGV4OiAvKmkqLyBjdHhbMThdLFxuXHRcdFx0XHRhY3Rpb246IC8qYWN0aW9uKi8gY3R4WzE5XSxcblx0XHRcdFx0bWV0YWRhdGE6IC8qbWV0YWRhdGEqLyBjdHhbMjBdXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0bG9nZXZlbnQuJG9uKFwiY2xpY2tcIiwgLypPbkxvZ0NsaWNrKi8gY3R4WzVdKTtcblx0bG9nZXZlbnQuJG9uKFwibW91c2VlbnRlclwiLCAvKk9uTW91c2VFbnRlciovIGN0eFs2XSk7XG5cdGxvZ2V2ZW50LiRvbihcIm1vdXNlbGVhdmVcIiwgLypPbk1vdXNlTGVhdmUqLyBjdHhbN10pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQobG9nZXZlbnQuJCQuZnJhZ21lbnQpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGxvZ2V2ZW50LCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0Y29uc3QgbG9nZXZlbnRfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLypwaW5uZWQqLyA0KSBsb2dldmVudF9jaGFuZ2VzLnBpbm5lZCA9IC8qaSovIGN0eFsxOF0gPT09IC8qcGlubmVkKi8gY3R4WzJdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypyZW5kZXJlZExvZ0VudHJpZXMqLyAyKSBsb2dldmVudF9jaGFuZ2VzLmFjdGlvbiA9IC8qYWN0aW9uKi8gY3R4WzE5XTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qcmVuZGVyZWRMb2dFbnRyaWVzKi8gMikgbG9nZXZlbnRfY2hhbmdlcy5tZXRhZGF0YSA9IC8qbWV0YWRhdGEqLyBjdHhbMjBdO1xuXHRcdFx0bG9nZXZlbnQuJHNldChsb2dldmVudF9jaGFuZ2VzKTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGxvZ2V2ZW50LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGxvZ2V2ZW50LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQobG9nZXZlbnQsIGRldGFjaGluZyk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTUzOjQpIHsjaWYgaSBpbiBwaGFzZUJvdW5kYXJpZXN9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2skYihjdHgpIHtcblx0bGV0IHBoYXNlbWFya2VyO1xuXHRsZXQgY3VycmVudDtcblxuXHRwaGFzZW1hcmtlciA9IG5ldyBQaGFzZU1hcmtlcih7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRwaGFzZTogLypwaGFzZSovIGN0eFsxNl0sXG5cdFx0XHRcdG51bUV2ZW50czogLypwaGFzZUJvdW5kYXJpZXMqLyBjdHhbNF1bLyppKi8gY3R4WzE4XV1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KHBoYXNlbWFya2VyLiQkLmZyYWdtZW50KTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdG1vdW50X2NvbXBvbmVudChwaGFzZW1hcmtlciwgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGNvbnN0IHBoYXNlbWFya2VyX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qcmVuZGVyZWRMb2dFbnRyaWVzKi8gMikgcGhhc2VtYXJrZXJfY2hhbmdlcy5waGFzZSA9IC8qcGhhc2UqLyBjdHhbMTZdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypwaGFzZUJvdW5kYXJpZXMqLyAxNikgcGhhc2VtYXJrZXJfY2hhbmdlcy5udW1FdmVudHMgPSAvKnBoYXNlQm91bmRhcmllcyovIGN0eFs0XVsvKmkqLyBjdHhbMThdXTtcblx0XHRcdHBoYXNlbWFya2VyLiRzZXQocGhhc2VtYXJrZXJfY2hhbmdlcyk7XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihwaGFzZW1hcmtlci4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChwaGFzZW1hcmtlci4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KHBoYXNlbWFya2VyLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE1MjoyKSB7I2VhY2ggcmVuZGVyZWRMb2dFbnRyaWVzIGFzIHsgcGhhc2UgfVxuZnVuY3Rpb24gY3JlYXRlX2VhY2hfYmxvY2skOChjdHgpIHtcblx0bGV0IGlmX2Jsb2NrX2FuY2hvcjtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBpZl9ibG9jayA9IC8qaSovIGN0eFsxOF0gaW4gLypwaGFzZUJvdW5kYXJpZXMqLyBjdHhbNF0gJiYgY3JlYXRlX2lmX2Jsb2NrJGIoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmMoKTtcblx0XHRcdGlmX2Jsb2NrX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaWZfYmxvY2tfYW5jaG9yLCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGlmICgvKmkqLyBjdHhbMThdIGluIC8qcGhhc2VCb3VuZGFyaWVzKi8gY3R4WzRdKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLnAoY3R4LCBkaXJ0eSk7XG5cblx0XHRcdFx0XHRpZiAoZGlydHkgJiAvKnBoYXNlQm91bmRhcmllcyovIDE2KSB7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrLCAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2skYihjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrLCAxKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKGlmX2Jsb2NrX2FuY2hvci5wYXJlbnROb2RlLCBpZl9ibG9ja19hbmNob3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2spO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZChkZXRhY2hpbmcpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkdyhjdHgpIHtcblx0bGV0IGRpdjtcblx0bGV0IHQwO1xuXHRsZXQgdDE7XG5cdGxldCBjdXJyZW50O1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cdGxldCBlYWNoX3ZhbHVlXzIgPSAvKnJlbmRlcmVkTG9nRW50cmllcyovIGN0eFsxXTtcblx0bGV0IGVhY2hfYmxvY2tzXzIgPSBbXTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfdmFsdWVfMi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGVhY2hfYmxvY2tzXzJbaV0gPSBjcmVhdGVfZWFjaF9ibG9ja18yKGdldF9lYWNoX2NvbnRleHRfMihjdHgsIGVhY2hfdmFsdWVfMiwgaSkpO1xuXHR9XG5cblx0Y29uc3Qgb3V0ID0gaSA9PiB0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc18yW2ldLCAxLCAxLCAoKSA9PiB7XG5cdFx0ZWFjaF9ibG9ja3NfMltpXSA9IG51bGw7XG5cdH0pO1xuXG5cdGxldCBlYWNoX3ZhbHVlXzEgPSAvKnJlbmRlcmVkTG9nRW50cmllcyovIGN0eFsxXTtcblx0bGV0IGVhY2hfYmxvY2tzXzEgPSBbXTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfdmFsdWVfMS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGVhY2hfYmxvY2tzXzFbaV0gPSBjcmVhdGVfZWFjaF9ibG9ja18xKGdldF9lYWNoX2NvbnRleHRfMShjdHgsIGVhY2hfdmFsdWVfMSwgaSkpO1xuXHR9XG5cblx0Y29uc3Qgb3V0XzEgPSBpID0+IHRyYW5zaXRpb25fb3V0KGVhY2hfYmxvY2tzXzFbaV0sIDEsIDEsICgpID0+IHtcblx0XHRlYWNoX2Jsb2Nrc18xW2ldID0gbnVsbDtcblx0fSk7XG5cblx0bGV0IGVhY2hfdmFsdWUgPSAvKnJlbmRlcmVkTG9nRW50cmllcyovIGN0eFsxXTtcblx0bGV0IGVhY2hfYmxvY2tzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQ4KGdldF9lYWNoX2NvbnRleHQkOChjdHgsIGVhY2hfdmFsdWUsIGkpKTtcblx0fVxuXG5cdGNvbnN0IG91dF8yID0gaSA9PiB0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSwgMSwgMSwgKCkgPT4ge1xuXHRcdGVhY2hfYmxvY2tzW2ldID0gbnVsbDtcblx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrc18yLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzXzJbaV0uYygpO1xuXHRcdFx0fVxuXG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3NfMS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRlYWNoX2Jsb2Nrc18xW2ldLmMoKTtcblx0XHRcdH1cblxuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdH1cblxuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJnYW1lbG9nIHN2ZWx0ZS0xcHE1ZTRiXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGRpdiwgXCJwaW5uZWRcIiwgLypwaW5uZWQqLyBjdHhbMl0pO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzXzIubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NfMltpXS5tKGRpdiwgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdGFwcGVuZChkaXYsIHQwKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrc18xLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzXzFbaV0ubShkaXYsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRhcHBlbmQoZGl2LCB0MSk7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ubShkaXYsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblxuXHRcdFx0aWYgKCFtb3VudGVkKSB7XG5cdFx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4od2luZG93LCBcImtleWRvd25cIiwgLypPbktleURvd24qLyBjdHhbOF0pO1xuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnJlbmRlcmVkTG9nRW50cmllcywgdHVybkJvdW5kYXJpZXMqLyAxMCkge1xuXHRcdFx0XHRlYWNoX3ZhbHVlXzIgPSAvKnJlbmRlcmVkTG9nRW50cmllcyovIGN0eFsxXTtcblx0XHRcdFx0bGV0IGk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfdmFsdWVfMi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHRfMihjdHgsIGVhY2hfdmFsdWVfMiwgaSk7XG5cblx0XHRcdFx0XHRpZiAoZWFjaF9ibG9ja3NfMltpXSkge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NfMltpXS5wKGNoaWxkX2N0eCwgZGlydHkpO1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc18yW2ldLCAxKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NfMltpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrXzIoY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzXzJbaV0uYygpO1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc18yW2ldLCAxKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzXzJbaV0ubShkaXYsIHQwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHRmb3IgKGkgPSBlYWNoX3ZhbHVlXzIubGVuZ3RoOyBpIDwgZWFjaF9ibG9ja3NfMi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdG91dChpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKnBpbm5lZCwgcmVuZGVyZWRMb2dFbnRyaWVzLCBPbkxvZ0NsaWNrLCBPbk1vdXNlRW50ZXIsIE9uTW91c2VMZWF2ZSovIDIzMCkge1xuXHRcdFx0XHRlYWNoX3ZhbHVlXzEgPSAvKnJlbmRlcmVkTG9nRW50cmllcyovIGN0eFsxXTtcblx0XHRcdFx0bGV0IGk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfdmFsdWVfMS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHRfMShjdHgsIGVhY2hfdmFsdWVfMSwgaSk7XG5cblx0XHRcdFx0XHRpZiAoZWFjaF9ibG9ja3NfMVtpXSkge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NfMVtpXS5wKGNoaWxkX2N0eCwgZGlydHkpO1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc18xW2ldLCAxKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NfMVtpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrXzEoY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzXzFbaV0uYygpO1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc18xW2ldLCAxKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzXzFbaV0ubShkaXYsIHQxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHRmb3IgKGkgPSBlYWNoX3ZhbHVlXzEubGVuZ3RoOyBpIDwgZWFjaF9ibG9ja3NfMS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdG91dF8xKGkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qcmVuZGVyZWRMb2dFbnRyaWVzLCBwaGFzZUJvdW5kYXJpZXMqLyAxOCkge1xuXHRcdFx0XHRlYWNoX3ZhbHVlID0gLypyZW5kZXJlZExvZ0VudHJpZXMqLyBjdHhbMV07XG5cdFx0XHRcdGxldCBpO1xuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRfY3R4ID0gZ2V0X2VhY2hfY29udGV4dCQ4KGN0eCwgZWFjaF92YWx1ZSwgaSk7XG5cblx0XHRcdFx0XHRpZiAoZWFjaF9ibG9ja3NbaV0pIHtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldLCAxKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayQ4KGNoaWxkX2N0eCk7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldLCAxKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oZGl2LCBudWxsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHRmb3IgKGkgPSBlYWNoX3ZhbHVlLmxlbmd0aDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0b3V0XzIoaSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRpcnR5ICYgLypwaW5uZWQqLyA0KSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhkaXYsIFwicGlubmVkXCIsIC8qcGlubmVkKi8gY3R4WzJdKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZV8yLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NfMltpXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZV8xLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NfMVtpXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHR0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHRlYWNoX2Jsb2Nrc18yID0gZWFjaF9ibG9ja3NfMi5maWx0ZXIoQm9vbGVhbik7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF9ibG9ja3NfMi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc18yW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0ZWFjaF9ibG9ja3NfMSA9IGVhY2hfYmxvY2tzXzEuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzXzEubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoZWFjaF9ibG9ja3NfMVtpXSk7XG5cdFx0XHR9XG5cblx0XHRcdGVhY2hfYmxvY2tzID0gZWFjaF9ibG9ja3MuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGVhY2hfYmxvY2tzW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYpO1xuXHRcdFx0ZGVzdHJveV9lYWNoKGVhY2hfYmxvY2tzXzIsIGRldGFjaGluZyk7XG5cdFx0XHRkZXN0cm95X2VhY2goZWFjaF9ibG9ja3NfMSwgZGV0YWNoaW5nKTtcblx0XHRcdGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2NrcywgZGV0YWNoaW5nKTtcblx0XHRcdG1vdW50ZWQgPSBmYWxzZTtcblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlJHcoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0ICRjbGllbnQsXG5cdFx0JCR1bnN1YnNjcmliZV9jbGllbnQgPSBub29wLFxuXHRcdCQkc3Vic2NyaWJlX2NsaWVudCA9ICgpID0+ICgkJHVuc3Vic2NyaWJlX2NsaWVudCgpLCAkJHVuc3Vic2NyaWJlX2NsaWVudCA9IHN1YnNjcmliZShjbGllbnQsICQkdmFsdWUgPT4gJCRpbnZhbGlkYXRlKDEwLCAkY2xpZW50ID0gJCR2YWx1ZSkpLCBjbGllbnQpO1xuXG5cdCQkc2VsZi4kJC5vbl9kZXN0cm95LnB1c2goKCkgPT4gJCR1bnN1YnNjcmliZV9jbGllbnQoKSk7XG5cdGxldCB7IGNsaWVudCB9ID0gJCRwcm9wcztcblx0JCRzdWJzY3JpYmVfY2xpZW50KCk7XG5cdGNvbnN0IHsgc2Vjb25kYXJ5UGFuZSB9ID0gZ2V0Q29udGV4dCgnc2Vjb25kYXJ5UGFuZScpO1xuXHRjb25zdCByZWR1Y2VyID0gQ3JlYXRlR2FtZVJlZHVjZXIoeyBnYW1lOiBjbGllbnQuZ2FtZSB9KTtcblx0Y29uc3QgaW5pdGlhbFN0YXRlID0gY2xpZW50LmdldEluaXRpYWxTdGF0ZSgpO1xuXHRsZXQgeyBsb2cgfSA9ICRjbGllbnQ7XG5cdGxldCBwaW5uZWQgPSBudWxsO1xuXG5cdGZ1bmN0aW9uIHJld2luZChsb2dJbmRleCkge1xuXHRcdGxldCBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbG9nLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCB7IGFjdGlvbiwgYXV0b21hdGljIH0gPSBsb2dbaV07XG5cblx0XHRcdGlmICghYXV0b21hdGljKSB7XG5cdFx0XHRcdHN0YXRlID0gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcblxuXHRcdFx0XHRpZiAobG9nSW5kZXggPT0gMCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bG9nSW5kZXgtLTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Rzogc3RhdGUuRyxcblx0XHRcdGN0eDogc3RhdGUuY3R4LFxuXHRcdFx0cGx1Z2luczogc3RhdGUucGx1Z2luc1xuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBPbkxvZ0NsaWNrKGUpIHtcblx0XHRjb25zdCB7IGxvZ0luZGV4IH0gPSBlLmRldGFpbDtcblx0XHRjb25zdCBzdGF0ZSA9IHJld2luZChsb2dJbmRleCk7XG5cdFx0Y29uc3QgcmVuZGVyZWRMb2dFbnRyaWVzID0gbG9nLmZpbHRlcihlID0+ICFlLmF1dG9tYXRpYyk7XG5cdFx0Y2xpZW50Lm92ZXJyaWRlR2FtZVN0YXRlKHN0YXRlKTtcblxuXHRcdGlmIChwaW5uZWQgPT0gbG9nSW5kZXgpIHtcblx0XHRcdCQkaW52YWxpZGF0ZSgyLCBwaW5uZWQgPSBudWxsKTtcblx0XHRcdHNlY29uZGFyeVBhbmUuc2V0KG51bGwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkJGludmFsaWRhdGUoMiwgcGlubmVkID0gbG9nSW5kZXgpO1xuXHRcdFx0Y29uc3QgeyBtZXRhZGF0YSB9ID0gcmVuZGVyZWRMb2dFbnRyaWVzW2xvZ0luZGV4XS5hY3Rpb24ucGF5bG9hZDtcblxuXHRcdFx0aWYgKG1ldGFkYXRhKSB7XG5cdFx0XHRcdHNlY29uZGFyeVBhbmUuc2V0KHsgY29tcG9uZW50OiBNQ1RTLCBtZXRhZGF0YSB9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBPbk1vdXNlRW50ZXIoZSkge1xuXHRcdGNvbnN0IHsgbG9nSW5kZXggfSA9IGUuZGV0YWlsO1xuXG5cdFx0aWYgKHBpbm5lZCA9PT0gbnVsbCkge1xuXHRcdFx0Y29uc3Qgc3RhdGUgPSByZXdpbmQobG9nSW5kZXgpO1xuXHRcdFx0Y2xpZW50Lm92ZXJyaWRlR2FtZVN0YXRlKHN0YXRlKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBPbk1vdXNlTGVhdmUoKSB7XG5cdFx0aWYgKHBpbm5lZCA9PT0gbnVsbCkge1xuXHRcdFx0Y2xpZW50Lm92ZXJyaWRlR2FtZVN0YXRlKG51bGwpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIFJlc2V0KCkge1xuXHRcdCQkaW52YWxpZGF0ZSgyLCBwaW5uZWQgPSBudWxsKTtcblx0XHRjbGllbnQub3ZlcnJpZGVHYW1lU3RhdGUobnVsbCk7XG5cdFx0c2Vjb25kYXJ5UGFuZS5zZXQobnVsbCk7XG5cdH1cblxuXHRvbkRlc3Ryb3koUmVzZXQpO1xuXG5cdGZ1bmN0aW9uIE9uS2V5RG93bihlKSB7XG5cdFx0Ly8gRVNDLlxuXHRcdGlmIChlLmtleUNvZGUgPT0gMjcpIHtcblx0XHRcdFJlc2V0KCk7XG5cdFx0fVxuXHR9XG5cblx0bGV0IHJlbmRlcmVkTG9nRW50cmllcztcblx0bGV0IHR1cm5Cb3VuZGFyaWVzID0ge307XG5cdGxldCBwaGFzZUJvdW5kYXJpZXMgPSB7fTtcblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2NsaWVudCcgaW4gJCRwcm9wcykgJCRzdWJzY3JpYmVfY2xpZW50KCQkaW52YWxpZGF0ZSgwLCBjbGllbnQgPSAkJHByb3BzLmNsaWVudCkpO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qJGNsaWVudCwgbG9nLCByZW5kZXJlZExvZ0VudHJpZXMqLyAxNTM4KSB7XG5cdFx0XHQge1xuXHRcdFx0XHQkJGludmFsaWRhdGUoOSwgbG9nID0gJGNsaWVudC5sb2cpO1xuXHRcdFx0XHQkJGludmFsaWRhdGUoMSwgcmVuZGVyZWRMb2dFbnRyaWVzID0gbG9nLmZpbHRlcihlID0+ICFlLmF1dG9tYXRpYykpO1xuXHRcdFx0XHRsZXQgZXZlbnRzSW5DdXJyZW50UGhhc2UgPSAwO1xuXHRcdFx0XHRsZXQgZXZlbnRzSW5DdXJyZW50VHVybiA9IDA7XG5cdFx0XHRcdCQkaW52YWxpZGF0ZSgzLCB0dXJuQm91bmRhcmllcyA9IHt9KTtcblx0XHRcdFx0JCRpbnZhbGlkYXRlKDQsIHBoYXNlQm91bmRhcmllcyA9IHt9KTtcblxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmVkTG9nRW50cmllcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGNvbnN0IHsgYWN0aW9uLCBwYXlsb2FkLCB0dXJuLCBwaGFzZSB9ID0gcmVuZGVyZWRMb2dFbnRyaWVzW2ldO1xuXHRcdFx0XHRcdGV2ZW50c0luQ3VycmVudFR1cm4rKztcblx0XHRcdFx0XHRldmVudHNJbkN1cnJlbnRQaGFzZSsrO1xuXG5cdFx0XHRcdFx0aWYgKGkgPT0gcmVuZGVyZWRMb2dFbnRyaWVzLmxlbmd0aCAtIDEgfHwgcmVuZGVyZWRMb2dFbnRyaWVzW2kgKyAxXS50dXJuICE9IHR1cm4pIHtcblx0XHRcdFx0XHRcdCQkaW52YWxpZGF0ZSgzLCB0dXJuQm91bmRhcmllc1tpXSA9IGV2ZW50c0luQ3VycmVudFR1cm4sIHR1cm5Cb3VuZGFyaWVzKTtcblx0XHRcdFx0XHRcdGV2ZW50c0luQ3VycmVudFR1cm4gPSAwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChpID09IHJlbmRlcmVkTG9nRW50cmllcy5sZW5ndGggLSAxIHx8IHJlbmRlcmVkTG9nRW50cmllc1tpICsgMV0ucGhhc2UgIT0gcGhhc2UpIHtcblx0XHRcdFx0XHRcdCQkaW52YWxpZGF0ZSg0LCBwaGFzZUJvdW5kYXJpZXNbaV0gPSBldmVudHNJbkN1cnJlbnRQaGFzZSwgcGhhc2VCb3VuZGFyaWVzKTtcblx0XHRcdFx0XHRcdGV2ZW50c0luQ3VycmVudFBoYXNlID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIFtcblx0XHRjbGllbnQsXG5cdFx0cmVuZGVyZWRMb2dFbnRyaWVzLFxuXHRcdHBpbm5lZCxcblx0XHR0dXJuQm91bmRhcmllcyxcblx0XHRwaGFzZUJvdW5kYXJpZXMsXG5cdFx0T25Mb2dDbGljayxcblx0XHRPbk1vdXNlRW50ZXIsXG5cdFx0T25Nb3VzZUxlYXZlLFxuXHRcdE9uS2V5RG93bixcblx0XHRsb2csXG5cdFx0JGNsaWVudFxuXHRdO1xufVxuXG5jbGFzcyBMb2cgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJHcsIGNyZWF0ZV9mcmFnbWVudCR3LCBzYWZlX25vdF9lcXVhbCwgeyBjbGllbnQ6IDAgfSwgYWRkX2NzcyRuKTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL2FpL09wdGlvbnMuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNDEuMCAqL1xuXG5mdW5jdGlvbiBhZGRfY3NzJG8odGFyZ2V0KSB7XG5cdGFwcGVuZF9zdHlsZXModGFyZ2V0LCBcInN2ZWx0ZS0xZnU5MDB3XCIsIFwibGFiZWwuc3ZlbHRlLTFmdTkwMHd7Y29sb3I6IzY2Nn0ub3B0aW9uLnN2ZWx0ZS0xZnU5MDB3e21hcmdpbi1ib3R0b206MjBweH0udmFsdWUuc3ZlbHRlLTFmdTkwMHd7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMDAwfWlucHV0W3R5cGU9J2NoZWNrYm94J10uc3ZlbHRlLTFmdTkwMHd7dmVydGljYWwtYWxpZ246bWlkZGxlfVwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dCQ5KGN0eCwgbGlzdCwgaSkge1xuXHRjb25zdCBjaGlsZF9jdHggPSBjdHguc2xpY2UoKTtcblx0Y2hpbGRfY3R4WzZdID0gbGlzdFtpXVswXTtcblx0Y2hpbGRfY3R4WzddID0gbGlzdFtpXVsxXTtcblx0Y2hpbGRfY3R4WzhdID0gbGlzdDtcblx0Y2hpbGRfY3R4WzldID0gaTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDQ0OjQ3KSBcbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xJDUoY3R4KSB7XG5cdGxldCBpbnB1dDtcblx0bGV0IGlucHV0X2lkX3ZhbHVlO1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cblx0ZnVuY3Rpb24gaW5wdXRfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0LyppbnB1dF9jaGFuZ2VfaGFuZGxlciovIGN0eFs1XS5jYWxsKGlucHV0LCAvKmtleSovIGN0eFs2XSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRpbnB1dCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwiaWRcIiwgaW5wdXRfaWRfdmFsdWUgPSAvKm1ha2VJRCovIGN0eFszXSgvKmtleSovIGN0eFs2XSkpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcImNsYXNzXCIsIFwic3ZlbHRlLTFmdTkwMHdcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpbnB1dCwgYW5jaG9yKTtcblx0XHRcdGlucHV0LmNoZWNrZWQgPSAvKnZhbHVlcyovIGN0eFsxXVsvKmtleSovIGN0eFs2XV07XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRcdGxpc3RlbihpbnB1dCwgXCJjaGFuZ2VcIiwgaW5wdXRfY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRcdGxpc3RlbihpbnB1dCwgXCJjaGFuZ2VcIiwgLypPbkNoYW5nZSovIGN0eFsyXSlcblx0XHRcdFx0XTtcblxuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHAobmV3X2N0eCwgZGlydHkpIHtcblx0XHRcdGN0eCA9IG5ld19jdHg7XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qYm90Ki8gMSAmJiBpbnB1dF9pZF92YWx1ZSAhPT0gKGlucHV0X2lkX3ZhbHVlID0gLyptYWtlSUQqLyBjdHhbM10oLyprZXkqLyBjdHhbNl0pKSkge1xuXHRcdFx0XHRhdHRyKGlucHV0LCBcImlkXCIsIGlucHV0X2lkX3ZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRpcnR5ICYgLyp2YWx1ZXMsIE9iamVjdCwgYm90Ki8gMykge1xuXHRcdFx0XHRpbnB1dC5jaGVja2VkID0gLyp2YWx1ZXMqLyBjdHhbMV1bLyprZXkqLyBjdHhbNl1dO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChpbnB1dCk7XG5cdFx0XHRtb3VudGVkID0gZmFsc2U7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDQxOjQpIHsjaWYgdmFsdWUucmFuZ2V9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2skYyhjdHgpIHtcblx0bGV0IHNwYW47XG5cdGxldCB0MF92YWx1ZSA9IC8qdmFsdWVzKi8gY3R4WzFdWy8qa2V5Ki8gY3R4WzZdXSArIFwiXCI7XG5cdGxldCB0MDtcblx0bGV0IHQxO1xuXHRsZXQgaW5wdXQ7XG5cdGxldCBpbnB1dF9pZF92YWx1ZTtcblx0bGV0IGlucHV0X21pbl92YWx1ZTtcblx0bGV0IGlucHV0X21heF92YWx1ZTtcblx0bGV0IG1vdW50ZWQ7XG5cdGxldCBkaXNwb3NlO1xuXG5cdGZ1bmN0aW9uIGlucHV0X2NoYW5nZV9pbnB1dF9oYW5kbGVyKCkge1xuXHRcdC8qaW5wdXRfY2hhbmdlX2lucHV0X2hhbmRsZXIqLyBjdHhbNF0uY2FsbChpbnB1dCwgLyprZXkqLyBjdHhbNl0pO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dDAgPSB0ZXh0KHQwX3ZhbHVlKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGlucHV0ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0YXR0cihzcGFuLCBcImNsYXNzXCIsIFwidmFsdWUgc3ZlbHRlLTFmdTkwMHdcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcImlkXCIsIGlucHV0X2lkX3ZhbHVlID0gLyptYWtlSUQqLyBjdHhbM10oLyprZXkqLyBjdHhbNl0pKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwidHlwZVwiLCBcInJhbmdlXCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJtaW5cIiwgaW5wdXRfbWluX3ZhbHVlID0gLyp2YWx1ZSovIGN0eFs3XS5yYW5nZS5taW4pO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJtYXhcIiwgaW5wdXRfbWF4X3ZhbHVlID0gLyp2YWx1ZSovIGN0eFs3XS5yYW5nZS5tYXgpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc3BhbiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0MCk7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGlucHV0LCBhbmNob3IpO1xuXHRcdFx0c2V0X2lucHV0X3ZhbHVlKGlucHV0LCAvKnZhbHVlcyovIGN0eFsxXVsvKmtleSovIGN0eFs2XV0pO1xuXG5cdFx0XHRpZiAoIW1vdW50ZWQpIHtcblx0XHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0XHRsaXN0ZW4oaW5wdXQsIFwiY2hhbmdlXCIsIGlucHV0X2NoYW5nZV9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0XHRsaXN0ZW4oaW5wdXQsIFwiaW5wdXRcIiwgaW5wdXRfY2hhbmdlX2lucHV0X2hhbmRsZXIpLFxuXHRcdFx0XHRcdGxpc3RlbihpbnB1dCwgXCJjaGFuZ2VcIiwgLypPbkNoYW5nZSovIGN0eFsyXSlcblx0XHRcdFx0XTtcblxuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHAobmV3X2N0eCwgZGlydHkpIHtcblx0XHRcdGN0eCA9IG5ld19jdHg7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnZhbHVlcywgYm90Ki8gMyAmJiB0MF92YWx1ZSAhPT0gKHQwX3ZhbHVlID0gLyp2YWx1ZXMqLyBjdHhbMV1bLyprZXkqLyBjdHhbNl1dICsgXCJcIikpIHNldF9kYXRhKHQwLCB0MF92YWx1ZSk7XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qYm90Ki8gMSAmJiBpbnB1dF9pZF92YWx1ZSAhPT0gKGlucHV0X2lkX3ZhbHVlID0gLyptYWtlSUQqLyBjdHhbM10oLyprZXkqLyBjdHhbNl0pKSkge1xuXHRcdFx0XHRhdHRyKGlucHV0LCBcImlkXCIsIGlucHV0X2lkX3ZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRpcnR5ICYgLypib3QqLyAxICYmIGlucHV0X21pbl92YWx1ZSAhPT0gKGlucHV0X21pbl92YWx1ZSA9IC8qdmFsdWUqLyBjdHhbN10ucmFuZ2UubWluKSkge1xuXHRcdFx0XHRhdHRyKGlucHV0LCBcIm1pblwiLCBpbnB1dF9taW5fdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKmJvdCovIDEgJiYgaW5wdXRfbWF4X3ZhbHVlICE9PSAoaW5wdXRfbWF4X3ZhbHVlID0gLyp2YWx1ZSovIGN0eFs3XS5yYW5nZS5tYXgpKSB7XG5cdFx0XHRcdGF0dHIoaW5wdXQsIFwibWF4XCIsIGlucHV0X21heF92YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qdmFsdWVzLCBPYmplY3QsIGJvdCovIDMpIHtcblx0XHRcdFx0c2V0X2lucHV0X3ZhbHVlKGlucHV0LCAvKnZhbHVlcyovIGN0eFsxXVsvKmtleSovIGN0eFs2XV0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzcGFuKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0MSk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goaW5wdXQpO1xuXHRcdFx0bW91bnRlZCA9IGZhbHNlO1xuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgzNzowKSB7I2VhY2ggT2JqZWN0LmVudHJpZXMoYm90Lm9wdHMoKSkgYXMgW2tleSwgdmFsdWVdfVxuZnVuY3Rpb24gY3JlYXRlX2VhY2hfYmxvY2skOShjdHgpIHtcblx0bGV0IGRpdjtcblx0bGV0IGxhYmVsO1xuXHRsZXQgdDBfdmFsdWUgPSAvKmtleSovIGN0eFs2XSArIFwiXCI7XG5cdGxldCB0MDtcblx0bGV0IGxhYmVsX2Zvcl92YWx1ZTtcblx0bGV0IHQxO1xuXHRsZXQgdDI7XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4LCBkaXJ0eSkge1xuXHRcdGlmICgvKnZhbHVlKi8gY3R4WzddLnJhbmdlKSByZXR1cm4gY3JlYXRlX2lmX2Jsb2NrJGM7XG5cdFx0aWYgKHR5cGVvZiAvKnZhbHVlKi8gY3R4WzddLnZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiBjcmVhdGVfaWZfYmxvY2tfMSQ1O1xuXHR9XG5cblx0bGV0IGN1cnJlbnRfYmxvY2tfdHlwZSA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCk7XG5cdGxldCBpZl9ibG9jayA9IGN1cnJlbnRfYmxvY2tfdHlwZSAmJiBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0bGFiZWwgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHR0MCA9IHRleHQodDBfdmFsdWUpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5jKCk7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRhdHRyKGxhYmVsLCBcImZvclwiLCBsYWJlbF9mb3JfdmFsdWUgPSAvKm1ha2VJRCovIGN0eFszXSgvKmtleSovIGN0eFs2XSkpO1xuXHRcdFx0YXR0cihsYWJlbCwgXCJjbGFzc1wiLCBcInN2ZWx0ZS0xZnU5MDB3XCIpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJvcHRpb24gc3ZlbHRlLTFmdTkwMHdcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBsYWJlbCk7XG5cdFx0XHRhcHBlbmQobGFiZWwsIHQwKTtcblx0XHRcdGFwcGVuZChkaXYsIHQxKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2subShkaXYsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDIpO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKmJvdCovIDEgJiYgdDBfdmFsdWUgIT09ICh0MF92YWx1ZSA9IC8qa2V5Ki8gY3R4WzZdICsgXCJcIikpIHNldF9kYXRhKHQwLCB0MF92YWx1ZSk7XG5cblx0XHRcdGlmIChkaXJ0eSAmIC8qYm90Ki8gMSAmJiBsYWJlbF9mb3JfdmFsdWUgIT09IChsYWJlbF9mb3JfdmFsdWUgPSAvKm1ha2VJRCovIGN0eFszXSgvKmtleSovIGN0eFs2XSkpKSB7XG5cdFx0XHRcdGF0dHIobGFiZWwsIFwiZm9yXCIsIGxhYmVsX2Zvcl92YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGUgPT09IChjdXJyZW50X2Jsb2NrX3R5cGUgPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpKSAmJiBpZl9ibG9jaykge1xuXHRcdFx0XHRpZl9ibG9jay5wKGN0eCwgZGlydHkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jayA9IGN1cnJlbnRfYmxvY2tfdHlwZSAmJiBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblxuXHRcdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2subShkaXYsIHQyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYpO1xuXG5cdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2suZCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JHgoY3R4KSB7XG5cdGxldCBlYWNoXzFfYW5jaG9yO1xuXHRsZXQgZWFjaF92YWx1ZSA9IE9iamVjdC5lbnRyaWVzKC8qYm90Ki8gY3R4WzBdLm9wdHMoKSk7XG5cdGxldCBlYWNoX2Jsb2NrcyA9IFtdO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2skOShnZXRfZWFjaF9jb250ZXh0JDkoY3R4LCBlYWNoX3ZhbHVlLCBpKSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdH1cblxuXHRcdFx0ZWFjaF8xX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBlYWNoXzFfYW5jaG9yLCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qbWFrZUlELCBPYmplY3QsIGJvdCwgdmFsdWVzLCBPbkNoYW5nZSovIDE1KSB7XG5cdFx0XHRcdGVhY2hfdmFsdWUgPSBPYmplY3QuZW50cmllcygvKmJvdCovIGN0eFswXS5vcHRzKCkpO1xuXHRcdFx0XHRsZXQgaTtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHQkOShjdHgsIGVhY2hfdmFsdWUsIGkpO1xuXG5cdFx0XHRcdFx0aWYgKGVhY2hfYmxvY2tzW2ldKSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5wKGNoaWxkX2N0eCwgZGlydHkpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrJDkoY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oZWFjaF8xX2FuY2hvci5wYXJlbnROb2RlLCBlYWNoXzFfYW5jaG9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uZCgxKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVhY2hfYmxvY2tzLmxlbmd0aCA9IGVhY2hfdmFsdWUubGVuZ3RoO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRkZXN0cm95X2VhY2goZWFjaF9ibG9ja3MsIGRldGFjaGluZyk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goZWFjaF8xX2FuY2hvcik7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSR4KCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCB7IGJvdCB9ID0gJCRwcm9wcztcblx0bGV0IHZhbHVlcyA9IHt9O1xuXG5cdGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhib3Qub3B0cygpKSkge1xuXHRcdHZhbHVlc1trZXldID0gdmFsdWUudmFsdWU7XG5cdH1cblxuXHRmdW5jdGlvbiBPbkNoYW5nZSgpIHtcblx0XHRmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFsdWVzKSkge1xuXHRcdFx0Ym90LnNldE9wdChrZXksIHZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRjb25zdCBtYWtlSUQgPSBrZXkgPT4gJ2FpLW9wdGlvbi0nICsga2V5O1xuXG5cdGZ1bmN0aW9uIGlucHV0X2NoYW5nZV9pbnB1dF9oYW5kbGVyKGtleSkge1xuXHRcdHZhbHVlc1trZXldID0gdG9fbnVtYmVyKHRoaXMudmFsdWUpO1xuXHRcdCQkaW52YWxpZGF0ZSgxLCB2YWx1ZXMpO1xuXHRcdCQkaW52YWxpZGF0ZSgwLCBib3QpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXRfY2hhbmdlX2hhbmRsZXIoa2V5KSB7XG5cdFx0dmFsdWVzW2tleV0gPSB0aGlzLmNoZWNrZWQ7XG5cdFx0JCRpbnZhbGlkYXRlKDEsIHZhbHVlcyk7XG5cdFx0JCRpbnZhbGlkYXRlKDAsIGJvdCk7XG5cdH1cblxuXHQkJHNlbGYuJCRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2JvdCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDAsIGJvdCA9ICQkcHJvcHMuYm90KTtcblx0fTtcblxuXHRyZXR1cm4gW1xuXHRcdGJvdCxcblx0XHR2YWx1ZXMsXG5cdFx0T25DaGFuZ2UsXG5cdFx0bWFrZUlELFxuXHRcdGlucHV0X2NoYW5nZV9pbnB1dF9oYW5kbGVyLFxuXHRcdGlucHV0X2NoYW5nZV9oYW5kbGVyXG5cdF07XG59XG5cbmNsYXNzIE9wdGlvbnMgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlJHgsIGNyZWF0ZV9mcmFnbWVudCR4LCBzYWZlX25vdF9lcXVhbCwgeyBib3Q6IDAgfSwgYWRkX2NzcyRvKTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL2FpL0FJLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gYWRkX2NzcyRwKHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtbGlmZGk4XCIsIFwidWwuc3ZlbHRlLWxpZmRpOHtwYWRkaW5nLWxlZnQ6MH1saS5zdmVsdGUtbGlmZGk4e2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46bm9uZTttYXJnaW4tYm90dG9tOjVweH1oMy5zdmVsdGUtbGlmZGk4e3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZX1sYWJlbC5zdmVsdGUtbGlmZGk4e2NvbG9yOiM2NjZ9aW5wdXRbdHlwZT0nY2hlY2tib3gnXS5zdmVsdGUtbGlmZGk4e3ZlcnRpY2FsLWFsaWduOm1pZGRsZX1cIik7XG59XG5cbmZ1bmN0aW9uIGdldF9lYWNoX2NvbnRleHQkYShjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gY3R4LnNsaWNlKCk7XG5cdGNoaWxkX2N0eFs3XSA9IGxpc3RbaV07XG5cdHJldHVybiBjaGlsZF9jdHg7XG59XG5cbi8vICgyMDI6NCkgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2skMyhjdHgpIHtcblx0bGV0IHAwO1xuXHRsZXQgdDE7XG5cdGxldCBwMTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRwMCA9IGVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0cDAudGV4dENvbnRlbnQgPSBcIk5vIGJvdHMgYXZhaWxhYmxlLlwiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0cDEgPSBlbGVtZW50KFwicFwiKTtcblxuXHRcdFx0cDEuaW5uZXJIVE1MID0gYEZvbGxvdyB0aGUgaW5zdHJ1Y3Rpb25zXG4gICAgICAgIDxhIGhyZWY9XCJodHRwczovL2JvYXJkZ2FtZS5pby9kb2N1bWVudGF0aW9uLyMvdHV0b3JpYWw/aWQ9Ym90c1wiIHRhcmdldD1cIl9ibGFua1wiPmhlcmU8L2E+XG4gICAgICAgIHRvIHNldCB1cCBib3RzLmA7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwMCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQxLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcDEsIGFuY2hvcik7XG5cdFx0fSxcblx0XHRwOiBub29wLFxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHAwKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0MSk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gocDEpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDIwMDo0KSB7I2lmIGNsaWVudC5tdWx0aXBsYXllcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja181KGN0eCkge1xuXHRsZXQgcDtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRwLnRleHRDb250ZW50ID0gXCJUaGUgYm90IGRlYnVnZ2VyIGlzIG9ubHkgYXZhaWxhYmxlIGluIHNpbmdsZXBsYXllciBtb2RlLlwiO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcCwgYW5jaG9yKTtcblx0XHR9LFxuXHRcdHA6IG5vb3AsXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gocCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTUwOjIpIHsjaWYgY2xpZW50LmdhbWUuYWkgJiYgIWNsaWVudC5tdWx0aXBsYXllcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayRkKGN0eCkge1xuXHRsZXQgc2VjdGlvbjA7XG5cdGxldCBoMzA7XG5cdGxldCB0MTtcblx0bGV0IHVsO1xuXHRsZXQgbGkwO1xuXHRsZXQgaG90a2V5MDtcblx0bGV0IHQyO1xuXHRsZXQgbGkxO1xuXHRsZXQgaG90a2V5MTtcblx0bGV0IHQzO1xuXHRsZXQgbGkyO1xuXHRsZXQgaG90a2V5Mjtcblx0bGV0IHQ0O1xuXHRsZXQgc2VjdGlvbjE7XG5cdGxldCBoMzE7XG5cdGxldCB0Njtcblx0bGV0IHNlbGVjdDtcblx0bGV0IHQ3O1xuXHRsZXQgc2hvd19pZiA9IE9iamVjdC5rZXlzKC8qYm90Ki8gY3R4WzddLm9wdHMoKSkubGVuZ3RoO1xuXHRsZXQgdDg7XG5cdGxldCBpZl9ibG9jazFfYW5jaG9yO1xuXHRsZXQgY3VycmVudDtcblx0bGV0IG1vdW50ZWQ7XG5cdGxldCBkaXNwb3NlO1xuXG5cdGhvdGtleTAgPSBuZXcgSG90a2V5KHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHZhbHVlOiBcIjFcIixcblx0XHRcdFx0b25QcmVzczogLypSZXNldCovIGN0eFsxM10sXG5cdFx0XHRcdGxhYmVsOiBcInJlc2V0XCJcblx0XHRcdH1cblx0XHR9KTtcblxuXHRob3RrZXkxID0gbmV3IEhvdGtleSh7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHR2YWx1ZTogXCIyXCIsXG5cdFx0XHRcdG9uUHJlc3M6IC8qU3RlcCovIGN0eFsxMV0sXG5cdFx0XHRcdGxhYmVsOiBcInBsYXlcIlxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGhvdGtleTIgPSBuZXcgSG90a2V5KHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdHZhbHVlOiBcIjNcIixcblx0XHRcdFx0b25QcmVzczogLypTaW11bGF0ZSovIGN0eFsxMl0sXG5cdFx0XHRcdGxhYmVsOiBcInNpbXVsYXRlXCJcblx0XHRcdH1cblx0XHR9KTtcblxuXHRsZXQgZWFjaF92YWx1ZSA9IE9iamVjdC5rZXlzKC8qYm90cyovIGN0eFs4XSk7XG5cdGxldCBlYWNoX2Jsb2NrcyA9IFtdO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2skYShnZXRfZWFjaF9jb250ZXh0JGEoY3R4LCBlYWNoX3ZhbHVlLCBpKSk7XG5cdH1cblxuXHRsZXQgaWZfYmxvY2swID0gc2hvd19pZiAmJiBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXHRsZXQgaWZfYmxvY2sxID0gKC8qYm90QWN0aW9uKi8gY3R4WzVdIHx8IC8qaXRlcmF0aW9uQ291bnRlciovIGN0eFszXSkgJiYgY3JlYXRlX2lmX2Jsb2NrXzEkNihjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdHNlY3Rpb24wID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRoMzAgPSBlbGVtZW50KFwiaDNcIik7XG5cdFx0XHRoMzAudGV4dENvbnRlbnQgPSBcIkNvbnRyb2xzXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHR1bCA9IGVsZW1lbnQoXCJ1bFwiKTtcblx0XHRcdGxpMCA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoaG90a2V5MC4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRsaTEgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGhvdGtleTEuJCQuZnJhZ21lbnQpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0bGkyID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0Y3JlYXRlX2NvbXBvbmVudChob3RrZXkyLiQkLmZyYWdtZW50KTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdHNlY3Rpb24xID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRoMzEgPSBlbGVtZW50KFwiaDNcIik7XG5cdFx0XHRoMzEudGV4dENvbnRlbnQgPSBcIkJvdFwiO1xuXHRcdFx0dDYgPSBzcGFjZSgpO1xuXHRcdFx0c2VsZWN0ID0gZWxlbWVudChcInNlbGVjdFwiKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cdFx0XHR9XG5cblx0XHRcdHQ3ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0OCA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuYygpO1xuXHRcdFx0aWZfYmxvY2sxX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0XHRhdHRyKGgzMCwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0XHRhdHRyKGxpMCwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0XHRhdHRyKGxpMSwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0XHRhdHRyKGxpMiwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0XHRhdHRyKHVsLCBcImNsYXNzXCIsIFwic3ZlbHRlLWxpZmRpOFwiKTtcblx0XHRcdGF0dHIoaDMxLCBcImNsYXNzXCIsIFwic3ZlbHRlLWxpZmRpOFwiKTtcblx0XHRcdGlmICgvKnNlbGVjdGVkQm90Ki8gY3R4WzRdID09PSB2b2lkIDApIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gLypzZWxlY3RfY2hhbmdlX2hhbmRsZXIqLyBjdHhbMTddLmNhbGwoc2VsZWN0KSk7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzZWN0aW9uMCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMCwgaDMwKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMCwgdDEpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24wLCB1bCk7XG5cdFx0XHRhcHBlbmQodWwsIGxpMCk7XG5cdFx0XHRtb3VudF9jb21wb25lbnQoaG90a2V5MCwgbGkwLCBudWxsKTtcblx0XHRcdGFwcGVuZCh1bCwgdDIpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTEpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGhvdGtleTEsIGxpMSwgbnVsbCk7XG5cdFx0XHRhcHBlbmQodWwsIHQzKTtcblx0XHRcdGFwcGVuZCh1bCwgbGkyKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChob3RrZXkyLCBsaTIsIG51bGwpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzZWN0aW9uMSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMSwgaDMxKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMSwgdDYpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24xLCBzZWxlY3QpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oc2VsZWN0LCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0X29wdGlvbihzZWxlY3QsIC8qc2VsZWN0ZWRCb3QqLyBjdHhbNF0pO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDcsIGFuY2hvcik7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0OCwgYW5jaG9yKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGlmX2Jsb2NrMV9hbmNob3IsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblxuXHRcdFx0aWYgKCFtb3VudGVkKSB7XG5cdFx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdFx0bGlzdGVuKHNlbGVjdCwgXCJjaGFuZ2VcIiwgLypzZWxlY3RfY2hhbmdlX2hhbmRsZXIqLyBjdHhbMTddKSxcblx0XHRcdFx0XHRsaXN0ZW4oc2VsZWN0LCBcImNoYW5nZVwiLCAvKkNoYW5nZUJvdCovIGN0eFsxMF0pXG5cdFx0XHRcdF07XG5cblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qT2JqZWN0LCBib3RzKi8gMjU2KSB7XG5cdFx0XHRcdGVhY2hfdmFsdWUgPSBPYmplY3Qua2V5cygvKmJvdHMqLyBjdHhbOF0pO1xuXHRcdFx0XHRsZXQgaTtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHQkYShjdHgsIGVhY2hfdmFsdWUsIGkpO1xuXG5cdFx0XHRcdFx0aWYgKGVhY2hfYmxvY2tzW2ldKSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5wKGNoaWxkX2N0eCwgZGlydHkpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrJGEoY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oc2VsZWN0LCBudWxsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uZCgxKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVhY2hfYmxvY2tzLmxlbmd0aCA9IGVhY2hfdmFsdWUubGVuZ3RoO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKnNlbGVjdGVkQm90LCBPYmplY3QsIGJvdHMqLyAyNzIpIHtcblx0XHRcdFx0c2VsZWN0X29wdGlvbihzZWxlY3QsIC8qc2VsZWN0ZWRCb3QqLyBjdHhbNF0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGlydHkgJiAvKmJvdCovIDEyOCkgc2hvd19pZiA9IE9iamVjdC5rZXlzKC8qYm90Ki8gY3R4WzddLm9wdHMoKSkubGVuZ3RoO1xuXG5cdFx0XHRpZiAoc2hvd19pZikge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2swKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swLnAoY3R4LCBkaXJ0eSk7XG5cblx0XHRcdFx0XHRpZiAoZGlydHkgJiAvKmJvdCovIDEyOCkge1xuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazAsIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazAgPSBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazAsIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKHQ4LnBhcmVudE5vZGUsIHQ4KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2swLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgvKmJvdEFjdGlvbiovIGN0eFs1XSB8fCAvKml0ZXJhdGlvbkNvdW50ZXIqLyBjdHhbM10pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5wKGN0eCwgZGlydHkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGNyZWF0ZV9pZl9ibG9ja18xJDYoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5tKGlmX2Jsb2NrMV9hbmNob3IucGFyZW50Tm9kZSwgaWZfYmxvY2sxX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oaG90a2V5MC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihob3RrZXkxLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGhvdGtleTIuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2swKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaG90a2V5MC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaG90a2V5MS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaG90a2V5Mi4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2swKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc2VjdGlvbjApO1xuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQoaG90a2V5MCk7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChob3RrZXkxKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGhvdGtleTIpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHQ0KTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzZWN0aW9uMSk7XG5cdFx0XHRkZXN0cm95X2VhY2goZWFjaF9ibG9ja3MsIGRldGFjaGluZyk7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2godDcpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmQoZGV0YWNoaW5nKTtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaCh0OCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuZChkZXRhY2hpbmcpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGlmX2Jsb2NrMV9hbmNob3IpO1xuXHRcdFx0bW91bnRlZCA9IGZhbHNlO1xuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgxNjk6OCkgeyNlYWNoIE9iamVjdC5rZXlzKGJvdHMpIGFzIGJvdH1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrJGEoY3R4KSB7XG5cdGxldCBvcHRpb247XG5cdGxldCB0X3ZhbHVlID0gLypib3QqLyBjdHhbN10gKyBcIlwiO1xuXHRsZXQgdDtcblx0bGV0IG9wdGlvbl92YWx1ZV92YWx1ZTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRvcHRpb24gPSBlbGVtZW50KFwib3B0aW9uXCIpO1xuXHRcdFx0dCA9IHRleHQodF92YWx1ZSk7XG5cdFx0XHRvcHRpb24uX192YWx1ZSA9IG9wdGlvbl92YWx1ZV92YWx1ZSA9IC8qYm90Ki8gY3R4WzddO1xuXHRcdFx0b3B0aW9uLnZhbHVlID0gb3B0aW9uLl9fdmFsdWU7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBvcHRpb24sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQob3B0aW9uLCB0KTtcblx0XHR9LFxuXHRcdHA6IG5vb3AsXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChvcHRpb24pO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE3NTo0KSB7I2lmIE9iamVjdC5rZXlzKGJvdC5vcHRzKCkpLmxlbmd0aH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja180KGN0eCkge1xuXHRsZXQgc2VjdGlvbjtcblx0bGV0IGgzO1xuXHRsZXQgdDE7XG5cdGxldCBsYWJlbDtcblx0bGV0IHQzO1xuXHRsZXQgaW5wdXQ7XG5cdGxldCB0NDtcblx0bGV0IG9wdGlvbnM7XG5cdGxldCBjdXJyZW50O1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cdG9wdGlvbnMgPSBuZXcgT3B0aW9ucyh7IHByb3BzOiB7IGJvdDogLypib3QqLyBjdHhbN10gfSB9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRzZWN0aW9uID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRoMyA9IGVsZW1lbnQoXCJoM1wiKTtcblx0XHRcdGgzLnRleHRDb250ZW50ID0gXCJPcHRpb25zXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbCA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsLnRleHRDb250ZW50ID0gXCJkZWJ1Z1wiO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0NCA9IHNwYWNlKCk7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KG9wdGlvbnMuJCQuZnJhZ21lbnQpO1xuXHRcdFx0YXR0cihoMywgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0XHRhdHRyKGxhYmVsLCBcImZvclwiLCBcImFpLW9wdGlvbi1kZWJ1Z1wiKTtcblx0XHRcdGF0dHIobGFiZWwsIFwiY2xhc3NcIiwgXCJzdmVsdGUtbGlmZGk4XCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJpZFwiLCBcImFpLW9wdGlvbi1kZWJ1Z1wiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzZWN0aW9uLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24sIGgzKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uLCB0MSk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbiwgbGFiZWwpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24sIHQzKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uLCBpbnB1dCk7XG5cdFx0XHRpbnB1dC5jaGVja2VkID0gLypkZWJ1ZyovIGN0eFsxXTtcblx0XHRcdGFwcGVuZChzZWN0aW9uLCB0NCk7XG5cdFx0XHRtb3VudF9jb21wb25lbnQob3B0aW9ucywgc2VjdGlvbiwgbnVsbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblxuXHRcdFx0aWYgKCFtb3VudGVkKSB7XG5cdFx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdFx0bGlzdGVuKGlucHV0LCBcImNoYW5nZVwiLCAvKmlucHV0X2NoYW5nZV9oYW5kbGVyKi8gY3R4WzE4XSksXG5cdFx0XHRcdFx0bGlzdGVuKGlucHV0LCBcImNoYW5nZVwiLCAvKk9uRGVidWcqLyBjdHhbOV0pXG5cdFx0XHRcdF07XG5cblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwKGN0eCwgZGlydHkpIHtcblx0XHRcdGlmIChkaXJ0eSAmIC8qZGVidWcqLyAyKSB7XG5cdFx0XHRcdGlucHV0LmNoZWNrZWQgPSAvKmRlYnVnKi8gY3R4WzFdO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBvcHRpb25zX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qYm90Ki8gMTI4KSBvcHRpb25zX2NoYW5nZXMuYm90ID0gLypib3QqLyBjdHhbN107XG5cdFx0XHRvcHRpb25zLiRzZXQob3B0aW9uc19jaGFuZ2VzKTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKG9wdGlvbnMuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQob3B0aW9ucy4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChzZWN0aW9uKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG9wdGlvbnMpO1xuXHRcdFx0bW91bnRlZCA9IGZhbHNlO1xuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgxODQ6NCkgeyNpZiBib3RBY3Rpb24gfHwgaXRlcmF0aW9uQ291bnRlcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xJDYoY3R4KSB7XG5cdGxldCBzZWN0aW9uO1xuXHRsZXQgaDM7XG5cdGxldCB0MTtcblx0bGV0IHQyO1xuXHRsZXQgaWZfYmxvY2swID0gLypwcm9ncmVzcyovIGN0eFsyXSAmJiAvKnByb2dyZXNzKi8gY3R4WzJdIDwgMS4wICYmIGNyZWF0ZV9pZl9ibG9ja18zJDEoY3R4KTtcblx0bGV0IGlmX2Jsb2NrMSA9IC8qYm90QWN0aW9uKi8gY3R4WzVdICYmIGNyZWF0ZV9pZl9ibG9ja18yJDQoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRzZWN0aW9uID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRoMyA9IGVsZW1lbnQoXCJoM1wiKTtcblx0XHRcdGgzLnRleHRDb250ZW50ID0gXCJSZXN1bHRcIjtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuYygpO1xuXHRcdFx0YXR0cihoMywgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzZWN0aW9uLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24sIGgzKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uLCB0MSk7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubShzZWN0aW9uLCBudWxsKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uLCB0Mik7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEubShzZWN0aW9uLCBudWxsKTtcblx0XHR9LFxuXHRcdHAoY3R4LCBkaXJ0eSkge1xuXHRcdFx0aWYgKC8qcHJvZ3Jlc3MqLyBjdHhbMl0gJiYgLypwcm9ncmVzcyovIGN0eFsyXSA8IDEuMCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2swKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swLnAoY3R4LCBkaXJ0eSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gY3JlYXRlX2lmX2Jsb2NrXzMkMShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLm0oc2VjdGlvbiwgdDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRpZl9ibG9jazAuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKC8qYm90QWN0aW9uKi8gY3R4WzVdKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjdHgsIGRpcnR5KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazEgPSBjcmVhdGVfaWZfYmxvY2tfMiQ0KGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazEubShzZWN0aW9uLCBudWxsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0aWZfYmxvY2sxLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMSA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNlY3Rpb24pO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5kKCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTg3OjYpIHsjaWYgcHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MgPCAxLjB9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMyQxKGN0eCkge1xuXHRsZXQgcHJvZ3Jlc3NfMTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRwcm9ncmVzc18xID0gZWxlbWVudChcInByb2dyZXNzXCIpO1xuXHRcdFx0cHJvZ3Jlc3NfMS52YWx1ZSA9IC8qcHJvZ3Jlc3MqLyBjdHhbMl07XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwcm9ncmVzc18xLCBhbmNob3IpO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKnByb2dyZXNzKi8gNCkge1xuXHRcdFx0XHRwcm9ncmVzc18xLnZhbHVlID0gLypwcm9ncmVzcyovIGN0eFsyXTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2gocHJvZ3Jlc3NfMSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTkxOjYpIHsjaWYgYm90QWN0aW9ufVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzIkNChjdHgpIHtcblx0bGV0IHVsO1xuXHRsZXQgbGkwO1xuXHRsZXQgdDA7XG5cdGxldCB0MTtcblx0bGV0IHQyO1xuXHRsZXQgbGkxO1xuXHRsZXQgdDM7XG5cdGxldCB0NF92YWx1ZSA9IEpTT04uc3RyaW5naWZ5KC8qYm90QWN0aW9uQXJncyovIGN0eFs2XSkgKyBcIlwiO1xuXHRsZXQgdDQ7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0dWwgPSBlbGVtZW50KFwidWxcIik7XG5cdFx0XHRsaTAgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJBY3Rpb246IFwiKTtcblx0XHRcdHQxID0gdGV4dCgvKmJvdEFjdGlvbiovIGN0eFs1XSk7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRsaTEgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHR0MyA9IHRleHQoXCJBcmdzOiBcIik7XG5cdFx0XHR0NCA9IHRleHQodDRfdmFsdWUpO1xuXHRcdFx0YXR0cihsaTAsIFwiY2xhc3NcIiwgXCJzdmVsdGUtbGlmZGk4XCIpO1xuXHRcdFx0YXR0cihsaTEsIFwiY2xhc3NcIiwgXCJzdmVsdGUtbGlmZGk4XCIpO1xuXHRcdFx0YXR0cih1bCwgXCJjbGFzc1wiLCBcInN2ZWx0ZS1saWZkaThcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB1bCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZCh1bCwgbGkwKTtcblx0XHRcdGFwcGVuZChsaTAsIHQwKTtcblx0XHRcdGFwcGVuZChsaTAsIHQxKTtcblx0XHRcdGFwcGVuZCh1bCwgdDIpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTEpO1xuXHRcdFx0YXBwZW5kKGxpMSwgdDMpO1xuXHRcdFx0YXBwZW5kKGxpMSwgdDQpO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRpZiAoZGlydHkgJiAvKmJvdEFjdGlvbiovIDMyKSBzZXRfZGF0YSh0MSwgLypib3RBY3Rpb24qLyBjdHhbNV0pO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypib3RBY3Rpb25BcmdzKi8gNjQgJiYgdDRfdmFsdWUgIT09ICh0NF92YWx1ZSA9IEpTT04uc3RyaW5naWZ5KC8qYm90QWN0aW9uQXJncyovIGN0eFs2XSkgKyBcIlwiKSkgc2V0X2RhdGEodDQsIHQ0X3ZhbHVlKTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2godWwpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50JHkoY3R4KSB7XG5cdGxldCBzZWN0aW9uO1xuXHRsZXQgY3VycmVudF9ibG9ja190eXBlX2luZGV4O1xuXHRsZXQgaWZfYmxvY2s7XG5cdGxldCBjdXJyZW50O1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cdGNvbnN0IGlmX2Jsb2NrX2NyZWF0b3JzID0gW2NyZWF0ZV9pZl9ibG9jayRkLCBjcmVhdGVfaWZfYmxvY2tfNSwgY3JlYXRlX2Vsc2VfYmxvY2skM107XG5cdGNvbnN0IGlmX2Jsb2NrcyA9IFtdO1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlKGN0eCwgZGlydHkpIHtcblx0XHRpZiAoLypjbGllbnQqLyBjdHhbMF0uZ2FtZS5haSAmJiAhLypjbGllbnQqLyBjdHhbMF0ubXVsdGlwbGF5ZXIpIHJldHVybiAwO1xuXHRcdGlmICgvKmNsaWVudCovIGN0eFswXS5tdWx0aXBsYXllcikgcmV0dXJuIDE7XG5cdFx0cmV0dXJuIDI7XG5cdH1cblxuXHRjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpO1xuXHRpZl9ibG9jayA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdID0gaWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdHNlY3Rpb24gPSBlbGVtZW50KFwic2VjdGlvblwiKTtcblx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNlY3Rpb24sIGFuY2hvcik7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5tKHNlY3Rpb24sIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gbGlzdGVuKHdpbmRvdywgXCJrZXlkb3duXCIsIC8qT25LZXlEb3duKi8gY3R4WzE0XSk7XG5cdFx0XHRcdG1vdW50ZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cChjdHgsIFtkaXJ0eV0pIHtcblx0XHRcdGxldCBwcmV2aW91c19ibG9ja19pbmRleCA9IGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleDtcblx0XHRcdGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCk7XG5cblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPT09IHByZXZpb3VzX2Jsb2NrX2luZGV4KSB7XG5cdFx0XHRcdGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdLnAoY3R4LCBkaXJ0eSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2tzW3ByZXZpb3VzX2Jsb2NrX2luZGV4XSA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0XHRpZl9ibG9jayA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdO1xuXG5cdFx0XHRcdGlmICghaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jayA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdID0gaWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jay5wKGN0eCwgZGlydHkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jaywgMSk7XG5cdFx0XHRcdGlmX2Jsb2NrLm0oc2VjdGlvbiwgbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goc2VjdGlvbik7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5kKCk7XG5cdFx0XHRtb3VudGVkID0gZmFsc2U7XG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSR5KCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCB7IGNsaWVudCB9ID0gJCRwcm9wcztcblx0bGV0IHsgY2xpZW50TWFuYWdlciB9ID0gJCRwcm9wcztcblx0bGV0IHsgVG9nZ2xlVmlzaWJpbGl0eSB9ID0gJCRwcm9wcztcblx0Y29uc3QgeyBzZWNvbmRhcnlQYW5lIH0gPSBnZXRDb250ZXh0KCdzZWNvbmRhcnlQYW5lJyk7XG5cdGNvbnN0IGJvdHMgPSB7ICdNQ1RTJzogTUNUU0JvdCwgJ1JhbmRvbSc6IFJhbmRvbUJvdCB9O1xuXHRsZXQgZGVidWcgPSBmYWxzZTtcblx0bGV0IHByb2dyZXNzID0gbnVsbDtcblx0bGV0IGl0ZXJhdGlvbkNvdW50ZXIgPSAwO1xuXHRsZXQgbWV0YWRhdGEgPSBudWxsO1xuXG5cdGNvbnN0IGl0ZXJhdGlvbkNhbGxiYWNrID0gKHsgaXRlcmF0aW9uQ291bnRlcjogYywgbnVtSXRlcmF0aW9ucywgbWV0YWRhdGE6IG0gfSkgPT4ge1xuXHRcdCQkaW52YWxpZGF0ZSgzLCBpdGVyYXRpb25Db3VudGVyID0gYyk7XG5cdFx0JCRpbnZhbGlkYXRlKDIsIHByb2dyZXNzID0gYyAvIG51bUl0ZXJhdGlvbnMpO1xuXHRcdG1ldGFkYXRhID0gbTtcblxuXHRcdGlmIChkZWJ1ZyAmJiBtZXRhZGF0YSkge1xuXHRcdFx0c2Vjb25kYXJ5UGFuZS5zZXQoeyBjb21wb25lbnQ6IE1DVFMsIG1ldGFkYXRhIH0pO1xuXHRcdH1cblx0fTtcblxuXHRmdW5jdGlvbiBPbkRlYnVnKCkge1xuXHRcdGlmIChkZWJ1ZyAmJiBtZXRhZGF0YSkge1xuXHRcdFx0c2Vjb25kYXJ5UGFuZS5zZXQoeyBjb21wb25lbnQ6IE1DVFMsIG1ldGFkYXRhIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZWNvbmRhcnlQYW5lLnNldChudWxsKTtcblx0XHR9XG5cdH1cblxuXHRsZXQgYm90O1xuXG5cdGlmIChjbGllbnQuZ2FtZS5haSkge1xuXHRcdGJvdCA9IG5ldyBNQ1RTQm90KHtcblx0XHRcdFx0Z2FtZTogY2xpZW50LmdhbWUsXG5cdFx0XHRcdGVudW1lcmF0ZTogY2xpZW50LmdhbWUuYWkuZW51bWVyYXRlLFxuXHRcdFx0XHRpdGVyYXRpb25DYWxsYmFja1xuXHRcdFx0fSk7XG5cblx0XHRib3Quc2V0T3B0KCdhc3luYycsIHRydWUpO1xuXHR9XG5cblx0bGV0IHNlbGVjdGVkQm90O1xuXHRsZXQgYm90QWN0aW9uO1xuXHRsZXQgYm90QWN0aW9uQXJncztcblxuXHRmdW5jdGlvbiBDaGFuZ2VCb3QoKSB7XG5cdFx0Y29uc3QgYm90Q29uc3RydWN0b3IgPSBib3RzW3NlbGVjdGVkQm90XTtcblxuXHRcdCQkaW52YWxpZGF0ZSg3LCBib3QgPSBuZXcgYm90Q29uc3RydWN0b3Ioe1xuXHRcdFx0XHRnYW1lOiBjbGllbnQuZ2FtZSxcblx0XHRcdFx0ZW51bWVyYXRlOiBjbGllbnQuZ2FtZS5haS5lbnVtZXJhdGUsXG5cdFx0XHRcdGl0ZXJhdGlvbkNhbGxiYWNrXG5cdFx0XHR9KSk7XG5cblx0XHRib3Quc2V0T3B0KCdhc3luYycsIHRydWUpO1xuXHRcdCQkaW52YWxpZGF0ZSg1LCBib3RBY3Rpb24gPSBudWxsKTtcblx0XHRtZXRhZGF0YSA9IG51bGw7XG5cdFx0c2Vjb25kYXJ5UGFuZS5zZXQobnVsbCk7XG5cdFx0JCRpbnZhbGlkYXRlKDMsIGl0ZXJhdGlvbkNvdW50ZXIgPSAwKTtcblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIFN0ZXAkMSgpIHtcblx0XHQkJGludmFsaWRhdGUoNSwgYm90QWN0aW9uID0gbnVsbCk7XG5cdFx0bWV0YWRhdGEgPSBudWxsO1xuXHRcdCQkaW52YWxpZGF0ZSgzLCBpdGVyYXRpb25Db3VudGVyID0gMCk7XG5cdFx0Y29uc3QgdCA9IGF3YWl0IFN0ZXAoY2xpZW50LCBib3QpO1xuXG5cdFx0aWYgKHQpIHtcblx0XHRcdCQkaW52YWxpZGF0ZSg1LCBib3RBY3Rpb24gPSB0LnBheWxvYWQudHlwZSk7XG5cdFx0XHQkJGludmFsaWRhdGUoNiwgYm90QWN0aW9uQXJncyA9IHQucGF5bG9hZC5hcmdzKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBTaW11bGF0ZShpdGVyYXRpb25zID0gMTAwMDAsIHNsZWVwVGltZW91dCA9IDEwMCkge1xuXHRcdCQkaW52YWxpZGF0ZSg1LCBib3RBY3Rpb24gPSBudWxsKTtcblx0XHRtZXRhZGF0YSA9IG51bGw7XG5cdFx0JCRpbnZhbGlkYXRlKDMsIGl0ZXJhdGlvbkNvdW50ZXIgPSAwKTtcblxuXHRcdGNvbnN0IHN0ZXAgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkrKykge1xuXHRcdFx0XHRjb25zdCBhY3Rpb24gPSBhd2FpdCBTdGVwKGNsaWVudCwgYm90KTtcblx0XHRcdFx0aWYgKCFhY3Rpb24pIGJyZWFrO1xuXHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgc2xlZXBUaW1lb3V0KSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHJldHVybiBzdGVwKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBFeGl0KCkge1xuXHRcdGNsaWVudC5vdmVycmlkZUdhbWVTdGF0ZShudWxsKTtcblx0XHRzZWNvbmRhcnlQYW5lLnNldChudWxsKTtcblx0XHQkJGludmFsaWRhdGUoMSwgZGVidWcgPSBmYWxzZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBSZXNldCgpIHtcblx0XHRjbGllbnQucmVzZXQoKTtcblx0XHQkJGludmFsaWRhdGUoNSwgYm90QWN0aW9uID0gbnVsbCk7XG5cdFx0bWV0YWRhdGEgPSBudWxsO1xuXHRcdCQkaW52YWxpZGF0ZSgzLCBpdGVyYXRpb25Db3VudGVyID0gMCk7XG5cdFx0RXhpdCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gT25LZXlEb3duKGUpIHtcblx0XHQvLyBFU0MuXG5cdFx0aWYgKGUua2V5Q29kZSA9PSAyNykge1xuXHRcdFx0RXhpdCgpO1xuXHRcdH1cblx0fVxuXG5cdG9uRGVzdHJveShFeGl0KTtcblxuXHRmdW5jdGlvbiBzZWxlY3RfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0c2VsZWN0ZWRCb3QgPSBzZWxlY3RfdmFsdWUodGhpcyk7XG5cdFx0JCRpbnZhbGlkYXRlKDQsIHNlbGVjdGVkQm90KTtcblx0XHQkJGludmFsaWRhdGUoOCwgYm90cyk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dF9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRkZWJ1ZyA9IHRoaXMuY2hlY2tlZDtcblx0XHQkJGludmFsaWRhdGUoMSwgZGVidWcpO1xuXHR9XG5cblx0JCRzZWxmLiQkc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdjbGllbnQnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgwLCBjbGllbnQgPSAkJHByb3BzLmNsaWVudCk7XG5cdFx0aWYgKCdjbGllbnRNYW5hZ2VyJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoMTUsIGNsaWVudE1hbmFnZXIgPSAkJHByb3BzLmNsaWVudE1hbmFnZXIpO1xuXHRcdGlmICgnVG9nZ2xlVmlzaWJpbGl0eScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKDE2LCBUb2dnbGVWaXNpYmlsaXR5ID0gJCRwcm9wcy5Ub2dnbGVWaXNpYmlsaXR5KTtcblx0fTtcblxuXHRyZXR1cm4gW1xuXHRcdGNsaWVudCxcblx0XHRkZWJ1Zyxcblx0XHRwcm9ncmVzcyxcblx0XHRpdGVyYXRpb25Db3VudGVyLFxuXHRcdHNlbGVjdGVkQm90LFxuXHRcdGJvdEFjdGlvbixcblx0XHRib3RBY3Rpb25BcmdzLFxuXHRcdGJvdCxcblx0XHRib3RzLFxuXHRcdE9uRGVidWcsXG5cdFx0Q2hhbmdlQm90LFxuXHRcdFN0ZXAkMSxcblx0XHRTaW11bGF0ZSxcblx0XHRSZXNldCxcblx0XHRPbktleURvd24sXG5cdFx0Y2xpZW50TWFuYWdlcixcblx0XHRUb2dnbGVWaXNpYmlsaXR5LFxuXHRcdHNlbGVjdF9jaGFuZ2VfaGFuZGxlcixcblx0XHRpbnB1dF9jaGFuZ2VfaGFuZGxlclxuXHRdO1xufVxuXG5jbGFzcyBBSSBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0aW5pdChcblx0XHRcdHRoaXMsXG5cdFx0XHRvcHRpb25zLFxuXHRcdFx0aW5zdGFuY2UkeSxcblx0XHRcdGNyZWF0ZV9mcmFnbWVudCR5LFxuXHRcdFx0c2FmZV9ub3RfZXF1YWwsXG5cdFx0XHR7XG5cdFx0XHRcdGNsaWVudDogMCxcblx0XHRcdFx0Y2xpZW50TWFuYWdlcjogMTUsXG5cdFx0XHRcdFRvZ2dsZVZpc2liaWxpdHk6IDE2XG5cdFx0XHR9LFxuXHRcdFx0YWRkX2NzcyRwXG5cdFx0KTtcblx0fVxufVxuXG4vKiBzcmMvY2xpZW50L2RlYnVnL0RlYnVnLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjQxLjAgKi9cblxuZnVuY3Rpb24gYWRkX2NzcyRxKHRhcmdldCkge1xuXHRhcHBlbmRfc3R5bGVzKHRhcmdldCwgXCJzdmVsdGUtOHltY3RrXCIsIFwiLmRlYnVnLXBhbmVsLnN2ZWx0ZS04eW1jdGsuc3ZlbHRlLTh5bWN0a3twb3NpdGlvbjpmaXhlZDtjb2xvcjojNTU1O2ZvbnQtZmFtaWx5Om1vbm9zcGFjZTtyaWdodDowO3RvcDowO2hlaWdodDoxMDAlO2ZvbnQtc2l6ZToxNHB4O29wYWNpdHk6MC45O3otaW5kZXg6OTk5OTl9LnBhbmVsLnN2ZWx0ZS04eW1jdGsuc3ZlbHRlLTh5bWN0a3tkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7ZmxleC1kaXJlY3Rpb246cm93O2hlaWdodDoxMDAlfS52aXNpYmlsaXR5LXRvZ2dsZS5zdmVsdGUtOHltY3RrLnN2ZWx0ZS04eW1jdGt7cG9zaXRpb246YWJzb2x1dGU7Ym94LXNpemluZzpib3JkZXItYm94O3RvcDo3cHg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1yYWRpdXM6NXB4O3dpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7cGFkZGluZzo4cHg7YmFja2dyb3VuZDp3aGl0ZTtjb2xvcjojNTU1O2JveC1zaGFkb3c6MCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMil9LnZpc2liaWxpdHktdG9nZ2xlLnN2ZWx0ZS04eW1jdGsuc3ZlbHRlLTh5bWN0azpob3ZlciwudmlzaWJpbGl0eS10b2dnbGUuc3ZlbHRlLTh5bWN0ay5zdmVsdGUtOHltY3RrOmZvY3Vze2JhY2tncm91bmQ6I2VlZX0ub3BlbmVyLnN2ZWx0ZS04eW1jdGsuc3ZlbHRlLTh5bWN0a3tyaWdodDoxMHB4fS5jbG9zZXIuc3ZlbHRlLTh5bWN0ay5zdmVsdGUtOHltY3Rre2xlZnQ6LTMyNnB4fUBrZXlmcmFtZXMgc3ZlbHRlLTh5bWN0ay1yb3RhdGVGcm9tWmVyb3tmcm9te3RyYW5zZm9ybTpyb3RhdGVaKDBkZWcpfXRve3RyYW5zZm9ybTpyb3RhdGVaKDE4MGRlZyl9fS5pY29uLnN2ZWx0ZS04eW1jdGsuc3ZlbHRlLTh5bWN0a3tkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7YW5pbWF0aW9uOnN2ZWx0ZS04eW1jdGstcm90YXRlRnJvbVplcm8gMC40cyBjdWJpYy1iZXppZXIoMC42OCwgLTAuNTUsIDAuMjcsIDEuNTUpIDBzIDFcXG4gICAgICBub3JtYWwgZm9yd2FyZHN9LmNsb3Nlci5zdmVsdGUtOHltY3RrIC5pY29uLnN2ZWx0ZS04eW1jdGt7YW5pbWF0aW9uLWRpcmVjdGlvbjpyZXZlcnNlfS5wYW5lLnN2ZWx0ZS04eW1jdGsuc3ZlbHRlLTh5bWN0a3tmbGV4LWdyb3c6MjtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OnNjcm9sbDtiYWNrZ3JvdW5kOiNmZWZlZmU7cGFkZGluZzoyMHB4O2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjY2NjO2JveC1zaGFkb3c6LTFweCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMik7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOjI4MHB4fS5zZWNvbmRhcnktcGFuZS5zdmVsdGUtOHltY3RrLnN2ZWx0ZS04eW1jdGt7YmFja2dyb3VuZDojZmVmZWZlO292ZXJmbG93LXk6c2Nyb2xsfS5kZWJ1Zy1wYW5lbC5zdmVsdGUtOHltY3RrIGJ1dHRvbiwuZGVidWctcGFuZWwuc3ZlbHRlLTh5bWN0ayBzZWxlY3R7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6bW9ub3NwYWNlfS5kZWJ1Zy1wYW5lbC5zdmVsdGUtOHltY3RrIHNlbGVjdHtiYWNrZ3JvdW5kOiNlZWU7Ym9yZGVyOjFweCBzb2xpZCAjYmJiO2NvbG9yOiM1NTU7cGFkZGluZzozcHg7Ym9yZGVyLXJhZGl1czozcHh9LmRlYnVnLXBhbmVsLnN2ZWx0ZS04eW1jdGsgc2VjdGlvbnttYXJnaW4tYm90dG9tOjIwcHh9LmRlYnVnLXBhbmVsLnN2ZWx0ZS04eW1jdGsgLnNjcmVlbi1yZWFkZXItb25seXtjbGlwOnJlY3QoMCAwIDAgMCk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7aGVpZ2h0OjFweDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7d2hpdGUtc3BhY2U6bm93cmFwO3dpZHRoOjFweH1cIik7XG59XG5cbi8vICgxOTk6MikgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2skNChjdHgpIHtcblx0bGV0IGRpdjE7XG5cdGxldCB0MDtcblx0bGV0IG1lbnU7XG5cdGxldCB0MTtcblx0bGV0IGRpdjA7XG5cdGxldCBzd2l0Y2hfaW5zdGFuY2U7XG5cdGxldCB0Mjtcblx0bGV0IGRpdjFfdHJhbnNpdGlvbjtcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBpZl9ibG9jazAgPSAvKnNob3dUb2dnbGVCdXR0b24qLyBjdHhbMTBdICYmIGNyZWF0ZV9pZl9ibG9ja18zJDIoY3R4KTtcblxuXHRtZW51ID0gbmV3IE1lbnUoe1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0cGFuZXM6IC8qcGFuZXMqLyBjdHhbNl0sXG5cdFx0XHRcdHBhbmU6IC8qcGFuZSovIGN0eFsyXVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdG1lbnUuJG9uKFwiY2hhbmdlXCIsIC8qTWVudUNoYW5nZSovIGN0eFs4XSk7XG5cdHZhciBzd2l0Y2hfdmFsdWUgPSAvKnBhbmVzKi8gY3R4WzZdWy8qcGFuZSovIGN0eFsyXV0uY29tcG9uZW50O1xuXG5cdGZ1bmN0aW9uIHN3aXRjaF9wcm9wcyhjdHgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0Y2xpZW50OiAvKmNsaWVudCovIGN0eFs0XSxcblx0XHRcdFx0Y2xpZW50TWFuYWdlcjogLypjbGllbnRNYW5hZ2VyKi8gY3R4WzBdLFxuXHRcdFx0XHRUb2dnbGVWaXNpYmlsaXR5OiAvKlRvZ2dsZVZpc2liaWxpdHkqLyBjdHhbOV1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0aWYgKHN3aXRjaF92YWx1ZSkge1xuXHRcdHN3aXRjaF9pbnN0YW5jZSA9IG5ldyBzd2l0Y2hfdmFsdWUoc3dpdGNoX3Byb3BzKGN0eCkpO1xuXHR9XG5cblx0bGV0IGlmX2Jsb2NrMSA9IC8qJHNlY29uZGFyeVBhbmUqLyBjdHhbNV0gJiYgY3JlYXRlX2lmX2Jsb2NrXzIkNShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmMoKTtcblx0XHRcdHQwID0gc3BhY2UoKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQobWVudS4kJC5mcmFnbWVudCk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRkaXYwID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIGNyZWF0ZV9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50KTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJwYW5lIHN2ZWx0ZS04eW1jdGtcIik7XG5cdFx0XHRhdHRyKGRpdjAsIFwicm9sZVwiLCBcInJlZ2lvblwiKTtcblx0XHRcdGF0dHIoZGl2MCwgXCJhcmlhLWxhYmVsXCIsIC8qcGFuZSovIGN0eFsyXSk7XG5cdFx0XHRhdHRyKGRpdjAsIFwidGFiaW5kZXhcIiwgXCItMVwiKTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcInBhbmVsIHN2ZWx0ZS04eW1jdGtcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYxLCBhbmNob3IpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLm0oZGl2MSwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDApO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KG1lbnUsIGRpdjEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxKTtcblx0XHRcdGFwcGVuZChkaXYxLCBkaXYwKTtcblxuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkge1xuXHRcdFx0XHRtb3VudF9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLCBkaXYwLCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0LypkaXYwX2JpbmRpbmcqLyBjdHhbMTZdKGRpdjApO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQyKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKGRpdjEsIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRwKG5ld19jdHgsIGRpcnR5KSB7XG5cdFx0XHRjdHggPSBuZXdfY3R4O1xuXHRcdFx0aWYgKC8qc2hvd1RvZ2dsZUJ1dHRvbiovIGN0eFsxMF0pIGlmX2Jsb2NrMC5wKGN0eCwgZGlydHkpO1xuXHRcdFx0Y29uc3QgbWVudV9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoZGlydHkgJiAvKnBhbmUqLyA0KSBtZW51X2NoYW5nZXMucGFuZSA9IC8qcGFuZSovIGN0eFsyXTtcblx0XHRcdG1lbnUuJHNldChtZW51X2NoYW5nZXMpO1xuXHRcdFx0Y29uc3Qgc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChkaXJ0eSAmIC8qY2xpZW50Ki8gMTYpIHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzLmNsaWVudCA9IC8qY2xpZW50Ki8gY3R4WzRdO1xuXHRcdFx0aWYgKGRpcnR5ICYgLypjbGllbnRNYW5hZ2VyKi8gMSkgc3dpdGNoX2luc3RhbmNlX2NoYW5nZXMuY2xpZW50TWFuYWdlciA9IC8qY2xpZW50TWFuYWdlciovIGN0eFswXTtcblxuXHRcdFx0aWYgKHN3aXRjaF92YWx1ZSAhPT0gKHN3aXRjaF92YWx1ZSA9IC8qcGFuZXMqLyBjdHhbNl1bLypwYW5lKi8gY3R4WzJdXS5jb21wb25lbnQpKSB7XG5cdFx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblx0XHRcdFx0XHRjb25zdCBvbGRfY29tcG9uZW50ID0gc3dpdGNoX2luc3RhbmNlO1xuXG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9vdXQob2xkX2NvbXBvbmVudC4kJC5mcmFnbWVudCwgMSwgMCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0ZGVzdHJveV9jb21wb25lbnQob2xkX2NvbXBvbmVudCwgMSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChzd2l0Y2hfdmFsdWUpIHtcblx0XHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UgPSBuZXcgc3dpdGNoX3ZhbHVlKHN3aXRjaF9wcm9wcyhjdHgpKTtcblx0XHRcdFx0XHRjcmVhdGVfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQsIDEpO1xuXHRcdFx0XHRcdG1vdW50X2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UsIGRpdjAsIG51bGwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN3aXRjaF9pbnN0YW5jZSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdHN3aXRjaF9pbnN0YW5jZS4kc2V0KHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFjdXJyZW50IHx8IGRpcnR5ICYgLypwYW5lKi8gNCkge1xuXHRcdFx0XHRhdHRyKGRpdjAsIFwiYXJpYS1sYWJlbFwiLCAvKnBhbmUqLyBjdHhbMl0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoLyokc2Vjb25kYXJ5UGFuZSovIGN0eFs1XSkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLnAoY3R4LCBkaXJ0eSk7XG5cblx0XHRcdFx0XHRpZiAoZGlydHkgJiAvKiRzZWNvbmRhcnlQYW5lKi8gMzIpIHtcblx0XHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2sxLCAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gY3JlYXRlX2lmX2Jsb2NrXzIkNShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEsIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5tKGRpdjEsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblxuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazEsIDEsIDEsICgpID0+IHtcblx0XHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKG1lbnUuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMSk7XG5cblx0XHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuXHRcdFx0XHRpZiAoIWRpdjFfdHJhbnNpdGlvbikgZGl2MV90cmFuc2l0aW9uID0gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihkaXYxLCBmbHksIHsgeDogNDAwLCAuLi4vKnRyYW5zaXRpb25PcHRzKi8gY3R4WzEyXSB9LCB0cnVlKTtcblx0XHRcdFx0ZGl2MV90cmFuc2l0aW9uLnJ1bigxKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMCk7XG5cdFx0XHR0cmFuc2l0aW9uX291dChtZW51LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB0cmFuc2l0aW9uX291dChzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMSk7XG5cdFx0XHRpZiAoIWRpdjFfdHJhbnNpdGlvbikgZGl2MV90cmFuc2l0aW9uID0gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihkaXYxLCBmbHksIHsgeDogNDAwLCAuLi4vKnRyYW5zaXRpb25PcHRzKi8gY3R4WzEyXSB9LCBmYWxzZSk7XG5cdFx0XHRkaXYxX3RyYW5zaXRpb24ucnVuKDApO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIGRldGFjaChkaXYxKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5kKCk7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChtZW51KTtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIGRlc3Ryb3lfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSk7XG5cdFx0XHQvKmRpdjBfYmluZGluZyovIGN0eFsxNl0obnVsbCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuZCgpO1xuXHRcdFx0aWYgKGRldGFjaGluZyAmJiBkaXYxX3RyYW5zaXRpb24pIGRpdjFfdHJhbnNpdGlvbi5lbmQoKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgxODU6MikgeyNpZiAhdmlzaWJsZX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayRlKGN0eCkge1xuXHRsZXQgaWZfYmxvY2tfYW5jaG9yO1xuXHRsZXQgY3VycmVudDtcblx0bGV0IGlmX2Jsb2NrID0gLypzaG93VG9nZ2xlQnV0dG9uKi8gY3R4WzEwXSAmJiBjcmVhdGVfaWZfYmxvY2tfMSQ3KGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5jKCk7XG5cdFx0XHRpZl9ibG9ja19hbmNob3IgPSBlbXB0eSgpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGlmX2Jsb2NrX2FuY2hvciwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRpZiAoLypzaG93VG9nZ2xlQnV0dG9uKi8gY3R4WzEwXSkgaWZfYmxvY2sucChjdHgsIGRpcnR5KTtcblx0XHR9LFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2spO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZChkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZChkZXRhY2hpbmcpO1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMjAxOjYpIHsjaWYgc2hvd1RvZ2dsZUJ1dHRvbn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18zJDIoY3R4KSB7XG5cdGxldCBidXR0b247XG5cdGxldCBzcGFuO1xuXHRsZXQgY2hldnJvbjtcblx0bGV0IGJ1dHRvbl9pbnRybztcblx0bGV0IGJ1dHRvbl9vdXRybztcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBtb3VudGVkO1xuXHRsZXQgZGlzcG9zZTtcblx0Y2hldnJvbiA9IG5ldyBGYUNoZXZyb25SaWdodCh7fSk7XG5cblx0cmV0dXJuIHtcblx0XHRjKCkge1xuXHRcdFx0YnV0dG9uID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdHNwYW4gPSBlbGVtZW50KFwic3BhblwiKTtcblx0XHRcdGNyZWF0ZV9jb21wb25lbnQoY2hldnJvbi4kJC5mcmFnbWVudCk7XG5cdFx0XHRhdHRyKHNwYW4sIFwiY2xhc3NcIiwgXCJpY29uIHN2ZWx0ZS04eW1jdGtcIik7XG5cdFx0XHRhdHRyKHNwYW4sIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuXHRcdFx0YXR0cihidXR0b24sIFwiY2xhc3NcIiwgXCJ2aXNpYmlsaXR5LXRvZ2dsZSBjbG9zZXIgc3ZlbHRlLTh5bWN0a1wiKTtcblx0XHRcdGF0dHIoYnV0dG9uLCBcInRpdGxlXCIsIFwiSGlkZSBEZWJ1ZyBQYW5lbFwiKTtcblx0XHR9LFxuXHRcdG0odGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJ1dHRvbiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChidXR0b24sIHNwYW4pO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KGNoZXZyb24sIHNwYW4sIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cblx0XHRcdGlmICghbW91bnRlZCkge1xuXHRcdFx0XHRkaXNwb3NlID0gbGlzdGVuKGJ1dHRvbiwgXCJjbGlja1wiLCAvKlRvZ2dsZVZpc2liaWxpdHkqLyBjdHhbOV0pO1xuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHA6IG5vb3AsXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oY2hldnJvbi4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXG5cdFx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRcdFx0aWYgKGJ1dHRvbl9vdXRybykgYnV0dG9uX291dHJvLmVuZCgxKTtcblx0XHRcdFx0YnV0dG9uX2ludHJvID0gY3JlYXRlX2luX3RyYW5zaXRpb24oYnV0dG9uLCAvKnJlY2VpdmUqLyBjdHhbMTRdLCB7IGtleTogJ3RvZ2dsZScgfSk7XG5cdFx0XHRcdGJ1dHRvbl9pbnRyby5zdGFydCgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoY2hldnJvbi4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0aWYgKGJ1dHRvbl9pbnRybykgYnV0dG9uX2ludHJvLmludmFsaWRhdGUoKTtcblx0XHRcdGJ1dHRvbl9vdXRybyA9IGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihidXR0b24sIC8qc2VuZCovIGN0eFsxM10sIHsga2V5OiAndG9nZ2xlJyB9KTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGQoZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSBkZXRhY2goYnV0dG9uKTtcblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGNoZXZyb24pO1xuXHRcdFx0aWYgKGRldGFjaGluZyAmJiBidXR0b25fb3V0cm8pIGJ1dHRvbl9vdXRyby5lbmQoKTtcblx0XHRcdG1vdW50ZWQgPSBmYWxzZTtcblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgyMjk6NikgeyNpZiAkc2Vjb25kYXJ5UGFuZX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18yJDUoY3R4KSB7XG5cdGxldCBkaXY7XG5cdGxldCBzd2l0Y2hfaW5zdGFuY2U7XG5cdGxldCBjdXJyZW50O1xuXHR2YXIgc3dpdGNoX3ZhbHVlID0gLyokc2Vjb25kYXJ5UGFuZSovIGN0eFs1XS5jb21wb25lbnQ7XG5cblx0ZnVuY3Rpb24gc3dpdGNoX3Byb3BzKGN0eCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRtZXRhZGF0YTogLyokc2Vjb25kYXJ5UGFuZSovIGN0eFs1XS5tZXRhZGF0YVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0c3dpdGNoX2luc3RhbmNlID0gbmV3IHN3aXRjaF92YWx1ZShzd2l0Y2hfcHJvcHMoY3R4KSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgY3JlYXRlX2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJzZWNvbmRhcnktcGFuZSBzdmVsdGUtOHltY3RrXCIpO1xuXHRcdH0sXG5cdFx0bSh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB7XG5cdFx0XHRcdG1vdW50X2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UsIGRpdiwgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0cChjdHgsIGRpcnR5KSB7XG5cdFx0XHRjb25zdCBzd2l0Y2hfaW5zdGFuY2VfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGRpcnR5ICYgLyokc2Vjb25kYXJ5UGFuZSovIDMyKSBzd2l0Y2hfaW5zdGFuY2VfY2hhbmdlcy5tZXRhZGF0YSA9IC8qJHNlY29uZGFyeVBhbmUqLyBjdHhbNV0ubWV0YWRhdGE7XG5cblx0XHRcdGlmIChzd2l0Y2hfdmFsdWUgIT09IChzd2l0Y2hfdmFsdWUgPSAvKiRzZWNvbmRhcnlQYW5lKi8gY3R4WzVdLmNvbXBvbmVudCkpIHtcblx0XHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0XHRcdGNvbnN0IG9sZF9jb21wb25lbnQgPSBzd2l0Y2hfaW5zdGFuY2U7XG5cblx0XHRcdFx0XHR0cmFuc2l0aW9uX291dChvbGRfY29tcG9uZW50LiQkLmZyYWdtZW50LCAxLCAwLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRkZXN0cm95X2NvbXBvbmVudChvbGRfY29tcG9uZW50LCAxKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHN3aXRjaF92YWx1ZSkge1xuXHRcdFx0XHRcdHN3aXRjaF9pbnN0YW5jZSA9IG5ldyBzd2l0Y2hfdmFsdWUoc3dpdGNoX3Byb3BzKGN0eCkpO1xuXHRcdFx0XHRcdGNyZWF0ZV9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50KTtcblx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgMSk7XG5cdFx0XHRcdFx0bW91bnRfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgZGl2LCBudWxsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHN3aXRjaF92YWx1ZSkge1xuXHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UuJHNldChzd2l0Y2hfaW5zdGFuY2VfY2hhbmdlcyk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgdHJhbnNpdGlvbl9pbihzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cdFx0byhsb2NhbCkge1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgdHJhbnNpdGlvbl9vdXQoc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGRpdik7XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSBkZXN0cm95X2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE4Njo0KSB7I2lmIHNob3dUb2dnbGVCdXR0b259XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMSQ3KGN0eCkge1xuXHRsZXQgYnV0dG9uO1xuXHRsZXQgc3Bhbjtcblx0bGV0IGNoZXZyb247XG5cdGxldCBidXR0b25faW50cm87XG5cdGxldCBidXR0b25fb3V0cm87XG5cdGxldCBjdXJyZW50O1xuXHRsZXQgbW91bnRlZDtcblx0bGV0IGRpc3Bvc2U7XG5cdGNoZXZyb24gPSBuZXcgRmFDaGV2cm9uUmlnaHQoe30pO1xuXG5cdHJldHVybiB7XG5cdFx0YygpIHtcblx0XHRcdGJ1dHRvbiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRjcmVhdGVfY29tcG9uZW50KGNoZXZyb24uJCQuZnJhZ21lbnQpO1xuXHRcdFx0YXR0cihzcGFuLCBcImNsYXNzXCIsIFwiaWNvbiBzdmVsdGUtOHltY3RrXCIpO1xuXHRcdFx0YXR0cihzcGFuLCBcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcblx0XHRcdGF0dHIoYnV0dG9uLCBcImNsYXNzXCIsIFwidmlzaWJpbGl0eS10b2dnbGUgb3BlbmVyIHN2ZWx0ZS04eW1jdGtcIik7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJ0aXRsZVwiLCBcIlNob3cgRGVidWcgUGFuZWxcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoYnV0dG9uLCBzcGFuKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChjaGV2cm9uLCBzcGFuLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXG5cdFx0XHRpZiAoIW1vdW50ZWQpIHtcblx0XHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihidXR0b24sIFwiY2xpY2tcIiwgLypUb2dnbGVWaXNpYmlsaXR5Ki8gY3R4WzldKTtcblx0XHRcdFx0bW91bnRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwOiBub29wLFxuXHRcdGkobG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGNoZXZyb24uJCQuZnJhZ21lbnQsIGxvY2FsKTtcblxuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG5cdFx0XHRcdGlmIChidXR0b25fb3V0cm8pIGJ1dHRvbl9vdXRyby5lbmQoMSk7XG5cdFx0XHRcdGJ1dHRvbl9pbnRybyA9IGNyZWF0ZV9pbl90cmFuc2l0aW9uKGJ1dHRvbiwgLypyZWNlaXZlKi8gY3R4WzE0XSwgeyBrZXk6ICd0b2dnbGUnIH0pO1xuXHRcdFx0XHRidXR0b25faW50cm8uc3RhcnQoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXHRcdG8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGNoZXZyb24uJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGlmIChidXR0b25faW50cm8pIGJ1dHRvbl9pbnRyby5pbnZhbGlkYXRlKCk7XG5cdFx0XHRidXR0b25fb3V0cm8gPSBjcmVhdGVfb3V0X3RyYW5zaXRpb24oYnV0dG9uLCAvKnNlbmQqLyBjdHhbMTNdLCB7IGtleTogJ3RvZ2dsZScgfSk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKGJ1dHRvbik7XG5cdFx0XHRkZXN0cm95X2NvbXBvbmVudChjaGV2cm9uKTtcblx0XHRcdGlmIChkZXRhY2hpbmcgJiYgYnV0dG9uX291dHJvKSBidXR0b25fb3V0cm8uZW5kKCk7XG5cdFx0XHRtb3VudGVkID0gZmFsc2U7XG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQkeihjdHgpIHtcblx0bGV0IHNlY3Rpb247XG5cdGxldCBjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXg7XG5cdGxldCBpZl9ibG9jaztcblx0bGV0IGN1cnJlbnQ7XG5cdGxldCBtb3VudGVkO1xuXHRsZXQgZGlzcG9zZTtcblx0Y29uc3QgaWZfYmxvY2tfY3JlYXRvcnMgPSBbY3JlYXRlX2lmX2Jsb2NrJGUsIGNyZWF0ZV9lbHNlX2Jsb2NrJDRdO1xuXHRjb25zdCBpZl9ibG9ja3MgPSBbXTtcblxuXHRmdW5jdGlvbiBzZWxlY3RfYmxvY2tfdHlwZShjdHgsIGRpcnR5KSB7XG5cdFx0aWYgKCEvKnZpc2libGUqLyBjdHhbM10pIHJldHVybiAwO1xuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblx0aWZfYmxvY2sgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XSA9IGlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGMoKSB7XG5cdFx0XHRzZWN0aW9uID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRhdHRyKHNlY3Rpb24sIFwiYXJpYS1sYWJlbFwiLCBcImJvYXJkZ2FtZS5pbyBEZWJ1ZyBQYW5lbFwiKTtcblx0XHRcdGF0dHIoc2VjdGlvbiwgXCJjbGFzc1wiLCBcImRlYnVnLXBhbmVsIHN2ZWx0ZS04eW1jdGtcIik7XG5cdFx0fSxcblx0XHRtKHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzZWN0aW9uLCBhbmNob3IpO1xuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ubShzZWN0aW9uLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXG5cdFx0XHRpZiAoIW1vdW50ZWQpIHtcblx0XHRcdFx0ZGlzcG9zZSA9IGxpc3Rlbih3aW5kb3csIFwia2V5cHJlc3NcIiwgLypLZXlwcmVzcyovIGN0eFsxMV0pO1xuXHRcdFx0XHRtb3VudGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHAoY3R4LCBbZGlydHldKSB7XG5cdFx0XHRsZXQgcHJldmlvdXNfYmxvY2tfaW5kZXggPSBjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXg7XG5cdFx0XHRjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpO1xuXG5cdFx0XHRpZiAoY3VycmVudF9ibG9ja190eXBlX2luZGV4ID09PSBwcmV2aW91c19ibG9ja19pbmRleCkge1xuXHRcdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5wKGN0eCwgZGlydHkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2tzW3ByZXZpb3VzX2Jsb2NrX2luZGV4XSwgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0gPSBudWxsO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XTtcblxuXHRcdFx0XHRpZiAoIWlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XSA9IGlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sucChjdHgsIGRpcnR5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2ssIDEpO1xuXHRcdFx0XHRpZl9ibG9jay5tKHNlY3Rpb24sIG51bGwpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aShsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2spO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblx0XHRvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblx0XHRkKGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykgZGV0YWNoKHNlY3Rpb24pO1xuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0uZCgpO1xuXHRcdFx0bW91bnRlZCA9IGZhbHNlO1xuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UkeigkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgY2xpZW50O1xuXG5cdGxldCAkY2xpZW50TWFuYWdlcixcblx0XHQkJHVuc3Vic2NyaWJlX2NsaWVudE1hbmFnZXIgPSBub29wLFxuXHRcdCQkc3Vic2NyaWJlX2NsaWVudE1hbmFnZXIgPSAoKSA9PiAoJCR1bnN1YnNjcmliZV9jbGllbnRNYW5hZ2VyKCksICQkdW5zdWJzY3JpYmVfY2xpZW50TWFuYWdlciA9IHN1YnNjcmliZShjbGllbnRNYW5hZ2VyLCAkJHZhbHVlID0+ICQkaW52YWxpZGF0ZSgxNSwgJGNsaWVudE1hbmFnZXIgPSAkJHZhbHVlKSksIGNsaWVudE1hbmFnZXIpO1xuXG5cdGxldCAkc2Vjb25kYXJ5UGFuZTtcblx0JCRzZWxmLiQkLm9uX2Rlc3Ryb3kucHVzaCgoKSA9PiAkJHVuc3Vic2NyaWJlX2NsaWVudE1hbmFnZXIoKSk7XG5cdGxldCB7IGNsaWVudE1hbmFnZXIgfSA9ICQkcHJvcHM7XG5cdCQkc3Vic2NyaWJlX2NsaWVudE1hbmFnZXIoKTtcblxuXHRjb25zdCBwYW5lcyA9IHtcblx0XHRtYWluOiB7XG5cdFx0XHRsYWJlbDogJ01haW4nLFxuXHRcdFx0c2hvcnRjdXQ6ICdtJyxcblx0XHRcdGNvbXBvbmVudDogTWFpblxuXHRcdH0sXG5cdFx0bG9nOiB7XG5cdFx0XHRsYWJlbDogJ0xvZycsXG5cdFx0XHRzaG9ydGN1dDogJ2wnLFxuXHRcdFx0Y29tcG9uZW50OiBMb2dcblx0XHR9LFxuXHRcdGluZm86IHtcblx0XHRcdGxhYmVsOiAnSW5mbycsXG5cdFx0XHRzaG9ydGN1dDogJ2knLFxuXHRcdFx0Y29tcG9uZW50OiBJbmZvXG5cdFx0fSxcblx0XHRhaToge1xuXHRcdFx0bGFiZWw6ICdBSScsXG5cdFx0XHRzaG9ydGN1dDogJ2EnLFxuXHRcdFx0Y29tcG9uZW50OiBBSVxuXHRcdH1cblx0fTtcblxuXHRjb25zdCBkaXNhYmxlSG90a2V5cyA9IHdyaXRhYmxlKGZhbHNlKTtcblx0Y29uc3Qgc2Vjb25kYXJ5UGFuZSA9IHdyaXRhYmxlKG51bGwpO1xuXHRjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgc2Vjb25kYXJ5UGFuZSwgdmFsdWUgPT4gJCRpbnZhbGlkYXRlKDUsICRzZWNvbmRhcnlQYW5lID0gdmFsdWUpKTtcblx0c2V0Q29udGV4dCgnaG90a2V5cycsIHsgZGlzYWJsZUhvdGtleXMgfSk7XG5cdHNldENvbnRleHQoJ3NlY29uZGFyeVBhbmUnLCB7IHNlY29uZGFyeVBhbmUgfSk7XG5cdGxldCBwYW5lRGl2O1xuXHRsZXQgcGFuZSA9ICdtYWluJztcblxuXHRmdW5jdGlvbiBNZW51Q2hhbmdlKGUpIHtcblx0XHQkJGludmFsaWRhdGUoMiwgcGFuZSA9IGUuZGV0YWlsKTtcblx0XHRwYW5lRGl2LmZvY3VzKCk7XG5cdH1cblxuXHQvLyBUb2dnbGUgZGVidWdnZXIgdmlzaWJpbHR5XG5cdGZ1bmN0aW9uIFRvZ2dsZVZpc2liaWxpdHkoKSB7XG5cdFx0JCRpbnZhbGlkYXRlKDMsIHZpc2libGUgPSAhdmlzaWJsZSk7XG5cdH1cblxuXHRjb25zdCBkZWJ1Z09wdCA9ICRjbGllbnRNYW5hZ2VyLmNsaWVudC5kZWJ1Z09wdDtcblx0bGV0IHZpc2libGUgPSAhZGVidWdPcHQgfHwgIWRlYnVnT3B0LmNvbGxhcHNlT25Mb2FkO1xuXHRjb25zdCBzaG93VG9nZ2xlQnV0dG9uID0gIWRlYnVnT3B0IHx8ICFkZWJ1Z09wdC5oaWRlVG9nZ2xlQnV0dG9uO1xuXG5cdGZ1bmN0aW9uIEtleXByZXNzKGUpIHtcblx0XHRpZiAoZS5rZXkgPT0gJy4nKSB7XG5cdFx0XHRUb2dnbGVWaXNpYmlsaXR5KCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IGRpc3BsYXllZCBwYW5lXG5cdFx0aWYgKCF2aXNpYmxlKSByZXR1cm47XG5cblx0XHRPYmplY3QuZW50cmllcyhwYW5lcykuZm9yRWFjaCgoW2tleSwgeyBzaG9ydGN1dCB9XSkgPT4ge1xuXHRcdFx0aWYgKGUua2V5ID09IHNob3J0Y3V0KSB7XG5cdFx0XHRcdCQkaW52YWxpZGF0ZSgyLCBwYW5lID0ga2V5KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGNvbnN0IHRyYW5zaXRpb25PcHRzID0geyBkdXJhdGlvbjogMTUwLCBlYXNpbmc6IGN1YmljT3V0IH07XG5cdGNvbnN0IFtzZW5kLCByZWNlaXZlXSA9IGNyb3NzZmFkZSh0cmFuc2l0aW9uT3B0cyk7XG5cblx0ZnVuY3Rpb24gZGl2MF9iaW5kaW5nKCQkdmFsdWUpIHtcblx0XHRiaW5kaW5nX2NhbGxiYWNrc1skJHZhbHVlID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXSgoKSA9PiB7XG5cdFx0XHRwYW5lRGl2ID0gJCR2YWx1ZTtcblx0XHRcdCQkaW52YWxpZGF0ZSgxLCBwYW5lRGl2KTtcblx0XHR9KTtcblx0fVxuXG5cdCQkc2VsZi4kJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnY2xpZW50TWFuYWdlcicgaW4gJCRwcm9wcykgJCRzdWJzY3JpYmVfY2xpZW50TWFuYWdlcigkJGludmFsaWRhdGUoMCwgY2xpZW50TWFuYWdlciA9ICQkcHJvcHMuY2xpZW50TWFuYWdlcikpO1xuXHR9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoKSA9PiB7XG5cdFx0aWYgKCQkc2VsZi4kJC5kaXJ0eSAmIC8qJGNsaWVudE1hbmFnZXIqLyAzMjc2OCkge1xuXHRcdFx0ICQkaW52YWxpZGF0ZSg0LCBjbGllbnQgPSAkY2xpZW50TWFuYWdlci5jbGllbnQpO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gW1xuXHRcdGNsaWVudE1hbmFnZXIsXG5cdFx0cGFuZURpdixcblx0XHRwYW5lLFxuXHRcdHZpc2libGUsXG5cdFx0Y2xpZW50LFxuXHRcdCRzZWNvbmRhcnlQYW5lLFxuXHRcdHBhbmVzLFxuXHRcdHNlY29uZGFyeVBhbmUsXG5cdFx0TWVudUNoYW5nZSxcblx0XHRUb2dnbGVWaXNpYmlsaXR5LFxuXHRcdHNob3dUb2dnbGVCdXR0b24sXG5cdFx0S2V5cHJlc3MsXG5cdFx0dHJhbnNpdGlvbk9wdHMsXG5cdFx0c2VuZCxcblx0XHRyZWNlaXZlLFxuXHRcdCRjbGllbnRNYW5hZ2VyLFxuXHRcdGRpdjBfYmluZGluZ1xuXHRdO1xufVxuXG5jbGFzcyBEZWJ1ZyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UkeiwgY3JlYXRlX2ZyYWdtZW50JHosIHNhZmVfbm90X2VxdWFsLCB7IGNsaWVudE1hbmFnZXI6IDAgfSwgYWRkX2NzcyRxKTtcblx0fVxufVxuXG5leHBvcnQgeyBEZWJ1ZyBhcyBELCBfaW5oZXJpdHMgYXMgXywgX2NyZWF0ZVN1cGVyIGFzIGEsIF9jcmVhdGVDbGFzcyBhcyBiLCBfZGVmaW5lUHJvcGVydHkgYXMgYywgX2NsYXNzQ2FsbENoZWNrIGFzIGQsIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBhcyBlLCBfb2JqZWN0U3ByZWFkMiBhcyBmIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/Debug-fd09b8bc.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/ai-3099ce9a.js":
/*!***********************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/ai-3099ce9a.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"B\": function() { return /* binding */ Bot; },\n/* harmony export */   \"M\": function() { return /* binding */ MCTSBot; },\n/* harmony export */   \"R\": function() { return /* binding */ RandomBot; },\n/* harmony export */   \"S\": function() { return /* binding */ Step; },\n/* harmony export */   \"a\": function() { return /* binding */ Simulate; }\n/* harmony export */ });\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var _plugin_random_087f861e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./plugin-random-087f861e.js */ \"./node_modules/boardgame.io/dist/esm/plugin-random-087f861e.js\");\n/* harmony import */ var _reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reducer-07c7b307.js */ \"./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js\");\n/* harmony import */ var setimmediate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! setimmediate */ \"./node_modules/next/dist/compiled/setimmediate/setImmediate.js\");\n/* harmony import */ var setimmediate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(setimmediate__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Base class that bots can extend.\r\n */\r\nclass Bot {\r\n    constructor({ enumerate, seed, }) {\r\n        this.enumerateFn = enumerate;\r\n        this.seed = seed;\r\n        this.iterationCounter = 0;\r\n        this._opts = {};\r\n    }\r\n    addOpt({ key, range, initial, }) {\r\n        this._opts[key] = {\r\n            range,\r\n            value: initial,\r\n        };\r\n    }\r\n    getOpt(key) {\r\n        return this._opts[key].value;\r\n    }\r\n    setOpt(key, value) {\r\n        if (key in this._opts) {\r\n            this._opts[key].value = value;\r\n        }\r\n    }\r\n    opts() {\r\n        return this._opts;\r\n    }\r\n    enumerate(G, ctx, playerID) {\r\n        const actions = this.enumerateFn(G, ctx, playerID);\r\n        return actions.map((a) => {\r\n            if ('payload' in a) {\r\n                return a;\r\n            }\r\n            if ('move' in a) {\r\n                return (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.B)(a.move, a.args, playerID);\r\n            }\r\n            if ('event' in a) {\r\n                return (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.g)(a.event, a.args, playerID);\r\n            }\r\n        });\r\n    }\r\n    random(arg) {\r\n        let number;\r\n        if (this.seed !== undefined) {\r\n            const seed = this.prngstate ? '' : this.seed;\r\n            const rand = (0,_plugin_random_087f861e_js__WEBPACK_IMPORTED_MODULE_2__.a)(seed, this.prngstate);\r\n            number = rand();\r\n            this.prngstate = rand.state();\r\n        }\r\n        else {\r\n            number = Math.random();\r\n        }\r\n        if (arg) {\r\n            if (Array.isArray(arg)) {\r\n                const id = Math.floor(number * arg.length);\r\n                return arg[id];\r\n            }\r\n            else {\r\n                return Math.floor(number * arg);\r\n            }\r\n        }\r\n        return number;\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * The number of iterations to run before yielding to\r\n * the JS event loop (in async mode).\r\n */\r\nconst CHUNK_SIZE = 25;\r\n/**\r\n * Bot that uses Monte-Carlo Tree Search to find promising moves.\r\n */\r\nclass MCTSBot extends Bot {\r\n    constructor({ enumerate, seed, objectives, game, iterations, playoutDepth, iterationCallback, }) {\r\n        super({ enumerate, seed });\r\n        if (objectives === undefined) {\r\n            objectives = () => ({});\r\n        }\r\n        this.objectives = objectives;\r\n        this.iterationCallback = iterationCallback || (() => { });\r\n        this.reducer = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_3__.C)({ game });\r\n        this.iterations = iterations;\r\n        this.playoutDepth = playoutDepth;\r\n        this.addOpt({\r\n            key: 'async',\r\n            initial: false,\r\n        });\r\n        this.addOpt({\r\n            key: 'iterations',\r\n            initial: typeof iterations === 'number' ? iterations : 1000,\r\n            range: { min: 1, max: 2000 },\r\n        });\r\n        this.addOpt({\r\n            key: 'playoutDepth',\r\n            initial: typeof playoutDepth === 'number' ? playoutDepth : 50,\r\n            range: { min: 1, max: 100 },\r\n        });\r\n    }\r\n    createNode({ state, parentAction, parent, playerID, }) {\r\n        const { G, ctx } = state;\r\n        let actions = [];\r\n        let objectives = [];\r\n        if (playerID !== undefined) {\r\n            actions = this.enumerate(G, ctx, playerID);\r\n            objectives = this.objectives(G, ctx, playerID);\r\n        }\r\n        else if (ctx.activePlayers) {\r\n            for (const playerID in ctx.activePlayers) {\r\n                actions.push(...this.enumerate(G, ctx, playerID));\r\n                objectives.push(this.objectives(G, ctx, playerID));\r\n            }\r\n        }\r\n        else {\r\n            actions = this.enumerate(G, ctx, ctx.currentPlayer);\r\n            objectives = this.objectives(G, ctx, ctx.currentPlayer);\r\n        }\r\n        return {\r\n            state,\r\n            parent,\r\n            parentAction,\r\n            actions,\r\n            objectives,\r\n            children: [],\r\n            visits: 0,\r\n            value: 0,\r\n        };\r\n    }\r\n    select(node) {\r\n        // This node has unvisited children.\r\n        if (node.actions.length > 0) {\r\n            return node;\r\n        }\r\n        // This is a terminal node.\r\n        if (node.children.length === 0) {\r\n            return node;\r\n        }\r\n        let selectedChild = null;\r\n        let best = 0;\r\n        for (const child of node.children) {\r\n            const childVisits = child.visits + Number.EPSILON;\r\n            const uct = child.value / childVisits +\r\n                Math.sqrt((2 * Math.log(node.visits)) / childVisits);\r\n            if (selectedChild == null || uct > best) {\r\n                best = uct;\r\n                selectedChild = child;\r\n            }\r\n        }\r\n        return this.select(selectedChild);\r\n    }\r\n    expand(node) {\r\n        const actions = node.actions;\r\n        if (actions.length === 0 || node.state.ctx.gameover !== undefined) {\r\n            return node;\r\n        }\r\n        const id = this.random(actions.length);\r\n        const action = actions[id];\r\n        node.actions.splice(id, 1);\r\n        const childState = this.reducer(node.state, action);\r\n        const childNode = this.createNode({\r\n            state: childState,\r\n            parentAction: action,\r\n            parent: node,\r\n        });\r\n        node.children.push(childNode);\r\n        return childNode;\r\n    }\r\n    playout({ state }) {\r\n        let playoutDepth = this.getOpt('playoutDepth');\r\n        if (typeof this.playoutDepth === 'function') {\r\n            playoutDepth = this.playoutDepth(state.G, state.ctx);\r\n        }\r\n        for (let i = 0; i < playoutDepth && state.ctx.gameover === undefined; i++) {\r\n            const { G, ctx } = state;\r\n            let playerID = ctx.currentPlayer;\r\n            if (ctx.activePlayers) {\r\n                playerID = Object.keys(ctx.activePlayers)[0];\r\n            }\r\n            const moves = this.enumerate(G, ctx, playerID);\r\n            // Check if any objectives are met.\r\n            const objectives = this.objectives(G, ctx, playerID);\r\n            const score = Object.keys(objectives).reduce((score, key) => {\r\n                const objective = objectives[key];\r\n                if (objective.checker(G, ctx)) {\r\n                    return score + objective.weight;\r\n                }\r\n                return score;\r\n            }, 0);\r\n            // If so, stop and return the score.\r\n            if (score > 0) {\r\n                return { score };\r\n            }\r\n            if (!moves || moves.length === 0) {\r\n                return undefined;\r\n            }\r\n            const id = this.random(moves.length);\r\n            const childState = this.reducer(state, moves[id]);\r\n            state = childState;\r\n        }\r\n        return state.ctx.gameover;\r\n    }\r\n    backpropagate(node, result = {}) {\r\n        node.visits++;\r\n        if (result.score !== undefined) {\r\n            node.value += result.score;\r\n        }\r\n        if (result.draw === true) {\r\n            node.value += 0.5;\r\n        }\r\n        if (node.parentAction &&\r\n            result.winner === node.parentAction.payload.playerID) {\r\n            node.value++;\r\n        }\r\n        if (node.parent) {\r\n            this.backpropagate(node.parent, result);\r\n        }\r\n    }\r\n    play(state, playerID) {\r\n        const root = this.createNode({ state, playerID });\r\n        let numIterations = this.getOpt('iterations');\r\n        if (typeof this.iterations === 'function') {\r\n            numIterations = this.iterations(state.G, state.ctx);\r\n        }\r\n        const getResult = () => {\r\n            let selectedChild = null;\r\n            for (const child of root.children) {\r\n                if (selectedChild == null || child.visits > selectedChild.visits) {\r\n                    selectedChild = child;\r\n                }\r\n            }\r\n            const action = selectedChild && selectedChild.parentAction;\r\n            const metadata = root;\r\n            return { action, metadata };\r\n        };\r\n        return new Promise((resolve) => {\r\n            const iteration = () => {\r\n                for (let i = 0; i < CHUNK_SIZE && this.iterationCounter < numIterations; i++) {\r\n                    const leaf = this.select(root);\r\n                    const child = this.expand(leaf);\r\n                    const result = this.playout(child);\r\n                    this.backpropagate(child, result);\r\n                    this.iterationCounter++;\r\n                }\r\n                this.iterationCallback({\r\n                    iterationCounter: this.iterationCounter,\r\n                    numIterations,\r\n                    metadata: root,\r\n                });\r\n            };\r\n            this.iterationCounter = 0;\r\n            if (this.getOpt('async')) {\r\n                const asyncIteration = () => {\r\n                    if (this.iterationCounter < numIterations) {\r\n                        iteration();\r\n                        setImmediate(asyncIteration);\r\n                    }\r\n                    else {\r\n                        resolve(getResult());\r\n                    }\r\n                };\r\n                asyncIteration();\r\n            }\r\n            else {\r\n                while (this.iterationCounter < numIterations) {\r\n                    iteration();\r\n                }\r\n                resolve(getResult());\r\n            }\r\n        });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Bot that picks a move at random.\r\n */\r\nclass RandomBot extends Bot {\r\n    play({ G, ctx }, playerID) {\r\n        const moves = this.enumerate(G, ctx, playerID);\r\n        return Promise.resolve({ action: this.random(moves) });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Make a single move on the client with a bot.\r\n *\r\n * @param {...object} client - The game client.\r\n * @param {...object} bot - The bot.\r\n */\r\nasync function Step(client, bot) {\r\n    const state = client.store.getState();\r\n    let playerID = state.ctx.currentPlayer;\r\n    if (state.ctx.activePlayers) {\r\n        playerID = Object.keys(state.ctx.activePlayers)[0];\r\n    }\r\n    const { action, metadata } = await bot.play(state, playerID);\r\n    if (action) {\r\n        const a = {\r\n            ...action,\r\n            payload: {\r\n                ...action.payload,\r\n                metadata,\r\n            },\r\n        };\r\n        client.store.dispatch(a);\r\n        return a;\r\n    }\r\n}\r\n/**\r\n * Simulates the game till the end or a max depth.\r\n *\r\n * @param {...object} game - The game object.\r\n * @param {...object} bots - An array of bots.\r\n * @param {...object} state - The game state to start from.\r\n */\r\nasync function Simulate({ game, bots, state, depth, }) {\r\n    if (depth === undefined)\r\n        depth = 10000;\r\n    const reducer = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_3__.C)({ game });\r\n    let metadata = null;\r\n    let iter = 0;\r\n    while (state.ctx.gameover === undefined && iter < depth) {\r\n        let playerID = state.ctx.currentPlayer;\r\n        if (state.ctx.activePlayers) {\r\n            playerID = Object.keys(state.ctx.activePlayers)[0];\r\n        }\r\n        const bot = bots instanceof Bot ? bots : bots[playerID];\r\n        const t = await bot.play(state, playerID);\r\n        if (!t.action) {\r\n            break;\r\n        }\r\n        metadata = t.metadata;\r\n        state = reducer(state, t.action);\r\n        iter++;\r\n    }\r\n    return { state, metadata };\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2FpLTMwOTljZTlhLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBeUU7QUFDakI7QUFDTztBQUN6Qzs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0JBQXNCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMERBQVE7QUFDL0I7QUFDQTtBQUNBLHVCQUF1QiwwREFBUztBQUNoQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZEQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpRkFBaUY7QUFDbkcsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFLHVCQUF1Qix1REFBaUIsR0FBRyxNQUFNO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1CQUFtQjtBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtCQUFrQjtBQUN2QyxTQUFTO0FBQ1Q7QUFDQSxpQkFBaUIsd0NBQXdDO0FBQ3pELGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFzRDtBQUM5RSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGlCQUFpQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MseURBQXlEO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsaUNBQWlDLDRCQUE0QjtBQUM3RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsV0FBVztBQUN0QixXQUFXLFdBQVc7QUFDdEI7QUFDQSwwQkFBMEIsMkJBQTJCO0FBQ3JEO0FBQ0E7QUFDQSxvQkFBb0IsdURBQWlCLEdBQUcsTUFBTTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFNEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2JvYXJkZ2FtZS5pby9kaXN0L2VzbS9haS0zMDk5Y2U5YS5qcz9kYzA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEIgYXMgbWFrZU1vdmUsIGcgYXMgZ2FtZUV2ZW50IH0gZnJvbSAnLi90dXJuLW9yZGVyLTBiN2RjZTNkLmpzJztcbmltcG9ydCB7IGEgYXMgYWxlYSB9IGZyb20gJy4vcGx1Z2luLXJhbmRvbS0wODdmODYxZS5qcyc7XG5pbXBvcnQgeyBDIGFzIENyZWF0ZUdhbWVSZWR1Y2VyIH0gZnJvbSAnLi9yZWR1Y2VyLTA3YzdiMzA3LmpzJztcbmltcG9ydCAnc2V0aW1tZWRpYXRlJztcblxuLypcclxuICogQ29weXJpZ2h0IDIwMTggVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIHRoYXQgYm90cyBjYW4gZXh0ZW5kLlxyXG4gKi9cclxuY2xhc3MgQm90IHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZW51bWVyYXRlLCBzZWVkLCB9KSB7XHJcbiAgICAgICAgdGhpcy5lbnVtZXJhdGVGbiA9IGVudW1lcmF0ZTtcclxuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkO1xyXG4gICAgICAgIHRoaXMuaXRlcmF0aW9uQ291bnRlciA9IDA7XHJcbiAgICAgICAgdGhpcy5fb3B0cyA9IHt9O1xyXG4gICAgfVxyXG4gICAgYWRkT3B0KHsga2V5LCByYW5nZSwgaW5pdGlhbCwgfSkge1xyXG4gICAgICAgIHRoaXMuX29wdHNba2V5XSA9IHtcclxuICAgICAgICAgICAgcmFuZ2UsXHJcbiAgICAgICAgICAgIHZhbHVlOiBpbml0aWFsLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBnZXRPcHQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdHNba2V5XS52YWx1ZTtcclxuICAgIH1cclxuICAgIHNldE9wdChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9vcHRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdHNba2V5XS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9wdHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdHM7XHJcbiAgICB9XHJcbiAgICBlbnVtZXJhdGUoRywgY3R4LCBwbGF5ZXJJRCkge1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSB0aGlzLmVudW1lcmF0ZUZuKEcsIGN0eCwgcGxheWVySUQpO1xyXG4gICAgICAgIHJldHVybiBhY3Rpb25zLm1hcCgoYSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoJ3BheWxvYWQnIGluIGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgnbW92ZScgaW4gYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb3ZlKGEubW92ZSwgYS5hcmdzLCBwbGF5ZXJJRCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCdldmVudCcgaW4gYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhbWVFdmVudChhLmV2ZW50LCBhLmFyZ3MsIHBsYXllcklEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmFuZG9tKGFyZykge1xyXG4gICAgICAgIGxldCBudW1iZXI7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlZWQgPSB0aGlzLnBybmdzdGF0ZSA/ICcnIDogdGhpcy5zZWVkO1xyXG4gICAgICAgICAgICBjb25zdCByYW5kID0gYWxlYShzZWVkLCB0aGlzLnBybmdzdGF0ZSk7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHJhbmQoKTtcclxuICAgICAgICAgICAgdGhpcy5wcm5nc3RhdGUgPSByYW5kLnN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBudW1iZXIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gTWF0aC5mbG9vcihudW1iZXIgKiBhcmcubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdbaWRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyICogYXJnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgfVxyXG59XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG4vKipcclxuICogVGhlIG51bWJlciBvZiBpdGVyYXRpb25zIHRvIHJ1biBiZWZvcmUgeWllbGRpbmcgdG9cclxuICogdGhlIEpTIGV2ZW50IGxvb3AgKGluIGFzeW5jIG1vZGUpLlxyXG4gKi9cclxuY29uc3QgQ0hVTktfU0laRSA9IDI1O1xyXG4vKipcclxuICogQm90IHRoYXQgdXNlcyBNb250ZS1DYXJsbyBUcmVlIFNlYXJjaCB0byBmaW5kIHByb21pc2luZyBtb3Zlcy5cclxuICovXHJcbmNsYXNzIE1DVFNCb3QgZXh0ZW5kcyBCb3Qge1xyXG4gICAgY29uc3RydWN0b3IoeyBlbnVtZXJhdGUsIHNlZWQsIG9iamVjdGl2ZXMsIGdhbWUsIGl0ZXJhdGlvbnMsIHBsYXlvdXREZXB0aCwgaXRlcmF0aW9uQ2FsbGJhY2ssIH0pIHtcclxuICAgICAgICBzdXBlcih7IGVudW1lcmF0ZSwgc2VlZCB9KTtcclxuICAgICAgICBpZiAob2JqZWN0aXZlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9iamVjdGl2ZXMgPSAoKSA9PiAoe30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdGl2ZXMgPSBvYmplY3RpdmVzO1xyXG4gICAgICAgIHRoaXMuaXRlcmF0aW9uQ2FsbGJhY2sgPSBpdGVyYXRpb25DYWxsYmFjayB8fCAoKCkgPT4geyB9KTtcclxuICAgICAgICB0aGlzLnJlZHVjZXIgPSBDcmVhdGVHYW1lUmVkdWNlcih7IGdhbWUgfSk7XHJcbiAgICAgICAgdGhpcy5pdGVyYXRpb25zID0gaXRlcmF0aW9ucztcclxuICAgICAgICB0aGlzLnBsYXlvdXREZXB0aCA9IHBsYXlvdXREZXB0aDtcclxuICAgICAgICB0aGlzLmFkZE9wdCh7XHJcbiAgICAgICAgICAgIGtleTogJ2FzeW5jJyxcclxuICAgICAgICAgICAgaW5pdGlhbDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRPcHQoe1xyXG4gICAgICAgICAgICBrZXk6ICdpdGVyYXRpb25zJyxcclxuICAgICAgICAgICAgaW5pdGlhbDogdHlwZW9mIGl0ZXJhdGlvbnMgPT09ICdudW1iZXInID8gaXRlcmF0aW9ucyA6IDEwMDAsXHJcbiAgICAgICAgICAgIHJhbmdlOiB7IG1pbjogMSwgbWF4OiAyMDAwIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRPcHQoe1xyXG4gICAgICAgICAgICBrZXk6ICdwbGF5b3V0RGVwdGgnLFxyXG4gICAgICAgICAgICBpbml0aWFsOiB0eXBlb2YgcGxheW91dERlcHRoID09PSAnbnVtYmVyJyA/IHBsYXlvdXREZXB0aCA6IDUwLFxyXG4gICAgICAgICAgICByYW5nZTogeyBtaW46IDEsIG1heDogMTAwIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVOb2RlKHsgc3RhdGUsIHBhcmVudEFjdGlvbiwgcGFyZW50LCBwbGF5ZXJJRCwgfSkge1xyXG4gICAgICAgIGNvbnN0IHsgRywgY3R4IH0gPSBzdGF0ZTtcclxuICAgICAgICBsZXQgYWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIGxldCBvYmplY3RpdmVzID0gW107XHJcbiAgICAgICAgaWYgKHBsYXllcklEICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgYWN0aW9ucyA9IHRoaXMuZW51bWVyYXRlKEcsIGN0eCwgcGxheWVySUQpO1xyXG4gICAgICAgICAgICBvYmplY3RpdmVzID0gdGhpcy5vYmplY3RpdmVzKEcsIGN0eCwgcGxheWVySUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjdHguYWN0aXZlUGxheWVycykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBsYXllcklEIGluIGN0eC5hY3RpdmVQbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goLi4udGhpcy5lbnVtZXJhdGUoRywgY3R4LCBwbGF5ZXJJRCkpO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0aXZlcy5wdXNoKHRoaXMub2JqZWN0aXZlcyhHLCBjdHgsIHBsYXllcklEKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFjdGlvbnMgPSB0aGlzLmVudW1lcmF0ZShHLCBjdHgsIGN0eC5jdXJyZW50UGxheWVyKTtcclxuICAgICAgICAgICAgb2JqZWN0aXZlcyA9IHRoaXMub2JqZWN0aXZlcyhHLCBjdHgsIGN0eC5jdXJyZW50UGxheWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgIHBhcmVudCxcclxuICAgICAgICAgICAgcGFyZW50QWN0aW9uLFxyXG4gICAgICAgICAgICBhY3Rpb25zLFxyXG4gICAgICAgICAgICBvYmplY3RpdmVzLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXHJcbiAgICAgICAgICAgIHZpc2l0czogMCxcclxuICAgICAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHNlbGVjdChub2RlKSB7XHJcbiAgICAgICAgLy8gVGhpcyBub2RlIGhhcyB1bnZpc2l0ZWQgY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKG5vZGUuYWN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGlzIGlzIGEgdGVybWluYWwgbm9kZS5cclxuICAgICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzZWxlY3RlZENoaWxkID0gbnVsbDtcclxuICAgICAgICBsZXQgYmVzdCA9IDA7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkVmlzaXRzID0gY2hpbGQudmlzaXRzICsgTnVtYmVyLkVQU0lMT047XHJcbiAgICAgICAgICAgIGNvbnN0IHVjdCA9IGNoaWxkLnZhbHVlIC8gY2hpbGRWaXNpdHMgK1xyXG4gICAgICAgICAgICAgICAgTWF0aC5zcXJ0KCgyICogTWF0aC5sb2cobm9kZS52aXNpdHMpKSAvIGNoaWxkVmlzaXRzKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2hpbGQgPT0gbnVsbCB8fCB1Y3QgPiBiZXN0KSB7XHJcbiAgICAgICAgICAgICAgICBiZXN0ID0gdWN0O1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRDaGlsZCA9IGNoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdChzZWxlY3RlZENoaWxkKTtcclxuICAgIH1cclxuICAgIGV4cGFuZChub2RlKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IG5vZGUuYWN0aW9ucztcclxuICAgICAgICBpZiAoYWN0aW9ucy5sZW5ndGggPT09IDAgfHwgbm9kZS5zdGF0ZS5jdHguZ2FtZW92ZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLnJhbmRvbShhY3Rpb25zLmxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYWN0aW9uc1tpZF07XHJcbiAgICAgICAgbm9kZS5hY3Rpb25zLnNwbGljZShpZCwgMSk7XHJcbiAgICAgICAgY29uc3QgY2hpbGRTdGF0ZSA9IHRoaXMucmVkdWNlcihub2RlLnN0YXRlLCBhY3Rpb24pO1xyXG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IHRoaXMuY3JlYXRlTm9kZSh7XHJcbiAgICAgICAgICAgIHN0YXRlOiBjaGlsZFN0YXRlLFxyXG4gICAgICAgICAgICBwYXJlbnRBY3Rpb246IGFjdGlvbixcclxuICAgICAgICAgICAgcGFyZW50OiBub2RlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChjaGlsZE5vZGUpO1xyXG4gICAgICAgIHJldHVybiBjaGlsZE5vZGU7XHJcbiAgICB9XHJcbiAgICBwbGF5b3V0KHsgc3RhdGUgfSkge1xyXG4gICAgICAgIGxldCBwbGF5b3V0RGVwdGggPSB0aGlzLmdldE9wdCgncGxheW91dERlcHRoJyk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBsYXlvdXREZXB0aCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBwbGF5b3V0RGVwdGggPSB0aGlzLnBsYXlvdXREZXB0aChzdGF0ZS5HLCBzdGF0ZS5jdHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYXlvdXREZXB0aCAmJiBzdGF0ZS5jdHguZ2FtZW92ZXIgPT09IHVuZGVmaW5lZDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgRywgY3R4IH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgbGV0IHBsYXllcklEID0gY3R4LmN1cnJlbnRQbGF5ZXI7XHJcbiAgICAgICAgICAgIGlmIChjdHguYWN0aXZlUGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySUQgPSBPYmplY3Qua2V5cyhjdHguYWN0aXZlUGxheWVycylbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbW92ZXMgPSB0aGlzLmVudW1lcmF0ZShHLCBjdHgsIHBsYXllcklEKTtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYW55IG9iamVjdGl2ZXMgYXJlIG1ldC5cclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0aXZlcyA9IHRoaXMub2JqZWN0aXZlcyhHLCBjdHgsIHBsYXllcklEKTtcclxuICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBPYmplY3Qua2V5cyhvYmplY3RpdmVzKS5yZWR1Y2UoKHNjb3JlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iamVjdGl2ZSA9IG9iamVjdGl2ZXNba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3RpdmUuY2hlY2tlcihHLCBjdHgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3JlICsgb2JqZWN0aXZlLndlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzY29yZTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIC8vIElmIHNvLCBzdG9wIGFuZCByZXR1cm4gdGhlIHNjb3JlLlxyXG4gICAgICAgICAgICBpZiAoc2NvcmUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzY29yZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghbW92ZXMgfHwgbW92ZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5yYW5kb20obW92ZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRTdGF0ZSA9IHRoaXMucmVkdWNlcihzdGF0ZSwgbW92ZXNbaWRdKTtcclxuICAgICAgICAgICAgc3RhdGUgPSBjaGlsZFN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhdGUuY3R4LmdhbWVvdmVyO1xyXG4gICAgfVxyXG4gICAgYmFja3Byb3BhZ2F0ZShub2RlLCByZXN1bHQgPSB7fSkge1xyXG4gICAgICAgIG5vZGUudmlzaXRzKys7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zY29yZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG5vZGUudmFsdWUgKz0gcmVzdWx0LnNjb3JlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzdWx0LmRyYXcgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgbm9kZS52YWx1ZSArPSAwLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChub2RlLnBhcmVudEFjdGlvbiAmJlxyXG4gICAgICAgICAgICByZXN1bHQud2lubmVyID09PSBub2RlLnBhcmVudEFjdGlvbi5wYXlsb2FkLnBsYXllcklEKSB7XHJcbiAgICAgICAgICAgIG5vZGUudmFsdWUrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja3Byb3BhZ2F0ZShub2RlLnBhcmVudCwgcmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwbGF5KHN0YXRlLCBwbGF5ZXJJRCkge1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLmNyZWF0ZU5vZGUoeyBzdGF0ZSwgcGxheWVySUQgfSk7XHJcbiAgICAgICAgbGV0IG51bUl0ZXJhdGlvbnMgPSB0aGlzLmdldE9wdCgnaXRlcmF0aW9ucycpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5pdGVyYXRpb25zID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG51bUl0ZXJhdGlvbnMgPSB0aGlzLml0ZXJhdGlvbnMoc3RhdGUuRywgc3RhdGUuY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRDaGlsZCA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygcm9vdC5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2hpbGQgPT0gbnVsbCB8fCBjaGlsZC52aXNpdHMgPiBzZWxlY3RlZENoaWxkLnZpc2l0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2hpbGQgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBzZWxlY3RlZENoaWxkICYmIHNlbGVjdGVkQ2hpbGQucGFyZW50QWN0aW9uO1xyXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHJvb3Q7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGFjdGlvbiwgbWV0YWRhdGEgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVyYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IENIVU5LX1NJWkUgJiYgdGhpcy5pdGVyYXRpb25Db3VudGVyIDwgbnVtSXRlcmF0aW9uczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhZiA9IHRoaXMuc2VsZWN0KHJvb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5leHBhbmQobGVhZik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wbGF5b3V0KGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2twcm9wYWdhdGUoY2hpbGQsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVyYXRpb25Db3VudGVyKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZXJhdGlvbkNhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVyYXRpb25Db3VudGVyOiB0aGlzLml0ZXJhdGlvbkNvdW50ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgbnVtSXRlcmF0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogcm9vdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLml0ZXJhdGlvbkNvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRPcHQoJ2FzeW5jJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFzeW5jSXRlcmF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLml0ZXJhdGlvbkNvdW50ZXIgPCBudW1JdGVyYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoYXN5bmNJdGVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShnZXRSZXN1bHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGFzeW5jSXRlcmF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5pdGVyYXRpb25Db3VudGVyIDwgbnVtSXRlcmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShnZXRSZXN1bHQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIEJvdCB0aGF0IHBpY2tzIGEgbW92ZSBhdCByYW5kb20uXHJcbiAqL1xyXG5jbGFzcyBSYW5kb21Cb3QgZXh0ZW5kcyBCb3Qge1xyXG4gICAgcGxheSh7IEcsIGN0eCB9LCBwbGF5ZXJJRCkge1xyXG4gICAgICAgIGNvbnN0IG1vdmVzID0gdGhpcy5lbnVtZXJhdGUoRywgY3R4LCBwbGF5ZXJJRCk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGFjdGlvbjogdGhpcy5yYW5kb20obW92ZXMpIH0pO1xyXG4gICAgfVxyXG59XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG4vKipcclxuICogTWFrZSBhIHNpbmdsZSBtb3ZlIG9uIHRoZSBjbGllbnQgd2l0aCBhIGJvdC5cclxuICpcclxuICogQHBhcmFtIHsuLi5vYmplY3R9IGNsaWVudCAtIFRoZSBnYW1lIGNsaWVudC5cclxuICogQHBhcmFtIHsuLi5vYmplY3R9IGJvdCAtIFRoZSBib3QuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBTdGVwKGNsaWVudCwgYm90KSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IGNsaWVudC5zdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgbGV0IHBsYXllcklEID0gc3RhdGUuY3R4LmN1cnJlbnRQbGF5ZXI7XHJcbiAgICBpZiAoc3RhdGUuY3R4LmFjdGl2ZVBsYXllcnMpIHtcclxuICAgICAgICBwbGF5ZXJJRCA9IE9iamVjdC5rZXlzKHN0YXRlLmN0eC5hY3RpdmVQbGF5ZXJzKVswXTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgYWN0aW9uLCBtZXRhZGF0YSB9ID0gYXdhaXQgYm90LnBsYXkoc3RhdGUsIHBsYXllcklEKTtcclxuICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBhID0ge1xyXG4gICAgICAgICAgICAuLi5hY3Rpb24sXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgIC4uLmFjdGlvbi5wYXlsb2FkLFxyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjbGllbnQuc3RvcmUuZGlzcGF0Y2goYSk7XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNpbXVsYXRlcyB0aGUgZ2FtZSB0aWxsIHRoZSBlbmQgb3IgYSBtYXggZGVwdGguXHJcbiAqXHJcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBnYW1lIC0gVGhlIGdhbWUgb2JqZWN0LlxyXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gYm90cyAtIEFuIGFycmF5IG9mIGJvdHMuXHJcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBzdGF0ZSAtIFRoZSBnYW1lIHN0YXRlIHRvIHN0YXJ0IGZyb20uXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBTaW11bGF0ZSh7IGdhbWUsIGJvdHMsIHN0YXRlLCBkZXB0aCwgfSkge1xyXG4gICAgaWYgKGRlcHRoID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgZGVwdGggPSAxMDAwMDtcclxuICAgIGNvbnN0IHJlZHVjZXIgPSBDcmVhdGVHYW1lUmVkdWNlcih7IGdhbWUgfSk7XHJcbiAgICBsZXQgbWV0YWRhdGEgPSBudWxsO1xyXG4gICAgbGV0IGl0ZXIgPSAwO1xyXG4gICAgd2hpbGUgKHN0YXRlLmN0eC5nYW1lb3ZlciA9PT0gdW5kZWZpbmVkICYmIGl0ZXIgPCBkZXB0aCkge1xyXG4gICAgICAgIGxldCBwbGF5ZXJJRCA9IHN0YXRlLmN0eC5jdXJyZW50UGxheWVyO1xyXG4gICAgICAgIGlmIChzdGF0ZS5jdHguYWN0aXZlUGxheWVycykge1xyXG4gICAgICAgICAgICBwbGF5ZXJJRCA9IE9iamVjdC5rZXlzKHN0YXRlLmN0eC5hY3RpdmVQbGF5ZXJzKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYm90ID0gYm90cyBpbnN0YW5jZW9mIEJvdCA/IGJvdHMgOiBib3RzW3BsYXllcklEXTtcclxuICAgICAgICBjb25zdCB0ID0gYXdhaXQgYm90LnBsYXkoc3RhdGUsIHBsYXllcklEKTtcclxuICAgICAgICBpZiAoIXQuYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXRhZGF0YSA9IHQubWV0YWRhdGE7XHJcbiAgICAgICAgc3RhdGUgPSByZWR1Y2VyKHN0YXRlLCB0LmFjdGlvbik7XHJcbiAgICAgICAgaXRlcisrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgc3RhdGUsIG1ldGFkYXRhIH07XHJcbn1cblxuZXhwb3J0IHsgQm90IGFzIEIsIE1DVFNCb3QgYXMgTSwgUmFuZG9tQm90IGFzIFIsIFN0ZXAgYXMgUywgU2ltdWxhdGUgYXMgYSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/ai-3099ce9a.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/client-5f57c3f2.js":
/*!***************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/client-5f57c3f2.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"L\": function() { return /* binding */ LobbyClient; },\n/* harmony export */   \"a\": function() { return /* binding */ LobbyClientError; }\n/* harmony export */ });\nconst assertString = (str, label) => {\r\n    if (!str || typeof str !== 'string') {\r\n        throw new Error(`Expected ${label} string, got \"${str}\".`);\r\n    }\r\n};\r\nconst assertGameName = (name) => assertString(name, 'game name');\r\nconst assertMatchID = (id) => assertString(id, 'match ID');\r\nconst validateBody = (body, schema) => {\r\n    if (!body)\r\n        throw new Error(`Expected body, got “${body}”.`);\r\n    for (const key in schema) {\r\n        const propSchema = schema[key];\r\n        const types = Array.isArray(propSchema) ? propSchema : [propSchema];\r\n        const received = body[key];\r\n        if (!types.includes(typeof received)) {\r\n            const union = types.join('|');\r\n            throw new TypeError(`Expected body.${key} to be of type ${union}, got “${received}”.`);\r\n        }\r\n    }\r\n};\r\nclass LobbyClientError extends Error {\r\n    constructor(message, details) {\r\n        super(message);\r\n        this.details = details;\r\n    }\r\n}\r\n/**\r\n * Create a boardgame.io Lobby API client.\r\n * @param server The API’s base URL, e.g. `http://localhost:8000`.\r\n */\r\nclass LobbyClient {\r\n    constructor({ server = '' } = {}) {\r\n        // strip trailing slash if passed\r\n        this.server = server.replace(/\\/$/, '');\r\n    }\r\n    async request(route, init) {\r\n        const response = await fetch(this.server + route, init);\r\n        if (!response.ok) {\r\n            let details;\r\n            try {\r\n                details = await response.clone().json();\r\n            }\r\n            catch {\r\n                try {\r\n                    details = await response.text();\r\n                }\r\n                catch (error) {\r\n                    details = error.message;\r\n                }\r\n            }\r\n            throw new LobbyClientError(`HTTP status ${response.status}`, details);\r\n        }\r\n        return response.json();\r\n    }\r\n    async post(route, opts) {\r\n        let init = {\r\n            method: 'post',\r\n            body: JSON.stringify(opts.body),\r\n            headers: { 'Content-Type': 'application/json' },\r\n        };\r\n        if (opts.init)\r\n            init = {\r\n                ...init,\r\n                ...opts.init,\r\n                headers: { ...init.headers, ...opts.init.headers },\r\n            };\r\n        return this.request(route, init);\r\n    }\r\n    /**\r\n     * Get a list of the game names available on this server.\r\n     * @param  init Optional RequestInit interface to override defaults.\r\n     * @return Array of game names.\r\n     *\r\n     * @example\r\n     * lobbyClient.listGames()\r\n     *   .then(console.log); // => ['chess', 'tic-tac-toe']\r\n     */\r\n    async listGames(init) {\r\n        return this.request('/games', init);\r\n    }\r\n    /**\r\n     * Get a list of the matches for a specific game type on the server.\r\n     * @param  gameName The game to list for, e.g. 'tic-tac-toe'.\r\n     * @param  where    Options to filter matches by update time or gameover state\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Array of match metadata objects.\r\n     *\r\n     * @example\r\n     * lobbyClient.listMatches('tic-tac-toe', where: { isGameover: false })\r\n     *   .then(data => console.log(data.matches));\r\n     * // => [\r\n     * //   {\r\n     * //     matchID: 'xyz',\r\n     * //     gameName: 'tic-tac-toe',\r\n     * //     players: [{ id: 0, name: 'Alice' }, { id: 1 }]\r\n     * //   },\r\n     * //   ...\r\n     * // ]\r\n     */\r\n    async listMatches(gameName, where, init) {\r\n        assertGameName(gameName);\r\n        let query = '';\r\n        if (where) {\r\n            const queries = [];\r\n            const { isGameover, updatedBefore, updatedAfter } = where;\r\n            if (isGameover !== undefined)\r\n                queries.push(`isGameover=${isGameover}`);\r\n            if (updatedBefore)\r\n                queries.push(`updatedBefore=${updatedBefore}`);\r\n            if (updatedAfter)\r\n                queries.push(`updatedAfter=${updatedAfter}`);\r\n            if (queries.length > 0)\r\n                query = '?' + queries.join('&');\r\n        }\r\n        return this.request(`/games/${gameName}${query}`, init);\r\n    }\r\n    /**\r\n     * Get metadata for a specific match.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to fetch.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return A match metadata object.\r\n     *\r\n     * @example\r\n     * lobbyClient.getMatch('tic-tac-toe', 'xyz').then(console.log);\r\n     * // => {\r\n     * //   matchID: 'xyz',\r\n     * //   gameName: 'tic-tac-toe',\r\n     * //   players: [{ id: 0, name: 'Alice' }, { id: 1 }]\r\n     * // }\r\n     */\r\n    async getMatch(gameName, matchID, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        return this.request(`/games/${gameName}/${matchID}`, init);\r\n    }\r\n    /**\r\n     * Create a new match for a specific game type.\r\n     * @param  gameName The game to create a match for, e.g. 'tic-tac-toe'.\r\n     * @param  body     Options required to configure match creation.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return An object containing the created `matchID`.\r\n     *\r\n     * @example\r\n     * lobbyClient.createMatch('tic-tac-toe', { numPlayers: 2 })\r\n     *   .then(console.log);\r\n     * // => { matchID: 'xyz' }\r\n     */\r\n    async createMatch(gameName, body, init) {\r\n        assertGameName(gameName);\r\n        validateBody(body, { numPlayers: 'number' });\r\n        return this.post(`/games/${gameName}/create`, { body, init });\r\n    }\r\n    /**\r\n     * Join a match using its matchID.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to join.\r\n     * @param  body     Options required to join match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Object containing `playerCredentials` for the player who joined.\r\n     *\r\n     * @example\r\n     * lobbyClient.joinMatch('tic-tac-toe', 'xyz', {\r\n     *   playerID: '1',\r\n     *   playerName: 'Bob',\r\n     * }).then(console.log);\r\n     * // => { playerID: '1', playerCredentials: 'random-string' }\r\n     */\r\n    async joinMatch(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, {\r\n            playerID: ['string', 'undefined'],\r\n            playerName: 'string',\r\n        });\r\n        return this.post(`/games/${gameName}/${matchID}/join`, { body, init });\r\n    }\r\n    /**\r\n     * Leave a previously joined match.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to leave.\r\n     * @param  body     Options required to leave match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Promise resolves if successful.\r\n     *\r\n     * @example\r\n     * lobbyClient.leaveMatch('tic-tac-toe', 'xyz', {\r\n     *   playerID: '1',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     * })\r\n     *   .then(() => console.log('Left match.'))\r\n     *   .catch(error => console.error('Error leaving match', error));\r\n     */\r\n    async leaveMatch(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        await this.post(`/games/${gameName}/${matchID}/leave`, { body, init });\r\n    }\r\n    /**\r\n     * Update a player’s name or custom metadata.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to update.\r\n     * @param  body     Options required to update player.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Promise resolves if successful.\r\n     *\r\n     * @example\r\n     * lobbyClient.updatePlayer('tic-tac-toe', 'xyz', {\r\n     *   playerID: '0',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     *   newName: 'Al',\r\n     * })\r\n     *   .then(() => console.log('Updated player data.'))\r\n     *   .catch(error => console.error('Error updating data', error));\r\n     */\r\n    async updatePlayer(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        await this.post(`/games/${gameName}/${matchID}/update`, { body, init });\r\n    }\r\n    /**\r\n     * Create a new match based on the configuration of the current match.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to play again.\r\n     * @param  body     Options required to configure match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Object containing `nextMatchID`.\r\n     *\r\n     * @example\r\n     * lobbyClient.playAgain('tic-tac-toe', 'xyz', {\r\n     *   playerID: '0',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     * })\r\n     *   .then(({ nextMatchID }) => {\r\n     *     return lobbyClient.joinMatch('tic-tac-toe', nextMatchID, {\r\n     *       playerID: '0',\r\n     *       playerName: 'Al',\r\n     *     })\r\n     *   })\r\n     *   .then({ playerCredentials } => {\r\n     *     console.log(playerCredentials);\r\n     *   })\r\n     *   .catch(console.error);\r\n     */\r\n    async playAgain(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        return this.post(`/games/${gameName}/${matchID}/playAgain`, { body, init });\r\n    }\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2NsaWVudC01ZjU3YzNmMi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTyxlQUFlLElBQUk7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLEtBQUs7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELEtBQUssZ0JBQWdCLE1BQU0sU0FBUyxTQUFTO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYyxJQUFJO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0NBQW9DO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsdUNBQXVDO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxtQkFBbUI7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzQkFBc0IsSUFBSSxPQUFPO0FBQzNELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBDQUEwQztBQUM5RDtBQUNBLDJDQUEyQyxXQUFXO0FBQ3REO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQSw2Q0FBNkMsYUFBYTtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsU0FBUyxFQUFFLE1BQU07QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0JBQXNCLElBQUksT0FBTztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFNBQVMsR0FBRyxRQUFRO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxlQUFlO0FBQy9EO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzQkFBc0I7QUFDbkQsbUNBQW1DLFNBQVMsWUFBWSxZQUFZO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxtQ0FBbUMsU0FBUyxHQUFHLFFBQVEsVUFBVSxZQUFZO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyQ0FBMkM7QUFDeEUsa0NBQWtDLFNBQVMsR0FBRyxRQUFRLFdBQVcsWUFBWTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyQ0FBMkM7QUFDeEUsa0NBQWtDLFNBQVMsR0FBRyxRQUFRLFlBQVksWUFBWTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osVUFBVTtBQUNWLGlCQUFpQixvQkFBb0I7QUFDckM7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyQ0FBMkM7QUFDeEUsbUNBQW1DLFNBQVMsR0FBRyxRQUFRLGVBQWUsWUFBWTtBQUNsRjtBQUNBOztBQUVtRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2NsaWVudC01ZjU3YzNmMi5qcz8zMGYzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFzc2VydFN0cmluZyA9IChzdHIsIGxhYmVsKSA9PiB7XHJcbiAgICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJHtsYWJlbH0gc3RyaW5nLCBnb3QgXCIke3N0cn1cIi5gKTtcclxuICAgIH1cclxufTtcclxuY29uc3QgYXNzZXJ0R2FtZU5hbWUgPSAobmFtZSkgPT4gYXNzZXJ0U3RyaW5nKG5hbWUsICdnYW1lIG5hbWUnKTtcclxuY29uc3QgYXNzZXJ0TWF0Y2hJRCA9IChpZCkgPT4gYXNzZXJ0U3RyaW5nKGlkLCAnbWF0Y2ggSUQnKTtcclxuY29uc3QgdmFsaWRhdGVCb2R5ID0gKGJvZHksIHNjaGVtYSkgPT4ge1xyXG4gICAgaWYgKCFib2R5KVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYm9keSwgZ290IOKAnCR7Ym9keX3igJ0uYCk7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEpIHtcclxuICAgICAgICBjb25zdCBwcm9wU2NoZW1hID0gc2NoZW1hW2tleV07XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBBcnJheS5pc0FycmF5KHByb3BTY2hlbWEpID8gcHJvcFNjaGVtYSA6IFtwcm9wU2NoZW1hXTtcclxuICAgICAgICBjb25zdCByZWNlaXZlZCA9IGJvZHlba2V5XTtcclxuICAgICAgICBpZiAoIXR5cGVzLmluY2x1ZGVzKHR5cGVvZiByZWNlaXZlZCkpIHtcclxuICAgICAgICAgICAgY29uc3QgdW5pb24gPSB0eXBlcy5qb2luKCd8Jyk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGJvZHkuJHtrZXl9IHRvIGJlIG9mIHR5cGUgJHt1bmlvbn0sIGdvdCDigJwke3JlY2VpdmVkfeKAnS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNsYXNzIExvYmJ5Q2xpZW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBkZXRhaWxzKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ3JlYXRlIGEgYm9hcmRnYW1lLmlvIExvYmJ5IEFQSSBjbGllbnQuXHJcbiAqIEBwYXJhbSBzZXJ2ZXIgVGhlIEFQSeKAmXMgYmFzZSBVUkwsIGUuZy4gYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMGAuXHJcbiAqL1xyXG5jbGFzcyBMb2JieUNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHNlcnZlciA9ICcnIH0gPSB7fSkge1xyXG4gICAgICAgIC8vIHN0cmlwIHRyYWlsaW5nIHNsYXNoIGlmIHBhc3NlZFxyXG4gICAgICAgIHRoaXMuc2VydmVyID0gc2VydmVyLnJlcGxhY2UoL1xcLyQvLCAnJyk7XHJcbiAgICB9XHJcbiAgICBhc3luYyByZXF1ZXN0KHJvdXRlLCBpbml0KSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNlcnZlciArIHJvdXRlLCBpbml0KTtcclxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGxldCBkZXRhaWxzO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlscyA9IGF3YWl0IHJlc3BvbnNlLmNsb25lKCkuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBMb2JieUNsaWVudEVycm9yKGBIVFRQIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gLCBkZXRhaWxzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxuICAgIGFzeW5jIHBvc3Qocm91dGUsIG9wdHMpIHtcclxuICAgICAgICBsZXQgaW5pdCA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG9wdHMuYm9keSksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKG9wdHMuaW5pdClcclxuICAgICAgICAgICAgaW5pdCA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmluaXQsXHJcbiAgICAgICAgICAgICAgICAuLi5vcHRzLmluaXQsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IC4uLmluaXQuaGVhZGVycywgLi4ub3B0cy5pbml0LmhlYWRlcnMgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHJvdXRlLCBpbml0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgbGlzdCBvZiB0aGUgZ2FtZSBuYW1lcyBhdmFpbGFibGUgb24gdGhpcyBzZXJ2ZXIuXHJcbiAgICAgKiBAcGFyYW0gIGluaXQgT3B0aW9uYWwgUmVxdWVzdEluaXQgaW50ZXJmYWNlIHRvIG92ZXJyaWRlIGRlZmF1bHRzLlxyXG4gICAgICogQHJldHVybiBBcnJheSBvZiBnYW1lIG5hbWVzLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBsb2JieUNsaWVudC5saXN0R2FtZXMoKVxyXG4gICAgICogICAudGhlbihjb25zb2xlLmxvZyk7IC8vID0+IFsnY2hlc3MnLCAndGljLXRhYy10b2UnXVxyXG4gICAgICovXHJcbiAgICBhc3luYyBsaXN0R2FtZXMoaW5pdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJy9nYW1lcycsIGluaXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHRoZSBtYXRjaGVzIGZvciBhIHNwZWNpZmljIGdhbWUgdHlwZSBvbiB0aGUgc2VydmVyLlxyXG4gICAgICogQHBhcmFtICBnYW1lTmFtZSBUaGUgZ2FtZSB0byBsaXN0IGZvciwgZS5nLiAndGljLXRhYy10b2UnLlxyXG4gICAgICogQHBhcmFtICB3aGVyZSAgICBPcHRpb25zIHRvIGZpbHRlciBtYXRjaGVzIGJ5IHVwZGF0ZSB0aW1lIG9yIGdhbWVvdmVyIHN0YXRlXHJcbiAgICAgKiBAcGFyYW0gIGluaXQgICAgIE9wdGlvbmFsIFJlcXVlc3RJbml0IGludGVyZmFjZSB0byBvdmVycmlkZSBkZWZhdWx0cy5cclxuICAgICAqIEByZXR1cm4gQXJyYXkgb2YgbWF0Y2ggbWV0YWRhdGEgb2JqZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogbG9iYnlDbGllbnQubGlzdE1hdGNoZXMoJ3RpYy10YWMtdG9lJywgd2hlcmU6IHsgaXNHYW1lb3ZlcjogZmFsc2UgfSlcclxuICAgICAqICAgLnRoZW4oZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhLm1hdGNoZXMpKTtcclxuICAgICAqIC8vID0+IFtcclxuICAgICAqIC8vICAge1xyXG4gICAgICogLy8gICAgIG1hdGNoSUQ6ICd4eXonLFxyXG4gICAgICogLy8gICAgIGdhbWVOYW1lOiAndGljLXRhYy10b2UnLFxyXG4gICAgICogLy8gICAgIHBsYXllcnM6IFt7IGlkOiAwLCBuYW1lOiAnQWxpY2UnIH0sIHsgaWQ6IDEgfV1cclxuICAgICAqIC8vICAgfSxcclxuICAgICAqIC8vICAgLi4uXHJcbiAgICAgKiAvLyBdXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGxpc3RNYXRjaGVzKGdhbWVOYW1lLCB3aGVyZSwgaW5pdCkge1xyXG4gICAgICAgIGFzc2VydEdhbWVOYW1lKGdhbWVOYW1lKTtcclxuICAgICAgICBsZXQgcXVlcnkgPSAnJztcclxuICAgICAgICBpZiAod2hlcmUpIHtcclxuICAgICAgICAgICAgY29uc3QgcXVlcmllcyA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCB7IGlzR2FtZW92ZXIsIHVwZGF0ZWRCZWZvcmUsIHVwZGF0ZWRBZnRlciB9ID0gd2hlcmU7XHJcbiAgICAgICAgICAgIGlmIChpc0dhbWVvdmVyICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzLnB1c2goYGlzR2FtZW92ZXI9JHtpc0dhbWVvdmVyfWApO1xyXG4gICAgICAgICAgICBpZiAodXBkYXRlZEJlZm9yZSlcclxuICAgICAgICAgICAgICAgIHF1ZXJpZXMucHVzaChgdXBkYXRlZEJlZm9yZT0ke3VwZGF0ZWRCZWZvcmV9YCk7XHJcbiAgICAgICAgICAgIGlmICh1cGRhdGVkQWZ0ZXIpXHJcbiAgICAgICAgICAgICAgICBxdWVyaWVzLnB1c2goYHVwZGF0ZWRBZnRlcj0ke3VwZGF0ZWRBZnRlcn1gKTtcclxuICAgICAgICAgICAgaWYgKHF1ZXJpZXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gJz8nICsgcXVlcmllcy5qb2luKCcmJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoYC9nYW1lcy8ke2dhbWVOYW1lfSR7cXVlcnl9YCwgaW5pdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBtZXRhZGF0YSBmb3IgYSBzcGVjaWZpYyBtYXRjaC5cclxuICAgICAqIEBwYXJhbSAgZ2FtZU5hbWUgVGhlIG1hdGNo4oCZcyBnYW1lIHR5cGUsIGUuZy4gJ3RpYy10YWMtdG9lJy5cclxuICAgICAqIEBwYXJhbSAgbWF0Y2hJRCAgTWF0Y2ggSUQgZm9yIHRoZSBtYXRjaCB0byBmZXRjaC5cclxuICAgICAqIEBwYXJhbSAgaW5pdCAgICAgT3B0aW9uYWwgUmVxdWVzdEluaXQgaW50ZXJmYWNlIHRvIG92ZXJyaWRlIGRlZmF1bHRzLlxyXG4gICAgICogQHJldHVybiBBIG1hdGNoIG1ldGFkYXRhIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogbG9iYnlDbGllbnQuZ2V0TWF0Y2goJ3RpYy10YWMtdG9lJywgJ3h5eicpLnRoZW4oY29uc29sZS5sb2cpO1xyXG4gICAgICogLy8gPT4ge1xyXG4gICAgICogLy8gICBtYXRjaElEOiAneHl6JyxcclxuICAgICAqIC8vICAgZ2FtZU5hbWU6ICd0aWMtdGFjLXRvZScsXHJcbiAgICAgKiAvLyAgIHBsYXllcnM6IFt7IGlkOiAwLCBuYW1lOiAnQWxpY2UnIH0sIHsgaWQ6IDEgfV1cclxuICAgICAqIC8vIH1cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0TWF0Y2goZ2FtZU5hbWUsIG1hdGNoSUQsIGluaXQpIHtcclxuICAgICAgICBhc3NlcnRHYW1lTmFtZShnYW1lTmFtZSk7XHJcbiAgICAgICAgYXNzZXJ0TWF0Y2hJRChtYXRjaElEKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KGAvZ2FtZXMvJHtnYW1lTmFtZX0vJHttYXRjaElEfWAsIGluaXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgbWF0Y2ggZm9yIGEgc3BlY2lmaWMgZ2FtZSB0eXBlLlxyXG4gICAgICogQHBhcmFtICBnYW1lTmFtZSBUaGUgZ2FtZSB0byBjcmVhdGUgYSBtYXRjaCBmb3IsIGUuZy4gJ3RpYy10YWMtdG9lJy5cclxuICAgICAqIEBwYXJhbSAgYm9keSAgICAgT3B0aW9ucyByZXF1aXJlZCB0byBjb25maWd1cmUgbWF0Y2ggY3JlYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gIGluaXQgICAgIE9wdGlvbmFsIFJlcXVlc3RJbml0IGludGVyZmFjZSB0byBvdmVycmlkZSBkZWZhdWx0cy5cclxuICAgICAqIEByZXR1cm4gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNyZWF0ZWQgYG1hdGNoSURgLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBsb2JieUNsaWVudC5jcmVhdGVNYXRjaCgndGljLXRhYy10b2UnLCB7IG51bVBsYXllcnM6IDIgfSlcclxuICAgICAqICAgLnRoZW4oY29uc29sZS5sb2cpO1xyXG4gICAgICogLy8gPT4geyBtYXRjaElEOiAneHl6JyB9XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNyZWF0ZU1hdGNoKGdhbWVOYW1lLCBib2R5LCBpbml0KSB7XHJcbiAgICAgICAgYXNzZXJ0R2FtZU5hbWUoZ2FtZU5hbWUpO1xyXG4gICAgICAgIHZhbGlkYXRlQm9keShib2R5LCB7IG51bVBsYXllcnM6ICdudW1iZXInIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc3QoYC9nYW1lcy8ke2dhbWVOYW1lfS9jcmVhdGVgLCB7IGJvZHksIGluaXQgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEpvaW4gYSBtYXRjaCB1c2luZyBpdHMgbWF0Y2hJRC5cclxuICAgICAqIEBwYXJhbSAgZ2FtZU5hbWUgVGhlIG1hdGNo4oCZcyBnYW1lIHR5cGUsIGUuZy4gJ3RpYy10YWMtdG9lJy5cclxuICAgICAqIEBwYXJhbSAgbWF0Y2hJRCAgTWF0Y2ggSUQgZm9yIHRoZSBtYXRjaCB0byBqb2luLlxyXG4gICAgICogQHBhcmFtICBib2R5ICAgICBPcHRpb25zIHJlcXVpcmVkIHRvIGpvaW4gbWF0Y2guXHJcbiAgICAgKiBAcGFyYW0gIGluaXQgICAgIE9wdGlvbmFsIFJlcXVlc3RJbml0IGludGVyZmFjZSB0byBvdmVycmlkZSBkZWZhdWx0cy5cclxuICAgICAqIEByZXR1cm4gT2JqZWN0IGNvbnRhaW5pbmcgYHBsYXllckNyZWRlbnRpYWxzYCBmb3IgdGhlIHBsYXllciB3aG8gam9pbmVkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBsb2JieUNsaWVudC5qb2luTWF0Y2goJ3RpYy10YWMtdG9lJywgJ3h5eicsIHtcclxuICAgICAqICAgcGxheWVySUQ6ICcxJyxcclxuICAgICAqICAgcGxheWVyTmFtZTogJ0JvYicsXHJcbiAgICAgKiB9KS50aGVuKGNvbnNvbGUubG9nKTtcclxuICAgICAqIC8vID0+IHsgcGxheWVySUQ6ICcxJywgcGxheWVyQ3JlZGVudGlhbHM6ICdyYW5kb20tc3RyaW5nJyB9XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGpvaW5NYXRjaChnYW1lTmFtZSwgbWF0Y2hJRCwgYm9keSwgaW5pdCkge1xyXG4gICAgICAgIGFzc2VydEdhbWVOYW1lKGdhbWVOYW1lKTtcclxuICAgICAgICBhc3NlcnRNYXRjaElEKG1hdGNoSUQpO1xyXG4gICAgICAgIHZhbGlkYXRlQm9keShib2R5LCB7XHJcbiAgICAgICAgICAgIHBsYXllcklEOiBbJ3N0cmluZycsICd1bmRlZmluZWQnXSxcclxuICAgICAgICAgICAgcGxheWVyTmFtZTogJ3N0cmluZycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdChgL2dhbWVzLyR7Z2FtZU5hbWV9LyR7bWF0Y2hJRH0vam9pbmAsIHsgYm9keSwgaW5pdCB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTGVhdmUgYSBwcmV2aW91c2x5IGpvaW5lZCBtYXRjaC5cclxuICAgICAqIEBwYXJhbSAgZ2FtZU5hbWUgVGhlIG1hdGNo4oCZcyBnYW1lIHR5cGUsIGUuZy4gJ3RpYy10YWMtdG9lJy5cclxuICAgICAqIEBwYXJhbSAgbWF0Y2hJRCAgTWF0Y2ggSUQgZm9yIHRoZSBtYXRjaCB0byBsZWF2ZS5cclxuICAgICAqIEBwYXJhbSAgYm9keSAgICAgT3B0aW9ucyByZXF1aXJlZCB0byBsZWF2ZSBtYXRjaC5cclxuICAgICAqIEBwYXJhbSAgaW5pdCAgICAgT3B0aW9uYWwgUmVxdWVzdEluaXQgaW50ZXJmYWNlIHRvIG92ZXJyaWRlIGRlZmF1bHRzLlxyXG4gICAgICogQHJldHVybiBQcm9taXNlIHJlc29sdmVzIGlmIHN1Y2Nlc3NmdWwuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqIGxvYmJ5Q2xpZW50LmxlYXZlTWF0Y2goJ3RpYy10YWMtdG9lJywgJ3h5eicsIHtcclxuICAgICAqICAgcGxheWVySUQ6ICcxJyxcclxuICAgICAqICAgY3JlZGVudGlhbHM6ICdjcmVkZW50aWFscy1yZXR1cm5lZC13aGVuLWpvaW5pbmcnLFxyXG4gICAgICogfSlcclxuICAgICAqICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ0xlZnQgbWF0Y2guJykpXHJcbiAgICAgKiAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvciBsZWF2aW5nIG1hdGNoJywgZXJyb3IpKTtcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbGVhdmVNYXRjaChnYW1lTmFtZSwgbWF0Y2hJRCwgYm9keSwgaW5pdCkge1xyXG4gICAgICAgIGFzc2VydEdhbWVOYW1lKGdhbWVOYW1lKTtcclxuICAgICAgICBhc3NlcnRNYXRjaElEKG1hdGNoSUQpO1xyXG4gICAgICAgIHZhbGlkYXRlQm9keShib2R5LCB7IHBsYXllcklEOiAnc3RyaW5nJywgY3JlZGVudGlhbHM6ICdzdHJpbmcnIH0pO1xyXG4gICAgICAgIGF3YWl0IHRoaXMucG9zdChgL2dhbWVzLyR7Z2FtZU5hbWV9LyR7bWF0Y2hJRH0vbGVhdmVgLCB7IGJvZHksIGluaXQgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBhIHBsYXllcuKAmXMgbmFtZSBvciBjdXN0b20gbWV0YWRhdGEuXHJcbiAgICAgKiBAcGFyYW0gIGdhbWVOYW1lIFRoZSBtYXRjaOKAmXMgZ2FtZSB0eXBlLCBlLmcuICd0aWMtdGFjLXRvZScuXHJcbiAgICAgKiBAcGFyYW0gIG1hdGNoSUQgIE1hdGNoIElEIGZvciB0aGUgbWF0Y2ggdG8gdXBkYXRlLlxyXG4gICAgICogQHBhcmFtICBib2R5ICAgICBPcHRpb25zIHJlcXVpcmVkIHRvIHVwZGF0ZSBwbGF5ZXIuXHJcbiAgICAgKiBAcGFyYW0gIGluaXQgICAgIE9wdGlvbmFsIFJlcXVlc3RJbml0IGludGVyZmFjZSB0byBvdmVycmlkZSBkZWZhdWx0cy5cclxuICAgICAqIEByZXR1cm4gUHJvbWlzZSByZXNvbHZlcyBpZiBzdWNjZXNzZnVsLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBsb2JieUNsaWVudC51cGRhdGVQbGF5ZXIoJ3RpYy10YWMtdG9lJywgJ3h5eicsIHtcclxuICAgICAqICAgcGxheWVySUQ6ICcwJyxcclxuICAgICAqICAgY3JlZGVudGlhbHM6ICdjcmVkZW50aWFscy1yZXR1cm5lZC13aGVuLWpvaW5pbmcnLFxyXG4gICAgICogICBuZXdOYW1lOiAnQWwnLFxyXG4gICAgICogfSlcclxuICAgICAqICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ1VwZGF0ZWQgcGxheWVyIGRhdGEuJykpXHJcbiAgICAgKiAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBkYXRhJywgZXJyb3IpKTtcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlUGxheWVyKGdhbWVOYW1lLCBtYXRjaElELCBib2R5LCBpbml0KSB7XHJcbiAgICAgICAgYXNzZXJ0R2FtZU5hbWUoZ2FtZU5hbWUpO1xyXG4gICAgICAgIGFzc2VydE1hdGNoSUQobWF0Y2hJRCk7XHJcbiAgICAgICAgdmFsaWRhdGVCb2R5KGJvZHksIHsgcGxheWVySUQ6ICdzdHJpbmcnLCBjcmVkZW50aWFsczogJ3N0cmluZycgfSk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0KGAvZ2FtZXMvJHtnYW1lTmFtZX0vJHttYXRjaElEfS91cGRhdGVgLCB7IGJvZHksIGluaXQgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBtYXRjaCBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgY3VycmVudCBtYXRjaC5cclxuICAgICAqIEBwYXJhbSAgZ2FtZU5hbWUgVGhlIG1hdGNo4oCZcyBnYW1lIHR5cGUsIGUuZy4gJ3RpYy10YWMtdG9lJy5cclxuICAgICAqIEBwYXJhbSAgbWF0Y2hJRCAgTWF0Y2ggSUQgZm9yIHRoZSBtYXRjaCB0byBwbGF5IGFnYWluLlxyXG4gICAgICogQHBhcmFtICBib2R5ICAgICBPcHRpb25zIHJlcXVpcmVkIHRvIGNvbmZpZ3VyZSBtYXRjaC5cclxuICAgICAqIEBwYXJhbSAgaW5pdCAgICAgT3B0aW9uYWwgUmVxdWVzdEluaXQgaW50ZXJmYWNlIHRvIG92ZXJyaWRlIGRlZmF1bHRzLlxyXG4gICAgICogQHJldHVybiBPYmplY3QgY29udGFpbmluZyBgbmV4dE1hdGNoSURgLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBsb2JieUNsaWVudC5wbGF5QWdhaW4oJ3RpYy10YWMtdG9lJywgJ3h5eicsIHtcclxuICAgICAqICAgcGxheWVySUQ6ICcwJyxcclxuICAgICAqICAgY3JlZGVudGlhbHM6ICdjcmVkZW50aWFscy1yZXR1cm5lZC13aGVuLWpvaW5pbmcnLFxyXG4gICAgICogfSlcclxuICAgICAqICAgLnRoZW4oKHsgbmV4dE1hdGNoSUQgfSkgPT4ge1xyXG4gICAgICogICAgIHJldHVybiBsb2JieUNsaWVudC5qb2luTWF0Y2goJ3RpYy10YWMtdG9lJywgbmV4dE1hdGNoSUQsIHtcclxuICAgICAqICAgICAgIHBsYXllcklEOiAnMCcsXHJcbiAgICAgKiAgICAgICBwbGF5ZXJOYW1lOiAnQWwnLFxyXG4gICAgICogICAgIH0pXHJcbiAgICAgKiAgIH0pXHJcbiAgICAgKiAgIC50aGVuKHsgcGxheWVyQ3JlZGVudGlhbHMgfSA9PiB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2cocGxheWVyQ3JlZGVudGlhbHMpO1xyXG4gICAgICogICB9KVxyXG4gICAgICogICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHBsYXlBZ2FpbihnYW1lTmFtZSwgbWF0Y2hJRCwgYm9keSwgaW5pdCkge1xyXG4gICAgICAgIGFzc2VydEdhbWVOYW1lKGdhbWVOYW1lKTtcclxuICAgICAgICBhc3NlcnRNYXRjaElEKG1hdGNoSUQpO1xyXG4gICAgICAgIHZhbGlkYXRlQm9keShib2R5LCB7IHBsYXllcklEOiAnc3RyaW5nJywgY3JlZGVudGlhbHM6ICdzdHJpbmcnIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc3QoYC9nYW1lcy8ke2dhbWVOYW1lfS8ke21hdGNoSUR9L3BsYXlBZ2FpbmAsIHsgYm9keSwgaW5pdCB9KTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBMb2JieUNsaWVudCBhcyBMLCBMb2JieUNsaWVudEVycm9yIGFzIGEgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/client-5f57c3f2.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/client-fa36c03a.js":
/*!***************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/client-fa36c03a.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"C\": function() { return /* binding */ Client; }\n/* harmony export */ });\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"./node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var _Debug_fd09b8bc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Debug-fd09b8bc.js */ \"./node_modules/boardgame.io/dist/esm/Debug-fd09b8bc.js\");\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux */ \"./node_modules/redux/es/redux.js\");\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var _reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reducer-07c7b307.js */ \"./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js\");\n/* harmony import */ var _initialize_9ac1bbf5_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./initialize-9ac1bbf5.js */ \"./node_modules/boardgame.io/dist/esm/initialize-9ac1bbf5.js\");\n/* harmony import */ var _transport_ce07b771_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transport-ce07b771.js */ \"./node_modules/boardgame.io/dist/esm/transport-ce07b771.js\");\n\n\n\n\n\n\n\n\n/**\r\n * This class doesn’t do anything, but simplifies the client class by providing\r\n * dummy functions to call, so we don’t need to mock them in the client.\r\n */\r\nclass DummyImpl extends _transport_ce07b771_js__WEBPACK_IMPORTED_MODULE_1__.T {\r\n    connect() { }\r\n    disconnect() { }\r\n    sendAction() { }\r\n    sendChatMessage() { }\r\n    requestSync() { }\r\n    updateCredentials() { }\r\n    updateMatchID() { }\r\n    updatePlayerID() { }\r\n}\r\nconst DummyTransport = (opts) => new DummyImpl(opts);\n\n/**\r\n * Class to manage boardgame.io clients and limit debug panel rendering.\r\n */\r\nclass ClientManager {\r\n    constructor() {\r\n        this.debugPanel = null;\r\n        this.currentClient = null;\r\n        this.clients = new Map();\r\n        this.subscribers = new Map();\r\n    }\r\n    /**\r\n     * Register a client with the client manager.\r\n     */\r\n    register(client) {\r\n        // Add client to clients map.\r\n        this.clients.set(client, client);\r\n        // Mount debug for this client (no-op if another debug is already mounted).\r\n        this.mountDebug(client);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Unregister a client from the client manager.\r\n     */\r\n    unregister(client) {\r\n        // Remove client from clients map.\r\n        this.clients.delete(client);\r\n        if (this.currentClient === client) {\r\n            // If the removed client owned the debug panel, unmount it.\r\n            this.unmountDebug();\r\n            // Mount debug panel for next available client.\r\n            for (const [client] of this.clients) {\r\n                if (this.debugPanel)\r\n                    break;\r\n                this.mountDebug(client);\r\n            }\r\n        }\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Subscribe to the client manager state.\r\n     * Calls the passed callback each time the current client changes or a client\r\n     * registers/unregisters.\r\n     * Returns a function to unsubscribe from the state updates.\r\n     */\r\n    subscribe(callback) {\r\n        const id = Symbol();\r\n        this.subscribers.set(id, callback);\r\n        callback(this.getState());\r\n        return () => {\r\n            this.subscribers.delete(id);\r\n        };\r\n    }\r\n    /**\r\n     * Switch to a client with a matching playerID.\r\n     */\r\n    switchPlayerID(playerID) {\r\n        // For multiplayer clients, try switching control to a different client\r\n        // that is using the same transport layer.\r\n        if (this.currentClient.multiplayer) {\r\n            for (const [client] of this.clients) {\r\n                if (client.playerID === playerID &&\r\n                    client.debugOpt !== false &&\r\n                    client.multiplayer === this.currentClient.multiplayer) {\r\n                    this.switchToClient(client);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        // If no client matches, update the playerID for the current client.\r\n        this.currentClient.updatePlayerID(playerID);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Set the passed client as the active client for debugging.\r\n     */\r\n    switchToClient(client) {\r\n        if (client === this.currentClient)\r\n            return;\r\n        this.unmountDebug();\r\n        this.mountDebug(client);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Notify all subscribers of changes to the client manager state.\r\n     */\r\n    notifySubscribers() {\r\n        const arg = this.getState();\r\n        this.subscribers.forEach((cb) => {\r\n            cb(arg);\r\n        });\r\n    }\r\n    /**\r\n     * Get the client manager state.\r\n     */\r\n    getState() {\r\n        return {\r\n            client: this.currentClient,\r\n            debuggableClients: this.getDebuggableClients(),\r\n        };\r\n    }\r\n    /**\r\n     * Get an array of the registered clients that haven’t disabled the debug panel.\r\n     */\r\n    getDebuggableClients() {\r\n        return [...this.clients.values()].filter((client) => client.debugOpt !== false);\r\n    }\r\n    /**\r\n     * Mount the debug panel using the passed client.\r\n     */\r\n    mountDebug(client) {\r\n        if (client.debugOpt === false ||\r\n            this.debugPanel !== null ||\r\n            typeof document === 'undefined') {\r\n            return;\r\n        }\r\n        let DebugImpl;\r\n        let target = document.body;\r\n        if (true) {\r\n            DebugImpl = _Debug_fd09b8bc_js__WEBPACK_IMPORTED_MODULE_2__.D;\r\n        }\r\n        if (client.debugOpt && client.debugOpt !== true) {\r\n            DebugImpl = client.debugOpt.impl || DebugImpl;\r\n            target = client.debugOpt.target || target;\r\n        }\r\n        if (DebugImpl) {\r\n            this.currentClient = client;\r\n            this.debugPanel = new DebugImpl({\r\n                target,\r\n                props: { clientManager: this },\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Unmount the debug panel.\r\n     */\r\n    unmountDebug() {\r\n        this.debugPanel.$destroy();\r\n        this.debugPanel = null;\r\n        this.currentClient = null;\r\n    }\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Global client manager instance that all clients register with.\r\n */\r\nconst GlobalClientManager = new ClientManager();\r\n/**\r\n * Standardise the passed playerID, using currentPlayer if appropriate.\r\n */\r\nfunction assumedPlayerID(playerID, store, multiplayer) {\r\n    // In singleplayer mode, if the client does not have a playerID\r\n    // associated with it, we attach the currentPlayer as playerID.\r\n    if (!multiplayer && (playerID === null || playerID === undefined)) {\r\n        const state = store.getState();\r\n        playerID = state.ctx.currentPlayer;\r\n    }\r\n    return playerID;\r\n}\r\n/**\r\n * createDispatchers\r\n *\r\n * Create action dispatcher wrappers with bound playerID and credentials\r\n */\r\nfunction createDispatchers(storeActionType, innerActionNames, store, playerID, credentials, multiplayer) {\r\n    const dispatchers = {};\r\n    for (const name of innerActionNames) {\r\n        dispatchers[name] = (...args) => {\r\n            const action = _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.A[storeActionType](name, args, assumedPlayerID(playerID, store, multiplayer), credentials);\r\n            store.dispatch(action);\r\n        };\r\n    }\r\n    return dispatchers;\r\n}\r\n// Creates a set of dispatchers to make moves.\r\nconst createMoveDispatchers = createDispatchers.bind(null, 'makeMove');\r\n// Creates a set of dispatchers to dispatch game flow events.\r\nconst createEventDispatchers = createDispatchers.bind(null, 'gameEvent');\r\n// Creates a set of dispatchers to dispatch actions to plugins.\r\nconst createPluginDispatchers = createDispatchers.bind(null, 'plugin');\r\n/**\r\n * Implementation of Client (see below).\r\n */\r\nclass _ClientImpl {\r\n    constructor({ game, debug, numPlayers, multiplayer, matchID: matchID, playerID, credentials, enhancer, }) {\r\n        this.game = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_4__.P)(game);\r\n        this.playerID = playerID;\r\n        this.matchID = matchID || 'default';\r\n        this.credentials = credentials;\r\n        this.multiplayer = multiplayer;\r\n        this.debugOpt = debug;\r\n        this.manager = GlobalClientManager;\r\n        this.gameStateOverride = null;\r\n        this.subscribers = {};\r\n        this._running = false;\r\n        this.reducer = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_4__.C)({\r\n            game: this.game,\r\n            isClient: multiplayer !== undefined,\r\n        });\r\n        this.initialState = null;\r\n        if (!multiplayer) {\r\n            this.initialState = (0,_initialize_9ac1bbf5_js__WEBPACK_IMPORTED_MODULE_5__.I)({ game: this.game, numPlayers });\r\n        }\r\n        this.reset = () => {\r\n            this.store.dispatch((0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.u)(this.initialState));\r\n        };\r\n        this.undo = () => {\r\n            const undo$1 = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.v)(assumedPlayerID(this.playerID, this.store, this.multiplayer), this.credentials);\r\n            this.store.dispatch(undo$1);\r\n        };\r\n        this.redo = () => {\r\n            const redo$1 = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.w)(assumedPlayerID(this.playerID, this.store, this.multiplayer), this.credentials);\r\n            this.store.dispatch(redo$1);\r\n        };\r\n        this.log = [];\r\n        /**\r\n         * Middleware that manages the log object.\r\n         * Reducers generate deltalogs, which are log events\r\n         * that are the result of application of a single action.\r\n         * The master may also send back a deltalog or the entire\r\n         * log depending on the type of request.\r\n         * The middleware below takes care of all these cases while\r\n         * managing the log object.\r\n         */\r\n        const LogMiddleware = (store) => (next) => (action) => {\r\n            const result = next(action);\r\n            const state = store.getState();\r\n            switch (action.type) {\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.M:\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.o:\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.h:\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.R: {\r\n                    const deltalog = state.deltalog;\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.l: {\r\n                    this.log = [];\r\n                    break;\r\n                }\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.P:\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.k: {\r\n                    let id = -1;\r\n                    if (this.log.length > 0) {\r\n                        id = this.log[this.log.length - 1]._stateID;\r\n                    }\r\n                    let deltalog = action.deltalog || [];\r\n                    // Filter out actions that are already present\r\n                    // in the current log. This may occur when the\r\n                    // client adds an entry to the log followed by\r\n                    // the update from the master here.\r\n                    deltalog = deltalog.filter((l) => l._stateID > id);\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.j: {\r\n                    this.initialState = action.initialState;\r\n                    this.log = action.log || [];\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and sends them to the master,\r\n         * which keeps the authoritative version of the state.\r\n         */\r\n        const TransportMiddleware = (store) => (next) => (action) => {\r\n            const baseState = store.getState();\r\n            const result = next(action);\r\n            if (!('clientOnly' in action) &&\r\n                action.type !== _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.p) {\r\n                this.transport.sendAction(baseState, action);\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and invokes the subscription callback.\r\n         */\r\n        const SubscriptionMiddleware = () => (next) => (action) => {\r\n            const result = next(action);\r\n            this.notifySubscribers();\r\n            return result;\r\n        };\r\n        const middleware = (0,redux__WEBPACK_IMPORTED_MODULE_6__.applyMiddleware)(_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_4__.T, SubscriptionMiddleware, TransportMiddleware, LogMiddleware);\r\n        enhancer =\r\n            enhancer !== undefined ? (0,redux__WEBPACK_IMPORTED_MODULE_6__.compose)(middleware, enhancer) : middleware;\r\n        this.store = (0,redux__WEBPACK_IMPORTED_MODULE_6__.createStore)(this.reducer, this.initialState, enhancer);\r\n        if (!multiplayer)\r\n            multiplayer = DummyTransport;\r\n        this.transport = multiplayer({\r\n            transportDataCallback: (data) => this.receiveTransportData(data),\r\n            gameKey: game,\r\n            game: this.game,\r\n            matchID,\r\n            playerID,\r\n            credentials,\r\n            gameName: this.game.name,\r\n            numPlayers,\r\n        });\r\n        this.createDispatchers();\r\n        this.chatMessages = [];\r\n        this.sendChatMessage = (payload) => {\r\n            this.transport.sendChatMessage(this.matchID, {\r\n                id: (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)(7),\r\n                sender: this.playerID,\r\n                payload: payload,\r\n            });\r\n        };\r\n    }\r\n    /** Handle incoming match data from a multiplayer transport. */\r\n    receiveMatchData(matchData) {\r\n        this.matchData = matchData;\r\n        this.notifySubscribers();\r\n    }\r\n    /** Handle an incoming chat message from a multiplayer transport. */\r\n    receiveChatMessage(message) {\r\n        this.chatMessages = [...this.chatMessages, message];\r\n        this.notifySubscribers();\r\n    }\r\n    /** Handle all incoming updates from a multiplayer transport. */\r\n    receiveTransportData(data) {\r\n        const [matchID] = data.args;\r\n        if (matchID !== this.matchID)\r\n            return;\r\n        switch (data.type) {\r\n            case 'sync': {\r\n                const [, syncInfo] = data.args;\r\n                const action = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.s)(syncInfo);\r\n                this.receiveMatchData(syncInfo.filteredMetadata);\r\n                this.store.dispatch(action);\r\n                break;\r\n            }\r\n            case 'update': {\r\n                const [, state, deltalog] = data.args;\r\n                const currentState = this.store.getState();\r\n                if (state._stateID >= currentState._stateID) {\r\n                    const action = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.z)(state, deltalog);\r\n                    this.store.dispatch(action);\r\n                }\r\n                break;\r\n            }\r\n            case 'patch': {\r\n                const [, prevStateID, stateID, patch$1, deltalog] = data.args;\r\n                const currentStateID = this.store.getState()._stateID;\r\n                if (prevStateID !== currentStateID)\r\n                    break;\r\n                const action = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.y)(prevStateID, stateID, patch$1, deltalog);\r\n                this.store.dispatch(action);\r\n                // Emit sync if patch apply failed.\r\n                if (this.store.getState()._stateID === currentStateID) {\r\n                    this.transport.requestSync();\r\n                }\r\n                break;\r\n            }\r\n            case 'matchData': {\r\n                const [, matchData] = data.args;\r\n                this.receiveMatchData(matchData);\r\n                break;\r\n            }\r\n            case 'chat': {\r\n                const [, chatMessage] = data.args;\r\n                this.receiveChatMessage(chatMessage);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    notifySubscribers() {\r\n        Object.values(this.subscribers).forEach((fn) => fn(this.getState()));\r\n    }\r\n    overrideGameState(state) {\r\n        this.gameStateOverride = state;\r\n        this.notifySubscribers();\r\n    }\r\n    start() {\r\n        this.transport.connect();\r\n        this._running = true;\r\n        this.manager.register(this);\r\n    }\r\n    stop() {\r\n        this.transport.disconnect();\r\n        this._running = false;\r\n        this.manager.unregister(this);\r\n    }\r\n    subscribe(fn) {\r\n        const id = Object.keys(this.subscribers).length;\r\n        this.subscribers[id] = fn;\r\n        this.transport.subscribeToConnectionStatus(() => this.notifySubscribers());\r\n        if (this._running || !this.multiplayer) {\r\n            fn(this.getState());\r\n        }\r\n        // Return a handle that allows the caller to unsubscribe.\r\n        return () => {\r\n            delete this.subscribers[id];\r\n        };\r\n    }\r\n    getInitialState() {\r\n        return this.initialState;\r\n    }\r\n    getState() {\r\n        let state = this.store.getState();\r\n        if (this.gameStateOverride !== null) {\r\n            state = this.gameStateOverride;\r\n        }\r\n        // This is the state before a sync with the game master.\r\n        if (state === null) {\r\n            return state;\r\n        }\r\n        // isActive.\r\n        let isActive = true;\r\n        const isPlayerActive = this.game.flow.isPlayerActive(state.G, state.ctx, this.playerID);\r\n        if (this.multiplayer && !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (!this.multiplayer &&\r\n            this.playerID !== null &&\r\n            this.playerID !== undefined &&\r\n            !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (state.ctx.gameover !== undefined) {\r\n            isActive = false;\r\n        }\r\n        // Secrets are normally stripped on the server,\r\n        // but we also strip them here so that game developers\r\n        // can see their effects while prototyping.\r\n        // Do not strip again if this is a multiplayer game\r\n        // since the server has already stripped secret info. (issue #818)\r\n        if (!this.multiplayer) {\r\n            state = {\r\n                ...state,\r\n                G: this.game.playerView(state.G, state.ctx, this.playerID),\r\n                plugins: (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_3__.x)(state, this),\r\n            };\r\n        }\r\n        // Combine into return value.\r\n        return {\r\n            ...state,\r\n            log: this.log,\r\n            isActive,\r\n            isConnected: this.transport.isConnected,\r\n        };\r\n    }\r\n    createDispatchers() {\r\n        this.moves = createMoveDispatchers(this.game.moveNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.events = createEventDispatchers(this.game.flow.enabledEventNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.plugins = createPluginDispatchers(this.game.pluginNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n    }\r\n    updatePlayerID(playerID) {\r\n        this.playerID = playerID;\r\n        this.createDispatchers();\r\n        this.transport.updatePlayerID(playerID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateMatchID(matchID) {\r\n        this.matchID = matchID;\r\n        this.createDispatchers();\r\n        this.transport.updateMatchID(matchID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateCredentials(credentials) {\r\n        this.credentials = credentials;\r\n        this.createDispatchers();\r\n        this.transport.updateCredentials(credentials);\r\n        this.notifySubscribers();\r\n    }\r\n}\r\n/**\r\n * Client\r\n *\r\n * boardgame.io JS client.\r\n *\r\n * @param {...object} game - The return value of `Game`.\r\n * @param {...object} numPlayers - The number of players.\r\n * @param {...object} multiplayer - Set to a falsy value or a transportFactory, e.g., SocketIO()\r\n * @param {...object} matchID - The matchID that you want to connect to.\r\n * @param {...object} playerID - The playerID associated with this client.\r\n * @param {...string} credentials - The authentication credentials associated with this client.\r\n *\r\n * Returns:\r\n *   A JS object that provides an API to interact with the\r\n *   game by dispatching moves and events.\r\n */\r\nfunction Client(opts) {\r\n    return new _ClientImpl(opts);\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2NsaWVudC1mYTM2YzAzYS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyQztBQUNNO0FBQ2E7QUFDc047QUFDM0o7QUFDMUQ7QUFDTjs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscURBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLElBQXFDO0FBQ2pELHdCQUF3QixpREFBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscUJBQXFCO0FBQzlDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQWM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBGQUEwRjtBQUM1RyxvQkFBb0IsdURBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBaUI7QUFDeEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLDBEQUFjLEdBQUcsNkJBQTZCO0FBQzlFO0FBQ0E7QUFDQSxnQ0FBZ0MsMERBQUs7QUFDckM7QUFDQTtBQUNBLDJCQUEyQiwwREFBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMERBQUk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0RBQVM7QUFDOUIscUJBQXFCLHNEQUFVO0FBQy9CLHFCQUFxQixzREFBSTtBQUN6QixxQkFBcUIsc0RBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0RBQUs7QUFDMUI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNEQUFLO0FBQzFCLHFCQUFxQixzREFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzREFBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQWdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzREFBZSxDQUFDLG1EQUEyQjtBQUN0RTtBQUNBLHFDQUFxQyw4Q0FBTztBQUM1QyxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBTTtBQUMxQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMERBQUk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwREFBTTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMERBQUs7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFdBQVc7QUFDdEIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsV0FBVztBQUN0QixXQUFXLFdBQVc7QUFDdEIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9ib2FyZGdhbWUuaW8vZGlzdC9lc20vY2xpZW50LWZhMzZjMDNhLmpzPzk0ODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbmFub2lkIH0gZnJvbSAnbmFub2lkL25vbi1zZWN1cmUnO1xuaW1wb3J0IHsgRCBhcyBEZWJ1ZyB9IGZyb20gJy4vRGVidWctZmQwOWI4YmMuanMnO1xuaW1wb3J0IHsgYXBwbHlNaWRkbGV3YXJlLCBjb21wb3NlLCBjcmVhdGVTdG9yZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IHUgYXMgcmVzZXQsIHYgYXMgdW5kbywgdyBhcyByZWRvLCBzIGFzIHN5bmMsIHggYXMgUGxheWVyVmlldywgQSBhcyBBY3Rpb25DcmVhdG9ycywgaiBhcyBTWU5DLCBrIGFzIFVQREFURSwgUCBhcyBQQVRDSCwgbCBhcyBSRVNFVCwgUiBhcyBSRURPLCBoIGFzIFVORE8sIG8gYXMgR0FNRV9FVkVOVCwgTSBhcyBNQUtFX01PVkUsIHAgYXMgU1RSSVBfVFJBTlNJRU5UUywgeSBhcyBwYXRjaCwgeiBhcyB1cGRhdGUgfSBmcm9tICcuL3R1cm4tb3JkZXItMGI3ZGNlM2QuanMnO1xuaW1wb3J0IHsgUCBhcyBQcm9jZXNzR2FtZUNvbmZpZywgQyBhcyBDcmVhdGVHYW1lUmVkdWNlciwgVCBhcyBUcmFuc2llbnRIYW5kbGluZ01pZGRsZXdhcmUgfSBmcm9tICcuL3JlZHVjZXItMDdjN2IzMDcuanMnO1xuaW1wb3J0IHsgSSBhcyBJbml0aWFsaXplR2FtZSB9IGZyb20gJy4vaW5pdGlhbGl6ZS05YWMxYmJmNS5qcyc7XG5pbXBvcnQgeyBUIGFzIFRyYW5zcG9ydCB9IGZyb20gJy4vdHJhbnNwb3J0LWNlMDdiNzcxLmpzJztcblxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgZG9lc27igJl0IGRvIGFueXRoaW5nLCBidXQgc2ltcGxpZmllcyB0aGUgY2xpZW50IGNsYXNzIGJ5IHByb3ZpZGluZ1xyXG4gKiBkdW1teSBmdW5jdGlvbnMgdG8gY2FsbCwgc28gd2UgZG9u4oCZdCBuZWVkIHRvIG1vY2sgdGhlbSBpbiB0aGUgY2xpZW50LlxyXG4gKi9cclxuY2xhc3MgRHVtbXlJbXBsIGV4dGVuZHMgVHJhbnNwb3J0IHtcclxuICAgIGNvbm5lY3QoKSB7IH1cclxuICAgIGRpc2Nvbm5lY3QoKSB7IH1cclxuICAgIHNlbmRBY3Rpb24oKSB7IH1cclxuICAgIHNlbmRDaGF0TWVzc2FnZSgpIHsgfVxyXG4gICAgcmVxdWVzdFN5bmMoKSB7IH1cclxuICAgIHVwZGF0ZUNyZWRlbnRpYWxzKCkgeyB9XHJcbiAgICB1cGRhdGVNYXRjaElEKCkgeyB9XHJcbiAgICB1cGRhdGVQbGF5ZXJJRCgpIHsgfVxyXG59XHJcbmNvbnN0IER1bW15VHJhbnNwb3J0ID0gKG9wdHMpID0+IG5ldyBEdW1teUltcGwob3B0cyk7XG5cbi8qKlxyXG4gKiBDbGFzcyB0byBtYW5hZ2UgYm9hcmRnYW1lLmlvIGNsaWVudHMgYW5kIGxpbWl0IGRlYnVnIHBhbmVsIHJlbmRlcmluZy5cclxuICovXHJcbmNsYXNzIENsaWVudE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z1BhbmVsID0gbnVsbDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDbGllbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2xpZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNsaWVudCB3aXRoIHRoZSBjbGllbnQgbWFuYWdlci5cclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXIoY2xpZW50KSB7XHJcbiAgICAgICAgLy8gQWRkIGNsaWVudCB0byBjbGllbnRzIG1hcC5cclxuICAgICAgICB0aGlzLmNsaWVudHMuc2V0KGNsaWVudCwgY2xpZW50KTtcclxuICAgICAgICAvLyBNb3VudCBkZWJ1ZyBmb3IgdGhpcyBjbGllbnQgKG5vLW9wIGlmIGFub3RoZXIgZGVidWcgaXMgYWxyZWFkeSBtb3VudGVkKS5cclxuICAgICAgICB0aGlzLm1vdW50RGVidWcoY2xpZW50KTtcclxuICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVucmVnaXN0ZXIgYSBjbGllbnQgZnJvbSB0aGUgY2xpZW50IG1hbmFnZXIuXHJcbiAgICAgKi9cclxuICAgIHVucmVnaXN0ZXIoY2xpZW50KSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGNsaWVudCBmcm9tIGNsaWVudHMgbWFwLlxyXG4gICAgICAgIHRoaXMuY2xpZW50cy5kZWxldGUoY2xpZW50KTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2xpZW50ID09PSBjbGllbnQpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHJlbW92ZWQgY2xpZW50IG93bmVkIHRoZSBkZWJ1ZyBwYW5lbCwgdW5tb3VudCBpdC5cclxuICAgICAgICAgICAgdGhpcy51bm1vdW50RGVidWcoKTtcclxuICAgICAgICAgICAgLy8gTW91bnQgZGVidWcgcGFuZWwgZm9yIG5leHQgYXZhaWxhYmxlIGNsaWVudC5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBbY2xpZW50XSBvZiB0aGlzLmNsaWVudHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnUGFuZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdW50RGVidWcoY2xpZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN1YnNjcmliZSB0byB0aGUgY2xpZW50IG1hbmFnZXIgc3RhdGUuXHJcbiAgICAgKiBDYWxscyB0aGUgcGFzc2VkIGNhbGxiYWNrIGVhY2ggdGltZSB0aGUgY3VycmVudCBjbGllbnQgY2hhbmdlcyBvciBhIGNsaWVudFxyXG4gICAgICogcmVnaXN0ZXJzL3VucmVnaXN0ZXJzLlxyXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlIGZyb20gdGhlIHN0YXRlIHVwZGF0ZXMuXHJcbiAgICAgKi9cclxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IGlkID0gU3ltYm9sKCk7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5zZXQoaWQsIGNhbGxiYWNrKTtcclxuICAgICAgICBjYWxsYmFjayh0aGlzLmdldFN0YXRlKCkpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuZGVsZXRlKGlkKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2l0Y2ggdG8gYSBjbGllbnQgd2l0aCBhIG1hdGNoaW5nIHBsYXllcklELlxyXG4gICAgICovXHJcbiAgICBzd2l0Y2hQbGF5ZXJJRChwbGF5ZXJJRCkge1xyXG4gICAgICAgIC8vIEZvciBtdWx0aXBsYXllciBjbGllbnRzLCB0cnkgc3dpdGNoaW5nIGNvbnRyb2wgdG8gYSBkaWZmZXJlbnQgY2xpZW50XHJcbiAgICAgICAgLy8gdGhhdCBpcyB1c2luZyB0aGUgc2FtZSB0cmFuc3BvcnQgbGF5ZXIuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENsaWVudC5tdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjbGllbnRdIG9mIHRoaXMuY2xpZW50cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsaWVudC5wbGF5ZXJJRCA9PT0gcGxheWVySUQgJiZcclxuICAgICAgICAgICAgICAgICAgICBjbGllbnQuZGVidWdPcHQgIT09IGZhbHNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50Lm11bHRpcGxheWVyID09PSB0aGlzLmN1cnJlbnRDbGllbnQubXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFRvQ2xpZW50KGNsaWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vIGNsaWVudCBtYXRjaGVzLCB1cGRhdGUgdGhlIHBsYXllcklEIGZvciB0aGUgY3VycmVudCBjbGllbnQuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50Q2xpZW50LnVwZGF0ZVBsYXllcklEKHBsYXllcklEKTtcclxuICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgcGFzc2VkIGNsaWVudCBhcyB0aGUgYWN0aXZlIGNsaWVudCBmb3IgZGVidWdnaW5nLlxyXG4gICAgICovXHJcbiAgICBzd2l0Y2hUb0NsaWVudChjbGllbnQpIHtcclxuICAgICAgICBpZiAoY2xpZW50ID09PSB0aGlzLmN1cnJlbnRDbGllbnQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnVubW91bnREZWJ1ZygpO1xyXG4gICAgICAgIHRoaXMubW91bnREZWJ1ZyhjbGllbnQpO1xyXG4gICAgICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTm90aWZ5IGFsbCBzdWJzY3JpYmVycyBvZiBjaGFuZ2VzIHRvIHRoZSBjbGllbnQgbWFuYWdlciBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgbm90aWZ5U3Vic2NyaWJlcnMoKSB7XHJcbiAgICAgICAgY29uc3QgYXJnID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaCgoY2IpID0+IHtcclxuICAgICAgICAgICAgY2IoYXJnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjbGllbnQgbWFuYWdlciBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgZ2V0U3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2xpZW50OiB0aGlzLmN1cnJlbnRDbGllbnQsXHJcbiAgICAgICAgICAgIGRlYnVnZ2FibGVDbGllbnRzOiB0aGlzLmdldERlYnVnZ2FibGVDbGllbnRzKCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFuIGFycmF5IG9mIHRoZSByZWdpc3RlcmVkIGNsaWVudHMgdGhhdCBoYXZlbuKAmXQgZGlzYWJsZWQgdGhlIGRlYnVnIHBhbmVsLlxyXG4gICAgICovXHJcbiAgICBnZXREZWJ1Z2dhYmxlQ2xpZW50cygpIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuY2xpZW50cy52YWx1ZXMoKV0uZmlsdGVyKChjbGllbnQpID0+IGNsaWVudC5kZWJ1Z09wdCAhPT0gZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNb3VudCB0aGUgZGVidWcgcGFuZWwgdXNpbmcgdGhlIHBhc3NlZCBjbGllbnQuXHJcbiAgICAgKi9cclxuICAgIG1vdW50RGVidWcoY2xpZW50KSB7XHJcbiAgICAgICAgaWYgKGNsaWVudC5kZWJ1Z09wdCA9PT0gZmFsc2UgfHxcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z1BhbmVsICE9PSBudWxsIHx8XHJcbiAgICAgICAgICAgIHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgRGVidWdJbXBsO1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIERlYnVnSW1wbCA9IERlYnVnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2xpZW50LmRlYnVnT3B0ICYmIGNsaWVudC5kZWJ1Z09wdCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBEZWJ1Z0ltcGwgPSBjbGllbnQuZGVidWdPcHQuaW1wbCB8fCBEZWJ1Z0ltcGw7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IGNsaWVudC5kZWJ1Z09wdC50YXJnZXQgfHwgdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoRGVidWdJbXBsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENsaWVudCA9IGNsaWVudDtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z1BhbmVsID0gbmV3IERlYnVnSW1wbCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICBwcm9wczogeyBjbGllbnRNYW5hZ2VyOiB0aGlzIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVW5tb3VudCB0aGUgZGVidWcgcGFuZWwuXHJcbiAgICAgKi9cclxuICAgIHVubW91bnREZWJ1ZygpIHtcclxuICAgICAgICB0aGlzLmRlYnVnUGFuZWwuJGRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmRlYnVnUGFuZWwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudENsaWVudCA9IG51bGw7XHJcbiAgICB9XHJcbn1cblxuLypcclxuICogQ29weXJpZ2h0IDIwMTcgVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbi8qKlxyXG4gKiBHbG9iYWwgY2xpZW50IG1hbmFnZXIgaW5zdGFuY2UgdGhhdCBhbGwgY2xpZW50cyByZWdpc3RlciB3aXRoLlxyXG4gKi9cclxuY29uc3QgR2xvYmFsQ2xpZW50TWFuYWdlciA9IG5ldyBDbGllbnRNYW5hZ2VyKCk7XHJcbi8qKlxyXG4gKiBTdGFuZGFyZGlzZSB0aGUgcGFzc2VkIHBsYXllcklELCB1c2luZyBjdXJyZW50UGxheWVyIGlmIGFwcHJvcHJpYXRlLlxyXG4gKi9cclxuZnVuY3Rpb24gYXNzdW1lZFBsYXllcklEKHBsYXllcklELCBzdG9yZSwgbXVsdGlwbGF5ZXIpIHtcclxuICAgIC8vIEluIHNpbmdsZXBsYXllciBtb2RlLCBpZiB0aGUgY2xpZW50IGRvZXMgbm90IGhhdmUgYSBwbGF5ZXJJRFxyXG4gICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0LCB3ZSBhdHRhY2ggdGhlIGN1cnJlbnRQbGF5ZXIgYXMgcGxheWVySUQuXHJcbiAgICBpZiAoIW11bHRpcGxheWVyICYmIChwbGF5ZXJJRCA9PT0gbnVsbCB8fCBwbGF5ZXJJRCA9PT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcclxuICAgICAgICBwbGF5ZXJJRCA9IHN0YXRlLmN0eC5jdXJyZW50UGxheWVyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBsYXllcklEO1xyXG59XHJcbi8qKlxyXG4gKiBjcmVhdGVEaXNwYXRjaGVyc1xyXG4gKlxyXG4gKiBDcmVhdGUgYWN0aW9uIGRpc3BhdGNoZXIgd3JhcHBlcnMgd2l0aCBib3VuZCBwbGF5ZXJJRCBhbmQgY3JlZGVudGlhbHNcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZURpc3BhdGNoZXJzKHN0b3JlQWN0aW9uVHlwZSwgaW5uZXJBY3Rpb25OYW1lcywgc3RvcmUsIHBsYXllcklELCBjcmVkZW50aWFscywgbXVsdGlwbGF5ZXIpIHtcclxuICAgIGNvbnN0IGRpc3BhdGNoZXJzID0ge307XHJcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgaW5uZXJBY3Rpb25OYW1lcykge1xyXG4gICAgICAgIGRpc3BhdGNoZXJzW25hbWVdID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gQWN0aW9uQ3JlYXRvcnNbc3RvcmVBY3Rpb25UeXBlXShuYW1lLCBhcmdzLCBhc3N1bWVkUGxheWVySUQocGxheWVySUQsIHN0b3JlLCBtdWx0aXBsYXllciksIGNyZWRlbnRpYWxzKTtcclxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRpc3BhdGNoZXJzO1xyXG59XHJcbi8vIENyZWF0ZXMgYSBzZXQgb2YgZGlzcGF0Y2hlcnMgdG8gbWFrZSBtb3Zlcy5cclxuY29uc3QgY3JlYXRlTW92ZURpc3BhdGNoZXJzID0gY3JlYXRlRGlzcGF0Y2hlcnMuYmluZChudWxsLCAnbWFrZU1vdmUnKTtcclxuLy8gQ3JlYXRlcyBhIHNldCBvZiBkaXNwYXRjaGVycyB0byBkaXNwYXRjaCBnYW1lIGZsb3cgZXZlbnRzLlxyXG5jb25zdCBjcmVhdGVFdmVudERpc3BhdGNoZXJzID0gY3JlYXRlRGlzcGF0Y2hlcnMuYmluZChudWxsLCAnZ2FtZUV2ZW50Jyk7XHJcbi8vIENyZWF0ZXMgYSBzZXQgb2YgZGlzcGF0Y2hlcnMgdG8gZGlzcGF0Y2ggYWN0aW9ucyB0byBwbHVnaW5zLlxyXG5jb25zdCBjcmVhdGVQbHVnaW5EaXNwYXRjaGVycyA9IGNyZWF0ZURpc3BhdGNoZXJzLmJpbmQobnVsbCwgJ3BsdWdpbicpO1xyXG4vKipcclxuICogSW1wbGVtZW50YXRpb24gb2YgQ2xpZW50IChzZWUgYmVsb3cpLlxyXG4gKi9cclxuY2xhc3MgX0NsaWVudEltcGwge1xyXG4gICAgY29uc3RydWN0b3IoeyBnYW1lLCBkZWJ1ZywgbnVtUGxheWVycywgbXVsdGlwbGF5ZXIsIG1hdGNoSUQ6IG1hdGNoSUQsIHBsYXllcklELCBjcmVkZW50aWFscywgZW5oYW5jZXIsIH0pIHtcclxuICAgICAgICB0aGlzLmdhbWUgPSBQcm9jZXNzR2FtZUNvbmZpZyhnYW1lKTtcclxuICAgICAgICB0aGlzLnBsYXllcklEID0gcGxheWVySUQ7XHJcbiAgICAgICAgdGhpcy5tYXRjaElEID0gbWF0Y2hJRCB8fCAnZGVmYXVsdCc7XHJcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGF5ZXIgPSBtdWx0aXBsYXllcjtcclxuICAgICAgICB0aGlzLmRlYnVnT3B0ID0gZGVidWc7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyID0gR2xvYmFsQ2xpZW50TWFuYWdlcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZU92ZXJyaWRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZXJzID0ge307XHJcbiAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVkdWNlciA9IENyZWF0ZUdhbWVSZWR1Y2VyKHtcclxuICAgICAgICAgICAgZ2FtZTogdGhpcy5nYW1lLFxyXG4gICAgICAgICAgICBpc0NsaWVudDogbXVsdGlwbGF5ZXIgIT09IHVuZGVmaW5lZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKCFtdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSA9IEluaXRpYWxpemVHYW1lKHsgZ2FtZTogdGhpcy5nYW1lLCBudW1QbGF5ZXJzIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlc2V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHJlc2V0KHRoaXMuaW5pdGlhbFN0YXRlKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVuZG8kMSA9IHVuZG8oYXNzdW1lZFBsYXllcklEKHRoaXMucGxheWVySUQsIHRoaXMuc3RvcmUsIHRoaXMubXVsdGlwbGF5ZXIpLCB0aGlzLmNyZWRlbnRpYWxzKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh1bmRvJDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZWRvID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZWRvJDEgPSByZWRvKGFzc3VtZWRQbGF5ZXJJRCh0aGlzLnBsYXllcklELCB0aGlzLnN0b3JlLCB0aGlzLm11bHRpcGxheWVyKSwgdGhpcy5jcmVkZW50aWFscyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVkbyQxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubG9nID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTWlkZGxld2FyZSB0aGF0IG1hbmFnZXMgdGhlIGxvZyBvYmplY3QuXHJcbiAgICAgICAgICogUmVkdWNlcnMgZ2VuZXJhdGUgZGVsdGFsb2dzLCB3aGljaCBhcmUgbG9nIGV2ZW50c1xyXG4gICAgICAgICAqIHRoYXQgYXJlIHRoZSByZXN1bHQgb2YgYXBwbGljYXRpb24gb2YgYSBzaW5nbGUgYWN0aW9uLlxyXG4gICAgICAgICAqIFRoZSBtYXN0ZXIgbWF5IGFsc28gc2VuZCBiYWNrIGEgZGVsdGFsb2cgb3IgdGhlIGVudGlyZVxyXG4gICAgICAgICAqIGxvZyBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgcmVxdWVzdC5cclxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSBiZWxvdyB0YWtlcyBjYXJlIG9mIGFsbCB0aGVzZSBjYXNlcyB3aGlsZVxyXG4gICAgICAgICAqIG1hbmFnaW5nIHRoZSBsb2cgb2JqZWN0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IExvZ01pZGRsZXdhcmUgPSAoc3RvcmUpID0+IChuZXh0KSA9PiAoYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQoYWN0aW9uKTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1BS0VfTU9WRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR0FNRV9FVkVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgVU5ETzpcclxuICAgICAgICAgICAgICAgIGNhc2UgUkVETzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhbG9nID0gc3RhdGUuZGVsdGFsb2c7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cgPSBbLi4udGhpcy5sb2csIC4uLmRlbHRhbG9nXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgUkVTRVQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBQQVRDSDpcclxuICAgICAgICAgICAgICAgIGNhc2UgVVBEQVRFOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG9nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSB0aGlzLmxvZ1t0aGlzLmxvZy5sZW5ndGggLSAxXS5fc3RhdGVJRDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhbG9nID0gYWN0aW9uLmRlbHRhbG9nIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgYWN0aW9ucyB0aGF0IGFyZSBhbHJlYWR5IHByZXNlbnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGUgY3VycmVudCBsb2cuIFRoaXMgbWF5IG9jY3VyIHdoZW4gdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xpZW50IGFkZHMgYW4gZW50cnkgdG8gdGhlIGxvZyBmb2xsb3dlZCBieVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSB1cGRhdGUgZnJvbSB0aGUgbWFzdGVyIGhlcmUuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFsb2cgPSBkZWx0YWxvZy5maWx0ZXIoKGwpID0+IGwuX3N0YXRlSUQgPiBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cgPSBbLi4udGhpcy5sb2csIC4uLmRlbHRhbG9nXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgU1lOQzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlID0gYWN0aW9uLmluaXRpYWxTdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyA9IGFjdGlvbi5sb2cgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE1pZGRsZXdhcmUgdGhhdCBpbnRlcmNlcHRzIGFjdGlvbnMgYW5kIHNlbmRzIHRoZW0gdG8gdGhlIG1hc3RlcixcclxuICAgICAgICAgKiB3aGljaCBrZWVwcyB0aGUgYXV0aG9yaXRhdGl2ZSB2ZXJzaW9uIG9mIHRoZSBzdGF0ZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBUcmFuc3BvcnRNaWRkbGV3YXJlID0gKHN0b3JlKSA9PiAobmV4dCkgPT4gKGFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0KGFjdGlvbik7XHJcbiAgICAgICAgICAgIGlmICghKCdjbGllbnRPbmx5JyBpbiBhY3Rpb24pICYmXHJcbiAgICAgICAgICAgICAgICBhY3Rpb24udHlwZSAhPT0gU1RSSVBfVFJBTlNJRU5UUykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZEFjdGlvbihiYXNlU3RhdGUsIGFjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE1pZGRsZXdhcmUgdGhhdCBpbnRlcmNlcHRzIGFjdGlvbnMgYW5kIGludm9rZXMgdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjay5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBTdWJzY3JpcHRpb25NaWRkbGV3YXJlID0gKCkgPT4gKG5leHQpID0+IChhY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dChhY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBtaWRkbGV3YXJlID0gYXBwbHlNaWRkbGV3YXJlKFRyYW5zaWVudEhhbmRsaW5nTWlkZGxld2FyZSwgU3Vic2NyaXB0aW9uTWlkZGxld2FyZSwgVHJhbnNwb3J0TWlkZGxld2FyZSwgTG9nTWlkZGxld2FyZSk7XHJcbiAgICAgICAgZW5oYW5jZXIgPVxyXG4gICAgICAgICAgICBlbmhhbmNlciAhPT0gdW5kZWZpbmVkID8gY29tcG9zZShtaWRkbGV3YXJlLCBlbmhhbmNlcikgOiBtaWRkbGV3YXJlO1xyXG4gICAgICAgIHRoaXMuc3RvcmUgPSBjcmVhdGVTdG9yZSh0aGlzLnJlZHVjZXIsIHRoaXMuaW5pdGlhbFN0YXRlLCBlbmhhbmNlcik7XHJcbiAgICAgICAgaWYgKCFtdWx0aXBsYXllcilcclxuICAgICAgICAgICAgbXVsdGlwbGF5ZXIgPSBEdW1teVRyYW5zcG9ydDtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG11bHRpcGxheWVyKHtcclxuICAgICAgICAgICAgdHJhbnNwb3J0RGF0YUNhbGxiYWNrOiAoZGF0YSkgPT4gdGhpcy5yZWNlaXZlVHJhbnNwb3J0RGF0YShkYXRhKSxcclxuICAgICAgICAgICAgZ2FtZUtleTogZ2FtZSxcclxuICAgICAgICAgICAgZ2FtZTogdGhpcy5nYW1lLFxyXG4gICAgICAgICAgICBtYXRjaElELFxyXG4gICAgICAgICAgICBwbGF5ZXJJRCxcclxuICAgICAgICAgICAgY3JlZGVudGlhbHMsXHJcbiAgICAgICAgICAgIGdhbWVOYW1lOiB0aGlzLmdhbWUubmFtZSxcclxuICAgICAgICAgICAgbnVtUGxheWVycyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNyZWF0ZURpc3BhdGNoZXJzKCk7XHJcbiAgICAgICAgdGhpcy5jaGF0TWVzc2FnZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnNlbmRDaGF0TWVzc2FnZSA9IChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnNlbmRDaGF0TWVzc2FnZSh0aGlzLm1hdGNoSUQsIHtcclxuICAgICAgICAgICAgICAgIGlkOiBuYW5vaWQoNyksXHJcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMucGxheWVySUQsXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqIEhhbmRsZSBpbmNvbWluZyBtYXRjaCBkYXRhIGZyb20gYSBtdWx0aXBsYXllciB0cmFuc3BvcnQuICovXHJcbiAgICByZWNlaXZlTWF0Y2hEYXRhKG1hdGNoRGF0YSkge1xyXG4gICAgICAgIHRoaXMubWF0Y2hEYXRhID0gbWF0Y2hEYXRhO1xyXG4gICAgICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcclxuICAgIH1cclxuICAgIC8qKiBIYW5kbGUgYW4gaW5jb21pbmcgY2hhdCBtZXNzYWdlIGZyb20gYSBtdWx0aXBsYXllciB0cmFuc3BvcnQuICovXHJcbiAgICByZWNlaXZlQ2hhdE1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzID0gWy4uLnRoaXMuY2hhdE1lc3NhZ2VzLCBtZXNzYWdlXTtcclxuICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcbiAgICB9XHJcbiAgICAvKiogSGFuZGxlIGFsbCBpbmNvbWluZyB1cGRhdGVzIGZyb20gYSBtdWx0aXBsYXllciB0cmFuc3BvcnQuICovXHJcbiAgICByZWNlaXZlVHJhbnNwb3J0RGF0YShkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgW21hdGNoSURdID0gZGF0YS5hcmdzO1xyXG4gICAgICAgIGlmIChtYXRjaElEICE9PSB0aGlzLm1hdGNoSUQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdzeW5jJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgWywgc3luY0luZm9dID0gZGF0YS5hcmdzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gc3luYyhzeW5jSW5mbyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVNYXRjaERhdGEoc3luY0luZm8uZmlsdGVyZWRNZXRhZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICd1cGRhdGUnOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBzdGF0ZSwgZGVsdGFsb2ddID0gZGF0YS5hcmdzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9zdGF0ZUlEID49IGN1cnJlbnRTdGF0ZS5fc3RhdGVJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHVwZGF0ZShzdGF0ZSwgZGVsdGFsb2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ3BhdGNoJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgWywgcHJldlN0YXRlSUQsIHN0YXRlSUQsIHBhdGNoJDEsIGRlbHRhbG9nXSA9IGRhdGEuYXJncztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZUlEID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLl9zdGF0ZUlEO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTdGF0ZUlEICE9PSBjdXJyZW50U3RhdGVJRClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHBhdGNoKHByZXZTdGF0ZUlELCBzdGF0ZUlELCBwYXRjaCQxLCBkZWx0YWxvZyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyBFbWl0IHN5bmMgaWYgcGF0Y2ggYXBwbHkgZmFpbGVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5fc3RhdGVJRCA9PT0gY3VycmVudFN0YXRlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0U3luYygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAnbWF0Y2hEYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgWywgbWF0Y2hEYXRhXSA9IGRhdGEuYXJncztcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZU1hdGNoRGF0YShtYXRjaERhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAnY2hhdCc6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFssIGNoYXRNZXNzYWdlXSA9IGRhdGEuYXJncztcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZUNoYXRNZXNzYWdlKGNoYXRNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbm90aWZ5U3Vic2NyaWJlcnMoKSB7XHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLnN1YnNjcmliZXJzKS5mb3JFYWNoKChmbikgPT4gZm4odGhpcy5nZXRTdGF0ZSgpKSk7XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZUdhbWVTdGF0ZShzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlT3ZlcnJpZGUgPSBzdGF0ZTtcclxuICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydC5jb25uZWN0KCk7XHJcbiAgICAgICAgdGhpcy5fcnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnJlZ2lzdGVyKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydC5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWFuYWdlci51bnJlZ2lzdGVyKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgc3Vic2NyaWJlKGZuKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBPYmplY3Qua2V5cyh0aGlzLnN1YnNjcmliZXJzKS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tpZF0gPSBmbjtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydC5zdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0dXMoKCkgPT4gdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpKTtcclxuICAgICAgICBpZiAodGhpcy5fcnVubmluZyB8fCAhdGhpcy5tdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICBmbih0aGlzLmdldFN0YXRlKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZXR1cm4gYSBoYW5kbGUgdGhhdCBhbGxvd3MgdGhlIGNhbGxlciB0byB1bnN1YnNjcmliZS5cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdWJzY3JpYmVyc1tpZF07XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGdldEluaXRpYWxTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsU3RhdGU7XHJcbiAgICB9XHJcbiAgICBnZXRTdGF0ZSgpIHtcclxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlT3ZlcnJpZGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmdhbWVTdGF0ZU92ZXJyaWRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBzdGF0ZSBiZWZvcmUgYSBzeW5jIHdpdGggdGhlIGdhbWUgbWFzdGVyLlxyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlzQWN0aXZlLlxyXG4gICAgICAgIGxldCBpc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgaXNQbGF5ZXJBY3RpdmUgPSB0aGlzLmdhbWUuZmxvdy5pc1BsYXllckFjdGl2ZShzdGF0ZS5HLCBzdGF0ZS5jdHgsIHRoaXMucGxheWVySUQpO1xyXG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxheWVyICYmICFpc1BsYXllckFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGF5ZXIgJiZcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJRCAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcklEICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgIWlzUGxheWVyQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0ZS5jdHguZ2FtZW92ZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZWNyZXRzIGFyZSBub3JtYWxseSBzdHJpcHBlZCBvbiB0aGUgc2VydmVyLFxyXG4gICAgICAgIC8vIGJ1dCB3ZSBhbHNvIHN0cmlwIHRoZW0gaGVyZSBzbyB0aGF0IGdhbWUgZGV2ZWxvcGVyc1xyXG4gICAgICAgIC8vIGNhbiBzZWUgdGhlaXIgZWZmZWN0cyB3aGlsZSBwcm90b3R5cGluZy5cclxuICAgICAgICAvLyBEbyBub3Qgc3RyaXAgYWdhaW4gaWYgdGhpcyBpcyBhIG11bHRpcGxheWVyIGdhbWVcclxuICAgICAgICAvLyBzaW5jZSB0aGUgc2VydmVyIGhhcyBhbHJlYWR5IHN0cmlwcGVkIHNlY3JldCBpbmZvLiAoaXNzdWUgIzgxOClcclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICAgICAgICAgIEc6IHRoaXMuZ2FtZS5wbGF5ZXJWaWV3KHN0YXRlLkcsIHN0YXRlLmN0eCwgdGhpcy5wbGF5ZXJJRCksXHJcbiAgICAgICAgICAgICAgICBwbHVnaW5zOiBQbGF5ZXJWaWV3KHN0YXRlLCB0aGlzKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ29tYmluZSBpbnRvIHJldHVybiB2YWx1ZS5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICAgICAgbG9nOiB0aGlzLmxvZyxcclxuICAgICAgICAgICAgaXNBY3RpdmUsXHJcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLnRyYW5zcG9ydC5pc0Nvbm5lY3RlZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRGlzcGF0Y2hlcnMoKSB7XHJcbiAgICAgICAgdGhpcy5tb3ZlcyA9IGNyZWF0ZU1vdmVEaXNwYXRjaGVycyh0aGlzLmdhbWUubW92ZU5hbWVzLCB0aGlzLnN0b3JlLCB0aGlzLnBsYXllcklELCB0aGlzLmNyZWRlbnRpYWxzLCB0aGlzLm11bHRpcGxheWVyKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcnModGhpcy5nYW1lLmZsb3cuZW5hYmxlZEV2ZW50TmFtZXMsIHRoaXMuc3RvcmUsIHRoaXMucGxheWVySUQsIHRoaXMuY3JlZGVudGlhbHMsIHRoaXMubXVsdGlwbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IGNyZWF0ZVBsdWdpbkRpc3BhdGNoZXJzKHRoaXMuZ2FtZS5wbHVnaW5OYW1lcywgdGhpcy5zdG9yZSwgdGhpcy5wbGF5ZXJJRCwgdGhpcy5jcmVkZW50aWFscywgdGhpcy5tdWx0aXBsYXllcik7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVQbGF5ZXJJRChwbGF5ZXJJRCkge1xyXG4gICAgICAgIHRoaXMucGxheWVySUQgPSBwbGF5ZXJJRDtcclxuICAgICAgICB0aGlzLmNyZWF0ZURpc3BhdGNoZXJzKCk7XHJcbiAgICAgICAgdGhpcy50cmFuc3BvcnQudXBkYXRlUGxheWVySUQocGxheWVySUQpO1xyXG4gICAgICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZU1hdGNoSUQobWF0Y2hJRCkge1xyXG4gICAgICAgIHRoaXMubWF0Y2hJRCA9IG1hdGNoSUQ7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVEaXNwYXRjaGVycygpO1xyXG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnVwZGF0ZU1hdGNoSUQobWF0Y2hJRCk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQ3JlZGVudGlhbHMoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVEaXNwYXRjaGVycygpO1xyXG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnVwZGF0ZUNyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKTtcclxuICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENsaWVudFxyXG4gKlxyXG4gKiBib2FyZGdhbWUuaW8gSlMgY2xpZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gZ2FtZSAtIFRoZSByZXR1cm4gdmFsdWUgb2YgYEdhbWVgLlxyXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gbnVtUGxheWVycyAtIFRoZSBudW1iZXIgb2YgcGxheWVycy5cclxuICogQHBhcmFtIHsuLi5vYmplY3R9IG11bHRpcGxheWVyIC0gU2V0IHRvIGEgZmFsc3kgdmFsdWUgb3IgYSB0cmFuc3BvcnRGYWN0b3J5LCBlLmcuLCBTb2NrZXRJTygpXHJcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBtYXRjaElEIC0gVGhlIG1hdGNoSUQgdGhhdCB5b3Ugd2FudCB0byBjb25uZWN0IHRvLlxyXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gcGxheWVySUQgLSBUaGUgcGxheWVySUQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2xpZW50LlxyXG4gKiBAcGFyYW0gey4uLnN0cmluZ30gY3JlZGVudGlhbHMgLSBUaGUgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2xpZW50LlxyXG4gKlxyXG4gKiBSZXR1cm5zOlxyXG4gKiAgIEEgSlMgb2JqZWN0IHRoYXQgcHJvdmlkZXMgYW4gQVBJIHRvIGludGVyYWN0IHdpdGggdGhlXHJcbiAqICAgZ2FtZSBieSBkaXNwYXRjaGluZyBtb3ZlcyBhbmQgZXZlbnRzLlxyXG4gKi9cclxuZnVuY3Rpb24gQ2xpZW50KG9wdHMpIHtcclxuICAgIHJldHVybiBuZXcgX0NsaWVudEltcGwob3B0cyk7XHJcbn1cblxuZXhwb3J0IHsgQ2xpZW50IGFzIEMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/client-fa36c03a.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/core.js":
/*!****************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/core.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ActivePlayers\": function() { return /* reexport safe */ _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_0__.C; },\n/* harmony export */   \"GameMethod\": function() { return /* reexport safe */ _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_0__.G; },\n/* harmony export */   \"INVALID_MOVE\": function() { return /* reexport safe */ _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_0__.n; },\n/* harmony export */   \"PlayerView\": function() { return /* binding */ PlayerView; },\n/* harmony export */   \"Stage\": function() { return /* reexport safe */ _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_0__.S; },\n/* harmony export */   \"TurnOrder\": function() { return /* reexport safe */ _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_0__.T; }\n/* harmony export */ });\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.isplainobject */ \"./node_modules/lodash.isplainobject/index.js\");\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isplainobject__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * PlayerView reducers.\r\n */\r\nconst PlayerView = {\r\n    /**\r\n     * STRIP_SECRETS\r\n     *\r\n     * Reducer which removes a key named `secret` and\r\n     * removes all the keys in `players`, except for the one\r\n     * corresponding to the current playerID.\r\n     */\r\n    STRIP_SECRETS: (G, ctx, playerID) => {\r\n        const r = { ...G };\r\n        if (r.secret !== undefined) {\r\n            delete r.secret;\r\n        }\r\n        if (r.players) {\r\n            r.players = playerID\r\n                ? {\r\n                    [playerID]: r.players[playerID],\r\n                }\r\n                : {};\r\n        }\r\n        return r;\r\n    },\r\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2NvcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQThIO0FBQy9HO0FBQ3NCO0FBQ1A7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9ib2FyZGdhbWUuaW8vZGlzdC9lc20vY29yZS5qcz85ZmNhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IEMgYXMgQWN0aXZlUGxheWVycywgRyBhcyBHYW1lTWV0aG9kLCBuIGFzIElOVkFMSURfTU9WRSwgUyBhcyBTdGFnZSwgVCBhcyBUdXJuT3JkZXIgfSBmcm9tICcuL3R1cm4tb3JkZXItMGI3ZGNlM2QuanMnO1xuaW1wb3J0ICdpbW1lcic7XG5pbXBvcnQgJy4vcGx1Z2luLXJhbmRvbS0wODdmODYxZS5qcyc7XG5pbXBvcnQgJ2xvZGFzaC5pc3BsYWlub2JqZWN0JztcblxuLypcclxuICogQ29weXJpZ2h0IDIwMTggVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbi8qKlxyXG4gKiBQbGF5ZXJWaWV3IHJlZHVjZXJzLlxyXG4gKi9cclxuY29uc3QgUGxheWVyVmlldyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogU1RSSVBfU0VDUkVUU1xyXG4gICAgICpcclxuICAgICAqIFJlZHVjZXIgd2hpY2ggcmVtb3ZlcyBhIGtleSBuYW1lZCBgc2VjcmV0YCBhbmRcclxuICAgICAqIHJlbW92ZXMgYWxsIHRoZSBrZXlzIGluIGBwbGF5ZXJzYCwgZXhjZXB0IGZvciB0aGUgb25lXHJcbiAgICAgKiBjb3JyZXNwb25kaW5nIHRvIHRoZSBjdXJyZW50IHBsYXllcklELlxyXG4gICAgICovXHJcbiAgICBTVFJJUF9TRUNSRVRTOiAoRywgY3R4LCBwbGF5ZXJJRCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHIgPSB7IC4uLkcgfTtcclxuICAgICAgICBpZiAoci5zZWNyZXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgci5zZWNyZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyLnBsYXllcnMpIHtcclxuICAgICAgICAgICAgci5wbGF5ZXJzID0gcGxheWVySURcclxuICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgIFtwbGF5ZXJJRF06IHIucGxheWVyc1twbGF5ZXJJRF0sXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA6IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcjtcclxuICAgIH0sXHJcbn07XG5cbmV4cG9ydCB7IFBsYXllclZpZXcgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/core.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/filter-player-view-c30cdfbf.js":
/*!***************************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/filter-player-view-c30cdfbf.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"g\": function() { return /* binding */ getFilterPlayerView; }\n/* harmony export */ });\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var rfc6902__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rfc6902 */ \"./node_modules/rfc6902/index.js\");\n\n\n\nconst applyPlayerView = (game, playerID, state) => ({\r\n    ...state,\r\n    G: game.playerView(state.G, state.ctx, playerID),\r\n    plugins: (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.x)(state, { playerID, game }),\r\n    deltalog: undefined,\r\n    _undo: [],\r\n    _redo: [],\r\n});\r\n/** Gets a function that filters the TransportData for a given player and game. */\r\nconst getFilterPlayerView = (game) => (playerID, payload) => {\r\n    switch (payload.type) {\r\n        case 'patch': {\r\n            const [matchID, stateID, prevState, state] = payload.args;\r\n            const log = redactLog(state.deltalog, playerID);\r\n            const filteredState = applyPlayerView(game, playerID, state);\r\n            const newStateID = state._stateID;\r\n            const prevFilteredState = applyPlayerView(game, playerID, prevState);\r\n            const patch = (0,rfc6902__WEBPACK_IMPORTED_MODULE_0__.createPatch)(prevFilteredState, filteredState);\r\n            return {\r\n                type: 'patch',\r\n                args: [matchID, stateID, newStateID, patch, log],\r\n            };\r\n        }\r\n        case 'update': {\r\n            const [matchID, state] = payload.args;\r\n            const log = redactLog(state.deltalog, playerID);\r\n            const filteredState = applyPlayerView(game, playerID, state);\r\n            return {\r\n                type: 'update',\r\n                args: [matchID, filteredState, log],\r\n            };\r\n        }\r\n        case 'sync': {\r\n            const [matchID, syncInfo] = payload.args;\r\n            const filteredState = applyPlayerView(game, playerID, syncInfo.state);\r\n            const log = redactLog(syncInfo.log, playerID);\r\n            const newSyncInfo = {\r\n                ...syncInfo,\r\n                state: filteredState,\r\n                log,\r\n            };\r\n            return {\r\n                type: 'sync',\r\n                args: [matchID, newSyncInfo],\r\n            };\r\n        }\r\n        default: {\r\n            return payload;\r\n        }\r\n    }\r\n};\r\n/**\r\n * Redact the log.\r\n *\r\n * @param {Array} log - The game log (or deltalog).\r\n * @param {String} playerID - The playerID that this log is\r\n *                            to be sent to.\r\n */\r\nfunction redactLog(log, playerID) {\r\n    if (log === undefined) {\r\n        return log;\r\n    }\r\n    return log.map((logEvent) => {\r\n        // filter for all other players and spectators.\r\n        if (playerID !== null && +playerID === +logEvent.action.payload.playerID) {\r\n            return logEvent;\r\n        }\r\n        if (logEvent.redact !== true) {\r\n            return logEvent;\r\n        }\r\n        const payload = {\r\n            ...logEvent.action.payload,\r\n            args: null,\r\n        };\r\n        const filteredEvent = {\r\n            ...logEvent,\r\n            action: { ...logEvent.action, payload },\r\n        };\r\n        const { redact, ...remaining } = filteredEvent;\r\n        return remaining;\r\n    });\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2ZpbHRlci1wbGF5ZXItdmlldy1jMzBjZGZiZi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDckI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQVUsVUFBVSxnQkFBZ0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvREFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNkJBQTZCO0FBQ25EO0FBQ0EsZ0JBQWdCLHVCQUF1QjtBQUN2QztBQUNBLEtBQUs7QUFDTDs7QUFFb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2JvYXJkZ2FtZS5pby9kaXN0L2VzbS9maWx0ZXItcGxheWVyLXZpZXctYzMwY2RmYmYuanM/YTVhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB4IGFzIFBsYXllclZpZXcgfSBmcm9tICcuL3R1cm4tb3JkZXItMGI3ZGNlM2QuanMnO1xuaW1wb3J0IHsgY3JlYXRlUGF0Y2ggfSBmcm9tICdyZmM2OTAyJztcblxuY29uc3QgYXBwbHlQbGF5ZXJWaWV3ID0gKGdhbWUsIHBsYXllcklELCBzdGF0ZSkgPT4gKHtcclxuICAgIC4uLnN0YXRlLFxyXG4gICAgRzogZ2FtZS5wbGF5ZXJWaWV3KHN0YXRlLkcsIHN0YXRlLmN0eCwgcGxheWVySUQpLFxyXG4gICAgcGx1Z2luczogUGxheWVyVmlldyhzdGF0ZSwgeyBwbGF5ZXJJRCwgZ2FtZSB9KSxcclxuICAgIGRlbHRhbG9nOiB1bmRlZmluZWQsXHJcbiAgICBfdW5kbzogW10sXHJcbiAgICBfcmVkbzogW10sXHJcbn0pO1xyXG4vKiogR2V0cyBhIGZ1bmN0aW9uIHRoYXQgZmlsdGVycyB0aGUgVHJhbnNwb3J0RGF0YSBmb3IgYSBnaXZlbiBwbGF5ZXIgYW5kIGdhbWUuICovXHJcbmNvbnN0IGdldEZpbHRlclBsYXllclZpZXcgPSAoZ2FtZSkgPT4gKHBsYXllcklELCBwYXlsb2FkKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHBheWxvYWQudHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ3BhdGNoJzoge1xyXG4gICAgICAgICAgICBjb25zdCBbbWF0Y2hJRCwgc3RhdGVJRCwgcHJldlN0YXRlLCBzdGF0ZV0gPSBwYXlsb2FkLmFyZ3M7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IHJlZGFjdExvZyhzdGF0ZS5kZWx0YWxvZywgcGxheWVySUQpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFN0YXRlID0gYXBwbHlQbGF5ZXJWaWV3KGdhbWUsIHBsYXllcklELCBzdGF0ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlSUQgPSBzdGF0ZS5fc3RhdGVJRDtcclxuICAgICAgICAgICAgY29uc3QgcHJldkZpbHRlcmVkU3RhdGUgPSBhcHBseVBsYXllclZpZXcoZ2FtZSwgcGxheWVySUQsIHByZXZTdGF0ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gY3JlYXRlUGF0Y2gocHJldkZpbHRlcmVkU3RhdGUsIGZpbHRlcmVkU3RhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3BhdGNoJyxcclxuICAgICAgICAgICAgICAgIGFyZ3M6IFttYXRjaElELCBzdGF0ZUlELCBuZXdTdGF0ZUlELCBwYXRjaCwgbG9nXSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAndXBkYXRlJzoge1xyXG4gICAgICAgICAgICBjb25zdCBbbWF0Y2hJRCwgc3RhdGVdID0gcGF5bG9hZC5hcmdzO1xyXG4gICAgICAgICAgICBjb25zdCBsb2cgPSByZWRhY3RMb2coc3RhdGUuZGVsdGFsb2csIHBsYXllcklEKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTdGF0ZSA9IGFwcGx5UGxheWVyVmlldyhnYW1lLCBwbGF5ZXJJRCwgc3RhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3VwZGF0ZScsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBbbWF0Y2hJRCwgZmlsdGVyZWRTdGF0ZSwgbG9nXSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnc3luYyc6IHtcclxuICAgICAgICAgICAgY29uc3QgW21hdGNoSUQsIHN5bmNJbmZvXSA9IHBheWxvYWQuYXJncztcclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTdGF0ZSA9IGFwcGx5UGxheWVyVmlldyhnYW1lLCBwbGF5ZXJJRCwgc3luY0luZm8uc3RhdGUpO1xyXG4gICAgICAgICAgICBjb25zdCBsb2cgPSByZWRhY3RMb2coc3luY0luZm8ubG9nLCBwbGF5ZXJJRCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1N5bmNJbmZvID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3luY0luZm8sXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogZmlsdGVyZWRTdGF0ZSxcclxuICAgICAgICAgICAgICAgIGxvZyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdzeW5jJyxcclxuICAgICAgICAgICAgICAgIGFyZ3M6IFttYXRjaElELCBuZXdTeW5jSW5mb10sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmVkYWN0IHRoZSBsb2cuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGxvZyAtIFRoZSBnYW1lIGxvZyAob3IgZGVsdGFsb2cpLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGxheWVySUQgLSBUaGUgcGxheWVySUQgdGhhdCB0aGlzIGxvZyBpc1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byBiZSBzZW50IHRvLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVkYWN0TG9nKGxvZywgcGxheWVySUQpIHtcclxuICAgIGlmIChsb2cgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBsb2c7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbG9nLm1hcCgobG9nRXZlbnQpID0+IHtcclxuICAgICAgICAvLyBmaWx0ZXIgZm9yIGFsbCBvdGhlciBwbGF5ZXJzIGFuZCBzcGVjdGF0b3JzLlxyXG4gICAgICAgIGlmIChwbGF5ZXJJRCAhPT0gbnVsbCAmJiArcGxheWVySUQgPT09ICtsb2dFdmVudC5hY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9nRXZlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2dFdmVudC5yZWRhY3QgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvZ0V2ZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAuLi5sb2dFdmVudC5hY3Rpb24ucGF5bG9hZCxcclxuICAgICAgICAgICAgYXJnczogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkRXZlbnQgPSB7XHJcbiAgICAgICAgICAgIC4uLmxvZ0V2ZW50LFxyXG4gICAgICAgICAgICBhY3Rpb246IHsgLi4ubG9nRXZlbnQuYWN0aW9uLCBwYXlsb2FkIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB7IHJlZGFjdCwgLi4ucmVtYWluaW5nIH0gPSBmaWx0ZXJlZEV2ZW50O1xyXG4gICAgICAgIHJldHVybiByZW1haW5pbmc7XHJcbiAgICB9KTtcclxufVxuXG5leHBvcnQgeyBnZXRGaWx0ZXJQbGF5ZXJWaWV3IGFzIGcgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/filter-player-view-c30cdfbf.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/initialize-9ac1bbf5.js":
/*!*******************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/initialize-9ac1bbf5.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"I\": function() { return /* binding */ InitializeGame; }\n/* harmony export */ });\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var _reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reducer-07c7b307.js */ \"./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js\");\n\n\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Creates the initial game state.\r\n */\r\nfunction InitializeGame({ game, numPlayers, setupData, }) {\r\n    game = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_0__.P)(game);\r\n    if (!numPlayers) {\r\n        numPlayers = 2;\r\n    }\r\n    const ctx = game.flow.ctx(numPlayers);\r\n    let state = {\r\n        // User managed state.\r\n        G: {},\r\n        // Framework managed state.\r\n        ctx,\r\n        // Plugin related state.\r\n        plugins: {},\r\n    };\r\n    // Run plugins over initial state.\r\n    state = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.t)(state, { game });\r\n    state = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.m)(state, { game, playerID: undefined });\r\n    const enhancedCtx = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.E)(state);\r\n    state.G = game.setup(enhancedCtx, setupData);\r\n    let initial = {\r\n        ...state,\r\n        // List of {G, ctx} pairs that can be undone.\r\n        _undo: [],\r\n        // List of {G, ctx} pairs that can be redone.\r\n        _redo: [],\r\n        // A monotonically non-decreasing ID to ensure that\r\n        // state updates are only allowed from clients that\r\n        // are at the same version that the server.\r\n        _stateID: 0,\r\n    };\r\n    initial = game.flow.init(initial);\r\n    [initial] = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.q)(initial, { game });\r\n    // Initialize undo stack.\r\n    if (!game.disableUndo) {\r\n        initial._undo = [\r\n            {\r\n                G: initial.G,\r\n                ctx: initial.ctx,\r\n                plugins: initial.plugins,\r\n            },\r\n        ];\r\n    }\r\n    return initial;\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2luaXRpYWxpemUtOWFjMWJiZjUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRHO0FBQzdDOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4QkFBOEI7QUFDeEQsV0FBVyx1REFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsWUFBWSwwREFBSyxVQUFVLE1BQU07QUFDakMsWUFBWSwwREFBTyxVQUFVLDJCQUEyQjtBQUN4RCx3QkFBd0IsMERBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwREFBZ0IsWUFBWSxNQUFNO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUUrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL2luaXRpYWxpemUtOWFjMWJiZjUuanM/NDZhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0IGFzIFNldHVwLCBtIGFzIEVuaGFuY2UsIEUgYXMgRW5oYW5jZUN0eCwgcSBhcyBGbHVzaEFuZFZhbGlkYXRlIH0gZnJvbSAnLi90dXJuLW9yZGVyLTBiN2RjZTNkLmpzJztcbmltcG9ydCB7IFAgYXMgUHJvY2Vzc0dhbWVDb25maWcgfSBmcm9tICcuL3JlZHVjZXItMDdjN2IzMDcuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAyMCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIENyZWF0ZXMgdGhlIGluaXRpYWwgZ2FtZSBzdGF0ZS5cclxuICovXHJcbmZ1bmN0aW9uIEluaXRpYWxpemVHYW1lKHsgZ2FtZSwgbnVtUGxheWVycywgc2V0dXBEYXRhLCB9KSB7XHJcbiAgICBnYW1lID0gUHJvY2Vzc0dhbWVDb25maWcoZ2FtZSk7XHJcbiAgICBpZiAoIW51bVBsYXllcnMpIHtcclxuICAgICAgICBudW1QbGF5ZXJzID0gMjtcclxuICAgIH1cclxuICAgIGNvbnN0IGN0eCA9IGdhbWUuZmxvdy5jdHgobnVtUGxheWVycyk7XHJcbiAgICBsZXQgc3RhdGUgPSB7XHJcbiAgICAgICAgLy8gVXNlciBtYW5hZ2VkIHN0YXRlLlxyXG4gICAgICAgIEc6IHt9LFxyXG4gICAgICAgIC8vIEZyYW1ld29yayBtYW5hZ2VkIHN0YXRlLlxyXG4gICAgICAgIGN0eCxcclxuICAgICAgICAvLyBQbHVnaW4gcmVsYXRlZCBzdGF0ZS5cclxuICAgICAgICBwbHVnaW5zOiB7fSxcclxuICAgIH07XHJcbiAgICAvLyBSdW4gcGx1Z2lucyBvdmVyIGluaXRpYWwgc3RhdGUuXHJcbiAgICBzdGF0ZSA9IFNldHVwKHN0YXRlLCB7IGdhbWUgfSk7XHJcbiAgICBzdGF0ZSA9IEVuaGFuY2Uoc3RhdGUsIHsgZ2FtZSwgcGxheWVySUQ6IHVuZGVmaW5lZCB9KTtcclxuICAgIGNvbnN0IGVuaGFuY2VkQ3R4ID0gRW5oYW5jZUN0eChzdGF0ZSk7XHJcbiAgICBzdGF0ZS5HID0gZ2FtZS5zZXR1cChlbmhhbmNlZEN0eCwgc2V0dXBEYXRhKTtcclxuICAgIGxldCBpbml0aWFsID0ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIC8vIExpc3Qgb2Yge0csIGN0eH0gcGFpcnMgdGhhdCBjYW4gYmUgdW5kb25lLlxyXG4gICAgICAgIF91bmRvOiBbXSxcclxuICAgICAgICAvLyBMaXN0IG9mIHtHLCBjdHh9IHBhaXJzIHRoYXQgY2FuIGJlIHJlZG9uZS5cclxuICAgICAgICBfcmVkbzogW10sXHJcbiAgICAgICAgLy8gQSBtb25vdG9uaWNhbGx5IG5vbi1kZWNyZWFzaW5nIElEIHRvIGVuc3VyZSB0aGF0XHJcbiAgICAgICAgLy8gc3RhdGUgdXBkYXRlcyBhcmUgb25seSBhbGxvd2VkIGZyb20gY2xpZW50cyB0aGF0XHJcbiAgICAgICAgLy8gYXJlIGF0IHRoZSBzYW1lIHZlcnNpb24gdGhhdCB0aGUgc2VydmVyLlxyXG4gICAgICAgIF9zdGF0ZUlEOiAwLFxyXG4gICAgfTtcclxuICAgIGluaXRpYWwgPSBnYW1lLmZsb3cuaW5pdChpbml0aWFsKTtcclxuICAgIFtpbml0aWFsXSA9IEZsdXNoQW5kVmFsaWRhdGUoaW5pdGlhbCwgeyBnYW1lIH0pO1xyXG4gICAgLy8gSW5pdGlhbGl6ZSB1bmRvIHN0YWNrLlxyXG4gICAgaWYgKCFnYW1lLmRpc2FibGVVbmRvKSB7XHJcbiAgICAgICAgaW5pdGlhbC5fdW5kbyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRzogaW5pdGlhbC5HLFxyXG4gICAgICAgICAgICAgICAgY3R4OiBpbml0aWFsLmN0eCxcclxuICAgICAgICAgICAgICAgIHBsdWdpbnM6IGluaXRpYWwucGx1Z2lucyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluaXRpYWw7XHJcbn1cblxuZXhwb3J0IHsgSW5pdGlhbGl6ZUdhbWUgYXMgSSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/initialize-9ac1bbf5.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/master-be1abdd0.js":
/*!***************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/master-be1abdd0.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"M\": function() { return /* binding */ Master; }\n/* harmony export */ });\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux */ \"./node_modules/redux/es/redux.js\");\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var _reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reducer-07c7b307.js */ \"./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js\");\n/* harmony import */ var _util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util-b1699aa1.js */ \"./node_modules/boardgame.io/dist/esm/util-b1699aa1.js\");\n\n\n\n\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Filter match data to get a player metadata object with credentials stripped.\r\n */\r\nconst filterMatchData = (matchData) => Object.values(matchData.players).map((player) => {\r\n    const { credentials, ...filteredData } = player;\r\n    return filteredData;\r\n});\r\n/**\r\n * Remove player credentials from action payload\r\n */\r\nconst stripCredentialsFromAction = (action) => {\r\n    const { credentials, ...payload } = action.payload;\r\n    return { ...action, payload };\r\n};\r\n/**\r\n * Master\r\n *\r\n * Class that runs the game and maintains the authoritative state.\r\n * It uses the transportAPI to communicate with clients and the\r\n * storageAPI to communicate with the database.\r\n */\r\nclass Master {\r\n    constructor(game, storageAPI, transportAPI, auth) {\r\n        this.game = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_0__.P)(game);\r\n        this.storageAPI = storageAPI;\r\n        this.transportAPI = transportAPI;\r\n        this.subscribeCallback = () => { };\r\n        this.auth = auth;\r\n    }\r\n    subscribe(fn) {\r\n        this.subscribeCallback = fn;\r\n    }\r\n    /**\r\n     * Called on each move / event made by the client.\r\n     * Computes the new value of the game state and returns it\r\n     * along with a deltalog.\r\n     */\r\n    async onUpdate(credAction, stateID, matchID, playerID) {\r\n        if (!credAction || !credAction.payload) {\r\n            return { error: 'missing action or action payload' };\r\n        }\r\n        let metadata;\r\n        if ((0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.storageAPI)) {\r\n            ({ metadata } = this.storageAPI.fetch(matchID, { metadata: true }));\r\n        }\r\n        else {\r\n            ({ metadata } = await this.storageAPI.fetch(matchID, { metadata: true }));\r\n        }\r\n        if (this.auth) {\r\n            const isAuthentic = await this.auth.authenticateCredentials({\r\n                playerID,\r\n                credentials: credAction.payload.credentials,\r\n                metadata,\r\n            });\r\n            if (!isAuthentic) {\r\n                return { error: 'unauthorized action' };\r\n            }\r\n        }\r\n        const action = stripCredentialsFromAction(credAction);\r\n        const key = matchID;\r\n        let state;\r\n        if ((0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.storageAPI)) {\r\n            ({ state } = this.storageAPI.fetch(key, { state: true }));\r\n        }\r\n        else {\r\n            ({ state } = await this.storageAPI.fetch(key, { state: true }));\r\n        }\r\n        if (state === undefined) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`game not found, matchID=[${key}]`);\r\n            return { error: 'game not found' };\r\n        }\r\n        if (state.ctx.gameover !== undefined) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`game over - matchID=[${key}] - playerID=[${playerID}]` +\r\n                ` - action[${action.payload.type}]`);\r\n            return;\r\n        }\r\n        const reducer = (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_0__.C)({\r\n            game: this.game,\r\n        });\r\n        const middleware = (0,redux__WEBPACK_IMPORTED_MODULE_3__.applyMiddleware)(_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_0__.T);\r\n        const store = (0,redux__WEBPACK_IMPORTED_MODULE_3__.createStore)(reducer, state, middleware);\r\n        // Only allow UNDO / REDO if there is exactly one player\r\n        // that can make moves right now and the person doing the\r\n        // action is that player.\r\n        if (action.type == _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.h || action.type == _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.R) {\r\n            const hasActivePlayers = state.ctx.activePlayers !== null;\r\n            const isCurrentPlayer = state.ctx.currentPlayer === playerID;\r\n            if (\r\n            // If activePlayers is empty, non-current players can’t undo.\r\n            (!hasActivePlayers && !isCurrentPlayer) ||\r\n                // If player is not active or multiple players are active, can’t undo.\r\n                (hasActivePlayers &&\r\n                    (state.ctx.activePlayers[playerID] === undefined ||\r\n                        Object.keys(state.ctx.activePlayers).length > 1))) {\r\n                (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`playerID=[${playerID}] cannot undo / redo right now`);\r\n                return;\r\n            }\r\n        }\r\n        // Check whether the player is active.\r\n        if (!this.game.flow.isPlayerActive(state.G, state.ctx, playerID)) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`player not active - playerID=[${playerID}]` +\r\n                ` - action[${action.payload.type}]`);\r\n            return;\r\n        }\r\n        // Get move for further checks\r\n        const move = action.type == _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.M\r\n            ? this.game.flow.getMove(state.ctx, action.payload.type, playerID)\r\n            : null;\r\n        // Check whether the player is allowed to make the move.\r\n        if (action.type == _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.M && !move) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`move not processed - canPlayerMakeMove=false - playerID=[${playerID}]` +\r\n                ` - action[${action.payload.type}]`);\r\n            return;\r\n        }\r\n        // Check if action's stateID is different than store's stateID\r\n        // and if move does not have ignoreStaleStateID truthy.\r\n        if (state._stateID !== stateID &&\r\n            !(move && (0,_reducer_07c7b307_js__WEBPACK_IMPORTED_MODULE_0__.I)(move) && move.ignoreStaleStateID)) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`invalid stateID, was=[${stateID}], expected=[${state._stateID}]` +\r\n                ` - playerID=[${playerID}] - action[${action.payload.type}]`);\r\n            return;\r\n        }\r\n        const prevState = store.getState();\r\n        // Update server's version of the store.\r\n        store.dispatch(action);\r\n        state = store.getState();\r\n        this.subscribeCallback({\r\n            state,\r\n            action,\r\n            matchID,\r\n        });\r\n        if (this.game.deltaState) {\r\n            this.transportAPI.sendAll({\r\n                type: 'patch',\r\n                args: [matchID, stateID, prevState, state],\r\n            });\r\n        }\r\n        else {\r\n            this.transportAPI.sendAll({\r\n                type: 'update',\r\n                args: [matchID, state],\r\n            });\r\n        }\r\n        const { deltalog, ...stateWithoutDeltalog } = state;\r\n        let newMetadata;\r\n        if (metadata &&\r\n            (metadata.gameover === undefined || metadata.gameover === null)) {\r\n            newMetadata = {\r\n                ...metadata,\r\n                updatedAt: Date.now(),\r\n            };\r\n            if (state.ctx.gameover !== undefined) {\r\n                newMetadata.gameover = state.ctx.gameover;\r\n            }\r\n        }\r\n        if ((0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.storageAPI)) {\r\n            this.storageAPI.setState(key, stateWithoutDeltalog, deltalog);\r\n            if (newMetadata)\r\n                this.storageAPI.setMetadata(key, newMetadata);\r\n        }\r\n        else {\r\n            const writes = [\r\n                this.storageAPI.setState(key, stateWithoutDeltalog, deltalog),\r\n            ];\r\n            if (newMetadata) {\r\n                writes.push(this.storageAPI.setMetadata(key, newMetadata));\r\n            }\r\n            await Promise.all(writes);\r\n        }\r\n    }\r\n    /**\r\n     * Called when the client connects / reconnects.\r\n     * Returns the latest game state and the entire log.\r\n     */\r\n    async onSync(matchID, playerID, credentials, numPlayers = 2) {\r\n        const key = matchID;\r\n        const fetchOpts = {\r\n            state: true,\r\n            metadata: true,\r\n            log: true,\r\n            initialState: true,\r\n        };\r\n        const fetchResult = (0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.storageAPI)\r\n            ? this.storageAPI.fetch(key, fetchOpts)\r\n            : await this.storageAPI.fetch(key, fetchOpts);\r\n        let { state, initialState, log, metadata } = fetchResult;\r\n        if (this.auth && playerID !== undefined && playerID !== null) {\r\n            const isAuthentic = await this.auth.authenticateCredentials({\r\n                playerID,\r\n                credentials,\r\n                metadata,\r\n            });\r\n            if (!isAuthentic) {\r\n                return { error: 'unauthorized' };\r\n            }\r\n        }\r\n        // If the game doesn't exist, then create one on demand.\r\n        // TODO: Move this out of the sync call.\r\n        if (state === undefined) {\r\n            const match = (0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.c)({\r\n                game: this.game,\r\n                unlisted: true,\r\n                numPlayers,\r\n                setupData: undefined,\r\n            });\r\n            if ('setupDataError' in match) {\r\n                return { error: 'game requires setupData' };\r\n            }\r\n            initialState = state = match.initialState;\r\n            metadata = match.metadata;\r\n            this.subscribeCallback({ state, matchID });\r\n            if ((0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.storageAPI)) {\r\n                this.storageAPI.createMatch(key, { initialState, metadata });\r\n            }\r\n            else {\r\n                await this.storageAPI.createMatch(key, { initialState, metadata });\r\n            }\r\n        }\r\n        const filteredMetadata = metadata ? filterMatchData(metadata) : undefined;\r\n        const syncInfo = {\r\n            state,\r\n            log,\r\n            filteredMetadata,\r\n            initialState,\r\n        };\r\n        this.transportAPI.send({\r\n            playerID,\r\n            type: 'sync',\r\n            args: [matchID, syncInfo],\r\n        });\r\n        return;\r\n    }\r\n    /**\r\n     * Called when a client connects or disconnects.\r\n     * Updates and sends out metadata to reflect the player’s connection status.\r\n     */\r\n    async onConnectionChange(matchID, playerID, credentials, connected) {\r\n        const key = matchID;\r\n        // Ignore changes for clients without a playerID, e.g. spectators.\r\n        if (playerID === undefined || playerID === null) {\r\n            return;\r\n        }\r\n        let metadata;\r\n        if ((0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.storageAPI)) {\r\n            ({ metadata } = this.storageAPI.fetch(key, { metadata: true }));\r\n        }\r\n        else {\r\n            ({ metadata } = await this.storageAPI.fetch(key, { metadata: true }));\r\n        }\r\n        if (metadata === undefined) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`metadata not found for matchID=[${key}]`);\r\n            return { error: 'metadata not found' };\r\n        }\r\n        if (metadata.players[playerID] === undefined) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_2__.e)(`Player not in the match, matchID=[${key}] playerID=[${playerID}]`);\r\n            return { error: 'player not in the match' };\r\n        }\r\n        if (this.auth) {\r\n            const isAuthentic = await this.auth.authenticateCredentials({\r\n                playerID,\r\n                credentials,\r\n                metadata,\r\n            });\r\n            if (!isAuthentic) {\r\n                return { error: 'unauthorized' };\r\n            }\r\n        }\r\n        metadata.players[playerID].isConnected = connected;\r\n        const filteredMetadata = filterMatchData(metadata);\r\n        this.transportAPI.sendAll({\r\n            type: 'matchData',\r\n            args: [matchID, filteredMetadata],\r\n        });\r\n        if ((0,_util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.i)(this.storageAPI)) {\r\n            this.storageAPI.setMetadata(key, metadata);\r\n        }\r\n        else {\r\n            await this.storageAPI.setMetadata(key, metadata);\r\n        }\r\n    }\r\n    async onChatMessage(matchID, chatMessage, credentials) {\r\n        const key = matchID;\r\n        if (this.auth) {\r\n            const { metadata } = await this.storageAPI.fetch(key, {\r\n                metadata: true,\r\n            });\r\n            if (!(chatMessage && typeof chatMessage.sender === 'string')) {\r\n                return { error: 'unauthorized' };\r\n            }\r\n            const isAuthentic = await this.auth.authenticateCredentials({\r\n                playerID: chatMessage.sender,\r\n                credentials,\r\n                metadata,\r\n            });\r\n            if (!isAuthentic) {\r\n                return { error: 'unauthorized' };\r\n            }\r\n        }\r\n        this.transportAPI.sendAll({\r\n            type: 'chat',\r\n            args: [matchID, chatMessage],\r\n        });\r\n    }\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL21hc3Rlci1iZTFhYmRkMC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUN1QztBQUNrRDtBQUNwRTs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0JBQStCO0FBQzNDO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQkFBMEI7QUFDdEMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVEQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLFlBQVksb0RBQWE7QUFDekIsZUFBZSxXQUFXLG1DQUFtQyxnQkFBZ0I7QUFDN0U7QUFDQTtBQUNBLGVBQWUsV0FBVyx5Q0FBeUMsZ0JBQWdCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvREFBYTtBQUN6QixlQUFlLFFBQVEsK0JBQStCLGFBQWE7QUFDbkU7QUFDQTtBQUNBLGVBQWUsUUFBUSxxQ0FBcUMsYUFBYTtBQUN6RTtBQUNBO0FBQ0EsWUFBWSwwREFBSyw2QkFBNkIsSUFBSTtBQUNsRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLFlBQVksMERBQUsseUJBQXlCLElBQUksZ0JBQWdCLFNBQVM7QUFDdkUsNkJBQTZCLG9CQUFvQjtBQUNqRDtBQUNBO0FBQ0Esd0JBQXdCLHVEQUFpQjtBQUN6QztBQUNBLFNBQVM7QUFDVCwyQkFBMkIsc0RBQWUsQ0FBQyxtREFBMkI7QUFDdEUsc0JBQXNCLGtEQUFX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bS9tYXN0ZXItYmUxYWJkZDAuanM/YjY3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcHBseU1pZGRsZXdhcmUsIGNyZWF0ZVN0b3JlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgZSBhcyBlcnJvciwgaCBhcyBVTkRPLCBSIGFzIFJFRE8sIE0gYXMgTUFLRV9NT1ZFIH0gZnJvbSAnLi90dXJuLW9yZGVyLTBiN2RjZTNkLmpzJztcbmltcG9ydCB7IFAgYXMgUHJvY2Vzc0dhbWVDb25maWcsIEMgYXMgQ3JlYXRlR2FtZVJlZHVjZXIsIFQgYXMgVHJhbnNpZW50SGFuZGxpbmdNaWRkbGV3YXJlLCBJIGFzIElzTG9uZ0Zvcm1Nb3ZlIH0gZnJvbSAnLi9yZWR1Y2VyLTA3YzdiMzA3LmpzJztcbmltcG9ydCB7IGkgYXMgaXNTeW5jaHJvbm91cywgYyBhcyBjcmVhdGVNYXRjaCB9IGZyb20gJy4vdXRpbC1iMTY5OWFhMS5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG4vKipcclxuICogRmlsdGVyIG1hdGNoIGRhdGEgdG8gZ2V0IGEgcGxheWVyIG1ldGFkYXRhIG9iamVjdCB3aXRoIGNyZWRlbnRpYWxzIHN0cmlwcGVkLlxyXG4gKi9cclxuY29uc3QgZmlsdGVyTWF0Y2hEYXRhID0gKG1hdGNoRGF0YSkgPT4gT2JqZWN0LnZhbHVlcyhtYXRjaERhdGEucGxheWVycykubWFwKChwbGF5ZXIpID0+IHtcclxuICAgIGNvbnN0IHsgY3JlZGVudGlhbHMsIC4uLmZpbHRlcmVkRGF0YSB9ID0gcGxheWVyO1xyXG4gICAgcmV0dXJuIGZpbHRlcmVkRGF0YTtcclxufSk7XHJcbi8qKlxyXG4gKiBSZW1vdmUgcGxheWVyIGNyZWRlbnRpYWxzIGZyb20gYWN0aW9uIHBheWxvYWRcclxuICovXHJcbmNvbnN0IHN0cmlwQ3JlZGVudGlhbHNGcm9tQWN0aW9uID0gKGFjdGlvbikgPT4ge1xyXG4gICAgY29uc3QgeyBjcmVkZW50aWFscywgLi4ucGF5bG9hZCB9ID0gYWN0aW9uLnBheWxvYWQ7XHJcbiAgICByZXR1cm4geyAuLi5hY3Rpb24sIHBheWxvYWQgfTtcclxufTtcclxuLyoqXHJcbiAqIE1hc3RlclxyXG4gKlxyXG4gKiBDbGFzcyB0aGF0IHJ1bnMgdGhlIGdhbWUgYW5kIG1haW50YWlucyB0aGUgYXV0aG9yaXRhdGl2ZSBzdGF0ZS5cclxuICogSXQgdXNlcyB0aGUgdHJhbnNwb3J0QVBJIHRvIGNvbW11bmljYXRlIHdpdGggY2xpZW50cyBhbmQgdGhlXHJcbiAqIHN0b3JhZ2VBUEkgdG8gY29tbXVuaWNhdGUgd2l0aCB0aGUgZGF0YWJhc2UuXHJcbiAqL1xyXG5jbGFzcyBNYXN0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSwgc3RvcmFnZUFQSSwgdHJhbnNwb3J0QVBJLCBhdXRoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gUHJvY2Vzc0dhbWVDb25maWcoZ2FtZSk7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlQVBJID0gc3RvcmFnZUFQSTtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydEFQSSA9IHRyYW5zcG9ydEFQSTtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZUNhbGxiYWNrID0gKCkgPT4geyB9O1xyXG4gICAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XHJcbiAgICB9XHJcbiAgICBzdWJzY3JpYmUoZm4pIHtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZUNhbGxiYWNrID0gZm47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBvbiBlYWNoIG1vdmUgLyBldmVudCBtYWRlIGJ5IHRoZSBjbGllbnQuXHJcbiAgICAgKiBDb21wdXRlcyB0aGUgbmV3IHZhbHVlIG9mIHRoZSBnYW1lIHN0YXRlIGFuZCByZXR1cm5zIGl0XHJcbiAgICAgKiBhbG9uZyB3aXRoIGEgZGVsdGFsb2cuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIG9uVXBkYXRlKGNyZWRBY3Rpb24sIHN0YXRlSUQsIG1hdGNoSUQsIHBsYXllcklEKSB7XHJcbiAgICAgICAgaWYgKCFjcmVkQWN0aW9uIHx8ICFjcmVkQWN0aW9uLnBheWxvYWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICdtaXNzaW5nIGFjdGlvbiBvciBhY3Rpb24gcGF5bG9hZCcgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xyXG4gICAgICAgIGlmIChpc1N5bmNocm9ub3VzKHRoaXMuc3RvcmFnZUFQSSkpIHtcclxuICAgICAgICAgICAgKHsgbWV0YWRhdGEgfSA9IHRoaXMuc3RvcmFnZUFQSS5mZXRjaChtYXRjaElELCB7IG1ldGFkYXRhOiB0cnVlIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICh7IG1ldGFkYXRhIH0gPSBhd2FpdCB0aGlzLnN0b3JhZ2VBUEkuZmV0Y2gobWF0Y2hJRCwgeyBtZXRhZGF0YTogdHJ1ZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmF1dGgpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNBdXRoZW50aWMgPSBhd2FpdCB0aGlzLmF1dGguYXV0aGVudGljYXRlQ3JlZGVudGlhbHMoe1xyXG4gICAgICAgICAgICAgICAgcGxheWVySUQsXHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogY3JlZEFjdGlvbi5wYXlsb2FkLmNyZWRlbnRpYWxzLFxyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIWlzQXV0aGVudGljKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlcnJvcjogJ3VuYXV0aG9yaXplZCBhY3Rpb24nIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gc3RyaXBDcmVkZW50aWFsc0Zyb21BY3Rpb24oY3JlZEFjdGlvbik7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gbWF0Y2hJRDtcclxuICAgICAgICBsZXQgc3RhdGU7XHJcbiAgICAgICAgaWYgKGlzU3luY2hyb25vdXModGhpcy5zdG9yYWdlQVBJKSkge1xyXG4gICAgICAgICAgICAoeyBzdGF0ZSB9ID0gdGhpcy5zdG9yYWdlQVBJLmZldGNoKGtleSwgeyBzdGF0ZTogdHJ1ZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAoeyBzdGF0ZSB9ID0gYXdhaXQgdGhpcy5zdG9yYWdlQVBJLmZldGNoKGtleSwgeyBzdGF0ZTogdHJ1ZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBnYW1lIG5vdCBmb3VuZCwgbWF0Y2hJRD1bJHtrZXl9XWApO1xyXG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogJ2dhbWUgbm90IGZvdW5kJyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhdGUuY3R4LmdhbWVvdmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGdhbWUgb3ZlciAtIG1hdGNoSUQ9WyR7a2V5fV0gLSBwbGF5ZXJJRD1bJHtwbGF5ZXJJRH1dYCArXHJcbiAgICAgICAgICAgICAgICBgIC0gYWN0aW9uWyR7YWN0aW9uLnBheWxvYWQudHlwZX1dYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVkdWNlciA9IENyZWF0ZUdhbWVSZWR1Y2VyKHtcclxuICAgICAgICAgICAgZ2FtZTogdGhpcy5nYW1lLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZXdhcmUgPSBhcHBseU1pZGRsZXdhcmUoVHJhbnNpZW50SGFuZGxpbmdNaWRkbGV3YXJlKTtcclxuICAgICAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHN0YXRlLCBtaWRkbGV3YXJlKTtcclxuICAgICAgICAvLyBPbmx5IGFsbG93IFVORE8gLyBSRURPIGlmIHRoZXJlIGlzIGV4YWN0bHkgb25lIHBsYXllclxyXG4gICAgICAgIC8vIHRoYXQgY2FuIG1ha2UgbW92ZXMgcmlnaHQgbm93IGFuZCB0aGUgcGVyc29uIGRvaW5nIHRoZVxyXG4gICAgICAgIC8vIGFjdGlvbiBpcyB0aGF0IHBsYXllci5cclxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT0gVU5ETyB8fCBhY3Rpb24udHlwZSA9PSBSRURPKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc0FjdGl2ZVBsYXllcnMgPSBzdGF0ZS5jdHguYWN0aXZlUGxheWVycyAhPT0gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50UGxheWVyID0gc3RhdGUuY3R4LmN1cnJlbnRQbGF5ZXIgPT09IHBsYXllcklEO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIC8vIElmIGFjdGl2ZVBsYXllcnMgaXMgZW1wdHksIG5vbi1jdXJyZW50IHBsYXllcnMgY2Fu4oCZdCB1bmRvLlxyXG4gICAgICAgICAgICAoIWhhc0FjdGl2ZVBsYXllcnMgJiYgIWlzQ3VycmVudFBsYXllcikgfHxcclxuICAgICAgICAgICAgICAgIC8vIElmIHBsYXllciBpcyBub3QgYWN0aXZlIG9yIG11bHRpcGxlIHBsYXllcnMgYXJlIGFjdGl2ZSwgY2Fu4oCZdCB1bmRvLlxyXG4gICAgICAgICAgICAgICAgKGhhc0FjdGl2ZVBsYXllcnMgJiZcclxuICAgICAgICAgICAgICAgICAgICAoc3RhdGUuY3R4LmFjdGl2ZVBsYXllcnNbcGxheWVySURdID09PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUuY3R4LmFjdGl2ZVBsYXllcnMpLmxlbmd0aCA+IDEpKSkge1xyXG4gICAgICAgICAgICAgICAgZXJyb3IoYHBsYXllcklEPVske3BsYXllcklEfV0gY2Fubm90IHVuZG8gLyByZWRvIHJpZ2h0IG5vd2ApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIHBsYXllciBpcyBhY3RpdmUuXHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWUuZmxvdy5pc1BsYXllckFjdGl2ZShzdGF0ZS5HLCBzdGF0ZS5jdHgsIHBsYXllcklEKSkge1xyXG4gICAgICAgICAgICBlcnJvcihgcGxheWVyIG5vdCBhY3RpdmUgLSBwbGF5ZXJJRD1bJHtwbGF5ZXJJRH1dYCArXHJcbiAgICAgICAgICAgICAgICBgIC0gYWN0aW9uWyR7YWN0aW9uLnBheWxvYWQudHlwZX1dYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gR2V0IG1vdmUgZm9yIGZ1cnRoZXIgY2hlY2tzXHJcbiAgICAgICAgY29uc3QgbW92ZSA9IGFjdGlvbi50eXBlID09IE1BS0VfTU9WRVxyXG4gICAgICAgICAgICA/IHRoaXMuZ2FtZS5mbG93LmdldE1vdmUoc3RhdGUuY3R4LCBhY3Rpb24ucGF5bG9hZC50eXBlLCBwbGF5ZXJJRClcclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIHBsYXllciBpcyBhbGxvd2VkIHRvIG1ha2UgdGhlIG1vdmUuXHJcbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09IE1BS0VfTU9WRSAmJiAhbW92ZSkge1xyXG4gICAgICAgICAgICBlcnJvcihgbW92ZSBub3QgcHJvY2Vzc2VkIC0gY2FuUGxheWVyTWFrZU1vdmU9ZmFsc2UgLSBwbGF5ZXJJRD1bJHtwbGF5ZXJJRH1dYCArXHJcbiAgICAgICAgICAgICAgICBgIC0gYWN0aW9uWyR7YWN0aW9uLnBheWxvYWQudHlwZX1dYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgYWN0aW9uJ3Mgc3RhdGVJRCBpcyBkaWZmZXJlbnQgdGhhbiBzdG9yZSdzIHN0YXRlSURcclxuICAgICAgICAvLyBhbmQgaWYgbW92ZSBkb2VzIG5vdCBoYXZlIGlnbm9yZVN0YWxlU3RhdGVJRCB0cnV0aHkuXHJcbiAgICAgICAgaWYgKHN0YXRlLl9zdGF0ZUlEICE9PSBzdGF0ZUlEICYmXHJcbiAgICAgICAgICAgICEobW92ZSAmJiBJc0xvbmdGb3JtTW92ZShtb3ZlKSAmJiBtb3ZlLmlnbm9yZVN0YWxlU3RhdGVJRCkpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGludmFsaWQgc3RhdGVJRCwgd2FzPVske3N0YXRlSUR9XSwgZXhwZWN0ZWQ9WyR7c3RhdGUuX3N0YXRlSUR9XWAgK1xyXG4gICAgICAgICAgICAgICAgYCAtIHBsYXllcklEPVske3BsYXllcklEfV0gLSBhY3Rpb25bJHthY3Rpb24ucGF5bG9hZC50eXBlfV1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwcmV2U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzZXJ2ZXIncyB2ZXJzaW9uIG9mIHRoZSBzdG9yZS5cclxuICAgICAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xyXG4gICAgICAgIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZUNhbGxiYWNrKHtcclxuICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgIGFjdGlvbixcclxuICAgICAgICAgICAgbWF0Y2hJRCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5nYW1lLmRlbHRhU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRBUEkuc2VuZEFsbCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncGF0Y2gnLFxyXG4gICAgICAgICAgICAgICAgYXJnczogW21hdGNoSUQsIHN0YXRlSUQsIHByZXZTdGF0ZSwgc3RhdGVdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0QVBJLnNlbmRBbGwoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3VwZGF0ZScsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBbbWF0Y2hJRCwgc3RhdGVdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBkZWx0YWxvZywgLi4uc3RhdGVXaXRob3V0RGVsdGFsb2cgfSA9IHN0YXRlO1xyXG4gICAgICAgIGxldCBuZXdNZXRhZGF0YTtcclxuICAgICAgICBpZiAobWV0YWRhdGEgJiZcclxuICAgICAgICAgICAgKG1ldGFkYXRhLmdhbWVvdmVyID09PSB1bmRlZmluZWQgfHwgbWV0YWRhdGEuZ2FtZW92ZXIgPT09IG51bGwpKSB7XHJcbiAgICAgICAgICAgIG5ld01ldGFkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgLi4ubWV0YWRhdGEsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jdHguZ2FtZW92ZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbmV3TWV0YWRhdGEuZ2FtZW92ZXIgPSBzdGF0ZS5jdHguZ2FtZW92ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU3luY2hyb25vdXModGhpcy5zdG9yYWdlQVBJKSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2VBUEkuc2V0U3RhdGUoa2V5LCBzdGF0ZVdpdGhvdXREZWx0YWxvZywgZGVsdGFsb2cpO1xyXG4gICAgICAgICAgICBpZiAobmV3TWV0YWRhdGEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VBUEkuc2V0TWV0YWRhdGEoa2V5LCBuZXdNZXRhZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB3cml0ZXMgPSBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VBUEkuc2V0U3RhdGUoa2V5LCBzdGF0ZVdpdGhvdXREZWx0YWxvZywgZGVsdGFsb2cpLFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBpZiAobmV3TWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHdyaXRlcy5wdXNoKHRoaXMuc3RvcmFnZUFQSS5zZXRNZXRhZGF0YShrZXksIG5ld01ldGFkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwod3JpdGVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjbGllbnQgY29ubmVjdHMgLyByZWNvbm5lY3RzLlxyXG4gICAgICogUmV0dXJucyB0aGUgbGF0ZXN0IGdhbWUgc3RhdGUgYW5kIHRoZSBlbnRpcmUgbG9nLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBvblN5bmMobWF0Y2hJRCwgcGxheWVySUQsIGNyZWRlbnRpYWxzLCBudW1QbGF5ZXJzID0gMikge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IG1hdGNoSUQ7XHJcbiAgICAgICAgY29uc3QgZmV0Y2hPcHRzID0ge1xyXG4gICAgICAgICAgICBzdGF0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgbWV0YWRhdGE6IHRydWUsXHJcbiAgICAgICAgICAgIGxvZzogdHJ1ZSxcclxuICAgICAgICAgICAgaW5pdGlhbFN0YXRlOiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZmV0Y2hSZXN1bHQgPSBpc1N5bmNocm9ub3VzKHRoaXMuc3RvcmFnZUFQSSlcclxuICAgICAgICAgICAgPyB0aGlzLnN0b3JhZ2VBUEkuZmV0Y2goa2V5LCBmZXRjaE9wdHMpXHJcbiAgICAgICAgICAgIDogYXdhaXQgdGhpcy5zdG9yYWdlQVBJLmZldGNoKGtleSwgZmV0Y2hPcHRzKTtcclxuICAgICAgICBsZXQgeyBzdGF0ZSwgaW5pdGlhbFN0YXRlLCBsb2csIG1ldGFkYXRhIH0gPSBmZXRjaFJlc3VsdDtcclxuICAgICAgICBpZiAodGhpcy5hdXRoICYmIHBsYXllcklEICE9PSB1bmRlZmluZWQgJiYgcGxheWVySUQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNBdXRoZW50aWMgPSBhd2FpdCB0aGlzLmF1dGguYXV0aGVudGljYXRlQ3JlZGVudGlhbHMoe1xyXG4gICAgICAgICAgICAgICAgcGxheWVySUQsXHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFscyxcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFpc0F1dGhlbnRpYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICd1bmF1dGhvcml6ZWQnIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgdGhlIGdhbWUgZG9lc24ndCBleGlzdCwgdGhlbiBjcmVhdGUgb25lIG9uIGRlbWFuZC5cclxuICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgb3V0IG9mIHRoZSBzeW5jIGNhbGwuXHJcbiAgICAgICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBjcmVhdGVNYXRjaCh7XHJcbiAgICAgICAgICAgICAgICBnYW1lOiB0aGlzLmdhbWUsXHJcbiAgICAgICAgICAgICAgICB1bmxpc3RlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG51bVBsYXllcnMsXHJcbiAgICAgICAgICAgICAgICBzZXR1cERhdGE6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgnc2V0dXBEYXRhRXJyb3InIGluIG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlcnJvcjogJ2dhbWUgcmVxdWlyZXMgc2V0dXBEYXRhJyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IHN0YXRlID0gbWF0Y2guaW5pdGlhbFN0YXRlO1xyXG4gICAgICAgICAgICBtZXRhZGF0YSA9IG1hdGNoLm1ldGFkYXRhO1xyXG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZUNhbGxiYWNrKHsgc3RhdGUsIG1hdGNoSUQgfSk7XHJcbiAgICAgICAgICAgIGlmIChpc1N5bmNocm9ub3VzKHRoaXMuc3RvcmFnZUFQSSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZUFQSS5jcmVhdGVNYXRjaChrZXksIHsgaW5pdGlhbFN0YXRlLCBtZXRhZGF0YSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcmFnZUFQSS5jcmVhdGVNYXRjaChrZXksIHsgaW5pdGlhbFN0YXRlLCBtZXRhZGF0YSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmaWx0ZXJlZE1ldGFkYXRhID0gbWV0YWRhdGEgPyBmaWx0ZXJNYXRjaERhdGEobWV0YWRhdGEpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IHN5bmNJbmZvID0ge1xyXG4gICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICAgICAgbG9nLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZE1ldGFkYXRhLFxyXG4gICAgICAgICAgICBpbml0aWFsU3RhdGUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydEFQSS5zZW5kKHtcclxuICAgICAgICAgICAgcGxheWVySUQsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzeW5jJyxcclxuICAgICAgICAgICAgYXJnczogW21hdGNoSUQsIHN5bmNJbmZvXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB3aGVuIGEgY2xpZW50IGNvbm5lY3RzIG9yIGRpc2Nvbm5lY3RzLlxyXG4gICAgICogVXBkYXRlcyBhbmQgc2VuZHMgb3V0IG1ldGFkYXRhIHRvIHJlZmxlY3QgdGhlIHBsYXllcuKAmXMgY29ubmVjdGlvbiBzdGF0dXMuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIG9uQ29ubmVjdGlvbkNoYW5nZShtYXRjaElELCBwbGF5ZXJJRCwgY3JlZGVudGlhbHMsIGNvbm5lY3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IG1hdGNoSUQ7XHJcbiAgICAgICAgLy8gSWdub3JlIGNoYW5nZXMgZm9yIGNsaWVudHMgd2l0aG91dCBhIHBsYXllcklELCBlLmcuIHNwZWN0YXRvcnMuXHJcbiAgICAgICAgaWYgKHBsYXllcklEID09PSB1bmRlZmluZWQgfHwgcGxheWVySUQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbWV0YWRhdGE7XHJcbiAgICAgICAgaWYgKGlzU3luY2hyb25vdXModGhpcy5zdG9yYWdlQVBJKSkge1xyXG4gICAgICAgICAgICAoeyBtZXRhZGF0YSB9ID0gdGhpcy5zdG9yYWdlQVBJLmZldGNoKGtleSwgeyBtZXRhZGF0YTogdHJ1ZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAoeyBtZXRhZGF0YSB9ID0gYXdhaXQgdGhpcy5zdG9yYWdlQVBJLmZldGNoKGtleSwgeyBtZXRhZGF0YTogdHJ1ZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtZXRhZGF0YSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBtZXRhZGF0YSBub3QgZm91bmQgZm9yIG1hdGNoSUQ9WyR7a2V5fV1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICdtZXRhZGF0YSBub3QgZm91bmQnIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtZXRhZGF0YS5wbGF5ZXJzW3BsYXllcklEXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBQbGF5ZXIgbm90IGluIHRoZSBtYXRjaCwgbWF0Y2hJRD1bJHtrZXl9XSBwbGF5ZXJJRD1bJHtwbGF5ZXJJRH1dYCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yOiAncGxheWVyIG5vdCBpbiB0aGUgbWF0Y2gnIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmF1dGgpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNBdXRoZW50aWMgPSBhd2FpdCB0aGlzLmF1dGguYXV0aGVudGljYXRlQ3JlZGVudGlhbHMoe1xyXG4gICAgICAgICAgICAgICAgcGxheWVySUQsXHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFscyxcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFpc0F1dGhlbnRpYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICd1bmF1dGhvcml6ZWQnIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbWV0YWRhdGEucGxheWVyc1twbGF5ZXJJRF0uaXNDb25uZWN0ZWQgPSBjb25uZWN0ZWQ7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyZWRNZXRhZGF0YSA9IGZpbHRlck1hdGNoRGF0YShtZXRhZGF0YSk7XHJcbiAgICAgICAgdGhpcy50cmFuc3BvcnRBUEkuc2VuZEFsbCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdtYXRjaERhdGEnLFxyXG4gICAgICAgICAgICBhcmdzOiBbbWF0Y2hJRCwgZmlsdGVyZWRNZXRhZGF0YV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGlzU3luY2hyb25vdXModGhpcy5zdG9yYWdlQVBJKSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2VBUEkuc2V0TWV0YWRhdGEoa2V5LCBtZXRhZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3JhZ2VBUEkuc2V0TWV0YWRhdGEoa2V5LCBtZXRhZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgb25DaGF0TWVzc2FnZShtYXRjaElELCBjaGF0TWVzc2FnZSwgY3JlZGVudGlhbHMpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBtYXRjaElEO1xyXG4gICAgICAgIGlmICh0aGlzLmF1dGgpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBtZXRhZGF0YSB9ID0gYXdhaXQgdGhpcy5zdG9yYWdlQVBJLmZldGNoKGtleSwge1xyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIShjaGF0TWVzc2FnZSAmJiB0eXBlb2YgY2hhdE1lc3NhZ2Uuc2VuZGVyID09PSAnc3RyaW5nJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yOiAndW5hdXRob3JpemVkJyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQXV0aGVudGljID0gYXdhaXQgdGhpcy5hdXRoLmF1dGhlbnRpY2F0ZUNyZWRlbnRpYWxzKHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklEOiBjaGF0TWVzc2FnZS5zZW5kZXIsXHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFscyxcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFpc0F1dGhlbnRpYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICd1bmF1dGhvcml6ZWQnIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50cmFuc3BvcnRBUEkuc2VuZEFsbCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdjaGF0JyxcclxuICAgICAgICAgICAgYXJnczogW21hdGNoSUQsIGNoYXRNZXNzYWdlXSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBNYXN0ZXIgYXMgTSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/master-be1abdd0.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/multiplayer.js":
/*!***********************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/multiplayer.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Local\": function() { return /* reexport safe */ _socketio_e4fb268a_js__WEBPACK_IMPORTED_MODULE_2__.L; },\n/* harmony export */   \"SocketIO\": function() { return /* reexport safe */ _socketio_e4fb268a_js__WEBPACK_IMPORTED_MODULE_2__.S; }\n/* harmony export */ });\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.isplainobject */ \"./node_modules/lodash.isplainobject/index.js\");\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_isplainobject__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rfc6902__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rfc6902 */ \"./node_modules/rfc6902/index.js\");\n/* harmony import */ var _socketio_e4fb268a_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./socketio-e4fb268a.js */ \"./node_modules/boardgame.io/dist/esm/socketio-e4fb268a.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ \"./node_modules/socket.io-client/build/esm/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL211bHRpcGxheWVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBZTtBQUNtQjtBQUNuQjtBQUNzQjtBQUNQO0FBQ0M7QUFDZDtBQUNpQjtBQUNEO0FBQ0w7QUFDdUM7QUFDckM7QUFDWTtBQUNoQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL211bHRpcGxheWVyLmpzPzIwMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdyZWR1eCc7XG5pbXBvcnQgJy4vdHVybi1vcmRlci0wYjdkY2UzZC5qcyc7XG5pbXBvcnQgJ2ltbWVyJztcbmltcG9ydCAnLi9wbHVnaW4tcmFuZG9tLTA4N2Y4NjFlLmpzJztcbmltcG9ydCAnbG9kYXNoLmlzcGxhaW5vYmplY3QnO1xuaW1wb3J0ICcuL3JlZHVjZXItMDdjN2IzMDcuanMnO1xuaW1wb3J0ICdyZmM2OTAyJztcbmltcG9ydCAnLi9pbml0aWFsaXplLTlhYzFiYmY1LmpzJztcbmltcG9ydCAnLi90cmFuc3BvcnQtY2UwN2I3NzEuanMnO1xuaW1wb3J0ICcuL3V0aWwtYjE2OTlhYTEuanMnO1xuZXhwb3J0IHsgTCBhcyBMb2NhbCwgUyBhcyBTb2NrZXRJTyB9IGZyb20gJy4vc29ja2V0aW8tZTRmYjI2OGEuanMnO1xuaW1wb3J0ICcuL21hc3Rlci1iZTFhYmRkMC5qcyc7XG5pbXBvcnQgJy4vZmlsdGVyLXBsYXllci12aWV3LWMzMGNkZmJmLmpzJztcbmltcG9ydCAnc29ja2V0LmlvLWNsaWVudCc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/multiplayer.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/plugin-random-087f861e.js":
/*!**********************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/plugin-random-087f861e.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"R\": function() { return /* binding */ RandomPlugin; },\n/* harmony export */   \"a\": function() { return /* binding */ alea; }\n/* harmony export */ });\n// Inlined version of Alea from https://github.com/davidbau/seedrandom.\r\n// Converted to Typescript October 2020.\r\nclass Alea {\r\n    constructor(seed) {\r\n        const mash = Mash();\r\n        // Apply the seeding algorithm from Baagoe.\r\n        this.c = 1;\r\n        this.s0 = mash(' ');\r\n        this.s1 = mash(' ');\r\n        this.s2 = mash(' ');\r\n        this.s0 -= mash(seed);\r\n        if (this.s0 < 0) {\r\n            this.s0 += 1;\r\n        }\r\n        this.s1 -= mash(seed);\r\n        if (this.s1 < 0) {\r\n            this.s1 += 1;\r\n        }\r\n        this.s2 -= mash(seed);\r\n        if (this.s2 < 0) {\r\n            this.s2 += 1;\r\n        }\r\n    }\r\n    next() {\r\n        const t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\r\n        this.s0 = this.s1;\r\n        this.s1 = this.s2;\r\n        return (this.s2 = t - (this.c = Math.trunc(t)));\r\n    }\r\n}\r\nfunction Mash() {\r\n    let n = 0xefc8249d;\r\n    const mash = function (data) {\r\n        const str = data.toString();\r\n        for (let i = 0; i < str.length; i++) {\r\n            n += str.charCodeAt(i);\r\n            let h = 0.02519603282416938 * n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            h *= n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            n += h * 0x100000000; // 2^32\r\n        }\r\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\r\n    };\r\n    return mash;\r\n}\r\nfunction copy(f, t) {\r\n    t.c = f.c;\r\n    t.s0 = f.s0;\r\n    t.s1 = f.s1;\r\n    t.s2 = f.s2;\r\n    return t;\r\n}\r\nfunction alea(seed, state) {\r\n    const xg = new Alea(seed);\r\n    const prng = xg.next.bind(xg);\r\n    if (state)\r\n        copy(state, xg);\r\n    prng.state = () => copy(xg, {});\r\n    return prng;\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Random\r\n *\r\n * Calls that require a pseudorandom number generator.\r\n * Uses a seed from ctx, and also persists the PRNG\r\n * state in ctx so that moves can stay pure.\r\n */\r\nclass Random {\r\n    /**\r\n     * constructor\r\n     * @param {object} ctx - The ctx object to initialize from.\r\n     */\r\n    constructor(state) {\r\n        // If we are on the client, the seed is not present.\r\n        // Just use a temporary seed to execute the move without\r\n        // crashing it. The move state itself is discarded,\r\n        // so the actual value doesn't matter.\r\n        this.state = state || { seed: '0' };\r\n        this.used = false;\r\n    }\r\n    /**\r\n     * Generates a new seed from the current date / time.\r\n     */\r\n    static seed() {\r\n        return Date.now().toString(36).slice(-10);\r\n    }\r\n    isUsed() {\r\n        return this.used;\r\n    }\r\n    getState() {\r\n        return this.state;\r\n    }\r\n    /**\r\n     * Generate a random number.\r\n     */\r\n    _random() {\r\n        this.used = true;\r\n        const R = this.state;\r\n        const seed = R.prngstate ? '' : R.seed;\r\n        const rand = alea(seed, R.prngstate);\r\n        const number = rand();\r\n        this.state = {\r\n            ...R,\r\n            prngstate: rand.state(),\r\n        };\r\n        return number;\r\n    }\r\n    api() {\r\n        const random = this._random.bind(this);\r\n        const SpotValue = {\r\n            D4: 4,\r\n            D6: 6,\r\n            D8: 8,\r\n            D10: 10,\r\n            D12: 12,\r\n            D20: 20,\r\n        };\r\n        // Generate functions for predefined dice values D4 - D20.\r\n        const predefined = {};\r\n        for (const key in SpotValue) {\r\n            const spotvalue = SpotValue[key];\r\n            predefined[key] = (diceCount) => {\r\n                return diceCount === undefined\r\n                    ? Math.floor(random() * spotvalue) + 1\r\n                    : Array.from({ length: diceCount }).map(() => Math.floor(random() * spotvalue) + 1);\r\n            };\r\n        }\r\n        function Die(spotvalue = 6, diceCount) {\r\n            return diceCount === undefined\r\n                ? Math.floor(random() * spotvalue) + 1\r\n                : Array.from({ length: diceCount }).map(() => Math.floor(random() * spotvalue) + 1);\r\n        }\r\n        return {\r\n            /**\r\n             * Similar to Die below, but with fixed spot values.\r\n             * Supports passing a diceCount\r\n             *    if not defined, defaults to 1 and returns the value directly.\r\n             *    if defined, returns an array containing the random dice values.\r\n             *\r\n             * D4: (diceCount) => value\r\n             * D6: (diceCount) => value\r\n             * D8: (diceCount) => value\r\n             * D10: (diceCount) => value\r\n             * D12: (diceCount) => value\r\n             * D20: (diceCount) => value\r\n             */\r\n            ...predefined,\r\n            /**\r\n             * Roll a die of specified spot value.\r\n             *\r\n             * @param {number} spotvalue - The die dimension (default: 6).\r\n             * @param {number} diceCount - number of dice to throw.\r\n             *                             if not defined, defaults to 1 and returns the value directly.\r\n             *                             if defined, returns an array containing the random dice values.\r\n             */\r\n            Die,\r\n            /**\r\n             * Generate a random number between 0 and 1.\r\n             */\r\n            Number: () => {\r\n                return random();\r\n            },\r\n            /**\r\n             * Shuffle an array.\r\n             *\r\n             * @param {Array} deck - The array to shuffle. Does not mutate\r\n             *                       the input, but returns the shuffled array.\r\n             */\r\n            Shuffle: (deck) => {\r\n                const clone = [...deck];\r\n                let sourceIndex = deck.length;\r\n                let destinationIndex = 0;\r\n                const shuffled = Array.from({ length: sourceIndex });\r\n                while (sourceIndex) {\r\n                    const randomIndex = Math.trunc(sourceIndex * random());\r\n                    shuffled[destinationIndex++] = clone[randomIndex];\r\n                    clone[randomIndex] = clone[--sourceIndex];\r\n                }\r\n                return shuffled;\r\n            },\r\n            _private: this,\r\n        };\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst RandomPlugin = {\r\n    name: 'random',\r\n    noClient: ({ api }) => {\r\n        return api._private.isUsed();\r\n    },\r\n    flush: ({ api }) => {\r\n        return api._private.getState();\r\n    },\r\n    api: ({ data }) => {\r\n        const random = new Random(data);\r\n        return random.api();\r\n    },\r\n    setup: ({ game }) => {\r\n        let { seed } = game;\r\n        if (seed === undefined) {\r\n            seed = Random.seed();\r\n        }\r\n        return { seed };\r\n    },\r\n    playerView: () => undefined,\r\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3BsdWdpbi1yYW5kb20tMDg3Zjg2MWUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtQkFBbUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixtQkFBbUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQix1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHFCQUFxQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLEtBQUs7QUFDdEI7QUFDQSxLQUFLO0FBQ0wsY0FBYyxLQUFLO0FBQ25CO0FBQ0EsS0FBSztBQUNMLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGNBQWMsTUFBTTtBQUNwQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLEtBQUs7QUFDTDtBQUNBOztBQUV3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3BsdWdpbi1yYW5kb20tMDg3Zjg2MWUuanM/MjViZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbmxpbmVkIHZlcnNpb24gb2YgQWxlYSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGJhdS9zZWVkcmFuZG9tLlxyXG4vLyBDb252ZXJ0ZWQgdG8gVHlwZXNjcmlwdCBPY3RvYmVyIDIwMjAuXHJcbmNsYXNzIEFsZWEge1xyXG4gICAgY29uc3RydWN0b3Ioc2VlZCkge1xyXG4gICAgICAgIGNvbnN0IG1hc2ggPSBNYXNoKCk7XHJcbiAgICAgICAgLy8gQXBwbHkgdGhlIHNlZWRpbmcgYWxnb3JpdGhtIGZyb20gQmFhZ29lLlxyXG4gICAgICAgIHRoaXMuYyA9IDE7XHJcbiAgICAgICAgdGhpcy5zMCA9IG1hc2goJyAnKTtcclxuICAgICAgICB0aGlzLnMxID0gbWFzaCgnICcpO1xyXG4gICAgICAgIHRoaXMuczIgPSBtYXNoKCcgJyk7XHJcbiAgICAgICAgdGhpcy5zMCAtPSBtYXNoKHNlZWQpO1xyXG4gICAgICAgIGlmICh0aGlzLnMwIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnMwICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuczEgLT0gbWFzaChzZWVkKTtcclxuICAgICAgICBpZiAodGhpcy5zMSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zMSArPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnMyIC09IG1hc2goc2VlZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuczIgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuczIgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBuZXh0KCkge1xyXG4gICAgICAgIGNvbnN0IHQgPSAyMDkxNjM5ICogdGhpcy5zMCArIHRoaXMuYyAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXHJcbiAgICAgICAgdGhpcy5zMCA9IHRoaXMuczE7XHJcbiAgICAgICAgdGhpcy5zMSA9IHRoaXMuczI7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnMyID0gdCAtICh0aGlzLmMgPSBNYXRoLnRydW5jKHQpKSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gTWFzaCgpIHtcclxuICAgIGxldCBuID0gMHhlZmM4MjQ5ZDtcclxuICAgIGNvbnN0IG1hc2ggPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHN0ciA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBuICs9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBsZXQgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xyXG4gICAgICAgICAgICBuID0gaCA+Pj4gMDtcclxuICAgICAgICAgICAgaCAtPSBuO1xyXG4gICAgICAgICAgICBoICo9IG47XHJcbiAgICAgICAgICAgIG4gPSBoID4+PiAwO1xyXG4gICAgICAgICAgICBoIC09IG47XHJcbiAgICAgICAgICAgIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxyXG4gICAgfTtcclxuICAgIHJldHVybiBtYXNoO1xyXG59XHJcbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xyXG4gICAgdC5jID0gZi5jO1xyXG4gICAgdC5zMCA9IGYuczA7XHJcbiAgICB0LnMxID0gZi5zMTtcclxuICAgIHQuczIgPSBmLnMyO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuZnVuY3Rpb24gYWxlYShzZWVkLCBzdGF0ZSkge1xyXG4gICAgY29uc3QgeGcgPSBuZXcgQWxlYShzZWVkKTtcclxuICAgIGNvbnN0IHBybmcgPSB4Zy5uZXh0LmJpbmQoeGcpO1xyXG4gICAgaWYgKHN0YXRlKVxyXG4gICAgICAgIGNvcHkoc3RhdGUsIHhnKTtcclxuICAgIHBybmcuc3RhdGUgPSAoKSA9PiBjb3B5KHhnLCB7fSk7XHJcbiAgICByZXR1cm4gcHJuZztcclxufVxuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIFJhbmRvbVxyXG4gKlxyXG4gKiBDYWxscyB0aGF0IHJlcXVpcmUgYSBwc2V1ZG9yYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cclxuICogVXNlcyBhIHNlZWQgZnJvbSBjdHgsIGFuZCBhbHNvIHBlcnNpc3RzIHRoZSBQUk5HXHJcbiAqIHN0YXRlIGluIGN0eCBzbyB0aGF0IG1vdmVzIGNhbiBzdGF5IHB1cmUuXHJcbiAqL1xyXG5jbGFzcyBSYW5kb20ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIFRoZSBjdHggb2JqZWN0IHRvIGluaXRpYWxpemUgZnJvbS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc3RhdGUpIHtcclxuICAgICAgICAvLyBJZiB3ZSBhcmUgb24gdGhlIGNsaWVudCwgdGhlIHNlZWQgaXMgbm90IHByZXNlbnQuXHJcbiAgICAgICAgLy8gSnVzdCB1c2UgYSB0ZW1wb3Jhcnkgc2VlZCB0byBleGVjdXRlIHRoZSBtb3ZlIHdpdGhvdXRcclxuICAgICAgICAvLyBjcmFzaGluZyBpdC4gVGhlIG1vdmUgc3RhdGUgaXRzZWxmIGlzIGRpc2NhcmRlZCxcclxuICAgICAgICAvLyBzbyB0aGUgYWN0dWFsIHZhbHVlIGRvZXNuJ3QgbWF0dGVyLlxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZSB8fCB7IHNlZWQ6ICcwJyB9O1xyXG4gICAgICAgIHRoaXMudXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgYSBuZXcgc2VlZCBmcm9tIHRoZSBjdXJyZW50IGRhdGUgLyB0aW1lLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2VlZCgpIHtcclxuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKS50b1N0cmluZygzNikuc2xpY2UoLTEwKTtcclxuICAgIH1cclxuICAgIGlzVXNlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51c2VkO1xyXG4gICAgfVxyXG4gICAgZ2V0U3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGEgcmFuZG9tIG51bWJlci5cclxuICAgICAqL1xyXG4gICAgX3JhbmRvbSgpIHtcclxuICAgICAgICB0aGlzLnVzZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IFIgPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHNlZWQgPSBSLnBybmdzdGF0ZSA/ICcnIDogUi5zZWVkO1xyXG4gICAgICAgIGNvbnN0IHJhbmQgPSBhbGVhKHNlZWQsIFIucHJuZ3N0YXRlKTtcclxuICAgICAgICBjb25zdCBudW1iZXIgPSByYW5kKCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgLi4uUixcclxuICAgICAgICAgICAgcHJuZ3N0YXRlOiByYW5kLnN0YXRlKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgfVxyXG4gICAgYXBpKCkge1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbSA9IHRoaXMuX3JhbmRvbS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGNvbnN0IFNwb3RWYWx1ZSA9IHtcclxuICAgICAgICAgICAgRDQ6IDQsXHJcbiAgICAgICAgICAgIEQ2OiA2LFxyXG4gICAgICAgICAgICBEODogOCxcclxuICAgICAgICAgICAgRDEwOiAxMCxcclxuICAgICAgICAgICAgRDEyOiAxMixcclxuICAgICAgICAgICAgRDIwOiAyMCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEdlbmVyYXRlIGZ1bmN0aW9ucyBmb3IgcHJlZGVmaW5lZCBkaWNlIHZhbHVlcyBENCAtIEQyMC5cclxuICAgICAgICBjb25zdCBwcmVkZWZpbmVkID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gU3BvdFZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwb3R2YWx1ZSA9IFNwb3RWYWx1ZVtrZXldO1xyXG4gICAgICAgICAgICBwcmVkZWZpbmVkW2tleV0gPSAoZGljZUNvdW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGljZUNvdW50ID09PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICA/IE1hdGguZmxvb3IocmFuZG9tKCkgKiBzcG90dmFsdWUpICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIDogQXJyYXkuZnJvbSh7IGxlbmd0aDogZGljZUNvdW50IH0pLm1hcCgoKSA9PiBNYXRoLmZsb29yKHJhbmRvbSgpICogc3BvdHZhbHVlKSArIDEpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBEaWUoc3BvdHZhbHVlID0gNiwgZGljZUNvdW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkaWNlQ291bnQgPT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgPyBNYXRoLmZsb29yKHJhbmRvbSgpICogc3BvdHZhbHVlKSArIDFcclxuICAgICAgICAgICAgICAgIDogQXJyYXkuZnJvbSh7IGxlbmd0aDogZGljZUNvdW50IH0pLm1hcCgoKSA9PiBNYXRoLmZsb29yKHJhbmRvbSgpICogc3BvdHZhbHVlKSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogU2ltaWxhciB0byBEaWUgYmVsb3csIGJ1dCB3aXRoIGZpeGVkIHNwb3QgdmFsdWVzLlxyXG4gICAgICAgICAgICAgKiBTdXBwb3J0cyBwYXNzaW5nIGEgZGljZUNvdW50XHJcbiAgICAgICAgICAgICAqICAgIGlmIG5vdCBkZWZpbmVkLCBkZWZhdWx0cyB0byAxIGFuZCByZXR1cm5zIHRoZSB2YWx1ZSBkaXJlY3RseS5cclxuICAgICAgICAgICAgICogICAgaWYgZGVmaW5lZCwgcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSByYW5kb20gZGljZSB2YWx1ZXMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEQ0OiAoZGljZUNvdW50KSA9PiB2YWx1ZVxyXG4gICAgICAgICAgICAgKiBENjogKGRpY2VDb3VudCkgPT4gdmFsdWVcclxuICAgICAgICAgICAgICogRDg6IChkaWNlQ291bnQpID0+IHZhbHVlXHJcbiAgICAgICAgICAgICAqIEQxMDogKGRpY2VDb3VudCkgPT4gdmFsdWVcclxuICAgICAgICAgICAgICogRDEyOiAoZGljZUNvdW50KSA9PiB2YWx1ZVxyXG4gICAgICAgICAgICAgKiBEMjA6IChkaWNlQ291bnQpID0+IHZhbHVlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAuLi5wcmVkZWZpbmVkLFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogUm9sbCBhIGRpZSBvZiBzcGVjaWZpZWQgc3BvdCB2YWx1ZS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNwb3R2YWx1ZSAtIFRoZSBkaWUgZGltZW5zaW9uIChkZWZhdWx0OiA2KS5cclxuICAgICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGRpY2VDb3VudCAtIG51bWJlciBvZiBkaWNlIHRvIHRocm93LlxyXG4gICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGRlZmluZWQsIGRlZmF1bHRzIHRvIDEgYW5kIHJldHVybnMgdGhlIHZhbHVlIGRpcmVjdGx5LlxyXG4gICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGVmaW5lZCwgcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSByYW5kb20gZGljZSB2YWx1ZXMuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBEaWUsXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBHZW5lcmF0ZSBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgTnVtYmVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZG9tKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBTaHVmZmxlIGFuIGFycmF5LlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBkZWNrIC0gVGhlIGFycmF5IHRvIHNodWZmbGUuIERvZXMgbm90IG11dGF0ZVxyXG4gICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgdGhlIGlucHV0LCBidXQgcmV0dXJucyB0aGUgc2h1ZmZsZWQgYXJyYXkuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBTaHVmZmxlOiAoZGVjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmUgPSBbLi4uZGVja107XHJcbiAgICAgICAgICAgICAgICBsZXQgc291cmNlSW5kZXggPSBkZWNrLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBkZXN0aW5hdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNodWZmbGVkID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogc291cmNlSW5kZXggfSk7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc291cmNlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGgudHJ1bmMoc291cmNlSW5kZXggKiByYW5kb20oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2h1ZmZsZWRbZGVzdGluYXRpb25JbmRleCsrXSA9IGNsb25lW3JhbmRvbUluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZVtyYW5kb21JbmRleF0gPSBjbG9uZVstLXNvdXJjZUluZGV4XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaHVmZmxlZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3ByaXZhdGU6IHRoaXMsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuY29uc3QgUmFuZG9tUGx1Z2luID0ge1xyXG4gICAgbmFtZTogJ3JhbmRvbScsXHJcbiAgICBub0NsaWVudDogKHsgYXBpIH0pID0+IHtcclxuICAgICAgICByZXR1cm4gYXBpLl9wcml2YXRlLmlzVXNlZCgpO1xyXG4gICAgfSxcclxuICAgIGZsdXNoOiAoeyBhcGkgfSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBhcGkuX3ByaXZhdGUuZ2V0U3RhdGUoKTtcclxuICAgIH0sXHJcbiAgICBhcGk6ICh7IGRhdGEgfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbSA9IG5ldyBSYW5kb20oZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHJhbmRvbS5hcGkoKTtcclxuICAgIH0sXHJcbiAgICBzZXR1cDogKHsgZ2FtZSB9KSA9PiB7XHJcbiAgICAgICAgbGV0IHsgc2VlZCB9ID0gZ2FtZTtcclxuICAgICAgICBpZiAoc2VlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHNlZWQgPSBSYW5kb20uc2VlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBzZWVkIH07XHJcbiAgICB9LFxyXG4gICAgcGxheWVyVmlldzogKCkgPT4gdW5kZWZpbmVkLFxyXG59O1xuXG5leHBvcnQgeyBSYW5kb21QbHVnaW4gYXMgUiwgYWxlYSBhcyBhIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/plugin-random-087f861e.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/react.js":
/*!*****************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/react.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Client\": function() { return /* binding */ Client; },\n/* harmony export */   \"Lobby\": function() { return /* binding */ Lobby; }\n/* harmony export */ });\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"./node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.isplainobject */ \"./node_modules/lodash.isplainobject/index.js\");\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isplainobject__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var rfc6902__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rfc6902 */ \"./node_modules/rfc6902/index.js\");\n/* harmony import */ var _client_fa36c03a_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./client-fa36c03a.js */ \"./node_modules/boardgame.io/dist/esm/client-fa36c03a.js\");\n/* harmony import */ var flatted__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! flatted */ \"./node_modules/flatted/esm/index.js\");\n/* harmony import */ var setimmediate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! setimmediate */ \"./node_modules/next/dist/compiled/setimmediate/setImmediate.js\");\n/* harmony import */ var setimmediate__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(setimmediate__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ai-3099ce9a.js */ \"./node_modules/boardgame.io/dist/esm/ai-3099ce9a.js\");\n/* harmony import */ var _client_5f57c3f2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./client-5f57c3f2.js */ \"./node_modules/boardgame.io/dist/esm/client-5f57c3f2.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_cookies__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-cookies */ \"./node_modules/react-cookies/build/cookie.js\");\n/* harmony import */ var _socketio_e4fb268a_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./socketio-e4fb268a.js */ \"./node_modules/boardgame.io/dist/esm/socketio-e4fb268a.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! socket.io-client */ \"./node_modules/socket.io-client/build/esm/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Client\r\n *\r\n * boardgame.io React client.\r\n *\r\n * @param {...object} game - The return value of `Game`.\r\n * @param {...object} numPlayers - The number of players.\r\n * @param {...object} board - The React component for the game.\r\n * @param {...object} loading - (optional) The React component for the loading state.\r\n * @param {...object} multiplayer - Set to a falsy value or a transportFactory, e.g., SocketIO()\r\n * @param {...object} debug - Enables the Debug UI.\r\n * @param {...object} enhancer - Optional enhancer to send to the Redux store\r\n *\r\n * Returns:\r\n *   A React component that wraps board and provides an\r\n *   API through props for it to interact with the framework\r\n *   and dispatch actions such as MAKE_MOVE, GAME_EVENT, RESET,\r\n *   UNDO and REDO.\r\n */\r\nfunction Client(opts) {\r\n    var _a;\r\n    const { game, numPlayers, board, multiplayer, enhancer } = opts;\r\n    let { loading, debug } = opts;\r\n    // Component that is displayed before the client has synced\r\n    // with the game master.\r\n    if (loading === undefined) {\r\n        const Loading = () => react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: \"bgio-loading\" }, \"connecting...\");\r\n        loading = Loading;\r\n    }\r\n    /*\r\n     * WrappedBoard\r\n     *\r\n     * The main React component that wraps the passed in\r\n     * board component and adds the API to its props.\r\n     */\r\n    return _a = class WrappedBoard extends (react__WEBPACK_IMPORTED_MODULE_5___default().Component) {\r\n            constructor(props) {\r\n                super(props);\r\n                if (debug === undefined) {\r\n                    debug = props.debug;\r\n                }\r\n                this.client = (0,_client_fa36c03a_js__WEBPACK_IMPORTED_MODULE_8__.C)({\r\n                    game,\r\n                    debug,\r\n                    numPlayers,\r\n                    multiplayer,\r\n                    matchID: props.matchID,\r\n                    playerID: props.playerID,\r\n                    credentials: props.credentials,\r\n                    enhancer,\r\n                });\r\n            }\r\n            componentDidMount() {\r\n                this.unsubscribe = this.client.subscribe(() => this.forceUpdate());\r\n                this.client.start();\r\n            }\r\n            componentWillUnmount() {\r\n                this.client.stop();\r\n                this.unsubscribe();\r\n            }\r\n            componentDidUpdate(prevProps) {\r\n                if (this.props.matchID != prevProps.matchID) {\r\n                    this.client.updateMatchID(this.props.matchID);\r\n                }\r\n                if (this.props.playerID != prevProps.playerID) {\r\n                    this.client.updatePlayerID(this.props.playerID);\r\n                }\r\n                if (this.props.credentials != prevProps.credentials) {\r\n                    this.client.updateCredentials(this.props.credentials);\r\n                }\r\n            }\r\n            render() {\r\n                const state = this.client.getState();\r\n                if (state === null) {\r\n                    return react__WEBPACK_IMPORTED_MODULE_5___default().createElement(loading);\r\n                }\r\n                let _board = null;\r\n                if (board) {\r\n                    _board = react__WEBPACK_IMPORTED_MODULE_5___default().createElement(board, {\r\n                        ...state,\r\n                        ...this.props,\r\n                        isMultiplayer: !!multiplayer,\r\n                        moves: this.client.moves,\r\n                        events: this.client.events,\r\n                        matchID: this.client.matchID,\r\n                        playerID: this.client.playerID,\r\n                        reset: this.client.reset,\r\n                        undo: this.client.undo,\r\n                        redo: this.client.redo,\r\n                        log: this.client.log,\r\n                        matchData: this.client.matchData,\r\n                        sendChatMessage: this.client.sendChatMessage,\r\n                        chatMessages: this.client.chatMessages,\r\n                    });\r\n                }\r\n                return react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: \"bgio-client\" }, _board);\r\n            }\r\n        },\r\n        _a.propTypes = {\r\n            // The ID of a game to connect to.\r\n            // Only relevant in multiplayer.\r\n            matchID: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().string),\r\n            // The ID of the player associated with this client.\r\n            // Only relevant in multiplayer.\r\n            playerID: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().string),\r\n            // This client's authentication credentials.\r\n            // Only relevant in multiplayer.\r\n            credentials: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().string),\r\n            // Enable / disable the Debug UI.\r\n            debug: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().any),\r\n        },\r\n        _a.defaultProps = {\r\n            matchID: 'default',\r\n            playerID: null,\r\n            credentials: null,\r\n            debug: true,\r\n        },\r\n        _a;\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nclass _LobbyConnectionImpl {\r\n    constructor({ server, gameComponents, playerName, playerCredentials, }) {\r\n        this.client = new _client_5f57c3f2_js__WEBPACK_IMPORTED_MODULE_10__.L({ server });\r\n        this.gameComponents = gameComponents;\r\n        this.playerName = playerName || 'Visitor';\r\n        this.playerCredentials = playerCredentials;\r\n        this.matches = [];\r\n    }\r\n    async refresh() {\r\n        try {\r\n            this.matches = [];\r\n            const games = await this.client.listGames();\r\n            for (const game of games) {\r\n                if (!this._getGameComponents(game))\r\n                    continue;\r\n                const { matches } = await this.client.listMatches(game);\r\n                this.matches.push(...matches);\r\n            }\r\n        }\r\n        catch (error) {\r\n            throw new Error('failed to retrieve list of matches (' + error + ')');\r\n        }\r\n    }\r\n    _getMatchInstance(matchID) {\r\n        for (const inst of this.matches) {\r\n            if (inst['matchID'] === matchID)\r\n                return inst;\r\n        }\r\n    }\r\n    _getGameComponents(gameName) {\r\n        for (const comp of this.gameComponents) {\r\n            if (comp.game.name === gameName)\r\n                return comp;\r\n        }\r\n    }\r\n    _findPlayer(playerName) {\r\n        for (const inst of this.matches) {\r\n            if (inst.players.some((player) => player.name === playerName))\r\n                return inst;\r\n        }\r\n    }\r\n    async join(gameName, matchID, playerID) {\r\n        try {\r\n            let inst = this._findPlayer(this.playerName);\r\n            if (inst) {\r\n                throw new Error('player has already joined ' + inst.matchID);\r\n            }\r\n            inst = this._getMatchInstance(matchID);\r\n            if (!inst) {\r\n                throw new Error('game instance ' + matchID + ' not found');\r\n            }\r\n            const json = await this.client.joinMatch(gameName, matchID, {\r\n                playerID,\r\n                playerName: this.playerName,\r\n            });\r\n            inst.players[Number.parseInt(playerID)].name = this.playerName;\r\n            this.playerCredentials = json.playerCredentials;\r\n        }\r\n        catch (error) {\r\n            throw new Error('failed to join match ' + matchID + ' (' + error + ')');\r\n        }\r\n    }\r\n    async leave(gameName, matchID) {\r\n        try {\r\n            const inst = this._getMatchInstance(matchID);\r\n            if (!inst)\r\n                throw new Error('match instance not found');\r\n            for (const player of inst.players) {\r\n                if (player.name === this.playerName) {\r\n                    await this.client.leaveMatch(gameName, matchID, {\r\n                        playerID: player.id.toString(),\r\n                        credentials: this.playerCredentials,\r\n                    });\r\n                    delete player.name;\r\n                    delete this.playerCredentials;\r\n                    return;\r\n                }\r\n            }\r\n            throw new Error('player not found in match');\r\n        }\r\n        catch (error) {\r\n            throw new Error('failed to leave match ' + matchID + ' (' + error + ')');\r\n        }\r\n    }\r\n    async disconnect() {\r\n        const inst = this._findPlayer(this.playerName);\r\n        if (inst) {\r\n            await this.leave(inst.gameName, inst.matchID);\r\n        }\r\n        this.matches = [];\r\n        this.playerName = 'Visitor';\r\n    }\r\n    async create(gameName, numPlayers) {\r\n        try {\r\n            const comp = this._getGameComponents(gameName);\r\n            if (!comp)\r\n                throw new Error('game not found');\r\n            if (numPlayers < comp.game.minPlayers ||\r\n                numPlayers > comp.game.maxPlayers)\r\n                throw new Error('invalid number of players ' + numPlayers);\r\n            await this.client.createMatch(gameName, { numPlayers });\r\n        }\r\n        catch (error) {\r\n            throw new Error('failed to create match for ' + gameName + ' (' + error + ')');\r\n        }\r\n    }\r\n}\r\n/**\r\n * LobbyConnection\r\n *\r\n * Lobby model.\r\n *\r\n * @param {string}   server - '<host>:<port>' of the server.\r\n * @param {Array}    gameComponents - A map of Board and Game objects for the supported games.\r\n * @param {string}   playerName - The name of the player.\r\n * @param {string}   playerCredentials - The credentials currently used by the player, if any.\r\n *\r\n * Returns:\r\n *   A JS object that synchronizes the list of running game instances with the server and provides an API to create/join/start instances.\r\n */\r\nfunction LobbyConnection(opts) {\r\n    return new _LobbyConnectionImpl(opts);\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors.\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nclass LobbyLoginForm extends (react__WEBPACK_IMPORTED_MODULE_5___default().Component) {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {\r\n            playerName: this.props.playerName,\r\n            nameErrorMsg: '',\r\n        };\r\n        this.onClickEnter = () => {\r\n            if (this.state.playerName === '')\r\n                return;\r\n            this.props.onEnter(this.state.playerName);\r\n        };\r\n        this.onKeyPress = (event) => {\r\n            if (event.key === 'Enter') {\r\n                this.onClickEnter();\r\n            }\r\n        };\r\n        this.onChangePlayerName = (event) => {\r\n            const name = event.target.value.trim();\r\n            this.setState({\r\n                playerName: name,\r\n                nameErrorMsg: name.length > 0 ? '' : 'empty player name',\r\n            });\r\n        };\r\n    }\r\n    render() {\r\n        return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"p\", { className: \"phase-title\" }, \"Choose a player name:\"),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"input\", { type: \"text\", value: this.state.playerName, onChange: this.onChangePlayerName, onKeyPress: this.onKeyPress }),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"span\", { className: \"buttons\" },\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { className: \"buttons\", onClick: this.onClickEnter }, \"Enter\")),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"br\", null),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"span\", { className: \"error-msg\" },\r\n                this.state.nameErrorMsg,\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"br\", null))));\r\n    }\r\n}\r\nLobbyLoginForm.defaultProps = {\r\n    playerName: '',\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors.\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nclass LobbyMatchInstance extends (react__WEBPACK_IMPORTED_MODULE_5___default().Component) {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._createSeat = (player) => {\r\n            return player.name || '[free]';\r\n        };\r\n        this._createButtonJoin = (inst, seatId) => (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { key: 'button-join-' + inst.matchID, onClick: () => this.props.onClickJoin(inst.gameName, inst.matchID, '' + seatId) }, \"Join\"));\r\n        this._createButtonLeave = (inst) => (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { key: 'button-leave-' + inst.matchID, onClick: () => this.props.onClickLeave(inst.gameName, inst.matchID) }, \"Leave\"));\r\n        this._createButtonPlay = (inst, seatId) => (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { key: 'button-play-' + inst.matchID, onClick: () => this.props.onClickPlay(inst.gameName, {\r\n                matchID: inst.matchID,\r\n                playerID: '' + seatId,\r\n                numPlayers: inst.players.length,\r\n            }) }, \"Play\"));\r\n        this._createButtonSpectate = (inst) => (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { key: 'button-spectate-' + inst.matchID, onClick: () => this.props.onClickPlay(inst.gameName, {\r\n                matchID: inst.matchID,\r\n                numPlayers: inst.players.length,\r\n            }) }, \"Spectate\"));\r\n        this._createInstanceButtons = (inst) => {\r\n            const playerSeat = inst.players.find((player) => player.name === this.props.playerName);\r\n            const freeSeat = inst.players.find((player) => !player.name);\r\n            if (playerSeat && freeSeat) {\r\n                // already seated: waiting for match to start\r\n                return this._createButtonLeave(inst);\r\n            }\r\n            if (freeSeat) {\r\n                // at least 1 seat is available\r\n                return this._createButtonJoin(inst, freeSeat.id);\r\n            }\r\n            // match is full\r\n            if (playerSeat) {\r\n                return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", null, [\r\n                    this._createButtonPlay(inst, playerSeat.id),\r\n                    this._createButtonLeave(inst),\r\n                ]));\r\n            }\r\n            // allow spectating\r\n            return this._createButtonSpectate(inst);\r\n        };\r\n    }\r\n    render() {\r\n        const match = this.props.match;\r\n        let status = 'OPEN';\r\n        if (!match.players.some((player) => !player.name)) {\r\n            status = 'RUNNING';\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"tr\", { key: 'line-' + match.matchID },\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"td\", { key: 'cell-name-' + match.matchID }, match.gameName),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"td\", { key: 'cell-status-' + match.matchID }, status),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"td\", { key: 'cell-seats-' + match.matchID }, match.players.map((player) => this._createSeat(player)).join(', ')),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"td\", { key: 'cell-buttons-' + match.matchID }, this._createInstanceButtons(match))));\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors.\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nclass LobbyCreateMatchForm extends (react__WEBPACK_IMPORTED_MODULE_5___default().Component) {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedGame: 0,\r\n            numPlayers: 2,\r\n        };\r\n        this._createGameNameOption = (game, idx) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"option\", { key: 'name-option-' + idx, value: idx }, game.game.name));\r\n        };\r\n        this._createNumPlayersOption = (idx) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"option\", { key: 'num-option-' + idx, value: idx }, idx));\r\n        };\r\n        this._createNumPlayersRange = (game) => {\r\n            return Array.from({ length: game.maxPlayers + 1 })\r\n                .map((_, i) => i)\r\n                .slice(game.minPlayers);\r\n        };\r\n        this.onChangeNumPlayers = (event) => {\r\n            this.setState({\r\n                numPlayers: Number.parseInt(event.target.value),\r\n            });\r\n        };\r\n        this.onChangeSelectedGame = (event) => {\r\n            const idx = Number.parseInt(event.target.value);\r\n            this.setState({\r\n                selectedGame: idx,\r\n                numPlayers: this.props.games[idx].game.minPlayers,\r\n            });\r\n        };\r\n        this.onClickCreate = () => {\r\n            this.props.createMatch(this.props.games[this.state.selectedGame].game.name, this.state.numPlayers);\r\n        };\r\n        /* fix min and max number of players */\r\n        for (const game of props.games) {\r\n            const matchDetails = game.game;\r\n            if (!matchDetails.minPlayers) {\r\n                matchDetails.minPlayers = 1;\r\n            }\r\n            if (!matchDetails.maxPlayers) {\r\n                matchDetails.maxPlayers = 4;\r\n            }\r\n            console.assert(matchDetails.maxPlayers >= matchDetails.minPlayers);\r\n        }\r\n        this.state = {\r\n            selectedGame: 0,\r\n            numPlayers: props.games[0].game.minPlayers,\r\n        };\r\n    }\r\n    render() {\r\n        return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"select\", { value: this.state.selectedGame, onChange: (evt) => this.onChangeSelectedGame(evt) }, this.props.games.map((game, index) => this._createGameNameOption(game, index))),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"span\", null, \"Players:\"),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"select\", { value: this.state.numPlayers, onChange: this.onChangeNumPlayers }, this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map((number) => this._createNumPlayersOption(number))),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"span\", { className: \"buttons\" },\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { onClick: this.onClickCreate }, \"Create\"))));\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors.\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nvar LobbyPhases;\r\n(function (LobbyPhases) {\r\n    LobbyPhases[\"ENTER\"] = \"enter\";\r\n    LobbyPhases[\"PLAY\"] = \"play\";\r\n    LobbyPhases[\"LIST\"] = \"list\";\r\n})(LobbyPhases || (LobbyPhases = {}));\r\n/**\r\n * Lobby\r\n *\r\n * React lobby component.\r\n *\r\n * @param {Array}  gameComponents - An array of Board and Game objects for the supported games.\r\n * @param {string} lobbyServer - Address of the lobby server (for example 'localhost:8000').\r\n *                               If not set, defaults to the server that served the page.\r\n * @param {string} gameServer - Address of the game server (for example 'localhost:8001').\r\n *                              If not set, defaults to the server that served the page.\r\n * @param {function} clientFactory - Function that is used to create the game clients.\r\n * @param {number} refreshInterval - Interval between server updates (default: 2000ms).\r\n * @param {bool}   debug - Enable debug information (default: false).\r\n *\r\n * Returns:\r\n *   A React component that provides a UI to create, list, join, leave, play or\r\n *   spectate matches (game instances).\r\n */\r\nclass Lobby extends (react__WEBPACK_IMPORTED_MODULE_5___default().Component) {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            phase: LobbyPhases.ENTER,\r\n            playerName: 'Visitor',\r\n            runningMatch: null,\r\n            errorMsg: '',\r\n            credentialStore: {},\r\n        };\r\n        this._createConnection = (props) => {\r\n            const name = this.state.playerName;\r\n            this.connection = LobbyConnection({\r\n                server: props.lobbyServer,\r\n                gameComponents: props.gameComponents,\r\n                playerName: name,\r\n                playerCredentials: this.state.credentialStore[name],\r\n            });\r\n        };\r\n        this._updateCredentials = (playerName, credentials) => {\r\n            this.setState((prevState) => {\r\n                // clone store or componentDidUpdate will not be triggered\r\n                const store = Object.assign({}, prevState.credentialStore);\r\n                store[playerName] = credentials;\r\n                return { credentialStore: store };\r\n            });\r\n        };\r\n        this._updateConnection = async () => {\r\n            await this.connection.refresh();\r\n            this.forceUpdate();\r\n        };\r\n        this._enterLobby = (playerName) => {\r\n            this._startRefreshInterval();\r\n            this.setState({ playerName, phase: LobbyPhases.LIST });\r\n        };\r\n        this._exitLobby = async () => {\r\n            this._clearRefreshInterval();\r\n            await this.connection.disconnect();\r\n            this.setState({ phase: LobbyPhases.ENTER, errorMsg: '' });\r\n        };\r\n        this._createMatch = async (gameName, numPlayers) => {\r\n            try {\r\n                await this.connection.create(gameName, numPlayers);\r\n                await this.connection.refresh();\r\n                // rerender\r\n                this.setState({});\r\n            }\r\n            catch (error) {\r\n                this.setState({ errorMsg: error.message });\r\n            }\r\n        };\r\n        this._joinMatch = async (gameName, matchID, playerID) => {\r\n            try {\r\n                await this.connection.join(gameName, matchID, playerID);\r\n                await this.connection.refresh();\r\n                this._updateCredentials(this.connection.playerName, this.connection.playerCredentials);\r\n            }\r\n            catch (error) {\r\n                this.setState({ errorMsg: error.message });\r\n            }\r\n        };\r\n        this._leaveMatch = async (gameName, matchID) => {\r\n            try {\r\n                await this.connection.leave(gameName, matchID);\r\n                await this.connection.refresh();\r\n                this._updateCredentials(this.connection.playerName, this.connection.playerCredentials);\r\n            }\r\n            catch (error) {\r\n                this.setState({ errorMsg: error.message });\r\n            }\r\n        };\r\n        this._startMatch = (gameName, matchOpts) => {\r\n            const gameCode = this.connection._getGameComponents(gameName);\r\n            if (!gameCode) {\r\n                this.setState({\r\n                    errorMsg: 'game ' + gameName + ' not supported',\r\n                });\r\n                return;\r\n            }\r\n            let multiplayer = undefined;\r\n            if (matchOpts.numPlayers > 1) {\r\n                multiplayer = this.props.gameServer\r\n                    ? (0,_socketio_e4fb268a_js__WEBPACK_IMPORTED_MODULE_11__.S)({ server: this.props.gameServer })\r\n                    : (0,_socketio_e4fb268a_js__WEBPACK_IMPORTED_MODULE_11__.S)();\r\n            }\r\n            if (matchOpts.numPlayers == 1) {\r\n                const maxPlayers = gameCode.game.maxPlayers;\r\n                const bots = {};\r\n                for (let i = 1; i < maxPlayers; i++) {\r\n                    bots[i + ''] = _ai_3099ce9a_js__WEBPACK_IMPORTED_MODULE_12__.M;\r\n                }\r\n                multiplayer = (0,_socketio_e4fb268a_js__WEBPACK_IMPORTED_MODULE_11__.L)({ bots });\r\n            }\r\n            const app = this.props.clientFactory({\r\n                game: gameCode.game,\r\n                board: gameCode.board,\r\n                debug: this.props.debug,\r\n                multiplayer,\r\n            });\r\n            const match = {\r\n                app: app,\r\n                matchID: matchOpts.matchID,\r\n                playerID: matchOpts.numPlayers > 1 ? matchOpts.playerID : '0',\r\n                credentials: this.connection.playerCredentials,\r\n            };\r\n            this._clearRefreshInterval();\r\n            this.setState({ phase: LobbyPhases.PLAY, runningMatch: match });\r\n        };\r\n        this._exitMatch = () => {\r\n            this._startRefreshInterval();\r\n            this.setState({ phase: LobbyPhases.LIST, runningMatch: null });\r\n        };\r\n        this._getPhaseVisibility = (phase) => {\r\n            return this.state.phase !== phase ? 'hidden' : 'phase';\r\n        };\r\n        this.renderMatches = (matches, playerName) => {\r\n            return matches.map((match) => {\r\n                const { matchID, gameName, players } = match;\r\n                return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(LobbyMatchInstance, { key: 'instance-' + matchID, match: { matchID, gameName, players: Object.values(players) }, playerName: playerName, onClickJoin: this._joinMatch, onClickLeave: this._leaveMatch, onClickPlay: this._startMatch }));\r\n            });\r\n        };\r\n        this._createConnection(this.props);\r\n    }\r\n    componentDidMount() {\r\n        const cookie = react_cookies__WEBPACK_IMPORTED_MODULE_6__[\"default\"].load('lobbyState') || {};\r\n        if (cookie.phase && cookie.phase === LobbyPhases.PLAY) {\r\n            cookie.phase = LobbyPhases.LIST;\r\n        }\r\n        if (cookie.phase && cookie.phase !== LobbyPhases.ENTER) {\r\n            this._startRefreshInterval();\r\n        }\r\n        this.setState({\r\n            phase: cookie.phase || LobbyPhases.ENTER,\r\n            playerName: cookie.playerName || 'Visitor',\r\n            credentialStore: cookie.credentialStore || {},\r\n        });\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const name = this.state.playerName;\r\n        const creds = this.state.credentialStore[name];\r\n        if (prevState.phase !== this.state.phase ||\r\n            prevState.credentialStore[name] !== creds ||\r\n            prevState.playerName !== name) {\r\n            this._createConnection(this.props);\r\n            this._updateConnection();\r\n            const cookie = {\r\n                phase: this.state.phase,\r\n                playerName: name,\r\n                credentialStore: this.state.credentialStore,\r\n            };\r\n            react_cookies__WEBPACK_IMPORTED_MODULE_6__[\"default\"].save('lobbyState', cookie, { path: '/' });\r\n        }\r\n        if (prevProps.refreshInterval !== this.props.refreshInterval) {\r\n            this._startRefreshInterval();\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this._clearRefreshInterval();\r\n    }\r\n    _startRefreshInterval() {\r\n        this._clearRefreshInterval();\r\n        this._currentInterval = setInterval(this._updateConnection, this.props.refreshInterval);\r\n    }\r\n    _clearRefreshInterval() {\r\n        clearInterval(this._currentInterval);\r\n    }\r\n    render() {\r\n        const { gameComponents, renderer } = this.props;\r\n        const { errorMsg, playerName, phase, runningMatch } = this.state;\r\n        if (renderer) {\r\n            return renderer({\r\n                errorMsg,\r\n                gameComponents,\r\n                matches: this.connection.matches,\r\n                phase,\r\n                playerName,\r\n                runningMatch,\r\n                handleEnterLobby: this._enterLobby,\r\n                handleExitLobby: this._exitLobby,\r\n                handleCreateMatch: this._createMatch,\r\n                handleJoinMatch: this._joinMatch,\r\n                handleLeaveMatch: this._leaveMatch,\r\n                handleExitMatch: this._exitMatch,\r\n                handleRefreshMatches: this._updateConnection,\r\n                handleStartMatch: this._startMatch,\r\n            });\r\n        }\r\n        return (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { id: \"lobby-view\", style: { padding: 50 } },\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: this._getPhaseVisibility(LobbyPhases.ENTER) },\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(LobbyLoginForm, { key: playerName, playerName: playerName, onEnter: this._enterLobby })),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: this._getPhaseVisibility(LobbyPhases.LIST) },\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"p\", null,\r\n                    \"Welcome, \",\r\n                    playerName),\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: \"phase-title\", id: \"match-creation\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"span\", null, \"Create a match:\"),\r\n                    react__WEBPACK_IMPORTED_MODULE_5___default().createElement(LobbyCreateMatchForm, { games: gameComponents, createMatch: this._createMatch })),\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"p\", { className: \"phase-title\" }, \"Join a match:\"),\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { id: \"instances\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"table\", null,\r\n                        react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"tbody\", null, this.renderMatches(this.connection.matches, playerName))),\r\n                    react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"span\", { className: \"error-msg\" },\r\n                        errorMsg,\r\n                        react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"br\", null))),\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"p\", { className: \"phase-title\" }, \"Matches that become empty are automatically deleted.\")),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: this._getPhaseVisibility(LobbyPhases.PLAY) },\r\n                runningMatch && (react__WEBPACK_IMPORTED_MODULE_5___default().createElement(runningMatch.app, { matchID: runningMatch.matchID, playerID: runningMatch.playerID, credentials: runningMatch.credentials })),\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: \"buttons\", id: \"match-exit\" },\r\n                    react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { onClick: this._exitMatch }, \"Exit match\"))),\r\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", { className: \"buttons\", id: \"lobby-exit\" },\r\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"button\", { onClick: this._exitLobby }, \"Exit lobby\"))));\r\n    }\r\n}\r\nLobby.propTypes = {\r\n    gameComponents: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().array.isRequired),\r\n    lobbyServer: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().string),\r\n    gameServer: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().string),\r\n    debug: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool),\r\n    clientFactory: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().func),\r\n    refreshInterval: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().number),\r\n};\r\nLobby.defaultProps = {\r\n    debug: false,\r\n    clientFactory: Client,\r\n    refreshInterval: 2000,\r\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3JlYWN0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkI7QUFDRTtBQUNkO0FBQ21CO0FBQ25CO0FBQ3NCO0FBQ1A7QUFDQztBQUNkO0FBQ2lCO0FBQ0Q7QUFDb0I7QUFDcEM7QUFDSztBQUMwQjtBQUNRO0FBQzlCO0FBQ1M7QUFDQztBQUNSO0FBQ3VDO0FBQ3JDO0FBQ1k7QUFDaEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFdBQVc7QUFDdEIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsV0FBVztBQUN0QixXQUFXLFdBQVc7QUFDdEIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFpRDtBQUM3RCxVQUFVLGlCQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMERBQW1CLFVBQVUsMkJBQTJCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsd0RBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMERBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwREFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHVCQUF1QiwwREFBbUIsVUFBVSwwQkFBMEI7QUFDOUU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBEQUFnQjtBQUNyQztBQUNBO0FBQ0Esc0JBQXNCLDBEQUFnQjtBQUN0QztBQUNBO0FBQ0EseUJBQXlCLDBEQUFnQjtBQUN6QztBQUNBLG1CQUFtQix1REFBYTtBQUNoQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0RBQXdEO0FBQzFFLDBCQUEwQixtREFBVyxHQUFHLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxZQUFZO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwREFBbUI7QUFDbkMsWUFBWSwwREFBbUIsUUFBUSwwQkFBMEI7QUFDakUsWUFBWSwwREFBbUIsWUFBWSw0R0FBNEc7QUFDdkosWUFBWSwwREFBbUIsV0FBVyxzQkFBc0I7QUFDaEUsZ0JBQWdCLDBEQUFtQixhQUFhLGtEQUFrRDtBQUNsRyxZQUFZLDBEQUFtQjtBQUMvQixZQUFZLDBEQUFtQixXQUFXLHdCQUF3QjtBQUNsRTtBQUNBLGdCQUFnQiwwREFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx3REFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDBEQUFtQixhQUFhLHFIQUFxSDtBQUN6TSw2Q0FBNkMsMERBQW1CLGFBQWEsMEdBQTBHO0FBQ3ZMLG9EQUFvRCwwREFBbUIsYUFBYTtBQUNwRjtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZ0RBQWdELDBEQUFtQixhQUFhO0FBQ2hGO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMERBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQW1CLFNBQVMsOEJBQThCO0FBQzFFLFlBQVksMERBQW1CLFNBQVMsbUNBQW1DO0FBQzNFLFlBQVksMERBQW1CLFNBQVMscUNBQXFDO0FBQzdFLFlBQVksMERBQW1CLFNBQVMsb0NBQW9DO0FBQzVFLFlBQVksMERBQW1CLFNBQVMsc0NBQXNDO0FBQzlFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0RBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMERBQW1CLGFBQWEsdUNBQXVDO0FBQzNGO0FBQ0E7QUFDQSxvQkFBb0IsMERBQW1CLGFBQWEsc0NBQXNDO0FBQzFGO0FBQ0E7QUFDQSxnQ0FBZ0MsNkJBQTZCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDBEQUFtQjtBQUNuQyxZQUFZLDBEQUFtQixhQUFhLG1GQUFtRjtBQUMvSCxZQUFZLDBEQUFtQjtBQUMvQixZQUFZLDBEQUFtQixhQUFhLGlFQUFpRTtBQUM3RyxZQUFZLDBEQUFtQixXQUFXLHNCQUFzQjtBQUNoRSxnQkFBZ0IsMERBQW1CLGFBQWEsNkJBQTZCO0FBQzdFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0M7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdEQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQSx5QkFBeUI7QUFDekIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFDQUFxQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix3Q0FBd0M7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxnQ0FBZ0MseUJBQXlCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5QkFBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHlCQUF5QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlEQUFRLEdBQUcsK0JBQStCO0FBQ2hFLHNCQUFzQix5REFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnQkFBZ0I7QUFDaEQsbUNBQW1DLCtDQUFPO0FBQzFDO0FBQ0EsOEJBQThCLHlEQUFLLEdBQUcsTUFBTTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOENBQThDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBNkM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZCQUE2QjtBQUNyRCx3QkFBd0IsMERBQW1CLHVCQUF1QixxQ0FBcUMsb0RBQW9ELHVIQUF1SDtBQUNsUixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMERBQVk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBWSx5QkFBeUIsV0FBVztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwyQkFBMkI7QUFDM0MsZ0JBQWdCLDRDQUE0QztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQiwwREFBbUIsVUFBVSwyQkFBMkIsZUFBZTtBQUN2RixZQUFZLDBEQUFtQixVQUFVLHdEQUF3RDtBQUNqRyxnQkFBZ0IsMERBQW1CLG1CQUFtQixvRUFBb0U7QUFDMUgsWUFBWSwwREFBbUIsVUFBVSx1REFBdUQ7QUFDaEcsZ0JBQWdCLDBEQUFtQjtBQUNuQztBQUNBO0FBQ0EsZ0JBQWdCLDBEQUFtQixVQUFVLGdEQUFnRDtBQUM3RixvQkFBb0IsMERBQW1CO0FBQ3ZDLG9CQUFvQiwwREFBbUIseUJBQXlCLHVEQUF1RDtBQUN2SCxnQkFBZ0IsMERBQW1CLFFBQVEsMEJBQTBCO0FBQ3JFLGdCQUFnQiwwREFBbUIsVUFBVSxpQkFBaUI7QUFDOUQsb0JBQW9CLDBEQUFtQjtBQUN2Qyx3QkFBd0IsMERBQW1CO0FBQzNDLG9CQUFvQiwwREFBbUIsV0FBVyx3QkFBd0I7QUFDMUU7QUFDQSx3QkFBd0IsMERBQW1CO0FBQzNDLGdCQUFnQiwwREFBbUIsUUFBUSwwQkFBMEI7QUFDckUsWUFBWSwwREFBbUIsVUFBVSx1REFBdUQ7QUFDaEcsaUNBQWlDLDBEQUFtQixxQkFBcUIsdUdBQXVHO0FBQ2hMLGdCQUFnQiwwREFBbUIsVUFBVSx3Q0FBd0M7QUFDckYsb0JBQW9CLDBEQUFtQixhQUFhLDBCQUEwQjtBQUM5RSxZQUFZLDBEQUFtQixVQUFVLHdDQUF3QztBQUNqRixnQkFBZ0IsMERBQW1CLGFBQWEsMEJBQTBCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvRUFBMEI7QUFDOUMsaUJBQWlCLDBEQUFnQjtBQUNqQyxnQkFBZ0IsMERBQWdCO0FBQ2hDLFdBQVcsd0RBQWM7QUFDekIsbUJBQW1CLHdEQUFjO0FBQ2pDLHFCQUFxQiwwREFBZ0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3JlYWN0LmpzPzQ1YTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICduYW5vaWQvbm9uLXNlY3VyZSc7XG5pbXBvcnQgJy4vRGVidWctZmQwOWI4YmMuanMnO1xuaW1wb3J0ICdyZWR1eCc7XG5pbXBvcnQgJy4vdHVybi1vcmRlci0wYjdkY2UzZC5qcyc7XG5pbXBvcnQgJ2ltbWVyJztcbmltcG9ydCAnLi9wbHVnaW4tcmFuZG9tLTA4N2Y4NjFlLmpzJztcbmltcG9ydCAnbG9kYXNoLmlzcGxhaW5vYmplY3QnO1xuaW1wb3J0ICcuL3JlZHVjZXItMDdjN2IzMDcuanMnO1xuaW1wb3J0ICdyZmM2OTAyJztcbmltcG9ydCAnLi9pbml0aWFsaXplLTlhYzFiYmY1LmpzJztcbmltcG9ydCAnLi90cmFuc3BvcnQtY2UwN2I3NzEuanMnO1xuaW1wb3J0IHsgQyBhcyBDbGllbnQkMSB9IGZyb20gJy4vY2xpZW50LWZhMzZjMDNhLmpzJztcbmltcG9ydCAnZmxhdHRlZCc7XG5pbXBvcnQgJ3NldGltbWVkaWF0ZSc7XG5pbXBvcnQgeyBNIGFzIE1DVFNCb3QgfSBmcm9tICcuL2FpLTMwOTljZTlhLmpzJztcbmltcG9ydCB7IEwgYXMgTG9iYnlDbGllbnQgfSBmcm9tICcuL2NsaWVudC01ZjU3YzNmMi5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBDb29raWVzIGZyb20gJ3JlYWN0LWNvb2tpZXMnO1xuaW1wb3J0ICcuL3V0aWwtYjE2OTlhYTEuanMnO1xuaW1wb3J0IHsgUyBhcyBTb2NrZXRJTywgTCBhcyBMb2NhbCB9IGZyb20gJy4vc29ja2V0aW8tZTRmYjI2OGEuanMnO1xuaW1wb3J0ICcuL21hc3Rlci1iZTFhYmRkMC5qcyc7XG5pbXBvcnQgJy4vZmlsdGVyLXBsYXllci12aWV3LWMzMGNkZmJmLmpzJztcbmltcG9ydCAnc29ja2V0LmlvLWNsaWVudCc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG4vKipcclxuICogQ2xpZW50XHJcbiAqXHJcbiAqIGJvYXJkZ2FtZS5pbyBSZWFjdCBjbGllbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBnYW1lIC0gVGhlIHJldHVybiB2YWx1ZSBvZiBgR2FtZWAuXHJcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBudW1QbGF5ZXJzIC0gVGhlIG51bWJlciBvZiBwbGF5ZXJzLlxyXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gYm9hcmQgLSBUaGUgUmVhY3QgY29tcG9uZW50IGZvciB0aGUgZ2FtZS5cclxuICogQHBhcmFtIHsuLi5vYmplY3R9IGxvYWRpbmcgLSAob3B0aW9uYWwpIFRoZSBSZWFjdCBjb21wb25lbnQgZm9yIHRoZSBsb2FkaW5nIHN0YXRlLlxyXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gbXVsdGlwbGF5ZXIgLSBTZXQgdG8gYSBmYWxzeSB2YWx1ZSBvciBhIHRyYW5zcG9ydEZhY3RvcnksIGUuZy4sIFNvY2tldElPKClcclxuICogQHBhcmFtIHsuLi5vYmplY3R9IGRlYnVnIC0gRW5hYmxlcyB0aGUgRGVidWcgVUkuXHJcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBlbmhhbmNlciAtIE9wdGlvbmFsIGVuaGFuY2VyIHRvIHNlbmQgdG8gdGhlIFJlZHV4IHN0b3JlXHJcbiAqXHJcbiAqIFJldHVybnM6XHJcbiAqICAgQSBSZWFjdCBjb21wb25lbnQgdGhhdCB3cmFwcyBib2FyZCBhbmQgcHJvdmlkZXMgYW5cclxuICogICBBUEkgdGhyb3VnaCBwcm9wcyBmb3IgaXQgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgZnJhbWV3b3JrXHJcbiAqICAgYW5kIGRpc3BhdGNoIGFjdGlvbnMgc3VjaCBhcyBNQUtFX01PVkUsIEdBTUVfRVZFTlQsIFJFU0VULFxyXG4gKiAgIFVORE8gYW5kIFJFRE8uXHJcbiAqL1xyXG5mdW5jdGlvbiBDbGllbnQob3B0cykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgY29uc3QgeyBnYW1lLCBudW1QbGF5ZXJzLCBib2FyZCwgbXVsdGlwbGF5ZXIsIGVuaGFuY2VyIH0gPSBvcHRzO1xyXG4gICAgbGV0IHsgbG9hZGluZywgZGVidWcgfSA9IG9wdHM7XHJcbiAgICAvLyBDb21wb25lbnQgdGhhdCBpcyBkaXNwbGF5ZWQgYmVmb3JlIHRoZSBjbGllbnQgaGFzIHN5bmNlZFxyXG4gICAgLy8gd2l0aCB0aGUgZ2FtZSBtYXN0ZXIuXHJcbiAgICBpZiAobG9hZGluZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgY29uc3QgTG9hZGluZyA9ICgpID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYmdpby1sb2FkaW5nXCIgfSwgXCJjb25uZWN0aW5nLi4uXCIpO1xyXG4gICAgICAgIGxvYWRpbmcgPSBMb2FkaW5nO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqIFdyYXBwZWRCb2FyZFxyXG4gICAgICpcclxuICAgICAqIFRoZSBtYWluIFJlYWN0IGNvbXBvbmVudCB0aGF0IHdyYXBzIHRoZSBwYXNzZWQgaW5cclxuICAgICAqIGJvYXJkIGNvbXBvbmVudCBhbmQgYWRkcyB0aGUgQVBJIHRvIGl0cyBwcm9wcy5cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIF9hID0gY2xhc3MgV3JhcHBlZEJvYXJkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVidWcgPSBwcm9wcy5kZWJ1ZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gQ2xpZW50JDEoe1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVidWcsXHJcbiAgICAgICAgICAgICAgICAgICAgbnVtUGxheWVycyxcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsYXllcixcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaElEOiBwcm9wcy5tYXRjaElELFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklEOiBwcm9wcy5wbGF5ZXJJRCxcclxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogcHJvcHMuY3JlZGVudGlhbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5oYW5jZXIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLmNsaWVudC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5mb3JjZVVwZGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubWF0Y2hJRCAhPSBwcmV2UHJvcHMubWF0Y2hJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LnVwZGF0ZU1hdGNoSUQodGhpcy5wcm9wcy5tYXRjaElEKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnBsYXllcklEICE9IHByZXZQcm9wcy5wbGF5ZXJJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LnVwZGF0ZVBsYXllcklEKHRoaXMucHJvcHMucGxheWVySUQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY3JlZGVudGlhbHMgIT0gcHJldlByb3BzLmNyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQudXBkYXRlQ3JlZGVudGlhbHModGhpcy5wcm9wcy5jcmVkZW50aWFscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVuZGVyKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNsaWVudC5nZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQobG9hZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgX2JvYXJkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmIChib2FyZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9ib2FyZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoYm9hcmQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucHJvcHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTXVsdGlwbGF5ZXI6ICEhbXVsdGlwbGF5ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVzOiB0aGlzLmNsaWVudC5tb3ZlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiB0aGlzLmNsaWVudC5ldmVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSUQ6IHRoaXMuY2xpZW50Lm1hdGNoSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcklEOiB0aGlzLmNsaWVudC5wbGF5ZXJJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXQ6IHRoaXMuY2xpZW50LnJlc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRvOiB0aGlzLmNsaWVudC51bmRvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRvOiB0aGlzLmNsaWVudC5yZWRvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2c6IHRoaXMuY2xpZW50LmxvZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hEYXRhOiB0aGlzLmNsaWVudC5tYXRjaERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRDaGF0TWVzc2FnZTogdGhpcy5jbGllbnQuc2VuZENoYXRNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0TWVzc2FnZXM6IHRoaXMuY2xpZW50LmNoYXRNZXNzYWdlcyxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJnaW8tY2xpZW50XCIgfSwgX2JvYXJkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2EucHJvcFR5cGVzID0ge1xyXG4gICAgICAgICAgICAvLyBUaGUgSUQgb2YgYSBnYW1lIHRvIGNvbm5lY3QgdG8uXHJcbiAgICAgICAgICAgIC8vIE9ubHkgcmVsZXZhbnQgaW4gbXVsdGlwbGF5ZXIuXHJcbiAgICAgICAgICAgIG1hdGNoSUQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgICAgIC8vIFRoZSBJRCBvZiB0aGUgcGxheWVyIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNsaWVudC5cclxuICAgICAgICAgICAgLy8gT25seSByZWxldmFudCBpbiBtdWx0aXBsYXllci5cclxuICAgICAgICAgICAgcGxheWVySUQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgICAgIC8vIFRoaXMgY2xpZW50J3MgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgcmVsZXZhbnQgaW4gbXVsdGlwbGF5ZXIuXHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgICAgICAvLyBFbmFibGUgLyBkaXNhYmxlIHRoZSBEZWJ1ZyBVSS5cclxuICAgICAgICAgICAgZGVidWc6IFByb3BUeXBlcy5hbnksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBfYS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIG1hdGNoSUQ6ICdkZWZhdWx0JyxcclxuICAgICAgICAgICAgcGxheWVySUQ6IG51bGwsXHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBudWxsLFxyXG4gICAgICAgICAgICBkZWJ1ZzogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9hO1xyXG59XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG5jbGFzcyBfTG9iYnlDb25uZWN0aW9uSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHNlcnZlciwgZ2FtZUNvbXBvbmVudHMsIHBsYXllck5hbWUsIHBsYXllckNyZWRlbnRpYWxzLCB9KSB7XHJcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgTG9iYnlDbGllbnQoeyBzZXJ2ZXIgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lQ29tcG9uZW50cyA9IGdhbWVDb21wb25lbnRzO1xyXG4gICAgICAgIHRoaXMucGxheWVyTmFtZSA9IHBsYXllck5hbWUgfHwgJ1Zpc2l0b3InO1xyXG4gICAgICAgIHRoaXMucGxheWVyQ3JlZGVudGlhbHMgPSBwbGF5ZXJDcmVkZW50aWFscztcclxuICAgICAgICB0aGlzLm1hdGNoZXMgPSBbXTtcclxuICAgIH1cclxuICAgIGFzeW5jIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVzID0gYXdhaXQgdGhpcy5jbGllbnQubGlzdEdhbWVzKCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2FtZSBvZiBnYW1lcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9nZXRHYW1lQ29tcG9uZW50cyhnYW1lKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbWF0Y2hlcyB9ID0gYXdhaXQgdGhpcy5jbGllbnQubGlzdE1hdGNoZXMoZ2FtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZXMucHVzaCguLi5tYXRjaGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gcmV0cmlldmUgbGlzdCBvZiBtYXRjaGVzICgnICsgZXJyb3IgKyAnKScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9nZXRNYXRjaEluc3RhbmNlKG1hdGNoSUQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGluc3Qgb2YgdGhpcy5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0WydtYXRjaElEJ10gPT09IG1hdGNoSUQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2V0R2FtZUNvbXBvbmVudHMoZ2FtZU5hbWUpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNvbXAgb2YgdGhpcy5nYW1lQ29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBpZiAoY29tcC5nYW1lLm5hbWUgPT09IGdhbWVOYW1lKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2ZpbmRQbGF5ZXIocGxheWVyTmFtZSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgaW5zdCBvZiB0aGlzLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgaWYgKGluc3QucGxheWVycy5zb21lKChwbGF5ZXIpID0+IHBsYXllci5uYW1lID09PSBwbGF5ZXJOYW1lKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIGpvaW4oZ2FtZU5hbWUsIG1hdGNoSUQsIHBsYXllcklEKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGluc3QgPSB0aGlzLl9maW5kUGxheWVyKHRoaXMucGxheWVyTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChpbnN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BsYXllciBoYXMgYWxyZWFkeSBqb2luZWQgJyArIGluc3QubWF0Y2hJRCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdCA9IHRoaXMuX2dldE1hdGNoSW5zdGFuY2UobWF0Y2hJRCk7XHJcbiAgICAgICAgICAgIGlmICghaW5zdCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnYW1lIGluc3RhbmNlICcgKyBtYXRjaElEICsgJyBub3QgZm91bmQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgdGhpcy5jbGllbnQuam9pbk1hdGNoKGdhbWVOYW1lLCBtYXRjaElELCB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJRCxcclxuICAgICAgICAgICAgICAgIHBsYXllck5hbWU6IHRoaXMucGxheWVyTmFtZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGluc3QucGxheWVyc1tOdW1iZXIucGFyc2VJbnQocGxheWVySUQpXS5uYW1lID0gdGhpcy5wbGF5ZXJOYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllckNyZWRlbnRpYWxzID0ganNvbi5wbGF5ZXJDcmVkZW50aWFscztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGpvaW4gbWF0Y2ggJyArIG1hdGNoSUQgKyAnICgnICsgZXJyb3IgKyAnKScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIGxlYXZlKGdhbWVOYW1lLCBtYXRjaElEKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdCA9IHRoaXMuX2dldE1hdGNoSW5zdGFuY2UobWF0Y2hJRCk7XHJcbiAgICAgICAgICAgIGlmICghaW5zdClcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF0Y2ggaW5zdGFuY2Ugbm90IGZvdW5kJyk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGxheWVyIG9mIGluc3QucGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5uYW1lID09PSB0aGlzLnBsYXllck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5sZWF2ZU1hdGNoKGdhbWVOYW1lLCBtYXRjaElELCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcklEOiBwbGF5ZXIuaWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IHRoaXMucGxheWVyQ3JlZGVudGlhbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBsYXllci5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBsYXllckNyZWRlbnRpYWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BsYXllciBub3QgZm91bmQgaW4gbWF0Y2gnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGxlYXZlIG1hdGNoICcgKyBtYXRjaElEICsgJyAoJyArIGVycm9yICsgJyknKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBkaXNjb25uZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IGluc3QgPSB0aGlzLl9maW5kUGxheWVyKHRoaXMucGxheWVyTmFtZSk7XHJcbiAgICAgICAgaWYgKGluc3QpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sZWF2ZShpbnN0LmdhbWVOYW1lLCBpbnN0Lm1hdGNoSUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1hdGNoZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnBsYXllck5hbWUgPSAnVmlzaXRvcic7XHJcbiAgICB9XHJcbiAgICBhc3luYyBjcmVhdGUoZ2FtZU5hbWUsIG51bVBsYXllcnMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5fZ2V0R2FtZUNvbXBvbmVudHMoZ2FtZU5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoIWNvbXApXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dhbWUgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgICAgIGlmIChudW1QbGF5ZXJzIDwgY29tcC5nYW1lLm1pblBsYXllcnMgfHxcclxuICAgICAgICAgICAgICAgIG51bVBsYXllcnMgPiBjb21wLmdhbWUubWF4UGxheWVycylcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBudW1iZXIgb2YgcGxheWVycyAnICsgbnVtUGxheWVycyk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmNyZWF0ZU1hdGNoKGdhbWVOYW1lLCB7IG51bVBsYXllcnMgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBjcmVhdGUgbWF0Y2ggZm9yICcgKyBnYW1lTmFtZSArICcgKCcgKyBlcnJvciArICcpJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBMb2JieUNvbm5lY3Rpb25cclxuICpcclxuICogTG9iYnkgbW9kZWwuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIHNlcnZlciAtICc8aG9zdD46PHBvcnQ+JyBvZiB0aGUgc2VydmVyLlxyXG4gKiBAcGFyYW0ge0FycmF5fSAgICBnYW1lQ29tcG9uZW50cyAtIEEgbWFwIG9mIEJvYXJkIGFuZCBHYW1lIG9iamVjdHMgZm9yIHRoZSBzdXBwb3J0ZWQgZ2FtZXMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIHBsYXllck5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGxheWVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gICBwbGF5ZXJDcmVkZW50aWFscyAtIFRoZSBjcmVkZW50aWFscyBjdXJyZW50bHkgdXNlZCBieSB0aGUgcGxheWVyLCBpZiBhbnkuXHJcbiAqXHJcbiAqIFJldHVybnM6XHJcbiAqICAgQSBKUyBvYmplY3QgdGhhdCBzeW5jaHJvbml6ZXMgdGhlIGxpc3Qgb2YgcnVubmluZyBnYW1lIGluc3RhbmNlcyB3aXRoIHRoZSBzZXJ2ZXIgYW5kIHByb3ZpZGVzIGFuIEFQSSB0byBjcmVhdGUvam9pbi9zdGFydCBpbnN0YW5jZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBMb2JieUNvbm5lY3Rpb24ob3B0cykge1xyXG4gICAgcmV0dXJuIG5ldyBfTG9iYnlDb25uZWN0aW9uSW1wbChvcHRzKTtcclxufVxuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnMuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbmNsYXNzIExvYmJ5TG9naW5Gb3JtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgcGxheWVyTmFtZTogdGhpcy5wcm9wcy5wbGF5ZXJOYW1lLFxyXG4gICAgICAgICAgICBuYW1lRXJyb3JNc2c6ICcnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrRW50ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnBsYXllck5hbWUgPT09ICcnKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uRW50ZXIodGhpcy5zdGF0ZS5wbGF5ZXJOYW1lKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25LZXlQcmVzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xpY2tFbnRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlUGxheWVyTmFtZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJOYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgbmFtZUVycm9yTXNnOiBuYW1lLmxlbmd0aCA+IDAgPyAnJyA6ICdlbXB0eSBwbGF5ZXIgbmFtZScsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHsgY2xhc3NOYW1lOiBcInBoYXNlLXRpdGxlXCIgfSwgXCJDaG9vc2UgYSBwbGF5ZXIgbmFtZTpcIiksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHR5cGU6IFwidGV4dFwiLCB2YWx1ZTogdGhpcy5zdGF0ZS5wbGF5ZXJOYW1lLCBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZVBsYXllck5hbWUsIG9uS2V5UHJlc3M6IHRoaXMub25LZXlQcmVzcyB9KSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiYnV0dG9uc1wiIH0sXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImJ1dHRvbnNcIiwgb25DbGljazogdGhpcy5vbkNsaWNrRW50ZXIgfSwgXCJFbnRlclwiKSksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZXJyb3ItbXNnXCIgfSxcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubmFtZUVycm9yTXNnLFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpKSkpO1xyXG4gICAgfVxyXG59XHJcbkxvYmJ5TG9naW5Gb3JtLmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIHBsYXllck5hbWU6ICcnLFxyXG59O1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnMuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbmNsYXNzIExvYmJ5TWF0Y2hJbnN0YW5jZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZVNlYXQgPSAocGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXIubmFtZSB8fCAnW2ZyZWVdJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvbkpvaW4gPSAoaW5zdCwgc2VhdElkKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGtleTogJ2J1dHRvbi1qb2luLScgKyBpbnN0Lm1hdGNoSUQsIG9uQ2xpY2s6ICgpID0+IHRoaXMucHJvcHMub25DbGlja0pvaW4oaW5zdC5nYW1lTmFtZSwgaW5zdC5tYXRjaElELCAnJyArIHNlYXRJZCkgfSwgXCJKb2luXCIpKTtcclxuICAgICAgICB0aGlzLl9jcmVhdGVCdXR0b25MZWF2ZSA9IChpbnN0KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGtleTogJ2J1dHRvbi1sZWF2ZS0nICsgaW5zdC5tYXRjaElELCBvbkNsaWNrOiAoKSA9PiB0aGlzLnByb3BzLm9uQ2xpY2tMZWF2ZShpbnN0LmdhbWVOYW1lLCBpbnN0Lm1hdGNoSUQpIH0sIFwiTGVhdmVcIikpO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvblBsYXkgPSAoaW5zdCwgc2VhdElkKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGtleTogJ2J1dHRvbi1wbGF5LScgKyBpbnN0Lm1hdGNoSUQsIG9uQ2xpY2s6ICgpID0+IHRoaXMucHJvcHMub25DbGlja1BsYXkoaW5zdC5nYW1lTmFtZSwge1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hJRDogaW5zdC5tYXRjaElELFxyXG4gICAgICAgICAgICAgICAgcGxheWVySUQ6ICcnICsgc2VhdElkLFxyXG4gICAgICAgICAgICAgICAgbnVtUGxheWVyczogaW5zdC5wbGF5ZXJzLmxlbmd0aCxcclxuICAgICAgICAgICAgfSkgfSwgXCJQbGF5XCIpKTtcclxuICAgICAgICB0aGlzLl9jcmVhdGVCdXR0b25TcGVjdGF0ZSA9IChpbnN0KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGtleTogJ2J1dHRvbi1zcGVjdGF0ZS0nICsgaW5zdC5tYXRjaElELCBvbkNsaWNrOiAoKSA9PiB0aGlzLnByb3BzLm9uQ2xpY2tQbGF5KGluc3QuZ2FtZU5hbWUsIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoSUQ6IGluc3QubWF0Y2hJRCxcclxuICAgICAgICAgICAgICAgIG51bVBsYXllcnM6IGluc3QucGxheWVycy5sZW5ndGgsXHJcbiAgICAgICAgICAgIH0pIH0sIFwiU3BlY3RhdGVcIikpO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUluc3RhbmNlQnV0dG9ucyA9IChpbnN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllclNlYXQgPSBpbnN0LnBsYXllcnMuZmluZCgocGxheWVyKSA9PiBwbGF5ZXIubmFtZSA9PT0gdGhpcy5wcm9wcy5wbGF5ZXJOYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgZnJlZVNlYXQgPSBpbnN0LnBsYXllcnMuZmluZCgocGxheWVyKSA9PiAhcGxheWVyLm5hbWUpO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyU2VhdCAmJiBmcmVlU2VhdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBzZWF0ZWQ6IHdhaXRpbmcgZm9yIG1hdGNoIHRvIHN0YXJ0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQnV0dG9uTGVhdmUoaW5zdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZyZWVTZWF0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhdCBsZWFzdCAxIHNlYXQgaXMgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQnV0dG9uSm9pbihpbnN0LCBmcmVlU2VhdC5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbWF0Y2ggaXMgZnVsbFxyXG4gICAgICAgICAgICBpZiAocGxheWVyU2VhdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVCdXR0b25QbGF5KGluc3QsIHBsYXllclNlYXQuaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvbkxlYXZlKGluc3QpLFxyXG4gICAgICAgICAgICAgICAgXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsbG93IHNwZWN0YXRpbmdcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJ1dHRvblNwZWN0YXRlKGluc3QpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLnByb3BzLm1hdGNoO1xyXG4gICAgICAgIGxldCBzdGF0dXMgPSAnT1BFTic7XHJcbiAgICAgICAgaWYgKCFtYXRjaC5wbGF5ZXJzLnNvbWUoKHBsYXllcikgPT4gIXBsYXllci5uYW1lKSkge1xyXG4gICAgICAgICAgICBzdGF0dXMgPSAnUlVOTklORyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHsga2V5OiAnbGluZS0nICsgbWF0Y2gubWF0Y2hJRCB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgeyBrZXk6ICdjZWxsLW5hbWUtJyArIG1hdGNoLm1hdGNoSUQgfSwgbWF0Y2guZ2FtZU5hbWUpLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgeyBrZXk6ICdjZWxsLXN0YXR1cy0nICsgbWF0Y2gubWF0Y2hJRCB9LCBzdGF0dXMpLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgeyBrZXk6ICdjZWxsLXNlYXRzLScgKyBtYXRjaC5tYXRjaElEIH0sIG1hdGNoLnBsYXllcnMubWFwKChwbGF5ZXIpID0+IHRoaXMuX2NyZWF0ZVNlYXQocGxheWVyKSkuam9pbignLCAnKSksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7IGtleTogJ2NlbGwtYnV0dG9ucy0nICsgbWF0Y2gubWF0Y2hJRCB9LCB0aGlzLl9jcmVhdGVJbnN0YW5jZUJ1dHRvbnMobWF0Y2gpKSkpO1xyXG4gICAgfVxyXG59XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9ycy5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuY2xhc3MgTG9iYnlDcmVhdGVNYXRjaEZvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRHYW1lOiAwLFxyXG4gICAgICAgICAgICBudW1QbGF5ZXJzOiAyLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlR2FtZU5hbWVPcHRpb24gPSAoZ2FtZSwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7IGtleTogJ25hbWUtb3B0aW9uLScgKyBpZHgsIHZhbHVlOiBpZHggfSwgZ2FtZS5nYW1lLm5hbWUpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZU51bVBsYXllcnNPcHRpb24gPSAoaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7IGtleTogJ251bS1vcHRpb24tJyArIGlkeCwgdmFsdWU6IGlkeCB9LCBpZHgpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZU51bVBsYXllcnNSYW5nZSA9IChnYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBnYW1lLm1heFBsYXllcnMgKyAxIH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKChfLCBpKSA9PiBpKVxyXG4gICAgICAgICAgICAgICAgLnNsaWNlKGdhbWUubWluUGxheWVycyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlTnVtUGxheWVycyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIG51bVBsYXllcnM6IE51bWJlci5wYXJzZUludChldmVudC50YXJnZXQudmFsdWUpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2VTZWxlY3RlZEdhbWUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaWR4ID0gTnVtYmVyLnBhcnNlSW50KGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRHYW1lOiBpZHgsXHJcbiAgICAgICAgICAgICAgICBudW1QbGF5ZXJzOiB0aGlzLnByb3BzLmdhbWVzW2lkeF0uZ2FtZS5taW5QbGF5ZXJzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25DbGlja0NyZWF0ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jcmVhdGVNYXRjaCh0aGlzLnByb3BzLmdhbWVzW3RoaXMuc3RhdGUuc2VsZWN0ZWRHYW1lXS5nYW1lLm5hbWUsIHRoaXMuc3RhdGUubnVtUGxheWVycyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKiBmaXggbWluIGFuZCBtYXggbnVtYmVyIG9mIHBsYXllcnMgKi9cclxuICAgICAgICBmb3IgKGNvbnN0IGdhbWUgb2YgcHJvcHMuZ2FtZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hEZXRhaWxzID0gZ2FtZS5nYW1lO1xyXG4gICAgICAgICAgICBpZiAoIW1hdGNoRGV0YWlscy5taW5QbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRjaERldGFpbHMubWluUGxheWVycyA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFtYXRjaERldGFpbHMubWF4UGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hEZXRhaWxzLm1heFBsYXllcnMgPSA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KG1hdGNoRGV0YWlscy5tYXhQbGF5ZXJzID49IG1hdGNoRGV0YWlscy5taW5QbGF5ZXJzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRHYW1lOiAwLFxyXG4gICAgICAgICAgICBudW1QbGF5ZXJzOiBwcm9wcy5nYW1lc1swXS5nYW1lLm1pblBsYXllcnMsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7IHZhbHVlOiB0aGlzLnN0YXRlLnNlbGVjdGVkR2FtZSwgb25DaGFuZ2U6IChldnQpID0+IHRoaXMub25DaGFuZ2VTZWxlY3RlZEdhbWUoZXZ0KSB9LCB0aGlzLnByb3BzLmdhbWVzLm1hcCgoZ2FtZSwgaW5kZXgpID0+IHRoaXMuX2NyZWF0ZUdhbWVOYW1lT3B0aW9uKGdhbWUsIGluZGV4KSkpLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIlBsYXllcnM6XCIpLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHsgdmFsdWU6IHRoaXMuc3RhdGUubnVtUGxheWVycywgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VOdW1QbGF5ZXJzIH0sIHRoaXMuX2NyZWF0ZU51bVBsYXllcnNSYW5nZSh0aGlzLnByb3BzLmdhbWVzW3RoaXMuc3RhdGUuc2VsZWN0ZWRHYW1lXS5nYW1lKS5tYXAoKG51bWJlcikgPT4gdGhpcy5fY3JlYXRlTnVtUGxheWVyc09wdGlvbihudW1iZXIpKSksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJ1dHRvbnNcIiB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IHRoaXMub25DbGlja0NyZWF0ZSB9LCBcIkNyZWF0ZVwiKSkpKTtcclxuICAgIH1cclxufVxuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnMuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbnZhciBMb2JieVBoYXNlcztcclxuKGZ1bmN0aW9uIChMb2JieVBoYXNlcykge1xyXG4gICAgTG9iYnlQaGFzZXNbXCJFTlRFUlwiXSA9IFwiZW50ZXJcIjtcclxuICAgIExvYmJ5UGhhc2VzW1wiUExBWVwiXSA9IFwicGxheVwiO1xyXG4gICAgTG9iYnlQaGFzZXNbXCJMSVNUXCJdID0gXCJsaXN0XCI7XHJcbn0pKExvYmJ5UGhhc2VzIHx8IChMb2JieVBoYXNlcyA9IHt9KSk7XHJcbi8qKlxyXG4gKiBMb2JieVxyXG4gKlxyXG4gKiBSZWFjdCBsb2JieSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9ICBnYW1lQ29tcG9uZW50cyAtIEFuIGFycmF5IG9mIEJvYXJkIGFuZCBHYW1lIG9iamVjdHMgZm9yIHRoZSBzdXBwb3J0ZWQgZ2FtZXMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2JieVNlcnZlciAtIEFkZHJlc3Mgb2YgdGhlIGxvYmJ5IHNlcnZlciAoZm9yIGV4YW1wbGUgJ2xvY2FsaG9zdDo4MDAwJykuXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBzZXQsIGRlZmF1bHRzIHRvIHRoZSBzZXJ2ZXIgdGhhdCBzZXJ2ZWQgdGhlIHBhZ2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBnYW1lU2VydmVyIC0gQWRkcmVzcyBvZiB0aGUgZ2FtZSBzZXJ2ZXIgKGZvciBleGFtcGxlICdsb2NhbGhvc3Q6ODAwMScpLlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBzZXQsIGRlZmF1bHRzIHRvIHRoZSBzZXJ2ZXIgdGhhdCBzZXJ2ZWQgdGhlIHBhZ2UuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNsaWVudEZhY3RvcnkgLSBGdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSBnYW1lIGNsaWVudHMuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByZWZyZXNoSW50ZXJ2YWwgLSBJbnRlcnZhbCBiZXR3ZWVuIHNlcnZlciB1cGRhdGVzIChkZWZhdWx0OiAyMDAwbXMpLlxyXG4gKiBAcGFyYW0ge2Jvb2x9ICAgZGVidWcgLSBFbmFibGUgZGVidWcgaW5mb3JtYXRpb24gKGRlZmF1bHQ6IGZhbHNlKS5cclxuICpcclxuICogUmV0dXJuczpcclxuICogICBBIFJlYWN0IGNvbXBvbmVudCB0aGF0IHByb3ZpZGVzIGEgVUkgdG8gY3JlYXRlLCBsaXN0LCBqb2luLCBsZWF2ZSwgcGxheSBvclxyXG4gKiAgIHNwZWN0YXRlIG1hdGNoZXMgKGdhbWUgaW5zdGFuY2VzKS5cclxuICovXHJcbmNsYXNzIExvYmJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHBoYXNlOiBMb2JieVBoYXNlcy5FTlRFUixcclxuICAgICAgICAgICAgcGxheWVyTmFtZTogJ1Zpc2l0b3InLFxyXG4gICAgICAgICAgICBydW5uaW5nTWF0Y2g6IG51bGwsXHJcbiAgICAgICAgICAgIGVycm9yTXNnOiAnJyxcclxuICAgICAgICAgICAgY3JlZGVudGlhbFN0b3JlOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvbm5lY3Rpb24gPSAocHJvcHMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuc3RhdGUucGxheWVyTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gTG9iYnlDb25uZWN0aW9uKHtcclxuICAgICAgICAgICAgICAgIHNlcnZlcjogcHJvcHMubG9iYnlTZXJ2ZXIsXHJcbiAgICAgICAgICAgICAgICBnYW1lQ29tcG9uZW50czogcHJvcHMuZ2FtZUNvbXBvbmVudHMsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJOYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyQ3JlZGVudGlhbHM6IHRoaXMuc3RhdGUuY3JlZGVudGlhbFN0b3JlW25hbWVdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNyZWRlbnRpYWxzID0gKHBsYXllck5hbWUsIGNyZWRlbnRpYWxzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gY2xvbmUgc3RvcmUgb3IgY29tcG9uZW50RGlkVXBkYXRlIHdpbGwgbm90IGJlIHRyaWdnZXJlZFxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUuY3JlZGVudGlhbFN0b3JlKTtcclxuICAgICAgICAgICAgICAgIHN0b3JlW3BsYXllck5hbWVdID0gY3JlZGVudGlhbHM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBjcmVkZW50aWFsU3RvcmU6IHN0b3JlIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fZW50ZXJMb2JieSA9IChwbGF5ZXJOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVmcmVzaEludGVydmFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwbGF5ZXJOYW1lLCBwaGFzZTogTG9iYnlQaGFzZXMuTElTVCB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2V4aXRMb2JieSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJSZWZyZXNoSW50ZXJ2YWwoKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBoYXNlOiBMb2JieVBoYXNlcy5FTlRFUiwgZXJyb3JNc2c6ICcnIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlTWF0Y2ggPSBhc3luYyAoZ2FtZU5hbWUsIG51bVBsYXllcnMpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jcmVhdGUoZ2FtZU5hbWUsIG51bVBsYXllcnMpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlcmVuZGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvck1zZzogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fam9pbk1hdGNoID0gYXN5bmMgKGdhbWVOYW1lLCBtYXRjaElELCBwbGF5ZXJJRCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uLmpvaW4oZ2FtZU5hbWUsIG1hdGNoSUQsIHBsYXllcklEKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDcmVkZW50aWFscyh0aGlzLmNvbm5lY3Rpb24ucGxheWVyTmFtZSwgdGhpcy5jb25uZWN0aW9uLnBsYXllckNyZWRlbnRpYWxzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvck1zZzogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fbGVhdmVNYXRjaCA9IGFzeW5jIChnYW1lTmFtZSwgbWF0Y2hJRCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uLmxlYXZlKGdhbWVOYW1lLCBtYXRjaElEKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDcmVkZW50aWFscyh0aGlzLmNvbm5lY3Rpb24ucGxheWVyTmFtZSwgdGhpcy5jb25uZWN0aW9uLnBsYXllckNyZWRlbnRpYWxzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvck1zZzogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fc3RhcnRNYXRjaCA9IChnYW1lTmFtZSwgbWF0Y2hPcHRzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVDb2RlID0gdGhpcy5jb25uZWN0aW9uLl9nZXRHYW1lQ29tcG9uZW50cyhnYW1lTmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghZ2FtZUNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnZ2FtZSAnICsgZ2FtZU5hbWUgKyAnIG5vdCBzdXBwb3J0ZWQnLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG11bHRpcGxheWVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hPcHRzLm51bVBsYXllcnMgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsYXllciA9IHRoaXMucHJvcHMuZ2FtZVNlcnZlclxyXG4gICAgICAgICAgICAgICAgICAgID8gU29ja2V0SU8oeyBzZXJ2ZXI6IHRoaXMucHJvcHMuZ2FtZVNlcnZlciB9KVxyXG4gICAgICAgICAgICAgICAgICAgIDogU29ja2V0SU8oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWF0Y2hPcHRzLm51bVBsYXllcnMgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF4UGxheWVycyA9IGdhbWVDb2RlLmdhbWUubWF4UGxheWVycztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvdHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbWF4UGxheWVyczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm90c1tpICsgJyddID0gTUNUU0JvdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG11bHRpcGxheWVyID0gTG9jYWwoeyBib3RzIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFwcCA9IHRoaXMucHJvcHMuY2xpZW50RmFjdG9yeSh7XHJcbiAgICAgICAgICAgICAgICBnYW1lOiBnYW1lQ29kZS5nYW1lLFxyXG4gICAgICAgICAgICAgICAgYm9hcmQ6IGdhbWVDb2RlLmJvYXJkLFxyXG4gICAgICAgICAgICAgICAgZGVidWc6IHRoaXMucHJvcHMuZGVidWcsXHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsYXllcixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0ge1xyXG4gICAgICAgICAgICAgICAgYXBwOiBhcHAsXHJcbiAgICAgICAgICAgICAgICBtYXRjaElEOiBtYXRjaE9wdHMubWF0Y2hJRCxcclxuICAgICAgICAgICAgICAgIHBsYXllcklEOiBtYXRjaE9wdHMubnVtUGxheWVycyA+IDEgPyBtYXRjaE9wdHMucGxheWVySUQgOiAnMCcsXHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogdGhpcy5jb25uZWN0aW9uLnBsYXllckNyZWRlbnRpYWxzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhclJlZnJlc2hJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcGhhc2U6IExvYmJ5UGhhc2VzLlBMQVksIHJ1bm5pbmdNYXRjaDogbWF0Y2ggfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9leGl0TWF0Y2ggPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVmcmVzaEludGVydmFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwaGFzZTogTG9iYnlQaGFzZXMuTElTVCwgcnVubmluZ01hdGNoOiBudWxsIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fZ2V0UGhhc2VWaXNpYmlsaXR5ID0gKHBoYXNlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnBoYXNlICE9PSBwaGFzZSA/ICdoaWRkZW4nIDogJ3BoYXNlJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVuZGVyTWF0Y2hlcyA9IChtYXRjaGVzLCBwbGF5ZXJOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbWF0Y2hJRCwgZ2FtZU5hbWUsIHBsYXllcnMgfSA9IG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExvYmJ5TWF0Y2hJbnN0YW5jZSwgeyBrZXk6ICdpbnN0YW5jZS0nICsgbWF0Y2hJRCwgbWF0Y2g6IHsgbWF0Y2hJRCwgZ2FtZU5hbWUsIHBsYXllcnM6IE9iamVjdC52YWx1ZXMocGxheWVycykgfSwgcGxheWVyTmFtZTogcGxheWVyTmFtZSwgb25DbGlja0pvaW46IHRoaXMuX2pvaW5NYXRjaCwgb25DbGlja0xlYXZlOiB0aGlzLl9sZWF2ZU1hdGNoLCBvbkNsaWNrUGxheTogdGhpcy5fc3RhcnRNYXRjaCB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQ29ubmVjdGlvbih0aGlzLnByb3BzKTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGNvbnN0IGNvb2tpZSA9IENvb2tpZXMubG9hZCgnbG9iYnlTdGF0ZScpIHx8IHt9O1xyXG4gICAgICAgIGlmIChjb29raWUucGhhc2UgJiYgY29va2llLnBoYXNlID09PSBMb2JieVBoYXNlcy5QTEFZKSB7XHJcbiAgICAgICAgICAgIGNvb2tpZS5waGFzZSA9IExvYmJ5UGhhc2VzLkxJU1Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb29raWUucGhhc2UgJiYgY29va2llLnBoYXNlICE9PSBMb2JieVBoYXNlcy5FTlRFUikge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcGhhc2U6IGNvb2tpZS5waGFzZSB8fCBMb2JieVBoYXNlcy5FTlRFUixcclxuICAgICAgICAgICAgcGxheWVyTmFtZTogY29va2llLnBsYXllck5hbWUgfHwgJ1Zpc2l0b3InLFxyXG4gICAgICAgICAgICBjcmVkZW50aWFsU3RvcmU6IGNvb2tpZS5jcmVkZW50aWFsU3RvcmUgfHwge30sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcclxuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5zdGF0ZS5wbGF5ZXJOYW1lO1xyXG4gICAgICAgIGNvbnN0IGNyZWRzID0gdGhpcy5zdGF0ZS5jcmVkZW50aWFsU3RvcmVbbmFtZV07XHJcbiAgICAgICAgaWYgKHByZXZTdGF0ZS5waGFzZSAhPT0gdGhpcy5zdGF0ZS5waGFzZSB8fFxyXG4gICAgICAgICAgICBwcmV2U3RhdGUuY3JlZGVudGlhbFN0b3JlW25hbWVdICE9PSBjcmVkcyB8fFxyXG4gICAgICAgICAgICBwcmV2U3RhdGUucGxheWVyTmFtZSAhPT0gbmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVDb25uZWN0aW9uKHRoaXMucHJvcHMpO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvb2tpZSA9IHtcclxuICAgICAgICAgICAgICAgIHBoYXNlOiB0aGlzLnN0YXRlLnBoYXNlLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyTmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxTdG9yZTogdGhpcy5zdGF0ZS5jcmVkZW50aWFsU3RvcmUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIENvb2tpZXMuc2F2ZSgnbG9iYnlTdGF0ZScsIGNvb2tpZSwgeyBwYXRoOiAnLycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmV2UHJvcHMucmVmcmVzaEludGVydmFsICE9PSB0aGlzLnByb3BzLnJlZnJlc2hJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuX2NsZWFyUmVmcmVzaEludGVydmFsKCk7XHJcbiAgICB9XHJcbiAgICBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKSB7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJSZWZyZXNoSW50ZXJ2YWwoKTtcclxuICAgICAgICB0aGlzLl9jdXJyZW50SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLl91cGRhdGVDb25uZWN0aW9uLCB0aGlzLnByb3BzLnJlZnJlc2hJbnRlcnZhbCk7XHJcbiAgICB9XHJcbiAgICBfY2xlYXJSZWZyZXNoSW50ZXJ2YWwoKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9jdXJyZW50SW50ZXJ2YWwpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZ2FtZUNvbXBvbmVudHMsIHJlbmRlcmVyIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3JNc2csIHBsYXllck5hbWUsIHBoYXNlLCBydW5uaW5nTWF0Y2ggfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgaWYgKHJlbmRlcmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJlcih7XHJcbiAgICAgICAgICAgICAgICBlcnJvck1zZyxcclxuICAgICAgICAgICAgICAgIGdhbWVDb21wb25lbnRzLFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hlczogdGhpcy5jb25uZWN0aW9uLm1hdGNoZXMsXHJcbiAgICAgICAgICAgICAgICBwaGFzZSxcclxuICAgICAgICAgICAgICAgIHBsYXllck5hbWUsXHJcbiAgICAgICAgICAgICAgICBydW5uaW5nTWF0Y2gsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFbnRlckxvYmJ5OiB0aGlzLl9lbnRlckxvYmJ5LFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXhpdExvYmJ5OiB0aGlzLl9leGl0TG9iYnksXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVDcmVhdGVNYXRjaDogdGhpcy5fY3JlYXRlTWF0Y2gsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVKb2luTWF0Y2g6IHRoaXMuX2pvaW5NYXRjaCxcclxuICAgICAgICAgICAgICAgIGhhbmRsZUxlYXZlTWF0Y2g6IHRoaXMuX2xlYXZlTWF0Y2gsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFeGl0TWF0Y2g6IHRoaXMuX2V4aXRNYXRjaCxcclxuICAgICAgICAgICAgICAgIGhhbmRsZVJlZnJlc2hNYXRjaGVzOiB0aGlzLl91cGRhdGVDb25uZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlU3RhcnRNYXRjaDogdGhpcy5fc3RhcnRNYXRjaCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGlkOiBcImxvYmJ5LXZpZXdcIiwgc3R5bGU6IHsgcGFkZGluZzogNTAgfSB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB0aGlzLl9nZXRQaGFzZVZpc2liaWxpdHkoTG9iYnlQaGFzZXMuRU5URVIpIH0sXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExvYmJ5TG9naW5Gb3JtLCB7IGtleTogcGxheWVyTmFtZSwgcGxheWVyTmFtZTogcGxheWVyTmFtZSwgb25FbnRlcjogdGhpcy5fZW50ZXJMb2JieSB9KSksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHRoaXMuX2dldFBoYXNlVmlzaWJpbGl0eShMb2JieVBoYXNlcy5MSVNUKSB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBcIldlbGNvbWUsIFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllck5hbWUpLFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwaGFzZS10aXRsZVwiLCBpZDogXCJtYXRjaC1jcmVhdGlvblwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJDcmVhdGUgYSBtYXRjaDpcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMb2JieUNyZWF0ZU1hdGNoRm9ybSwgeyBnYW1lczogZ2FtZUNvbXBvbmVudHMsIGNyZWF0ZU1hdGNoOiB0aGlzLl9jcmVhdGVNYXRjaCB9KSksXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7IGNsYXNzTmFtZTogXCJwaGFzZS10aXRsZVwiIH0sIFwiSm9pbiBhIG1hdGNoOlwiKSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBpZDogXCJpbnN0YW5jZXNcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIiwgbnVsbCwgdGhpcy5yZW5kZXJNYXRjaGVzKHRoaXMuY29ubmVjdGlvbi5tYXRjaGVzLCBwbGF5ZXJOYW1lKSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImVycm9yLW1zZ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTXNnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCkpKSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHsgY2xhc3NOYW1lOiBcInBoYXNlLXRpdGxlXCIgfSwgXCJNYXRjaGVzIHRoYXQgYmVjb21lIGVtcHR5IGFyZSBhdXRvbWF0aWNhbGx5IGRlbGV0ZWQuXCIpKSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogdGhpcy5fZ2V0UGhhc2VWaXNpYmlsaXR5KExvYmJ5UGhhc2VzLlBMQVkpIH0sXHJcbiAgICAgICAgICAgICAgICBydW5uaW5nTWF0Y2ggJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQocnVubmluZ01hdGNoLmFwcCwgeyBtYXRjaElEOiBydW5uaW5nTWF0Y2gubWF0Y2hJRCwgcGxheWVySUQ6IHJ1bm5pbmdNYXRjaC5wbGF5ZXJJRCwgY3JlZGVudGlhbHM6IHJ1bm5pbmdNYXRjaC5jcmVkZW50aWFscyB9KSksXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJ1dHRvbnNcIiwgaWQ6IFwibWF0Y2gtZXhpdFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IHRoaXMuX2V4aXRNYXRjaCB9LCBcIkV4aXQgbWF0Y2hcIikpKSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJidXR0b25zXCIsIGlkOiBcImxvYmJ5LWV4aXRcIiB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IHRoaXMuX2V4aXRMb2JieSB9LCBcIkV4aXQgbG9iYnlcIikpKSk7XHJcbiAgICB9XHJcbn1cclxuTG9iYnkucHJvcFR5cGVzID0ge1xyXG4gICAgZ2FtZUNvbXBvbmVudHM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxyXG4gICAgbG9iYnlTZXJ2ZXI6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBnYW1lU2VydmVyOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgZGVidWc6IFByb3BUeXBlcy5ib29sLFxyXG4gICAgY2xpZW50RmFjdG9yeTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICByZWZyZXNoSW50ZXJ2YWw6IFByb3BUeXBlcy5udW1iZXIsXHJcbn07XHJcbkxvYmJ5LmRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGRlYnVnOiBmYWxzZSxcclxuICAgIGNsaWVudEZhY3Rvcnk6IENsaWVudCxcclxuICAgIHJlZnJlc2hJbnRlcnZhbDogMjAwMCxcclxufTtcblxuZXhwb3J0IHsgQ2xpZW50LCBMb2JieSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/react.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js":
/*!****************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"C\": function() { return /* binding */ CreateGameReducer; },\n/* harmony export */   \"I\": function() { return /* binding */ IsLongFormMove; },\n/* harmony export */   \"P\": function() { return /* binding */ ProcessGameConfig; },\n/* harmony export */   \"T\": function() { return /* binding */ TransientHandlingMiddleware; }\n/* harmony export */ });\n/* harmony import */ var _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./turn-order-0b7dce3d.js */ \"./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\");\n/* harmony import */ var rfc6902__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rfc6902 */ \"./node_modules/rfc6902/index.js\");\n\n\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Flow\r\n *\r\n * Creates a reducer that updates ctx (analogous to how moves update G).\r\n */\r\nfunction Flow({ moves, phases, endIf, onEnd, turn, events, plugins, }) {\r\n    // Attach defaults.\r\n    if (moves === undefined) {\r\n        moves = {};\r\n    }\r\n    if (events === undefined) {\r\n        events = {};\r\n    }\r\n    if (plugins === undefined) {\r\n        plugins = [];\r\n    }\r\n    if (phases === undefined) {\r\n        phases = {};\r\n    }\r\n    if (!endIf)\r\n        endIf = () => undefined;\r\n    if (!onEnd)\r\n        onEnd = (G) => G;\r\n    if (!turn)\r\n        turn = {};\r\n    const phaseMap = { ...phases };\r\n    if ('' in phaseMap) {\r\n        (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)('cannot specify phase with empty name');\r\n    }\r\n    phaseMap[''] = {};\r\n    const moveMap = {};\r\n    const moveNames = new Set();\r\n    let startingPhase = null;\r\n    Object.keys(moves).forEach((name) => moveNames.add(name));\r\n    const HookWrapper = (hook, hookType) => {\r\n        const withPlugins = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.F)(hook, hookType, plugins);\r\n        return (state) => {\r\n            const ctxWithAPI = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.E)(state);\r\n            return withPlugins(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const TriggerWrapper = (trigger) => {\r\n        return (state) => {\r\n            const ctxWithAPI = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.E)(state);\r\n            return trigger(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const wrapped = {\r\n        onEnd: HookWrapper(onEnd, _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.G.GAME_ON_END),\r\n        endIf: TriggerWrapper(endIf),\r\n    };\r\n    for (const phase in phaseMap) {\r\n        const phaseConfig = phaseMap[phase];\r\n        if (phaseConfig.start === true) {\r\n            startingPhase = phase;\r\n        }\r\n        if (phaseConfig.moves !== undefined) {\r\n            for (const move of Object.keys(phaseConfig.moves)) {\r\n                moveMap[phase + '.' + move] = phaseConfig.moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        if (phaseConfig.endIf === undefined) {\r\n            phaseConfig.endIf = () => undefined;\r\n        }\r\n        if (phaseConfig.onBegin === undefined) {\r\n            phaseConfig.onBegin = (G) => G;\r\n        }\r\n        if (phaseConfig.onEnd === undefined) {\r\n            phaseConfig.onEnd = (G) => G;\r\n        }\r\n        if (phaseConfig.turn === undefined) {\r\n            phaseConfig.turn = turn;\r\n        }\r\n        if (phaseConfig.turn.order === undefined) {\r\n            phaseConfig.turn.order = _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.T.DEFAULT;\r\n        }\r\n        if (phaseConfig.turn.onBegin === undefined) {\r\n            phaseConfig.turn.onBegin = (G) => G;\r\n        }\r\n        if (phaseConfig.turn.onEnd === undefined) {\r\n            phaseConfig.turn.onEnd = (G) => G;\r\n        }\r\n        if (phaseConfig.turn.endIf === undefined) {\r\n            phaseConfig.turn.endIf = () => false;\r\n        }\r\n        if (phaseConfig.turn.onMove === undefined) {\r\n            phaseConfig.turn.onMove = (G) => G;\r\n        }\r\n        if (phaseConfig.turn.stages === undefined) {\r\n            phaseConfig.turn.stages = {};\r\n        }\r\n        // turns previously treated moveLimit as both minMoves and maxMoves, this behaviour is kept intentionally\r\n        (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.a)(phaseConfig.turn, true);\r\n        for (const stage in phaseConfig.turn.stages) {\r\n            const stageConfig = phaseConfig.turn.stages[stage];\r\n            const moves = stageConfig.moves || {};\r\n            for (const move of Object.keys(moves)) {\r\n                const key = phase + '.' + stage + '.' + move;\r\n                moveMap[key] = moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        phaseConfig.wrapped = {\r\n            onBegin: HookWrapper(phaseConfig.onBegin, _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.G.PHASE_ON_BEGIN),\r\n            onEnd: HookWrapper(phaseConfig.onEnd, _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.G.PHASE_ON_END),\r\n            endIf: TriggerWrapper(phaseConfig.endIf),\r\n        };\r\n        phaseConfig.turn.wrapped = {\r\n            onMove: HookWrapper(phaseConfig.turn.onMove, _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.G.TURN_ON_MOVE),\r\n            onBegin: HookWrapper(phaseConfig.turn.onBegin, _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.G.TURN_ON_BEGIN),\r\n            onEnd: HookWrapper(phaseConfig.turn.onEnd, _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.G.TURN_ON_END),\r\n            endIf: TriggerWrapper(phaseConfig.turn.endIf),\r\n        };\r\n        if (typeof phaseConfig.next !== 'function') {\r\n            const { next } = phaseConfig;\r\n            phaseConfig.next = () => next || null;\r\n        }\r\n        phaseConfig.wrapped.next = TriggerWrapper(phaseConfig.next);\r\n    }\r\n    function GetPhase(ctx) {\r\n        return ctx.phase ? phaseMap[ctx.phase] : phaseMap[''];\r\n    }\r\n    function OnMove(s) {\r\n        return s;\r\n    }\r\n    function Process(state, events) {\r\n        const phasesEnded = new Set();\r\n        const turnsEnded = new Set();\r\n        for (let i = 0; i < events.length; i++) {\r\n            const { fn, arg, ...rest } = events[i];\r\n            // Detect a loop of EndPhase calls.\r\n            // This could potentially even be an infinite loop\r\n            // if the endIf condition of each phase blindly\r\n            // returns true. The moment we detect a single\r\n            // loop, we just bail out of all phases.\r\n            if (fn === EndPhase) {\r\n                turnsEnded.clear();\r\n                const phase = state.ctx.phase;\r\n                if (phasesEnded.has(phase)) {\r\n                    const ctx = { ...state.ctx, phase: null };\r\n                    return { ...state, ctx };\r\n                }\r\n                phasesEnded.add(phase);\r\n            }\r\n            // Process event.\r\n            const next = [];\r\n            state = fn(state, {\r\n                ...rest,\r\n                arg,\r\n                next,\r\n            });\r\n            if (fn === EndGame) {\r\n                break;\r\n            }\r\n            // Check if we should end the game.\r\n            const shouldEndGame = ShouldEndGame(state);\r\n            if (shouldEndGame) {\r\n                events.push({\r\n                    fn: EndGame,\r\n                    arg: shouldEndGame,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the phase.\r\n            const shouldEndPhase = ShouldEndPhase(state);\r\n            if (shouldEndPhase) {\r\n                events.push({\r\n                    fn: EndPhase,\r\n                    arg: shouldEndPhase,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the turn.\r\n            if ([OnMove, UpdateStage, UpdateActivePlayers].includes(fn)) {\r\n                const shouldEndTurn = ShouldEndTurn(state);\r\n                if (shouldEndTurn) {\r\n                    events.push({\r\n                        fn: EndTurn,\r\n                        arg: shouldEndTurn,\r\n                        turn: state.ctx.turn,\r\n                        phase: state.ctx.phase,\r\n                        automatic: true,\r\n                    });\r\n                    continue;\r\n                }\r\n            }\r\n            events.push(...next);\r\n        }\r\n        return state;\r\n    }\r\n    ///////////\r\n    // Start //\r\n    ///////////\r\n    function StartGame(state, { next }) {\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function StartPhase(state, { next }) {\r\n        let { G, ctx } = state;\r\n        const phaseConfig = GetPhase(ctx);\r\n        // Run any phase setup code provided by the user.\r\n        G = phaseConfig.wrapped.onBegin(state);\r\n        next.push({ fn: StartTurn });\r\n        return { ...state, G, ctx };\r\n    }\r\n    function StartTurn(state, { currentPlayer }) {\r\n        let { ctx } = state;\r\n        const phaseConfig = GetPhase(ctx);\r\n        // Initialize the turn order state.\r\n        if (currentPlayer) {\r\n            ctx = { ...ctx, currentPlayer };\r\n            if (phaseConfig.turn.activePlayers) {\r\n                ctx = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.b)(ctx, phaseConfig.turn.activePlayers);\r\n            }\r\n        }\r\n        else {\r\n            // This is only called at the beginning of the phase\r\n            // when there is no currentPlayer yet.\r\n            ctx = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.I)(state, phaseConfig.turn);\r\n        }\r\n        const turn = ctx.turn + 1;\r\n        ctx = { ...ctx, turn, numMoves: 0, _prevActivePlayers: [] };\r\n        const G = phaseConfig.turn.wrapped.onBegin({ ...state, ctx });\r\n        return { ...state, G, ctx, _undo: [], _redo: [] };\r\n    }\r\n    ////////////\r\n    // Update //\r\n    ////////////\r\n    function UpdatePhase(state, { arg, next, phase }) {\r\n        const phaseConfig = GetPhase({ phase });\r\n        let { ctx } = state;\r\n        if (arg && arg.next) {\r\n            if (arg.next in phaseMap) {\r\n                ctx = { ...ctx, phase: arg.next };\r\n            }\r\n            else {\r\n                (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)('invalid phase: ' + arg.next);\r\n                return state;\r\n            }\r\n        }\r\n        else {\r\n            ctx = { ...ctx, phase: phaseConfig.wrapped.next(state) || null };\r\n        }\r\n        state = { ...state, ctx };\r\n        // Start the new phase.\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function UpdateTurn(state, { arg, currentPlayer, next }) {\r\n        let { G, ctx } = state;\r\n        const phaseConfig = GetPhase(ctx);\r\n        // Update turn order state.\r\n        const { endPhase, ctx: newCtx } = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.U)(state, currentPlayer, phaseConfig.turn, arg);\r\n        ctx = newCtx;\r\n        state = { ...state, G, ctx };\r\n        if (endPhase) {\r\n            next.push({ fn: EndPhase, turn: ctx.turn, phase: ctx.phase });\r\n        }\r\n        else {\r\n            next.push({ fn: StartTurn, currentPlayer: ctx.currentPlayer });\r\n        }\r\n        return state;\r\n    }\r\n    function UpdateStage(state, { arg, playerID }) {\r\n        if (typeof arg === 'string' || arg === _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.S.NULL) {\r\n            arg = { stage: arg };\r\n        }\r\n        if (typeof arg !== 'object')\r\n            return state;\r\n        // `arg` should be of type `StageArg`, loose typing as `any` here for historic reasons\r\n        // stages previously did not enforce minMoves, this behaviour is kept intentionally\r\n        (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.a)(arg);\r\n        let { ctx } = state;\r\n        let { activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, _activePlayersNumMoves, } = ctx;\r\n        // Checking if stage is valid, even Stage.NULL\r\n        if (arg.stage !== undefined) {\r\n            if (activePlayers === null) {\r\n                activePlayers = {};\r\n            }\r\n            activePlayers[playerID] = arg.stage;\r\n            _activePlayersNumMoves[playerID] = 0;\r\n            if (arg.minMoves) {\r\n                if (_activePlayersMinMoves === null) {\r\n                    _activePlayersMinMoves = {};\r\n                }\r\n                _activePlayersMinMoves[playerID] = arg.minMoves;\r\n            }\r\n            if (arg.maxMoves) {\r\n                if (_activePlayersMaxMoves === null) {\r\n                    _activePlayersMaxMoves = {};\r\n                }\r\n                _activePlayersMaxMoves[playerID] = arg.maxMoves;\r\n            }\r\n        }\r\n        ctx = {\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMinMoves,\r\n            _activePlayersMaxMoves,\r\n            _activePlayersNumMoves,\r\n        };\r\n        return { ...state, ctx };\r\n    }\r\n    function UpdateActivePlayers(state, { arg }) {\r\n        return { ...state, ctx: (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.b)(state.ctx, arg) };\r\n    }\r\n    ///////////////\r\n    // ShouldEnd //\r\n    ///////////////\r\n    function ShouldEndGame(state) {\r\n        return wrapped.endIf(state);\r\n    }\r\n    function ShouldEndPhase(state) {\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        return phaseConfig.wrapped.endIf(state);\r\n    }\r\n    function ShouldEndTurn(state) {\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        // End the turn if the required number of moves has been made.\r\n        const currentPlayerMoves = state.ctx.numMoves || 0;\r\n        if (phaseConfig.turn.maxMoves &&\r\n            currentPlayerMoves >= phaseConfig.turn.maxMoves) {\r\n            return true;\r\n        }\r\n        return phaseConfig.turn.wrapped.endIf(state);\r\n    }\r\n    /////////\r\n    // End //\r\n    /////////\r\n    function EndGame(state, { arg, phase }) {\r\n        state = EndPhase(state, { phase });\r\n        if (arg === undefined) {\r\n            arg = true;\r\n        }\r\n        state = { ...state, ctx: { ...state.ctx, gameover: arg } };\r\n        // Run game end hook.\r\n        const G = wrapped.onEnd(state);\r\n        return { ...state, G };\r\n    }\r\n    function EndPhase(state, { arg, next, turn: initialTurn, automatic }) {\r\n        // End the turn first.\r\n        state = EndTurn(state, { turn: initialTurn, force: true, automatic: true });\r\n        const { phase, turn } = state.ctx;\r\n        if (next) {\r\n            next.push({ fn: UpdatePhase, arg, phase });\r\n        }\r\n        // If we aren't in a phase, there is nothing else to do.\r\n        if (phase === null) {\r\n            return state;\r\n        }\r\n        // Run any cleanup code for the phase that is about to end.\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        const G = phaseConfig.wrapped.onEnd(state);\r\n        // Reset the phase.\r\n        const ctx = { ...state.ctx, phase: null };\r\n        // Add log entry.\r\n        const action = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.g)('endPhase', arg);\r\n        const { _stateID } = state;\r\n        const logEntry = { action, _stateID, turn, phase };\r\n        if (automatic)\r\n            logEntry.automatic = true;\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, G, ctx, deltalog };\r\n    }\r\n    function EndTurn(state, { arg, next, turn: initialTurn, force, automatic, playerID }) {\r\n        // This is not the turn that EndTurn was originally\r\n        // called for. The turn was probably ended some other way.\r\n        if (initialTurn !== state.ctx.turn) {\r\n            return state;\r\n        }\r\n        const { currentPlayer, numMoves, phase, turn } = state.ctx;\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        // Prevent ending the turn if minMoves haven't been reached.\r\n        const currentPlayerMoves = numMoves || 0;\r\n        if (!force &&\r\n            phaseConfig.turn.minMoves &&\r\n            currentPlayerMoves < phaseConfig.turn.minMoves) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.i)(`cannot end turn before making ${phaseConfig.turn.minMoves} moves`);\r\n            return state;\r\n        }\r\n        // Run turn-end triggers.\r\n        const G = phaseConfig.turn.wrapped.onEnd(state);\r\n        if (next) {\r\n            next.push({ fn: UpdateTurn, arg, currentPlayer });\r\n        }\r\n        // Reset activePlayers.\r\n        let ctx = { ...state.ctx, activePlayers: null };\r\n        // Remove player from playerOrder\r\n        if (arg && arg.remove) {\r\n            playerID = playerID || currentPlayer;\r\n            const playOrder = ctx.playOrder.filter((i) => i != playerID);\r\n            const playOrderPos = ctx.playOrderPos > playOrder.length - 1 ? 0 : ctx.playOrderPos;\r\n            ctx = { ...ctx, playOrder, playOrderPos };\r\n            if (playOrder.length === 0) {\r\n                next.push({ fn: EndPhase, turn, phase });\r\n                return state;\r\n            }\r\n        }\r\n        // Create log entry.\r\n        const action = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.g)('endTurn', arg);\r\n        const { _stateID } = state;\r\n        const logEntry = { action, _stateID, turn, phase };\r\n        if (automatic)\r\n            logEntry.automatic = true;\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, G, ctx, deltalog, _undo: [], _redo: [] };\r\n    }\r\n    function EndStage(state, { arg, next, automatic, playerID }) {\r\n        playerID = playerID || state.ctx.currentPlayer;\r\n        let { ctx, _stateID } = state;\r\n        let { activePlayers, _activePlayersNumMoves, _activePlayersMinMoves, _activePlayersMaxMoves, phase, turn, } = ctx;\r\n        const playerInStage = activePlayers !== null && playerID in activePlayers;\r\n        const phaseConfig = GetPhase(ctx);\r\n        if (!arg && playerInStage) {\r\n            const stage = phaseConfig.turn.stages[activePlayers[playerID]];\r\n            if (stage && stage.next) {\r\n                arg = stage.next;\r\n            }\r\n        }\r\n        // Checking if arg is a valid stage, even Stage.NULL\r\n        if (next) {\r\n            next.push({ fn: UpdateStage, arg, playerID });\r\n        }\r\n        // If player isn’t in a stage, there is nothing else to do.\r\n        if (!playerInStage)\r\n            return state;\r\n        // Prevent ending the stage if minMoves haven't been reached.\r\n        const currentPlayerMoves = _activePlayersNumMoves[playerID] || 0;\r\n        if (_activePlayersMinMoves &&\r\n            _activePlayersMinMoves[playerID] &&\r\n            currentPlayerMoves < _activePlayersMinMoves[playerID]) {\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.i)(`cannot end stage before making ${_activePlayersMinMoves[playerID]} moves`);\r\n            return state;\r\n        }\r\n        // Remove player from activePlayers.\r\n        activePlayers = { ...activePlayers };\r\n        delete activePlayers[playerID];\r\n        if (_activePlayersMinMoves) {\r\n            // Remove player from _activePlayersMinMoves.\r\n            _activePlayersMinMoves = { ..._activePlayersMinMoves };\r\n            delete _activePlayersMinMoves[playerID];\r\n        }\r\n        if (_activePlayersMaxMoves) {\r\n            // Remove player from _activePlayersMaxMoves.\r\n            _activePlayersMaxMoves = { ..._activePlayersMaxMoves };\r\n            delete _activePlayersMaxMoves[playerID];\r\n        }\r\n        ctx = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.c)({\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMinMoves,\r\n            _activePlayersMaxMoves,\r\n        });\r\n        // Create log entry.\r\n        const action = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.g)('endStage', arg);\r\n        const logEntry = { action, _stateID, turn, phase };\r\n        if (automatic)\r\n            logEntry.automatic = true;\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, ctx, deltalog };\r\n    }\r\n    /**\r\n     * Retrieves the relevant move that can be played by playerID.\r\n     *\r\n     * If ctx.activePlayers is set (i.e. one or more players are in some stage),\r\n     * then it attempts to find the move inside the stages config for\r\n     * that turn. If the stage for a player is '', then the player is\r\n     * allowed to make a move (as determined by the phase config), but\r\n     * isn't restricted to a particular set as defined in the stage config.\r\n     *\r\n     * If not, it then looks for the move inside the phase.\r\n     *\r\n     * If it doesn't find the move there, it looks at the global move definition.\r\n     *\r\n     * @param {object} ctx\r\n     * @param {string} name\r\n     * @param {string} playerID\r\n     */\r\n    function GetMove(ctx, name, playerID) {\r\n        const phaseConfig = GetPhase(ctx);\r\n        const stages = phaseConfig.turn.stages;\r\n        const { activePlayers } = ctx;\r\n        if (activePlayers &&\r\n            activePlayers[playerID] !== undefined &&\r\n            activePlayers[playerID] !== _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.S.NULL &&\r\n            stages[activePlayers[playerID]] !== undefined &&\r\n            stages[activePlayers[playerID]].moves !== undefined) {\r\n            // Check if moves are defined for the player's stage.\r\n            const stage = stages[activePlayers[playerID]];\r\n            const moves = stage.moves;\r\n            if (name in moves) {\r\n                return moves[name];\r\n            }\r\n        }\r\n        else if (phaseConfig.moves) {\r\n            // Check if moves are defined for the current phase.\r\n            if (name in phaseConfig.moves) {\r\n                return phaseConfig.moves[name];\r\n            }\r\n        }\r\n        else if (name in moves) {\r\n            // Check for the move globally.\r\n            return moves[name];\r\n        }\r\n        return null;\r\n    }\r\n    function ProcessMove(state, action) {\r\n        const { playerID, type } = action;\r\n        const { currentPlayer, activePlayers, _activePlayersMaxMoves } = state.ctx;\r\n        const move = GetMove(state.ctx, type, playerID);\r\n        const shouldCount = !move || typeof move === 'function' || move.noLimit !== true;\r\n        let { numMoves, _activePlayersNumMoves } = state.ctx;\r\n        if (shouldCount) {\r\n            if (playerID === currentPlayer)\r\n                numMoves++;\r\n            if (activePlayers)\r\n                _activePlayersNumMoves[playerID]++;\r\n        }\r\n        state = {\r\n            ...state,\r\n            ctx: {\r\n                ...state.ctx,\r\n                numMoves,\r\n                _activePlayersNumMoves,\r\n            },\r\n        };\r\n        if (_activePlayersMaxMoves &&\r\n            _activePlayersNumMoves[playerID] >= _activePlayersMaxMoves[playerID]) {\r\n            state = EndStage(state, { playerID, automatic: true });\r\n        }\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        const G = phaseConfig.turn.wrapped.onMove({\r\n            ...state,\r\n            ctx: { ...state.ctx, playerID },\r\n        });\r\n        state = { ...state, G };\r\n        const events = [{ fn: OnMove }];\r\n        return Process(state, events);\r\n    }\r\n    function SetStageEvent(state, playerID, arg) {\r\n        return Process(state, [{ fn: EndStage, arg, playerID }]);\r\n    }\r\n    function EndStageEvent(state, playerID) {\r\n        return Process(state, [{ fn: EndStage, playerID }]);\r\n    }\r\n    function SetActivePlayersEvent(state, _playerID, arg) {\r\n        return Process(state, [{ fn: UpdateActivePlayers, arg }]);\r\n    }\r\n    function SetPhaseEvent(state, _playerID, newPhase) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndPhase,\r\n                phase: state.ctx.phase,\r\n                turn: state.ctx.turn,\r\n                arg: { next: newPhase },\r\n            },\r\n        ]);\r\n    }\r\n    function EndPhaseEvent(state) {\r\n        return Process(state, [\r\n            { fn: EndPhase, phase: state.ctx.phase, turn: state.ctx.turn },\r\n        ]);\r\n    }\r\n    function EndTurnEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndTurn, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    function PassEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndTurn,\r\n                turn: state.ctx.turn,\r\n                phase: state.ctx.phase,\r\n                force: true,\r\n                arg,\r\n            },\r\n        ]);\r\n    }\r\n    function EndGameEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndGame, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    const eventHandlers = {\r\n        endStage: EndStageEvent,\r\n        setStage: SetStageEvent,\r\n        endTurn: EndTurnEvent,\r\n        pass: PassEvent,\r\n        endPhase: EndPhaseEvent,\r\n        setPhase: SetPhaseEvent,\r\n        endGame: EndGameEvent,\r\n        setActivePlayers: SetActivePlayersEvent,\r\n    };\r\n    const enabledEventNames = [];\r\n    if (events.endTurn !== false) {\r\n        enabledEventNames.push('endTurn');\r\n    }\r\n    if (events.pass !== false) {\r\n        enabledEventNames.push('pass');\r\n    }\r\n    if (events.endPhase !== false) {\r\n        enabledEventNames.push('endPhase');\r\n    }\r\n    if (events.setPhase !== false) {\r\n        enabledEventNames.push('setPhase');\r\n    }\r\n    if (events.endGame !== false) {\r\n        enabledEventNames.push('endGame');\r\n    }\r\n    if (events.setActivePlayers !== false) {\r\n        enabledEventNames.push('setActivePlayers');\r\n    }\r\n    if (events.endStage !== false) {\r\n        enabledEventNames.push('endStage');\r\n    }\r\n    if (events.setStage !== false) {\r\n        enabledEventNames.push('setStage');\r\n    }\r\n    function ProcessEvent(state, action) {\r\n        const { type, playerID, args } = action.payload;\r\n        if (typeof eventHandlers[type] !== 'function')\r\n            return state;\r\n        return eventHandlers[type](state, playerID, ...(Array.isArray(args) ? args : [args]));\r\n    }\r\n    function IsPlayerActive(_G, ctx, playerID) {\r\n        if (ctx.activePlayers) {\r\n            return playerID in ctx.activePlayers;\r\n        }\r\n        return ctx.currentPlayer === playerID;\r\n    }\r\n    return {\r\n        ctx: (numPlayers) => ({\r\n            numPlayers,\r\n            turn: 0,\r\n            currentPlayer: '0',\r\n            playOrder: [...Array.from({ length: numPlayers })].map((_, i) => i + ''),\r\n            playOrderPos: 0,\r\n            phase: startingPhase,\r\n            activePlayers: null,\r\n        }),\r\n        init: (state) => {\r\n            return Process(state, [{ fn: StartGame }]);\r\n        },\r\n        isPlayerActive: IsPlayerActive,\r\n        eventHandlers,\r\n        eventNames: Object.keys(eventHandlers),\r\n        enabledEventNames,\r\n        moveMap,\r\n        moveNames: [...moveNames.values()],\r\n        processMove: ProcessMove,\r\n        processEvent: ProcessEvent,\r\n        getMove: GetMove,\r\n    };\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nfunction IsProcessed(game) {\r\n    return game.processMove !== undefined;\r\n}\r\n/**\r\n * Helper to generate the game move reducer. The returned\r\n * reducer has the following signature:\r\n *\r\n * (G, action, ctx) => {}\r\n *\r\n * You can roll your own if you like, or use any Redux\r\n * addon to generate such a reducer.\r\n *\r\n * The convention used in this framework is to\r\n * have action.type contain the name of the move, and\r\n * action.args contain any additional arguments as an\r\n * Array.\r\n */\r\nfunction ProcessGameConfig(game) {\r\n    // The Game() function has already been called on this\r\n    // config object, so just pass it through.\r\n    if (IsProcessed(game)) {\r\n        return game;\r\n    }\r\n    if (game.name === undefined)\r\n        game.name = 'default';\r\n    if (game.deltaState === undefined)\r\n        game.deltaState = false;\r\n    if (game.disableUndo === undefined)\r\n        game.disableUndo = false;\r\n    if (game.setup === undefined)\r\n        game.setup = () => ({});\r\n    if (game.moves === undefined)\r\n        game.moves = {};\r\n    if (game.playerView === undefined)\r\n        game.playerView = (G) => G;\r\n    if (game.plugins === undefined)\r\n        game.plugins = [];\r\n    game.plugins.forEach((plugin) => {\r\n        if (plugin.name === undefined) {\r\n            throw new Error('Plugin missing name attribute');\r\n        }\r\n        if (plugin.name.includes(' ')) {\r\n            throw new Error(plugin.name + ': Plugin name must not include spaces');\r\n        }\r\n    });\r\n    if (game.name.includes(' ')) {\r\n        throw new Error(game.name + ': Game name must not include spaces');\r\n    }\r\n    const flow = Flow(game);\r\n    return {\r\n        ...game,\r\n        flow,\r\n        moveNames: flow.moveNames,\r\n        pluginNames: game.plugins.map((p) => p.name),\r\n        processMove: (state, action) => {\r\n            let moveFn = flow.getMove(state.ctx, action.type, action.playerID);\r\n            if (IsLongFormMove(moveFn)) {\r\n                moveFn = moveFn.move;\r\n            }\r\n            if (moveFn instanceof Function) {\r\n                const fn = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.F)(moveFn, _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.G.MOVE, game.plugins);\r\n                const ctxWithAPI = {\r\n                    ...(0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.E)(state),\r\n                    playerID: action.playerID,\r\n                };\r\n                let args = [];\r\n                if (action.args !== undefined) {\r\n                    args = Array.isArray(action.args) ? action.args : [action.args];\r\n                }\r\n                return fn(state.G, ctxWithAPI, ...args);\r\n            }\r\n            (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`invalid move object: ${action.type}`);\r\n            return state.G;\r\n        },\r\n    };\r\n}\r\nfunction IsLongFormMove(move) {\r\n    return move instanceof Object && move.move !== undefined;\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nvar UpdateErrorType;\r\n(function (UpdateErrorType) {\r\n    // The action’s credentials were missing or invalid\r\n    UpdateErrorType[\"UnauthorizedAction\"] = \"update/unauthorized_action\";\r\n    // The action’s matchID was not found\r\n    UpdateErrorType[\"MatchNotFound\"] = \"update/match_not_found\";\r\n    // Could not apply Patch operation (rfc6902).\r\n    UpdateErrorType[\"PatchFailed\"] = \"update/patch_failed\";\r\n})(UpdateErrorType || (UpdateErrorType = {}));\r\nvar ActionErrorType;\r\n(function (ActionErrorType) {\r\n    // The action contained a stale state ID\r\n    ActionErrorType[\"StaleStateId\"] = \"action/stale_state_id\";\r\n    // The requested move is unknown or not currently available\r\n    ActionErrorType[\"UnavailableMove\"] = \"action/unavailable_move\";\r\n    // The move declared it was invalid (INVALID_MOVE constant)\r\n    ActionErrorType[\"InvalidMove\"] = \"action/invalid_move\";\r\n    // The player making the action is not currently active\r\n    ActionErrorType[\"InactivePlayer\"] = \"action/inactive_player\";\r\n    // The game has finished\r\n    ActionErrorType[\"GameOver\"] = \"action/gameover\";\r\n    // The requested action is disabled (e.g. undo/redo, events)\r\n    ActionErrorType[\"ActionDisabled\"] = \"action/action_disabled\";\r\n    // The requested action is not currently possible\r\n    ActionErrorType[\"ActionInvalid\"] = \"action/action_invalid\";\r\n    // The requested action was declared invalid by a plugin\r\n    ActionErrorType[\"PluginActionInvalid\"] = \"action/plugin_invalid\";\r\n})(ActionErrorType || (ActionErrorType = {}));\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Check if the payload for the passed action contains a playerID.\r\n */\r\nconst actionHasPlayerID = (action) => action.payload.playerID !== null && action.payload.playerID !== undefined;\r\n/**\r\n * Returns true if a move can be undone.\r\n */\r\nconst CanUndoMove = (G, ctx, move) => {\r\n    function HasUndoable(move) {\r\n        return move.undoable !== undefined;\r\n    }\r\n    function IsFunction(undoable) {\r\n        return undoable instanceof Function;\r\n    }\r\n    if (!HasUndoable(move)) {\r\n        return true;\r\n    }\r\n    if (IsFunction(move.undoable)) {\r\n        return move.undoable(G, ctx);\r\n    }\r\n    return move.undoable;\r\n};\r\n/**\r\n * Update the undo and redo stacks for a move or event.\r\n */\r\nfunction updateUndoRedoState(state, opts) {\r\n    if (opts.game.disableUndo)\r\n        return state;\r\n    const undoEntry = {\r\n        G: state.G,\r\n        ctx: state.ctx,\r\n        plugins: state.plugins,\r\n        playerID: opts.action.payload.playerID || state.ctx.currentPlayer,\r\n    };\r\n    if (opts.action.type === 'MAKE_MOVE') {\r\n        undoEntry.moveType = opts.action.payload.type;\r\n    }\r\n    return {\r\n        ...state,\r\n        _undo: [...state._undo, undoEntry],\r\n        // Always reset redo stack when making a move or event\r\n        _redo: [],\r\n    };\r\n}\r\n/**\r\n * Process state, adding the initial deltalog for this action.\r\n */\r\nfunction initializeDeltalog(state, action, move) {\r\n    // Create a log entry for this action.\r\n    const logEntry = {\r\n        action,\r\n        _stateID: state._stateID,\r\n        turn: state.ctx.turn,\r\n        phase: state.ctx.phase,\r\n    };\r\n    const pluginLogMetadata = state.plugins.log.data.metadata;\r\n    if (pluginLogMetadata !== undefined) {\r\n        logEntry.metadata = pluginLogMetadata;\r\n    }\r\n    if (typeof move === 'object' && move.redact === true) {\r\n        logEntry.redact = true;\r\n    }\r\n    return {\r\n        ...state,\r\n        deltalog: [logEntry],\r\n    };\r\n}\r\n/**\r\n * Update plugin state after move/event & check if plugins consider the action to be valid.\r\n * @param state Current version of state in the reducer.\r\n * @param oldState State to revert to in case of error.\r\n * @param pluginOpts Plugin configuration options.\r\n * @returns Tuple of the new state updated after flushing plugins and the old\r\n * state augmented with an error if a plugin declared the action invalid.\r\n */\r\nfunction flushAndValidatePlugins(state, oldState, pluginOpts) {\r\n    const [newState, isInvalid] = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.q)(state, pluginOpts);\r\n    if (!isInvalid)\r\n        return [newState];\r\n    return [\r\n        newState,\r\n        WithError(oldState, ActionErrorType.PluginActionInvalid, isInvalid),\r\n    ];\r\n}\r\n/**\r\n * ExtractTransientsFromState\r\n *\r\n * Split out transients from the a TransientState\r\n */\r\nfunction ExtractTransients(transientState) {\r\n    if (!transientState) {\r\n        // We preserve null for the state for legacy callers, but the transient\r\n        // field should be undefined if not present to be consistent with the\r\n        // code path below.\r\n        return [null, undefined];\r\n    }\r\n    const { transients, ...state } = transientState;\r\n    return [state, transients];\r\n}\r\n/**\r\n * WithError\r\n *\r\n * Augment a State instance with transient error information.\r\n */\r\nfunction WithError(state, errorType, payload) {\r\n    const error = {\r\n        type: errorType,\r\n        payload,\r\n    };\r\n    return {\r\n        ...state,\r\n        transients: {\r\n            error,\r\n        },\r\n    };\r\n}\r\n/**\r\n * Middleware for processing TransientState associated with the reducer\r\n * returned by CreateGameReducer.\r\n * This should pretty much be used everywhere you want realistic state\r\n * transitions and error handling.\r\n */\r\nconst TransientHandlingMiddleware = (store) => (next) => (action) => {\r\n    const result = next(action);\r\n    switch (action.type) {\r\n        case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.p: {\r\n            return result;\r\n        }\r\n        default: {\r\n            const [, transients] = ExtractTransients(store.getState());\r\n            if (typeof transients !== 'undefined') {\r\n                store.dispatch((0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.r)());\r\n                // Dev Note: If parent middleware needs to correlate the spawned\r\n                // StripTransients action to the triggering action, instrument here.\r\n                //\r\n                // This is a bit tricky; for more details, see:\r\n                //   https://github.com/boardgameio/boardgame.io/pull/940#discussion_r636200648\r\n                return {\r\n                    ...result,\r\n                    transients,\r\n                };\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n};\r\n/**\r\n * CreateGameReducer\r\n *\r\n * Creates the main game state reducer.\r\n */\r\nfunction CreateGameReducer({ game, isClient, }) {\r\n    game = ProcessGameConfig(game);\r\n    /**\r\n     * GameReducer\r\n     *\r\n     * Redux reducer that maintains the overall game state.\r\n     * @param {object} state - The state before the action.\r\n     * @param {object} action - A Redux action.\r\n     */\r\n    return (stateWithTransients = null, action) => {\r\n        let [state /*, transients */] = ExtractTransients(stateWithTransients);\r\n        switch (action.type) {\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.p: {\r\n                // This action indicates that transient metadata in the state has been\r\n                // consumed and should now be stripped from the state..\r\n                return state;\r\n            }\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.o: {\r\n                state = { ...state, deltalog: [] };\r\n                // Process game events only on the server.\r\n                // These events like `endTurn` typically\r\n                // contain code that may rely on secret state\r\n                // and cannot be computed on the client.\r\n                if (isClient) {\r\n                    return state;\r\n                }\r\n                // Disallow events once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`cannot call event after game end`);\r\n                    return WithError(state, ActionErrorType.GameOver);\r\n                }\r\n                // Ignore the event if the player isn't active.\r\n                if (actionHasPlayerID(action) &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`disallowed event: ${action.payload.type}`);\r\n                    return WithError(state, ActionErrorType.InactivePlayer);\r\n                }\r\n                // Execute plugins.\r\n                state = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.m)(state, {\r\n                    game,\r\n                    isClient: false,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process event.\r\n                let newState = game.flow.processEvent(state, action);\r\n                // Execute plugins.\r\n                let stateWithError;\r\n                [newState, stateWithError] = flushAndValidatePlugins(newState, state, {\r\n                    game,\r\n                    isClient: false,\r\n                });\r\n                if (stateWithError)\r\n                    return stateWithError;\r\n                // Update undo / redo state.\r\n                newState = updateUndoRedoState(newState, { game, action });\r\n                return { ...newState, _stateID: state._stateID + 1 };\r\n            }\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.M: {\r\n                const oldState = (state = { ...state, deltalog: [] });\r\n                // Check whether the move is allowed at this time.\r\n                const move = game.flow.getMove(state.ctx, action.payload.type, action.payload.playerID || state.ctx.currentPlayer);\r\n                if (move === null) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`disallowed move: ${action.payload.type}`);\r\n                    return WithError(state, ActionErrorType.UnavailableMove);\r\n                }\r\n                // Don't run move on client if move says so.\r\n                if (isClient && move.client === false) {\r\n                    return state;\r\n                }\r\n                // Disallow moves once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`cannot make move after game end`);\r\n                    return WithError(state, ActionErrorType.GameOver);\r\n                }\r\n                // Ignore the move if the player isn't active.\r\n                if (actionHasPlayerID(action) &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`disallowed move: ${action.payload.type}`);\r\n                    return WithError(state, ActionErrorType.InactivePlayer);\r\n                }\r\n                // Execute plugins.\r\n                state = (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.m)(state, {\r\n                    game,\r\n                    isClient,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process the move.\r\n                const G = game.processMove(state, action.payload);\r\n                // The game declared the move as invalid.\r\n                if (G === _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.n) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`invalid move: ${action.payload.type} args: ${action.payload.args}`);\r\n                    // TODO(#723): Marshal a nice error payload with the processed move.\r\n                    return WithError(state, ActionErrorType.InvalidMove);\r\n                }\r\n                const newState = { ...state, G };\r\n                // Some plugin indicated that it is not suitable to be\r\n                // materialized on the client (and must wait for the server\r\n                // response instead).\r\n                if (isClient && (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.N)(newState, { game })) {\r\n                    return state;\r\n                }\r\n                state = newState;\r\n                // If we're on the client, just process the move\r\n                // and no triggers in multiplayer mode.\r\n                // These will be processed on the server, which\r\n                // will send back a state update.\r\n                if (isClient) {\r\n                    let stateWithError;\r\n                    [state, stateWithError] = flushAndValidatePlugins(state, oldState, {\r\n                        game,\r\n                        isClient: true,\r\n                    });\r\n                    if (stateWithError)\r\n                        return stateWithError;\r\n                    return {\r\n                        ...state,\r\n                        _stateID: state._stateID + 1,\r\n                    };\r\n                }\r\n                // On the server, construct the deltalog.\r\n                state = initializeDeltalog(state, action, move);\r\n                // Allow the flow reducer to process any triggers that happen after moves.\r\n                state = game.flow.processMove(state, action.payload);\r\n                let stateWithError;\r\n                [state, stateWithError] = flushAndValidatePlugins(state, oldState, {\r\n                    game,\r\n                });\r\n                if (stateWithError)\r\n                    return stateWithError;\r\n                // Update undo / redo state.\r\n                state = updateUndoRedoState(state, { game, action });\r\n                return {\r\n                    ...state,\r\n                    _stateID: state._stateID + 1,\r\n                };\r\n            }\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.l:\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.k:\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.j: {\r\n                return action.state;\r\n            }\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.h: {\r\n                state = { ...state, deltalog: [] };\r\n                if (game.disableUndo) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)('Undo is not enabled');\r\n                    return WithError(state, ActionErrorType.ActionDisabled);\r\n                }\r\n                const { G, ctx, _undo, _redo, _stateID } = state;\r\n                if (_undo.length < 2) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`No moves to undo`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                const last = _undo[_undo.length - 1];\r\n                const restore = _undo[_undo.length - 2];\r\n                // Only allow players to undo their own moves.\r\n                if (actionHasPlayerID(action) &&\r\n                    action.payload.playerID !== last.playerID) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`Cannot undo other players' moves`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                // If undoing a move, check it is undoable.\r\n                if (last.moveType) {\r\n                    const lastMove = game.flow.getMove(restore.ctx, last.moveType, last.playerID);\r\n                    if (!CanUndoMove(G, ctx, lastMove)) {\r\n                        (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`Move cannot be undone`);\r\n                        return WithError(state, ActionErrorType.ActionInvalid);\r\n                    }\r\n                }\r\n                state = initializeDeltalog(state, action);\r\n                return {\r\n                    ...state,\r\n                    G: restore.G,\r\n                    ctx: restore.ctx,\r\n                    plugins: restore.plugins,\r\n                    _stateID: _stateID + 1,\r\n                    _undo: _undo.slice(0, -1),\r\n                    _redo: [last, ..._redo],\r\n                };\r\n            }\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.R: {\r\n                state = { ...state, deltalog: [] };\r\n                if (game.disableUndo) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)('Redo is not enabled');\r\n                    return WithError(state, ActionErrorType.ActionDisabled);\r\n                }\r\n                const { _undo, _redo, _stateID } = state;\r\n                if (_redo.length === 0) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`No moves to redo`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                const first = _redo[0];\r\n                // Only allow players to redo their own undos.\r\n                if (actionHasPlayerID(action) &&\r\n                    action.payload.playerID !== first.playerID) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`Cannot redo other players' moves`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                state = initializeDeltalog(state, action);\r\n                return {\r\n                    ...state,\r\n                    G: first.G,\r\n                    ctx: first.ctx,\r\n                    plugins: first.plugins,\r\n                    _stateID: _stateID + 1,\r\n                    _undo: [..._undo, first],\r\n                    _redo: _redo.slice(1),\r\n                };\r\n            }\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.d: {\r\n                // TODO(#723): Expose error semantics to plugin processing.\r\n                return (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.f)(state, action, { game });\r\n            }\r\n            case _turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.P: {\r\n                const oldState = state;\r\n                const newState = JSON.parse(JSON.stringify(oldState));\r\n                const patchError = (0,rfc6902__WEBPACK_IMPORTED_MODULE_0__.applyPatch)(newState, action.patch);\r\n                const hasError = patchError.some((entry) => entry !== null);\r\n                if (hasError) {\r\n                    (0,_turn_order_0b7dce3d_js__WEBPACK_IMPORTED_MODULE_1__.e)(`Patch ${JSON.stringify(action.patch)} apply failed`);\r\n                    return WithError(oldState, UpdateErrorType.PatchFailed, patchError);\r\n                }\r\n                else {\r\n                    return newState;\r\n                }\r\n            }\r\n            default: {\r\n                return state;\r\n            }\r\n        }\r\n    };\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3JlZHVjZXItMDdjN2IzMDcuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVpQjtBQUNsZ0I7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBcUQ7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQSxRQUFRLDBEQUFLO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMERBQU07QUFDbEM7QUFDQSwrQkFBK0IsMERBQVU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwREFBVTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrRUFBc0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw4REFBaUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQTBCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHFFQUF5QjtBQUMvRSxrREFBa0QsbUVBQXVCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxtRUFBdUI7QUFDaEYsMkRBQTJELG9FQUF3QjtBQUNuRix1REFBdUQs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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBSyx5QkFBeUIsWUFBWTtBQUN0RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDBEQUFnQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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MERBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBEQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNEQUFNO0FBQ3ZCO0FBQ0EsdUJBQXVCLDBEQUFhLGtCQUFrQixNQUFNO0FBQzVEO0FBQ0EsaUJBQWlCLHNEQUFLO0FBQ3RCO0FBQ0E7QUFDQSxtQ0FBbUMsbURBQVU7QUFDN0M7QUFDQTtBQUNBLG9CQUFvQiwwREFBSyxVQUFVLDhCQUE4QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWlIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9ib2FyZGdhbWUuaW8vZGlzdC9lc20vcmVkdWNlci0wN2M3YjMwNy5qcz9kMDU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGUgYXMgZXJyb3IsIEcgYXMgR2FtZU1ldGhvZCwgRSBhcyBFbmhhbmNlQ3R4LCBUIGFzIFR1cm5PcmRlciwgYSBhcyBzdXBwb3J0RGVwcmVjYXRlZE1vdmVMaW1pdCwgUyBhcyBTdGFnZSwgYiBhcyBTZXRBY3RpdmVQbGF5ZXJzLCBpIGFzIGluZm8sIEYgYXMgRm5XcmFwLCBJIGFzIEluaXRUdXJuT3JkZXJTdGF0ZSwgVSBhcyBVcGRhdGVUdXJuT3JkZXJTdGF0ZSwgYyBhcyBVcGRhdGVBY3RpdmVQbGF5ZXJzT25jZUVtcHR5LCBnIGFzIGdhbWVFdmVudCwgUCBhcyBQQVRDSCwgZCBhcyBQTFVHSU4sIGYgYXMgUHJvY2Vzc0FjdGlvbiwgUiBhcyBSRURPLCBoIGFzIFVORE8sIGogYXMgU1lOQywgayBhcyBVUERBVEUsIGwgYXMgUkVTRVQsIE0gYXMgTUFLRV9NT1ZFLCBtIGFzIEVuaGFuY2UsIG4gYXMgSU5WQUxJRF9NT1ZFLCBOIGFzIE5vQ2xpZW50LCBvIGFzIEdBTUVfRVZFTlQsIHAgYXMgU1RSSVBfVFJBTlNJRU5UUywgcSBhcyBGbHVzaEFuZFZhbGlkYXRlLCByIGFzIHN0cmlwVHJhbnNpZW50cyB9IGZyb20gJy4vdHVybi1vcmRlci0wYjdkY2UzZC5qcyc7XG5pbXBvcnQgeyBhcHBseVBhdGNoIH0gZnJvbSAncmZjNjkwMic7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG4vKipcclxuICogRmxvd1xyXG4gKlxyXG4gKiBDcmVhdGVzIGEgcmVkdWNlciB0aGF0IHVwZGF0ZXMgY3R4IChhbmFsb2dvdXMgdG8gaG93IG1vdmVzIHVwZGF0ZSBHKS5cclxuICovXHJcbmZ1bmN0aW9uIEZsb3coeyBtb3ZlcywgcGhhc2VzLCBlbmRJZiwgb25FbmQsIHR1cm4sIGV2ZW50cywgcGx1Z2lucywgfSkge1xyXG4gICAgLy8gQXR0YWNoIGRlZmF1bHRzLlxyXG4gICAgaWYgKG1vdmVzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBtb3ZlcyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZXZlbnRzID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAocGx1Z2lucyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcGx1Z2lucyA9IFtdO1xyXG4gICAgfVxyXG4gICAgaWYgKHBoYXNlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcGhhc2VzID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAoIWVuZElmKVxyXG4gICAgICAgIGVuZElmID0gKCkgPT4gdW5kZWZpbmVkO1xyXG4gICAgaWYgKCFvbkVuZClcclxuICAgICAgICBvbkVuZCA9IChHKSA9PiBHO1xyXG4gICAgaWYgKCF0dXJuKVxyXG4gICAgICAgIHR1cm4gPSB7fTtcclxuICAgIGNvbnN0IHBoYXNlTWFwID0geyAuLi5waGFzZXMgfTtcclxuICAgIGlmICgnJyBpbiBwaGFzZU1hcCkge1xyXG4gICAgICAgIGVycm9yKCdjYW5ub3Qgc3BlY2lmeSBwaGFzZSB3aXRoIGVtcHR5IG5hbWUnKTtcclxuICAgIH1cclxuICAgIHBoYXNlTWFwWycnXSA9IHt9O1xyXG4gICAgY29uc3QgbW92ZU1hcCA9IHt9O1xyXG4gICAgY29uc3QgbW92ZU5hbWVzID0gbmV3IFNldCgpO1xyXG4gICAgbGV0IHN0YXJ0aW5nUGhhc2UgPSBudWxsO1xyXG4gICAgT2JqZWN0LmtleXMobW92ZXMpLmZvckVhY2goKG5hbWUpID0+IG1vdmVOYW1lcy5hZGQobmFtZSkpO1xyXG4gICAgY29uc3QgSG9va1dyYXBwZXIgPSAoaG9vaywgaG9va1R5cGUpID0+IHtcclxuICAgICAgICBjb25zdCB3aXRoUGx1Z2lucyA9IEZuV3JhcChob29rLCBob29rVHlwZSwgcGx1Z2lucyk7XHJcbiAgICAgICAgcmV0dXJuIChzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjdHhXaXRoQVBJID0gRW5oYW5jZUN0eChzdGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB3aXRoUGx1Z2lucyhzdGF0ZS5HLCBjdHhXaXRoQVBJKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IFRyaWdnZXJXcmFwcGVyID0gKHRyaWdnZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN0eFdpdGhBUEkgPSBFbmhhbmNlQ3R4KHN0YXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXIoc3RhdGUuRywgY3R4V2l0aEFQSSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBjb25zdCB3cmFwcGVkID0ge1xyXG4gICAgICAgIG9uRW5kOiBIb29rV3JhcHBlcihvbkVuZCwgR2FtZU1ldGhvZC5HQU1FX09OX0VORCksXHJcbiAgICAgICAgZW5kSWY6IFRyaWdnZXJXcmFwcGVyKGVuZElmKSxcclxuICAgIH07XHJcbiAgICBmb3IgKGNvbnN0IHBoYXNlIGluIHBoYXNlTWFwKSB7XHJcbiAgICAgICAgY29uc3QgcGhhc2VDb25maWcgPSBwaGFzZU1hcFtwaGFzZV07XHJcbiAgICAgICAgaWYgKHBoYXNlQ29uZmlnLnN0YXJ0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0aW5nUGhhc2UgPSBwaGFzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBoYXNlQ29uZmlnLm1vdmVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBtb3ZlIG9mIE9iamVjdC5rZXlzKHBoYXNlQ29uZmlnLm1vdmVzKSkge1xyXG4gICAgICAgICAgICAgICAgbW92ZU1hcFtwaGFzZSArICcuJyArIG1vdmVdID0gcGhhc2VDb25maWcubW92ZXNbbW92ZV07XHJcbiAgICAgICAgICAgICAgICBtb3ZlTmFtZXMuYWRkKG1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwaGFzZUNvbmZpZy5lbmRJZiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHBoYXNlQ29uZmlnLmVuZElmID0gKCkgPT4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGhhc2VDb25maWcub25CZWdpbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHBoYXNlQ29uZmlnLm9uQmVnaW4gPSAoRykgPT4gRztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBoYXNlQ29uZmlnLm9uRW5kID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGhhc2VDb25maWcub25FbmQgPSAoRykgPT4gRztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBoYXNlQ29uZmlnLnR1cm4gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwaGFzZUNvbmZpZy50dXJuID0gdHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBoYXNlQ29uZmlnLnR1cm4ub3JkZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwaGFzZUNvbmZpZy50dXJuLm9yZGVyID0gVHVybk9yZGVyLkRFRkFVTFQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwaGFzZUNvbmZpZy50dXJuLm9uQmVnaW4gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwaGFzZUNvbmZpZy50dXJuLm9uQmVnaW4gPSAoRykgPT4gRztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBoYXNlQ29uZmlnLnR1cm4ub25FbmQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwaGFzZUNvbmZpZy50dXJuLm9uRW5kID0gKEcpID0+IEc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwaGFzZUNvbmZpZy50dXJuLmVuZElmID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGhhc2VDb25maWcudHVybi5lbmRJZiA9ICgpID0+IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGhhc2VDb25maWcudHVybi5vbk1vdmUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwaGFzZUNvbmZpZy50dXJuLm9uTW92ZSA9IChHKSA9PiBHO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGhhc2VDb25maWcudHVybi5zdGFnZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwaGFzZUNvbmZpZy50dXJuLnN0YWdlcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0dXJucyBwcmV2aW91c2x5IHRyZWF0ZWQgbW92ZUxpbWl0IGFzIGJvdGggbWluTW92ZXMgYW5kIG1heE1vdmVzLCB0aGlzIGJlaGF2aW91ciBpcyBrZXB0IGludGVudGlvbmFsbHlcclxuICAgICAgICBzdXBwb3J0RGVwcmVjYXRlZE1vdmVMaW1pdChwaGFzZUNvbmZpZy50dXJuLCB0cnVlKTtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YWdlIGluIHBoYXNlQ29uZmlnLnR1cm4uc3RhZ2VzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlQ29uZmlnID0gcGhhc2VDb25maWcudHVybi5zdGFnZXNbc3RhZ2VdO1xyXG4gICAgICAgICAgICBjb25zdCBtb3ZlcyA9IHN0YWdlQ29uZmlnLm1vdmVzIHx8IHt9O1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1vdmUgb2YgT2JqZWN0LmtleXMobW92ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwaGFzZSArICcuJyArIHN0YWdlICsgJy4nICsgbW92ZTtcclxuICAgICAgICAgICAgICAgIG1vdmVNYXBba2V5XSA9IG1vdmVzW21vdmVdO1xyXG4gICAgICAgICAgICAgICAgbW92ZU5hbWVzLmFkZChtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwaGFzZUNvbmZpZy53cmFwcGVkID0ge1xyXG4gICAgICAgICAgICBvbkJlZ2luOiBIb29rV3JhcHBlcihwaGFzZUNvbmZpZy5vbkJlZ2luLCBHYW1lTWV0aG9kLlBIQVNFX09OX0JFR0lOKSxcclxuICAgICAgICAgICAgb25FbmQ6IEhvb2tXcmFwcGVyKHBoYXNlQ29uZmlnLm9uRW5kLCBHYW1lTWV0aG9kLlBIQVNFX09OX0VORCksXHJcbiAgICAgICAgICAgIGVuZElmOiBUcmlnZ2VyV3JhcHBlcihwaGFzZUNvbmZpZy5lbmRJZiksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBwaGFzZUNvbmZpZy50dXJuLndyYXBwZWQgPSB7XHJcbiAgICAgICAgICAgIG9uTW92ZTogSG9va1dyYXBwZXIocGhhc2VDb25maWcudHVybi5vbk1vdmUsIEdhbWVNZXRob2QuVFVSTl9PTl9NT1ZFKSxcclxuICAgICAgICAgICAgb25CZWdpbjogSG9va1dyYXBwZXIocGhhc2VDb25maWcudHVybi5vbkJlZ2luLCBHYW1lTWV0aG9kLlRVUk5fT05fQkVHSU4pLFxyXG4gICAgICAgICAgICBvbkVuZDogSG9va1dyYXBwZXIocGhhc2VDb25maWcudHVybi5vbkVuZCwgR2FtZU1ldGhvZC5UVVJOX09OX0VORCksXHJcbiAgICAgICAgICAgIGVuZElmOiBUcmlnZ2VyV3JhcHBlcihwaGFzZUNvbmZpZy50dXJuLmVuZElmKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGhhc2VDb25maWcubmV4dCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zdCB7IG5leHQgfSA9IHBoYXNlQ29uZmlnO1xyXG4gICAgICAgICAgICBwaGFzZUNvbmZpZy5uZXh0ID0gKCkgPT4gbmV4dCB8fCBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwaGFzZUNvbmZpZy53cmFwcGVkLm5leHQgPSBUcmlnZ2VyV3JhcHBlcihwaGFzZUNvbmZpZy5uZXh0KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEdldFBoYXNlKGN0eCkge1xyXG4gICAgICAgIHJldHVybiBjdHgucGhhc2UgPyBwaGFzZU1hcFtjdHgucGhhc2VdIDogcGhhc2VNYXBbJyddO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gT25Nb3ZlKHMpIHtcclxuICAgICAgICByZXR1cm4gcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFByb2Nlc3Moc3RhdGUsIGV2ZW50cykge1xyXG4gICAgICAgIGNvbnN0IHBoYXNlc0VuZGVkID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGNvbnN0IHR1cm5zRW5kZWQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgeyBmbiwgYXJnLCAuLi5yZXN0IH0gPSBldmVudHNbaV07XHJcbiAgICAgICAgICAgIC8vIERldGVjdCBhIGxvb3Agb2YgRW5kUGhhc2UgY2FsbHMuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgY291bGQgcG90ZW50aWFsbHkgZXZlbiBiZSBhbiBpbmZpbml0ZSBsb29wXHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSBlbmRJZiBjb25kaXRpb24gb2YgZWFjaCBwaGFzZSBibGluZGx5XHJcbiAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZS4gVGhlIG1vbWVudCB3ZSBkZXRlY3QgYSBzaW5nbGVcclxuICAgICAgICAgICAgLy8gbG9vcCwgd2UganVzdCBiYWlsIG91dCBvZiBhbGwgcGhhc2VzLlxyXG4gICAgICAgICAgICBpZiAoZm4gPT09IEVuZFBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0dXJuc0VuZGVkLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwaGFzZSA9IHN0YXRlLmN0eC5waGFzZTtcclxuICAgICAgICAgICAgICAgIGlmIChwaGFzZXNFbmRlZC5oYXMocGhhc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3R4ID0geyAuLi5zdGF0ZS5jdHgsIHBoYXNlOiBudWxsIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGN0eCB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGhhc2VzRW5kZWQuYWRkKHBoYXNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGV2ZW50LlxyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gW107XHJcbiAgICAgICAgICAgIHN0YXRlID0gZm4oc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgIC4uLnJlc3QsXHJcbiAgICAgICAgICAgICAgICBhcmcsXHJcbiAgICAgICAgICAgICAgICBuZXh0LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGZuID09PSBFbmRHYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgZW5kIHRoZSBnYW1lLlxyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRFbmRHYW1lID0gU2hvdWxkRW5kR2FtZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRFbmRHYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZm46IEVuZEdhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJnOiBzaG91bGRFbmRHYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHR1cm46IHN0YXRlLmN0eC50dXJuLFxyXG4gICAgICAgICAgICAgICAgICAgIHBoYXNlOiBzdGF0ZS5jdHgucGhhc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGljOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgZW5kIHRoZSBwaGFzZS5cclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRW5kUGhhc2UgPSBTaG91bGRFbmRQaGFzZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRFbmRQaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGZuOiBFbmRQaGFzZSxcclxuICAgICAgICAgICAgICAgICAgICBhcmc6IHNob3VsZEVuZFBoYXNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHR1cm46IHN0YXRlLmN0eC50dXJuLFxyXG4gICAgICAgICAgICAgICAgICAgIHBoYXNlOiBzdGF0ZS5jdHgucGhhc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGljOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgZW5kIHRoZSB0dXJuLlxyXG4gICAgICAgICAgICBpZiAoW09uTW92ZSwgVXBkYXRlU3RhZ2UsIFVwZGF0ZUFjdGl2ZVBsYXllcnNdLmluY2x1ZGVzKGZuKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkRW5kVHVybiA9IFNob3VsZEVuZFR1cm4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEVuZFR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBFbmRUdXJuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmc6IHNob3VsZEVuZFR1cm4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR1cm46IHN0YXRlLmN0eC50dXJuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaGFzZTogc3RhdGUuY3R4LnBoYXNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aWM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnRzLnB1c2goLi4ubmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxuICAgIC8vLy8vLy8vLy8vXHJcbiAgICAvLyBTdGFydCAvL1xyXG4gICAgLy8vLy8vLy8vLy9cclxuICAgIGZ1bmN0aW9uIFN0YXJ0R2FtZShzdGF0ZSwgeyBuZXh0IH0pIHtcclxuICAgICAgICBuZXh0LnB1c2goeyBmbjogU3RhcnRQaGFzZSB9KTtcclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBTdGFydFBoYXNlKHN0YXRlLCB7IG5leHQgfSkge1xyXG4gICAgICAgIGxldCB7IEcsIGN0eCB9ID0gc3RhdGU7XHJcbiAgICAgICAgY29uc3QgcGhhc2VDb25maWcgPSBHZXRQaGFzZShjdHgpO1xyXG4gICAgICAgIC8vIFJ1biBhbnkgcGhhc2Ugc2V0dXAgY29kZSBwcm92aWRlZCBieSB0aGUgdXNlci5cclxuICAgICAgICBHID0gcGhhc2VDb25maWcud3JhcHBlZC5vbkJlZ2luKHN0YXRlKTtcclxuICAgICAgICBuZXh0LnB1c2goeyBmbjogU3RhcnRUdXJuIH0pO1xyXG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBHLCBjdHggfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFN0YXJ0VHVybihzdGF0ZSwgeyBjdXJyZW50UGxheWVyIH0pIHtcclxuICAgICAgICBsZXQgeyBjdHggfSA9IHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHBoYXNlQ29uZmlnID0gR2V0UGhhc2UoY3R4KTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSB0dXJuIG9yZGVyIHN0YXRlLlxyXG4gICAgICAgIGlmIChjdXJyZW50UGxheWVyKSB7XHJcbiAgICAgICAgICAgIGN0eCA9IHsgLi4uY3R4LCBjdXJyZW50UGxheWVyIH07XHJcbiAgICAgICAgICAgIGlmIChwaGFzZUNvbmZpZy50dXJuLmFjdGl2ZVBsYXllcnMpIHtcclxuICAgICAgICAgICAgICAgIGN0eCA9IFNldEFjdGl2ZVBsYXllcnMoY3R4LCBwaGFzZUNvbmZpZy50dXJuLmFjdGl2ZVBsYXllcnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIG9ubHkgY2FsbGVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHBoYXNlXHJcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlcmUgaXMgbm8gY3VycmVudFBsYXllciB5ZXQuXHJcbiAgICAgICAgICAgIGN0eCA9IEluaXRUdXJuT3JkZXJTdGF0ZShzdGF0ZSwgcGhhc2VDb25maWcudHVybik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHR1cm4gPSBjdHgudHVybiArIDE7XHJcbiAgICAgICAgY3R4ID0geyAuLi5jdHgsIHR1cm4sIG51bU1vdmVzOiAwLCBfcHJldkFjdGl2ZVBsYXllcnM6IFtdIH07XHJcbiAgICAgICAgY29uc3QgRyA9IHBoYXNlQ29uZmlnLnR1cm4ud3JhcHBlZC5vbkJlZ2luKHsgLi4uc3RhdGUsIGN0eCB9KTtcclxuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgRywgY3R4LCBfdW5kbzogW10sIF9yZWRvOiBbXSB9O1xyXG4gICAgfVxyXG4gICAgLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBVcGRhdGUgLy9cclxuICAgIC8vLy8vLy8vLy8vL1xyXG4gICAgZnVuY3Rpb24gVXBkYXRlUGhhc2Uoc3RhdGUsIHsgYXJnLCBuZXh0LCBwaGFzZSB9KSB7XHJcbiAgICAgICAgY29uc3QgcGhhc2VDb25maWcgPSBHZXRQaGFzZSh7IHBoYXNlIH0pO1xyXG4gICAgICAgIGxldCB7IGN0eCB9ID0gc3RhdGU7XHJcbiAgICAgICAgaWYgKGFyZyAmJiBhcmcubmV4dCkge1xyXG4gICAgICAgICAgICBpZiAoYXJnLm5leHQgaW4gcGhhc2VNYXApIHtcclxuICAgICAgICAgICAgICAgIGN0eCA9IHsgLi4uY3R4LCBwaGFzZTogYXJnLm5leHQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVycm9yKCdpbnZhbGlkIHBoYXNlOiAnICsgYXJnLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdHggPSB7IC4uLmN0eCwgcGhhc2U6IHBoYXNlQ29uZmlnLndyYXBwZWQubmV4dChzdGF0ZSkgfHwgbnVsbCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGN0eCB9O1xyXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBuZXcgcGhhc2UuXHJcbiAgICAgICAgbmV4dC5wdXNoKHsgZm46IFN0YXJ0UGhhc2UgfSk7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gVXBkYXRlVHVybihzdGF0ZSwgeyBhcmcsIGN1cnJlbnRQbGF5ZXIsIG5leHQgfSkge1xyXG4gICAgICAgIGxldCB7IEcsIGN0eCB9ID0gc3RhdGU7XHJcbiAgICAgICAgY29uc3QgcGhhc2VDb25maWcgPSBHZXRQaGFzZShjdHgpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0dXJuIG9yZGVyIHN0YXRlLlxyXG4gICAgICAgIGNvbnN0IHsgZW5kUGhhc2UsIGN0eDogbmV3Q3R4IH0gPSBVcGRhdGVUdXJuT3JkZXJTdGF0ZShzdGF0ZSwgY3VycmVudFBsYXllciwgcGhhc2VDb25maWcudHVybiwgYXJnKTtcclxuICAgICAgICBjdHggPSBuZXdDdHg7XHJcbiAgICAgICAgc3RhdGUgPSB7IC4uLnN0YXRlLCBHLCBjdHggfTtcclxuICAgICAgICBpZiAoZW5kUGhhc2UpIHtcclxuICAgICAgICAgICAgbmV4dC5wdXNoKHsgZm46IEVuZFBoYXNlLCB0dXJuOiBjdHgudHVybiwgcGhhc2U6IGN0eC5waGFzZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5leHQucHVzaCh7IGZuOiBTdGFydFR1cm4sIGN1cnJlbnRQbGF5ZXI6IGN0eC5jdXJyZW50UGxheWVyIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBVcGRhdGVTdGFnZShzdGF0ZSwgeyBhcmcsIHBsYXllcklEIH0pIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHwgYXJnID09PSBTdGFnZS5OVUxMKSB7XHJcbiAgICAgICAgICAgIGFyZyA9IHsgc3RhZ2U6IGFyZyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ29iamVjdCcpXHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAvLyBgYXJnYCBzaG91bGQgYmUgb2YgdHlwZSBgU3RhZ2VBcmdgLCBsb29zZSB0eXBpbmcgYXMgYGFueWAgaGVyZSBmb3IgaGlzdG9yaWMgcmVhc29uc1xyXG4gICAgICAgIC8vIHN0YWdlcyBwcmV2aW91c2x5IGRpZCBub3QgZW5mb3JjZSBtaW5Nb3ZlcywgdGhpcyBiZWhhdmlvdXIgaXMga2VwdCBpbnRlbnRpb25hbGx5XHJcbiAgICAgICAgc3VwcG9ydERlcHJlY2F0ZWRNb3ZlTGltaXQoYXJnKTtcclxuICAgICAgICBsZXQgeyBjdHggfSA9IHN0YXRlO1xyXG4gICAgICAgIGxldCB7IGFjdGl2ZVBsYXllcnMsIF9hY3RpdmVQbGF5ZXJzTWluTW92ZXMsIF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXMsIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXMsIH0gPSBjdHg7XHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgc3RhZ2UgaXMgdmFsaWQsIGV2ZW4gU3RhZ2UuTlVMTFxyXG4gICAgICAgIGlmIChhcmcuc3RhZ2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlUGxheWVycyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlUGxheWVycyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFjdGl2ZVBsYXllcnNbcGxheWVySURdID0gYXJnLnN0YWdlO1xyXG4gICAgICAgICAgICBfYWN0aXZlUGxheWVyc051bU1vdmVzW3BsYXllcklEXSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChhcmcubWluTW92ZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfYWN0aXZlUGxheWVyc01pbk1vdmVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlc1twbGF5ZXJJRF0gPSBhcmcubWluTW92ZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFyZy5tYXhNb3Zlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBfYWN0aXZlUGxheWVyc01heE1vdmVzID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfYWN0aXZlUGxheWVyc01heE1vdmVzW3BsYXllcklEXSA9IGFyZy5tYXhNb3ZlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjdHggPSB7XHJcbiAgICAgICAgICAgIC4uLmN0eCxcclxuICAgICAgICAgICAgYWN0aXZlUGxheWVycyxcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcyxcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNYXhNb3ZlcyxcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNOdW1Nb3ZlcyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBjdHggfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFVwZGF0ZUFjdGl2ZVBsYXllcnMoc3RhdGUsIHsgYXJnIH0pIHtcclxuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgY3R4OiBTZXRBY3RpdmVQbGF5ZXJzKHN0YXRlLmN0eCwgYXJnKSB9O1xyXG4gICAgfVxyXG4gICAgLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBTaG91bGRFbmQgLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vL1xyXG4gICAgZnVuY3Rpb24gU2hvdWxkRW5kR2FtZShzdGF0ZSkge1xyXG4gICAgICAgIHJldHVybiB3cmFwcGVkLmVuZElmKHN0YXRlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFNob3VsZEVuZFBoYXNlKHN0YXRlKSB7XHJcbiAgICAgICAgY29uc3QgcGhhc2VDb25maWcgPSBHZXRQaGFzZShzdGF0ZS5jdHgpO1xyXG4gICAgICAgIHJldHVybiBwaGFzZUNvbmZpZy53cmFwcGVkLmVuZElmKHN0YXRlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFNob3VsZEVuZFR1cm4oc3RhdGUpIHtcclxuICAgICAgICBjb25zdCBwaGFzZUNvbmZpZyA9IEdldFBoYXNlKHN0YXRlLmN0eCk7XHJcbiAgICAgICAgLy8gRW5kIHRoZSB0dXJuIGlmIHRoZSByZXF1aXJlZCBudW1iZXIgb2YgbW92ZXMgaGFzIGJlZW4gbWFkZS5cclxuICAgICAgICBjb25zdCBjdXJyZW50UGxheWVyTW92ZXMgPSBzdGF0ZS5jdHgubnVtTW92ZXMgfHwgMDtcclxuICAgICAgICBpZiAocGhhc2VDb25maWcudHVybi5tYXhNb3ZlcyAmJlxyXG4gICAgICAgICAgICBjdXJyZW50UGxheWVyTW92ZXMgPj0gcGhhc2VDb25maWcudHVybi5tYXhNb3Zlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBoYXNlQ29uZmlnLnR1cm4ud3JhcHBlZC5lbmRJZihzdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vLy9cclxuICAgIC8vIEVuZCAvL1xyXG4gICAgLy8vLy8vLy8vXHJcbiAgICBmdW5jdGlvbiBFbmRHYW1lKHN0YXRlLCB7IGFyZywgcGhhc2UgfSkge1xyXG4gICAgICAgIHN0YXRlID0gRW5kUGhhc2Uoc3RhdGUsIHsgcGhhc2UgfSk7XHJcbiAgICAgICAgaWYgKGFyZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFyZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YXRlID0geyAuLi5zdGF0ZSwgY3R4OiB7IC4uLnN0YXRlLmN0eCwgZ2FtZW92ZXI6IGFyZyB9IH07XHJcbiAgICAgICAgLy8gUnVuIGdhbWUgZW5kIGhvb2suXHJcbiAgICAgICAgY29uc3QgRyA9IHdyYXBwZWQub25FbmQoc3RhdGUpO1xyXG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBHIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBFbmRQaGFzZShzdGF0ZSwgeyBhcmcsIG5leHQsIHR1cm46IGluaXRpYWxUdXJuLCBhdXRvbWF0aWMgfSkge1xyXG4gICAgICAgIC8vIEVuZCB0aGUgdHVybiBmaXJzdC5cclxuICAgICAgICBzdGF0ZSA9IEVuZFR1cm4oc3RhdGUsIHsgdHVybjogaW5pdGlhbFR1cm4sIGZvcmNlOiB0cnVlLCBhdXRvbWF0aWM6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgeyBwaGFzZSwgdHVybiB9ID0gc3RhdGUuY3R4O1xyXG4gICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgIG5leHQucHVzaCh7IGZuOiBVcGRhdGVQaGFzZSwgYXJnLCBwaGFzZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgd2UgYXJlbid0IGluIGEgcGhhc2UsIHRoZXJlIGlzIG5vdGhpbmcgZWxzZSB0byBkby5cclxuICAgICAgICBpZiAocGhhc2UgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSdW4gYW55IGNsZWFudXAgY29kZSBmb3IgdGhlIHBoYXNlIHRoYXQgaXMgYWJvdXQgdG8gZW5kLlxyXG4gICAgICAgIGNvbnN0IHBoYXNlQ29uZmlnID0gR2V0UGhhc2Uoc3RhdGUuY3R4KTtcclxuICAgICAgICBjb25zdCBHID0gcGhhc2VDb25maWcud3JhcHBlZC5vbkVuZChzdGF0ZSk7XHJcbiAgICAgICAgLy8gUmVzZXQgdGhlIHBoYXNlLlxyXG4gICAgICAgIGNvbnN0IGN0eCA9IHsgLi4uc3RhdGUuY3R4LCBwaGFzZTogbnVsbCB9O1xyXG4gICAgICAgIC8vIEFkZCBsb2cgZW50cnkuXHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gZ2FtZUV2ZW50KCdlbmRQaGFzZScsIGFyZyk7XHJcbiAgICAgICAgY29uc3QgeyBfc3RhdGVJRCB9ID0gc3RhdGU7XHJcbiAgICAgICAgY29uc3QgbG9nRW50cnkgPSB7IGFjdGlvbiwgX3N0YXRlSUQsIHR1cm4sIHBoYXNlIH07XHJcbiAgICAgICAgaWYgKGF1dG9tYXRpYylcclxuICAgICAgICAgICAgbG9nRW50cnkuYXV0b21hdGljID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBkZWx0YWxvZyA9IFsuLi4oc3RhdGUuZGVsdGFsb2cgfHwgW10pLCBsb2dFbnRyeV07XHJcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIEcsIGN0eCwgZGVsdGFsb2cgfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEVuZFR1cm4oc3RhdGUsIHsgYXJnLCBuZXh0LCB0dXJuOiBpbml0aWFsVHVybiwgZm9yY2UsIGF1dG9tYXRpYywgcGxheWVySUQgfSkge1xyXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IHRoZSB0dXJuIHRoYXQgRW5kVHVybiB3YXMgb3JpZ2luYWxseVxyXG4gICAgICAgIC8vIGNhbGxlZCBmb3IuIFRoZSB0dXJuIHdhcyBwcm9iYWJseSBlbmRlZCBzb21lIG90aGVyIHdheS5cclxuICAgICAgICBpZiAoaW5pdGlhbFR1cm4gIT09IHN0YXRlLmN0eC50dXJuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50UGxheWVyLCBudW1Nb3ZlcywgcGhhc2UsIHR1cm4gfSA9IHN0YXRlLmN0eDtcclxuICAgICAgICBjb25zdCBwaGFzZUNvbmZpZyA9IEdldFBoYXNlKHN0YXRlLmN0eCk7XHJcbiAgICAgICAgLy8gUHJldmVudCBlbmRpbmcgdGhlIHR1cm4gaWYgbWluTW92ZXMgaGF2ZW4ndCBiZWVuIHJlYWNoZWQuXHJcbiAgICAgICAgY29uc3QgY3VycmVudFBsYXllck1vdmVzID0gbnVtTW92ZXMgfHwgMDtcclxuICAgICAgICBpZiAoIWZvcmNlICYmXHJcbiAgICAgICAgICAgIHBoYXNlQ29uZmlnLnR1cm4ubWluTW92ZXMgJiZcclxuICAgICAgICAgICAgY3VycmVudFBsYXllck1vdmVzIDwgcGhhc2VDb25maWcudHVybi5taW5Nb3Zlcykge1xyXG4gICAgICAgICAgICBpbmZvKGBjYW5ub3QgZW5kIHR1cm4gYmVmb3JlIG1ha2luZyAke3BoYXNlQ29uZmlnLnR1cm4ubWluTW92ZXN9IG1vdmVzYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUnVuIHR1cm4tZW5kIHRyaWdnZXJzLlxyXG4gICAgICAgIGNvbnN0IEcgPSBwaGFzZUNvbmZpZy50dXJuLndyYXBwZWQub25FbmQoc3RhdGUpO1xyXG4gICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgIG5leHQucHVzaCh7IGZuOiBVcGRhdGVUdXJuLCBhcmcsIGN1cnJlbnRQbGF5ZXIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlc2V0IGFjdGl2ZVBsYXllcnMuXHJcbiAgICAgICAgbGV0IGN0eCA9IHsgLi4uc3RhdGUuY3R4LCBhY3RpdmVQbGF5ZXJzOiBudWxsIH07XHJcbiAgICAgICAgLy8gUmVtb3ZlIHBsYXllciBmcm9tIHBsYXllck9yZGVyXHJcbiAgICAgICAgaWYgKGFyZyAmJiBhcmcucmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIHBsYXllcklEID0gcGxheWVySUQgfHwgY3VycmVudFBsYXllcjtcclxuICAgICAgICAgICAgY29uc3QgcGxheU9yZGVyID0gY3R4LnBsYXlPcmRlci5maWx0ZXIoKGkpID0+IGkgIT0gcGxheWVySUQpO1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5T3JkZXJQb3MgPSBjdHgucGxheU9yZGVyUG9zID4gcGxheU9yZGVyLmxlbmd0aCAtIDEgPyAwIDogY3R4LnBsYXlPcmRlclBvcztcclxuICAgICAgICAgICAgY3R4ID0geyAuLi5jdHgsIHBsYXlPcmRlciwgcGxheU9yZGVyUG9zIH07XHJcbiAgICAgICAgICAgIGlmIChwbGF5T3JkZXIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0LnB1c2goeyBmbjogRW5kUGhhc2UsIHR1cm4sIHBoYXNlIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENyZWF0ZSBsb2cgZW50cnkuXHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gZ2FtZUV2ZW50KCdlbmRUdXJuJywgYXJnKTtcclxuICAgICAgICBjb25zdCB7IF9zdGF0ZUlEIH0gPSBzdGF0ZTtcclxuICAgICAgICBjb25zdCBsb2dFbnRyeSA9IHsgYWN0aW9uLCBfc3RhdGVJRCwgdHVybiwgcGhhc2UgfTtcclxuICAgICAgICBpZiAoYXV0b21hdGljKVxyXG4gICAgICAgICAgICBsb2dFbnRyeS5hdXRvbWF0aWMgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IGRlbHRhbG9nID0gWy4uLihzdGF0ZS5kZWx0YWxvZyB8fCBbXSksIGxvZ0VudHJ5XTtcclxuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgRywgY3R4LCBkZWx0YWxvZywgX3VuZG86IFtdLCBfcmVkbzogW10gfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEVuZFN0YWdlKHN0YXRlLCB7IGFyZywgbmV4dCwgYXV0b21hdGljLCBwbGF5ZXJJRCB9KSB7XHJcbiAgICAgICAgcGxheWVySUQgPSBwbGF5ZXJJRCB8fCBzdGF0ZS5jdHguY3VycmVudFBsYXllcjtcclxuICAgICAgICBsZXQgeyBjdHgsIF9zdGF0ZUlEIH0gPSBzdGF0ZTtcclxuICAgICAgICBsZXQgeyBhY3RpdmVQbGF5ZXJzLCBfYWN0aXZlUGxheWVyc051bU1vdmVzLCBfYWN0aXZlUGxheWVyc01pbk1vdmVzLCBfYWN0aXZlUGxheWVyc01heE1vdmVzLCBwaGFzZSwgdHVybiwgfSA9IGN0eDtcclxuICAgICAgICBjb25zdCBwbGF5ZXJJblN0YWdlID0gYWN0aXZlUGxheWVycyAhPT0gbnVsbCAmJiBwbGF5ZXJJRCBpbiBhY3RpdmVQbGF5ZXJzO1xyXG4gICAgICAgIGNvbnN0IHBoYXNlQ29uZmlnID0gR2V0UGhhc2UoY3R4KTtcclxuICAgICAgICBpZiAoIWFyZyAmJiBwbGF5ZXJJblN0YWdlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlID0gcGhhc2VDb25maWcudHVybi5zdGFnZXNbYWN0aXZlUGxheWVyc1twbGF5ZXJJRF1dO1xyXG4gICAgICAgICAgICBpZiAoc3RhZ2UgJiYgc3RhZ2UubmV4dCkge1xyXG4gICAgICAgICAgICAgICAgYXJnID0gc3RhZ2UubmV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVja2luZyBpZiBhcmcgaXMgYSB2YWxpZCBzdGFnZSwgZXZlbiBTdGFnZS5OVUxMXHJcbiAgICAgICAgaWYgKG5leHQpIHtcclxuICAgICAgICAgICAgbmV4dC5wdXNoKHsgZm46IFVwZGF0ZVN0YWdlLCBhcmcsIHBsYXllcklEIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBwbGF5ZXIgaXNu4oCZdCBpbiBhIHN0YWdlLCB0aGVyZSBpcyBub3RoaW5nIGVsc2UgdG8gZG8uXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJJblN0YWdlKVxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgLy8gUHJldmVudCBlbmRpbmcgdGhlIHN0YWdlIGlmIG1pbk1vdmVzIGhhdmVuJ3QgYmVlbiByZWFjaGVkLlxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXJNb3ZlcyA9IF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXNbcGxheWVySURdIHx8IDA7XHJcbiAgICAgICAgaWYgKF9hY3RpdmVQbGF5ZXJzTWluTW92ZXMgJiZcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlc1twbGF5ZXJJRF0gJiZcclxuICAgICAgICAgICAgY3VycmVudFBsYXllck1vdmVzIDwgX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlc1twbGF5ZXJJRF0pIHtcclxuICAgICAgICAgICAgaW5mbyhgY2Fubm90IGVuZCBzdGFnZSBiZWZvcmUgbWFraW5nICR7X2FjdGl2ZVBsYXllcnNNaW5Nb3Zlc1twbGF5ZXJJRF19IG1vdmVzYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlIHBsYXllciBmcm9tIGFjdGl2ZVBsYXllcnMuXHJcbiAgICAgICAgYWN0aXZlUGxheWVycyA9IHsgLi4uYWN0aXZlUGxheWVycyB9O1xyXG4gICAgICAgIGRlbGV0ZSBhY3RpdmVQbGF5ZXJzW3BsYXllcklEXTtcclxuICAgICAgICBpZiAoX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlcykge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgcGxheWVyIGZyb20gX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlcy5cclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcyA9IHsgLi4uX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcyB9O1xyXG4gICAgICAgICAgICBkZWxldGUgX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlc1twbGF5ZXJJRF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChfYWN0aXZlUGxheWVyc01heE1vdmVzKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBwbGF5ZXIgZnJvbSBfYWN0aXZlUGxheWVyc01heE1vdmVzLlxyXG4gICAgICAgICAgICBfYWN0aXZlUGxheWVyc01heE1vdmVzID0geyAuLi5fYWN0aXZlUGxheWVyc01heE1vdmVzIH07XHJcbiAgICAgICAgICAgIGRlbGV0ZSBfYWN0aXZlUGxheWVyc01heE1vdmVzW3BsYXllcklEXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4ID0gVXBkYXRlQWN0aXZlUGxheWVyc09uY2VFbXB0eSh7XHJcbiAgICAgICAgICAgIC4uLmN0eCxcclxuICAgICAgICAgICAgYWN0aXZlUGxheWVycyxcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcyxcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNYXhNb3ZlcyxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDcmVhdGUgbG9nIGVudHJ5LlxyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGdhbWVFdmVudCgnZW5kU3RhZ2UnLCBhcmcpO1xyXG4gICAgICAgIGNvbnN0IGxvZ0VudHJ5ID0geyBhY3Rpb24sIF9zdGF0ZUlELCB0dXJuLCBwaGFzZSB9O1xyXG4gICAgICAgIGlmIChhdXRvbWF0aWMpXHJcbiAgICAgICAgICAgIGxvZ0VudHJ5LmF1dG9tYXRpYyA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgZGVsdGFsb2cgPSBbLi4uKHN0YXRlLmRlbHRhbG9nIHx8IFtdKSwgbG9nRW50cnldO1xyXG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBjdHgsIGRlbHRhbG9nIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgcmVsZXZhbnQgbW92ZSB0aGF0IGNhbiBiZSBwbGF5ZWQgYnkgcGxheWVySUQuXHJcbiAgICAgKlxyXG4gICAgICogSWYgY3R4LmFjdGl2ZVBsYXllcnMgaXMgc2V0IChpLmUuIG9uZSBvciBtb3JlIHBsYXllcnMgYXJlIGluIHNvbWUgc3RhZ2UpLFxyXG4gICAgICogdGhlbiBpdCBhdHRlbXB0cyB0byBmaW5kIHRoZSBtb3ZlIGluc2lkZSB0aGUgc3RhZ2VzIGNvbmZpZyBmb3JcclxuICAgICAqIHRoYXQgdHVybi4gSWYgdGhlIHN0YWdlIGZvciBhIHBsYXllciBpcyAnJywgdGhlbiB0aGUgcGxheWVyIGlzXHJcbiAgICAgKiBhbGxvd2VkIHRvIG1ha2UgYSBtb3ZlIChhcyBkZXRlcm1pbmVkIGJ5IHRoZSBwaGFzZSBjb25maWcpLCBidXRcclxuICAgICAqIGlzbid0IHJlc3RyaWN0ZWQgdG8gYSBwYXJ0aWN1bGFyIHNldCBhcyBkZWZpbmVkIGluIHRoZSBzdGFnZSBjb25maWcuXHJcbiAgICAgKlxyXG4gICAgICogSWYgbm90LCBpdCB0aGVuIGxvb2tzIGZvciB0aGUgbW92ZSBpbnNpZGUgdGhlIHBoYXNlLlxyXG4gICAgICpcclxuICAgICAqIElmIGl0IGRvZXNuJ3QgZmluZCB0aGUgbW92ZSB0aGVyZSwgaXQgbG9va3MgYXQgdGhlIGdsb2JhbCBtb3ZlIGRlZmluaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGN0eFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF5ZXJJRFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBHZXRNb3ZlKGN0eCwgbmFtZSwgcGxheWVySUQpIHtcclxuICAgICAgICBjb25zdCBwaGFzZUNvbmZpZyA9IEdldFBoYXNlKGN0eCk7XHJcbiAgICAgICAgY29uc3Qgc3RhZ2VzID0gcGhhc2VDb25maWcudHVybi5zdGFnZXM7XHJcbiAgICAgICAgY29uc3QgeyBhY3RpdmVQbGF5ZXJzIH0gPSBjdHg7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVBsYXllcnMgJiZcclxuICAgICAgICAgICAgYWN0aXZlUGxheWVyc1twbGF5ZXJJRF0gIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBhY3RpdmVQbGF5ZXJzW3BsYXllcklEXSAhPT0gU3RhZ2UuTlVMTCAmJlxyXG4gICAgICAgICAgICBzdGFnZXNbYWN0aXZlUGxheWVyc1twbGF5ZXJJRF1dICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgc3RhZ2VzW2FjdGl2ZVBsYXllcnNbcGxheWVySURdXS5tb3ZlcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG1vdmVzIGFyZSBkZWZpbmVkIGZvciB0aGUgcGxheWVyJ3Mgc3RhZ2UuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VzW2FjdGl2ZVBsYXllcnNbcGxheWVySURdXTtcclxuICAgICAgICAgICAgY29uc3QgbW92ZXMgPSBzdGFnZS5tb3ZlcztcclxuICAgICAgICAgICAgaWYgKG5hbWUgaW4gbW92ZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3Zlc1tuYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwaGFzZUNvbmZpZy5tb3Zlcykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBtb3ZlcyBhcmUgZGVmaW5lZCBmb3IgdGhlIGN1cnJlbnQgcGhhc2UuXHJcbiAgICAgICAgICAgIGlmIChuYW1lIGluIHBoYXNlQ29uZmlnLm1vdmVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGhhc2VDb25maWcubW92ZXNbbmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmFtZSBpbiBtb3Zlcykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIG1vdmUgZ2xvYmFsbHkuXHJcbiAgICAgICAgICAgIHJldHVybiBtb3Zlc1tuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBQcm9jZXNzTW92ZShzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgeyBwbGF5ZXJJRCwgdHlwZSB9ID0gYWN0aW9uO1xyXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFBsYXllciwgYWN0aXZlUGxheWVycywgX2FjdGl2ZVBsYXllcnNNYXhNb3ZlcyB9ID0gc3RhdGUuY3R4O1xyXG4gICAgICAgIGNvbnN0IG1vdmUgPSBHZXRNb3ZlKHN0YXRlLmN0eCwgdHlwZSwgcGxheWVySUQpO1xyXG4gICAgICAgIGNvbnN0IHNob3VsZENvdW50ID0gIW1vdmUgfHwgdHlwZW9mIG1vdmUgPT09ICdmdW5jdGlvbicgfHwgbW92ZS5ub0xpbWl0ICE9PSB0cnVlO1xyXG4gICAgICAgIGxldCB7IG51bU1vdmVzLCBfYWN0aXZlUGxheWVyc051bU1vdmVzIH0gPSBzdGF0ZS5jdHg7XHJcbiAgICAgICAgaWYgKHNob3VsZENvdW50KSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJJRCA9PT0gY3VycmVudFBsYXllcilcclxuICAgICAgICAgICAgICAgIG51bU1vdmVzKys7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVQbGF5ZXJzKVxyXG4gICAgICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNOdW1Nb3Zlc1twbGF5ZXJJRF0rKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgICBjdHg6IHtcclxuICAgICAgICAgICAgICAgIC4uLnN0YXRlLmN0eCxcclxuICAgICAgICAgICAgICAgIG51bU1vdmVzLFxyXG4gICAgICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNOdW1Nb3ZlcyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChfYWN0aXZlUGxheWVyc01heE1vdmVzICYmXHJcbiAgICAgICAgICAgIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXNbcGxheWVySURdID49IF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXNbcGxheWVySURdKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gRW5kU3RhZ2Uoc3RhdGUsIHsgcGxheWVySUQsIGF1dG9tYXRpYzogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGhhc2VDb25maWcgPSBHZXRQaGFzZShzdGF0ZS5jdHgpO1xyXG4gICAgICAgIGNvbnN0IEcgPSBwaGFzZUNvbmZpZy50dXJuLndyYXBwZWQub25Nb3ZlKHtcclxuICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgIGN0eDogeyAuLi5zdGF0ZS5jdHgsIHBsYXllcklEIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3RhdGUgPSB7IC4uLnN0YXRlLCBHIH07XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gW3sgZm46IE9uTW92ZSB9XTtcclxuICAgICAgICByZXR1cm4gUHJvY2VzcyhzdGF0ZSwgZXZlbnRzKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFNldFN0YWdlRXZlbnQoc3RhdGUsIHBsYXllcklELCBhcmcpIHtcclxuICAgICAgICByZXR1cm4gUHJvY2VzcyhzdGF0ZSwgW3sgZm46IEVuZFN0YWdlLCBhcmcsIHBsYXllcklEIH1dKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEVuZFN0YWdlRXZlbnQoc3RhdGUsIHBsYXllcklEKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb2Nlc3Moc3RhdGUsIFt7IGZuOiBFbmRTdGFnZSwgcGxheWVySUQgfV0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gU2V0QWN0aXZlUGxheWVyc0V2ZW50KHN0YXRlLCBfcGxheWVySUQsIGFyZykge1xyXG4gICAgICAgIHJldHVybiBQcm9jZXNzKHN0YXRlLCBbeyBmbjogVXBkYXRlQWN0aXZlUGxheWVycywgYXJnIH1dKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFNldFBoYXNlRXZlbnQoc3RhdGUsIF9wbGF5ZXJJRCwgbmV3UGhhc2UpIHtcclxuICAgICAgICByZXR1cm4gUHJvY2VzcyhzdGF0ZSwgW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmbjogRW5kUGhhc2UsXHJcbiAgICAgICAgICAgICAgICBwaGFzZTogc3RhdGUuY3R4LnBoYXNlLFxyXG4gICAgICAgICAgICAgICAgdHVybjogc3RhdGUuY3R4LnR1cm4sXHJcbiAgICAgICAgICAgICAgICBhcmc6IHsgbmV4dDogbmV3UGhhc2UgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEVuZFBoYXNlRXZlbnQoc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gUHJvY2VzcyhzdGF0ZSwgW1xyXG4gICAgICAgICAgICB7IGZuOiBFbmRQaGFzZSwgcGhhc2U6IHN0YXRlLmN0eC5waGFzZSwgdHVybjogc3RhdGUuY3R4LnR1cm4gfSxcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEVuZFR1cm5FdmVudChzdGF0ZSwgX3BsYXllcklELCBhcmcpIHtcclxuICAgICAgICByZXR1cm4gUHJvY2VzcyhzdGF0ZSwgW1xyXG4gICAgICAgICAgICB7IGZuOiBFbmRUdXJuLCB0dXJuOiBzdGF0ZS5jdHgudHVybiwgcGhhc2U6IHN0YXRlLmN0eC5waGFzZSwgYXJnIH0sXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBQYXNzRXZlbnQoc3RhdGUsIF9wbGF5ZXJJRCwgYXJnKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb2Nlc3Moc3RhdGUsIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm46IEVuZFR1cm4sXHJcbiAgICAgICAgICAgICAgICB0dXJuOiBzdGF0ZS5jdHgudHVybixcclxuICAgICAgICAgICAgICAgIHBoYXNlOiBzdGF0ZS5jdHgucGhhc2UsXHJcbiAgICAgICAgICAgICAgICBmb3JjZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGFyZyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEVuZEdhbWVFdmVudChzdGF0ZSwgX3BsYXllcklELCBhcmcpIHtcclxuICAgICAgICByZXR1cm4gUHJvY2VzcyhzdGF0ZSwgW1xyXG4gICAgICAgICAgICB7IGZuOiBFbmRHYW1lLCB0dXJuOiBzdGF0ZS5jdHgudHVybiwgcGhhc2U6IHN0YXRlLmN0eC5waGFzZSwgYXJnIH0sXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBldmVudEhhbmRsZXJzID0ge1xyXG4gICAgICAgIGVuZFN0YWdlOiBFbmRTdGFnZUV2ZW50LFxyXG4gICAgICAgIHNldFN0YWdlOiBTZXRTdGFnZUV2ZW50LFxyXG4gICAgICAgIGVuZFR1cm46IEVuZFR1cm5FdmVudCxcclxuICAgICAgICBwYXNzOiBQYXNzRXZlbnQsXHJcbiAgICAgICAgZW5kUGhhc2U6IEVuZFBoYXNlRXZlbnQsXHJcbiAgICAgICAgc2V0UGhhc2U6IFNldFBoYXNlRXZlbnQsXHJcbiAgICAgICAgZW5kR2FtZTogRW5kR2FtZUV2ZW50LFxyXG4gICAgICAgIHNldEFjdGl2ZVBsYXllcnM6IFNldEFjdGl2ZVBsYXllcnNFdmVudCxcclxuICAgIH07XHJcbiAgICBjb25zdCBlbmFibGVkRXZlbnROYW1lcyA9IFtdO1xyXG4gICAgaWYgKGV2ZW50cy5lbmRUdXJuICE9PSBmYWxzZSkge1xyXG4gICAgICAgIGVuYWJsZWRFdmVudE5hbWVzLnB1c2goJ2VuZFR1cm4nKTtcclxuICAgIH1cclxuICAgIGlmIChldmVudHMucGFzcyAhPT0gZmFsc2UpIHtcclxuICAgICAgICBlbmFibGVkRXZlbnROYW1lcy5wdXNoKCdwYXNzJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnRzLmVuZFBoYXNlICE9PSBmYWxzZSkge1xyXG4gICAgICAgIGVuYWJsZWRFdmVudE5hbWVzLnB1c2goJ2VuZFBoYXNlJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnRzLnNldFBoYXNlICE9PSBmYWxzZSkge1xyXG4gICAgICAgIGVuYWJsZWRFdmVudE5hbWVzLnB1c2goJ3NldFBoYXNlJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnRzLmVuZEdhbWUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgZW5hYmxlZEV2ZW50TmFtZXMucHVzaCgnZW5kR2FtZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50cy5zZXRBY3RpdmVQbGF5ZXJzICE9PSBmYWxzZSkge1xyXG4gICAgICAgIGVuYWJsZWRFdmVudE5hbWVzLnB1c2goJ3NldEFjdGl2ZVBsYXllcnMnKTtcclxuICAgIH1cclxuICAgIGlmIChldmVudHMuZW5kU3RhZ2UgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgZW5hYmxlZEV2ZW50TmFtZXMucHVzaCgnZW5kU3RhZ2UnKTtcclxuICAgIH1cclxuICAgIGlmIChldmVudHMuc2V0U3RhZ2UgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgZW5hYmxlZEV2ZW50TmFtZXMucHVzaCgnc2V0U3RhZ2UnKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFByb2Nlc3NFdmVudChzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwbGF5ZXJJRCwgYXJncyB9ID0gYWN0aW9uLnBheWxvYWQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudEhhbmRsZXJzW3R5cGVdICE9PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50SGFuZGxlcnNbdHlwZV0oc3RhdGUsIHBsYXllcklELCAuLi4oQXJyYXkuaXNBcnJheShhcmdzKSA/IGFyZ3MgOiBbYXJnc10pKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIElzUGxheWVyQWN0aXZlKF9HLCBjdHgsIHBsYXllcklEKSB7XHJcbiAgICAgICAgaWYgKGN0eC5hY3RpdmVQbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXJJRCBpbiBjdHguYWN0aXZlUGxheWVycztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN0eC5jdXJyZW50UGxheWVyID09PSBwbGF5ZXJJRDtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3R4OiAobnVtUGxheWVycykgPT4gKHtcclxuICAgICAgICAgICAgbnVtUGxheWVycyxcclxuICAgICAgICAgICAgdHVybjogMCxcclxuICAgICAgICAgICAgY3VycmVudFBsYXllcjogJzAnLFxyXG4gICAgICAgICAgICBwbGF5T3JkZXI6IFsuLi5BcnJheS5mcm9tKHsgbGVuZ3RoOiBudW1QbGF5ZXJzIH0pXS5tYXAoKF8sIGkpID0+IGkgKyAnJyksXHJcbiAgICAgICAgICAgIHBsYXlPcmRlclBvczogMCxcclxuICAgICAgICAgICAgcGhhc2U6IHN0YXJ0aW5nUGhhc2UsXHJcbiAgICAgICAgICAgIGFjdGl2ZVBsYXllcnM6IG51bGwsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgaW5pdDogKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzKHN0YXRlLCBbeyBmbjogU3RhcnRHYW1lIH1dKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzUGxheWVyQWN0aXZlOiBJc1BsYXllckFjdGl2ZSxcclxuICAgICAgICBldmVudEhhbmRsZXJzLFxyXG4gICAgICAgIGV2ZW50TmFtZXM6IE9iamVjdC5rZXlzKGV2ZW50SGFuZGxlcnMpLFxyXG4gICAgICAgIGVuYWJsZWRFdmVudE5hbWVzLFxyXG4gICAgICAgIG1vdmVNYXAsXHJcbiAgICAgICAgbW92ZU5hbWVzOiBbLi4ubW92ZU5hbWVzLnZhbHVlcygpXSxcclxuICAgICAgICBwcm9jZXNzTW92ZTogUHJvY2Vzc01vdmUsXHJcbiAgICAgICAgcHJvY2Vzc0V2ZW50OiBQcm9jZXNzRXZlbnQsXHJcbiAgICAgICAgZ2V0TW92ZTogR2V0TW92ZSxcclxuICAgIH07XHJcbn1cblxuLypcclxuICogQ29weXJpZ2h0IDIwMTcgVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbmZ1bmN0aW9uIElzUHJvY2Vzc2VkKGdhbWUpIHtcclxuICAgIHJldHVybiBnYW1lLnByb2Nlc3NNb3ZlICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuLyoqXHJcbiAqIEhlbHBlciB0byBnZW5lcmF0ZSB0aGUgZ2FtZSBtb3ZlIHJlZHVjZXIuIFRoZSByZXR1cm5lZFxyXG4gKiByZWR1Y2VyIGhhcyB0aGUgZm9sbG93aW5nIHNpZ25hdHVyZTpcclxuICpcclxuICogKEcsIGFjdGlvbiwgY3R4KSA9PiB7fVxyXG4gKlxyXG4gKiBZb3UgY2FuIHJvbGwgeW91ciBvd24gaWYgeW91IGxpa2UsIG9yIHVzZSBhbnkgUmVkdXhcclxuICogYWRkb24gdG8gZ2VuZXJhdGUgc3VjaCBhIHJlZHVjZXIuXHJcbiAqXHJcbiAqIFRoZSBjb252ZW50aW9uIHVzZWQgaW4gdGhpcyBmcmFtZXdvcmsgaXMgdG9cclxuICogaGF2ZSBhY3Rpb24udHlwZSBjb250YWluIHRoZSBuYW1lIG9mIHRoZSBtb3ZlLCBhbmRcclxuICogYWN0aW9uLmFyZ3MgY29udGFpbiBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXMgYW5cclxuICogQXJyYXkuXHJcbiAqL1xyXG5mdW5jdGlvbiBQcm9jZXNzR2FtZUNvbmZpZyhnYW1lKSB7XHJcbiAgICAvLyBUaGUgR2FtZSgpIGZ1bmN0aW9uIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIG9uIHRoaXNcclxuICAgIC8vIGNvbmZpZyBvYmplY3QsIHNvIGp1c3QgcGFzcyBpdCB0aHJvdWdoLlxyXG4gICAgaWYgKElzUHJvY2Vzc2VkKGdhbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGdhbWU7XHJcbiAgICB9XHJcbiAgICBpZiAoZ2FtZS5uYW1lID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgZ2FtZS5uYW1lID0gJ2RlZmF1bHQnO1xyXG4gICAgaWYgKGdhbWUuZGVsdGFTdGF0ZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIGdhbWUuZGVsdGFTdGF0ZSA9IGZhbHNlO1xyXG4gICAgaWYgKGdhbWUuZGlzYWJsZVVuZG8gPT09IHVuZGVmaW5lZClcclxuICAgICAgICBnYW1lLmRpc2FibGVVbmRvID0gZmFsc2U7XHJcbiAgICBpZiAoZ2FtZS5zZXR1cCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIGdhbWUuc2V0dXAgPSAoKSA9PiAoe30pO1xyXG4gICAgaWYgKGdhbWUubW92ZXMgPT09IHVuZGVmaW5lZClcclxuICAgICAgICBnYW1lLm1vdmVzID0ge307XHJcbiAgICBpZiAoZ2FtZS5wbGF5ZXJWaWV3ID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgZ2FtZS5wbGF5ZXJWaWV3ID0gKEcpID0+IEc7XHJcbiAgICBpZiAoZ2FtZS5wbHVnaW5zID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgZ2FtZS5wbHVnaW5zID0gW107XHJcbiAgICBnYW1lLnBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XHJcbiAgICAgICAgaWYgKHBsdWdpbi5uYW1lID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gbWlzc2luZyBuYW1lIGF0dHJpYnV0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGx1Z2luLm5hbWUuaW5jbHVkZXMoJyAnKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGx1Z2luLm5hbWUgKyAnOiBQbHVnaW4gbmFtZSBtdXN0IG5vdCBpbmNsdWRlIHNwYWNlcycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKGdhbWUubmFtZS5pbmNsdWRlcygnICcpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdhbWUubmFtZSArICc6IEdhbWUgbmFtZSBtdXN0IG5vdCBpbmNsdWRlIHNwYWNlcycpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZmxvdyA9IEZsb3coZ2FtZSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmdhbWUsXHJcbiAgICAgICAgZmxvdyxcclxuICAgICAgICBtb3ZlTmFtZXM6IGZsb3cubW92ZU5hbWVzLFxyXG4gICAgICAgIHBsdWdpbk5hbWVzOiBnYW1lLnBsdWdpbnMubWFwKChwKSA9PiBwLm5hbWUpLFxyXG4gICAgICAgIHByb2Nlc3NNb3ZlOiAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbW92ZUZuID0gZmxvdy5nZXRNb3ZlKHN0YXRlLmN0eCwgYWN0aW9uLnR5cGUsIGFjdGlvbi5wbGF5ZXJJRCk7XHJcbiAgICAgICAgICAgIGlmIChJc0xvbmdGb3JtTW92ZShtb3ZlRm4pKSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlRm4gPSBtb3ZlRm4ubW92ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW92ZUZuIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gRm5XcmFwKG1vdmVGbiwgR2FtZU1ldGhvZC5NT1ZFLCBnYW1lLnBsdWdpbnMpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3R4V2l0aEFQSSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5FbmhhbmNlQ3R4KHN0YXRlKSxcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJRDogYWN0aW9uLnBsYXllcklELFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGxldCBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmFyZ3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5pc0FycmF5KGFjdGlvbi5hcmdzKSA/IGFjdGlvbi5hcmdzIDogW2FjdGlvbi5hcmdzXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmbihzdGF0ZS5HLCBjdHhXaXRoQVBJLCAuLi5hcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlcnJvcihgaW52YWxpZCBtb3ZlIG9iamVjdDogJHthY3Rpb24udHlwZX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLkc7XHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gSXNMb25nRm9ybU1vdmUobW92ZSkge1xyXG4gICAgcmV0dXJuIG1vdmUgaW5zdGFuY2VvZiBPYmplY3QgJiYgbW92ZS5tb3ZlICE9PSB1bmRlZmluZWQ7XHJcbn1cblxuLypcclxuICogQ29weXJpZ2h0IDIwMTcgVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbnZhciBVcGRhdGVFcnJvclR5cGU7XHJcbihmdW5jdGlvbiAoVXBkYXRlRXJyb3JUeXBlKSB7XHJcbiAgICAvLyBUaGUgYWN0aW9u4oCZcyBjcmVkZW50aWFscyB3ZXJlIG1pc3Npbmcgb3IgaW52YWxpZFxyXG4gICAgVXBkYXRlRXJyb3JUeXBlW1wiVW5hdXRob3JpemVkQWN0aW9uXCJdID0gXCJ1cGRhdGUvdW5hdXRob3JpemVkX2FjdGlvblwiO1xyXG4gICAgLy8gVGhlIGFjdGlvbuKAmXMgbWF0Y2hJRCB3YXMgbm90IGZvdW5kXHJcbiAgICBVcGRhdGVFcnJvclR5cGVbXCJNYXRjaE5vdEZvdW5kXCJdID0gXCJ1cGRhdGUvbWF0Y2hfbm90X2ZvdW5kXCI7XHJcbiAgICAvLyBDb3VsZCBub3QgYXBwbHkgUGF0Y2ggb3BlcmF0aW9uIChyZmM2OTAyKS5cclxuICAgIFVwZGF0ZUVycm9yVHlwZVtcIlBhdGNoRmFpbGVkXCJdID0gXCJ1cGRhdGUvcGF0Y2hfZmFpbGVkXCI7XHJcbn0pKFVwZGF0ZUVycm9yVHlwZSB8fCAoVXBkYXRlRXJyb3JUeXBlID0ge30pKTtcclxudmFyIEFjdGlvbkVycm9yVHlwZTtcclxuKGZ1bmN0aW9uIChBY3Rpb25FcnJvclR5cGUpIHtcclxuICAgIC8vIFRoZSBhY3Rpb24gY29udGFpbmVkIGEgc3RhbGUgc3RhdGUgSURcclxuICAgIEFjdGlvbkVycm9yVHlwZVtcIlN0YWxlU3RhdGVJZFwiXSA9IFwiYWN0aW9uL3N0YWxlX3N0YXRlX2lkXCI7XHJcbiAgICAvLyBUaGUgcmVxdWVzdGVkIG1vdmUgaXMgdW5rbm93biBvciBub3QgY3VycmVudGx5IGF2YWlsYWJsZVxyXG4gICAgQWN0aW9uRXJyb3JUeXBlW1wiVW5hdmFpbGFibGVNb3ZlXCJdID0gXCJhY3Rpb24vdW5hdmFpbGFibGVfbW92ZVwiO1xyXG4gICAgLy8gVGhlIG1vdmUgZGVjbGFyZWQgaXQgd2FzIGludmFsaWQgKElOVkFMSURfTU9WRSBjb25zdGFudClcclxuICAgIEFjdGlvbkVycm9yVHlwZVtcIkludmFsaWRNb3ZlXCJdID0gXCJhY3Rpb24vaW52YWxpZF9tb3ZlXCI7XHJcbiAgICAvLyBUaGUgcGxheWVyIG1ha2luZyB0aGUgYWN0aW9uIGlzIG5vdCBjdXJyZW50bHkgYWN0aXZlXHJcbiAgICBBY3Rpb25FcnJvclR5cGVbXCJJbmFjdGl2ZVBsYXllclwiXSA9IFwiYWN0aW9uL2luYWN0aXZlX3BsYXllclwiO1xyXG4gICAgLy8gVGhlIGdhbWUgaGFzIGZpbmlzaGVkXHJcbiAgICBBY3Rpb25FcnJvclR5cGVbXCJHYW1lT3ZlclwiXSA9IFwiYWN0aW9uL2dhbWVvdmVyXCI7XHJcbiAgICAvLyBUaGUgcmVxdWVzdGVkIGFjdGlvbiBpcyBkaXNhYmxlZCAoZS5nLiB1bmRvL3JlZG8sIGV2ZW50cylcclxuICAgIEFjdGlvbkVycm9yVHlwZVtcIkFjdGlvbkRpc2FibGVkXCJdID0gXCJhY3Rpb24vYWN0aW9uX2Rpc2FibGVkXCI7XHJcbiAgICAvLyBUaGUgcmVxdWVzdGVkIGFjdGlvbiBpcyBub3QgY3VycmVudGx5IHBvc3NpYmxlXHJcbiAgICBBY3Rpb25FcnJvclR5cGVbXCJBY3Rpb25JbnZhbGlkXCJdID0gXCJhY3Rpb24vYWN0aW9uX2ludmFsaWRcIjtcclxuICAgIC8vIFRoZSByZXF1ZXN0ZWQgYWN0aW9uIHdhcyBkZWNsYXJlZCBpbnZhbGlkIGJ5IGEgcGx1Z2luXHJcbiAgICBBY3Rpb25FcnJvclR5cGVbXCJQbHVnaW5BY3Rpb25JbnZhbGlkXCJdID0gXCJhY3Rpb24vcGx1Z2luX2ludmFsaWRcIjtcclxufSkoQWN0aW9uRXJyb3JUeXBlIHx8IChBY3Rpb25FcnJvclR5cGUgPSB7fSkpO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoZSBwYXlsb2FkIGZvciB0aGUgcGFzc2VkIGFjdGlvbiBjb250YWlucyBhIHBsYXllcklELlxyXG4gKi9cclxuY29uc3QgYWN0aW9uSGFzUGxheWVySUQgPSAoYWN0aW9uKSA9PiBhY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCAhPT0gbnVsbCAmJiBhY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCAhPT0gdW5kZWZpbmVkO1xyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIGEgbW92ZSBjYW4gYmUgdW5kb25lLlxyXG4gKi9cclxuY29uc3QgQ2FuVW5kb01vdmUgPSAoRywgY3R4LCBtb3ZlKSA9PiB7XHJcbiAgICBmdW5jdGlvbiBIYXNVbmRvYWJsZShtb3ZlKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdmUudW5kb2FibGUgIT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIElzRnVuY3Rpb24odW5kb2FibGUpIHtcclxuICAgICAgICByZXR1cm4gdW5kb2FibGUgaW5zdGFuY2VvZiBGdW5jdGlvbjtcclxuICAgIH1cclxuICAgIGlmICghSGFzVW5kb2FibGUobW92ZSkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChJc0Z1bmN0aW9uKG1vdmUudW5kb2FibGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdmUudW5kb2FibGUoRywgY3R4KTtcclxuICAgIH1cclxuICAgIHJldHVybiBtb3ZlLnVuZG9hYmxlO1xyXG59O1xyXG4vKipcclxuICogVXBkYXRlIHRoZSB1bmRvIGFuZCByZWRvIHN0YWNrcyBmb3IgYSBtb3ZlIG9yIGV2ZW50LlxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlVW5kb1JlZG9TdGF0ZShzdGF0ZSwgb3B0cykge1xyXG4gICAgaWYgKG9wdHMuZ2FtZS5kaXNhYmxlVW5kbylcclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICBjb25zdCB1bmRvRW50cnkgPSB7XHJcbiAgICAgICAgRzogc3RhdGUuRyxcclxuICAgICAgICBjdHg6IHN0YXRlLmN0eCxcclxuICAgICAgICBwbHVnaW5zOiBzdGF0ZS5wbHVnaW5zLFxyXG4gICAgICAgIHBsYXllcklEOiBvcHRzLmFjdGlvbi5wYXlsb2FkLnBsYXllcklEIHx8IHN0YXRlLmN0eC5jdXJyZW50UGxheWVyLFxyXG4gICAgfTtcclxuICAgIGlmIChvcHRzLmFjdGlvbi50eXBlID09PSAnTUFLRV9NT1ZFJykge1xyXG4gICAgICAgIHVuZG9FbnRyeS5tb3ZlVHlwZSA9IG9wdHMuYWN0aW9uLnBheWxvYWQudHlwZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgX3VuZG86IFsuLi5zdGF0ZS5fdW5kbywgdW5kb0VudHJ5XSxcclxuICAgICAgICAvLyBBbHdheXMgcmVzZXQgcmVkbyBzdGFjayB3aGVuIG1ha2luZyBhIG1vdmUgb3IgZXZlbnRcclxuICAgICAgICBfcmVkbzogW10sXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBQcm9jZXNzIHN0YXRlLCBhZGRpbmcgdGhlIGluaXRpYWwgZGVsdGFsb2cgZm9yIHRoaXMgYWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZURlbHRhbG9nKHN0YXRlLCBhY3Rpb24sIG1vdmUpIHtcclxuICAgIC8vIENyZWF0ZSBhIGxvZyBlbnRyeSBmb3IgdGhpcyBhY3Rpb24uXHJcbiAgICBjb25zdCBsb2dFbnRyeSA9IHtcclxuICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgX3N0YXRlSUQ6IHN0YXRlLl9zdGF0ZUlELFxyXG4gICAgICAgIHR1cm46IHN0YXRlLmN0eC50dXJuLFxyXG4gICAgICAgIHBoYXNlOiBzdGF0ZS5jdHgucGhhc2UsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGx1Z2luTG9nTWV0YWRhdGEgPSBzdGF0ZS5wbHVnaW5zLmxvZy5kYXRhLm1ldGFkYXRhO1xyXG4gICAgaWYgKHBsdWdpbkxvZ01ldGFkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBsb2dFbnRyeS5tZXRhZGF0YSA9IHBsdWdpbkxvZ01ldGFkYXRhO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBtb3ZlID09PSAnb2JqZWN0JyAmJiBtb3ZlLnJlZGFjdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGxvZ0VudHJ5LnJlZGFjdCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGRlbHRhbG9nOiBbbG9nRW50cnldLFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogVXBkYXRlIHBsdWdpbiBzdGF0ZSBhZnRlciBtb3ZlL2V2ZW50ICYgY2hlY2sgaWYgcGx1Z2lucyBjb25zaWRlciB0aGUgYWN0aW9uIHRvIGJlIHZhbGlkLlxyXG4gKiBAcGFyYW0gc3RhdGUgQ3VycmVudCB2ZXJzaW9uIG9mIHN0YXRlIGluIHRoZSByZWR1Y2VyLlxyXG4gKiBAcGFyYW0gb2xkU3RhdGUgU3RhdGUgdG8gcmV2ZXJ0IHRvIGluIGNhc2Ugb2YgZXJyb3IuXHJcbiAqIEBwYXJhbSBwbHVnaW5PcHRzIFBsdWdpbiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXHJcbiAqIEByZXR1cm5zIFR1cGxlIG9mIHRoZSBuZXcgc3RhdGUgdXBkYXRlZCBhZnRlciBmbHVzaGluZyBwbHVnaW5zIGFuZCB0aGUgb2xkXHJcbiAqIHN0YXRlIGF1Z21lbnRlZCB3aXRoIGFuIGVycm9yIGlmIGEgcGx1Z2luIGRlY2xhcmVkIHRoZSBhY3Rpb24gaW52YWxpZC5cclxuICovXHJcbmZ1bmN0aW9uIGZsdXNoQW5kVmFsaWRhdGVQbHVnaW5zKHN0YXRlLCBvbGRTdGF0ZSwgcGx1Z2luT3B0cykge1xyXG4gICAgY29uc3QgW25ld1N0YXRlLCBpc0ludmFsaWRdID0gRmx1c2hBbmRWYWxpZGF0ZShzdGF0ZSwgcGx1Z2luT3B0cyk7XHJcbiAgICBpZiAoIWlzSW52YWxpZClcclxuICAgICAgICByZXR1cm4gW25ld1N0YXRlXTtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgbmV3U3RhdGUsXHJcbiAgICAgICAgV2l0aEVycm9yKG9sZFN0YXRlLCBBY3Rpb25FcnJvclR5cGUuUGx1Z2luQWN0aW9uSW52YWxpZCwgaXNJbnZhbGlkKSxcclxuICAgIF07XHJcbn1cclxuLyoqXHJcbiAqIEV4dHJhY3RUcmFuc2llbnRzRnJvbVN0YXRlXHJcbiAqXHJcbiAqIFNwbGl0IG91dCB0cmFuc2llbnRzIGZyb20gdGhlIGEgVHJhbnNpZW50U3RhdGVcclxuICovXHJcbmZ1bmN0aW9uIEV4dHJhY3RUcmFuc2llbnRzKHRyYW5zaWVudFN0YXRlKSB7XHJcbiAgICBpZiAoIXRyYW5zaWVudFN0YXRlKSB7XHJcbiAgICAgICAgLy8gV2UgcHJlc2VydmUgbnVsbCBmb3IgdGhlIHN0YXRlIGZvciBsZWdhY3kgY2FsbGVycywgYnV0IHRoZSB0cmFuc2llbnRcclxuICAgICAgICAvLyBmaWVsZCBzaG91bGQgYmUgdW5kZWZpbmVkIGlmIG5vdCBwcmVzZW50IHRvIGJlIGNvbnNpc3RlbnQgd2l0aCB0aGVcclxuICAgICAgICAvLyBjb2RlIHBhdGggYmVsb3cuXHJcbiAgICAgICAgcmV0dXJuIFtudWxsLCB1bmRlZmluZWRdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyB0cmFuc2llbnRzLCAuLi5zdGF0ZSB9ID0gdHJhbnNpZW50U3RhdGU7XHJcbiAgICByZXR1cm4gW3N0YXRlLCB0cmFuc2llbnRzXTtcclxufVxyXG4vKipcclxuICogV2l0aEVycm9yXHJcbiAqXHJcbiAqIEF1Z21lbnQgYSBTdGF0ZSBpbnN0YW5jZSB3aXRoIHRyYW5zaWVudCBlcnJvciBpbmZvcm1hdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIFdpdGhFcnJvcihzdGF0ZSwgZXJyb3JUeXBlLCBwYXlsb2FkKSB7XHJcbiAgICBjb25zdCBlcnJvciA9IHtcclxuICAgICAgICB0eXBlOiBlcnJvclR5cGUsXHJcbiAgICAgICAgcGF5bG9hZCxcclxuICAgIH07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIHRyYW5zaWVudHM6IHtcclxuICAgICAgICAgICAgZXJyb3IsXHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIE1pZGRsZXdhcmUgZm9yIHByb2Nlc3NpbmcgVHJhbnNpZW50U3RhdGUgYXNzb2NpYXRlZCB3aXRoIHRoZSByZWR1Y2VyXHJcbiAqIHJldHVybmVkIGJ5IENyZWF0ZUdhbWVSZWR1Y2VyLlxyXG4gKiBUaGlzIHNob3VsZCBwcmV0dHkgbXVjaCBiZSB1c2VkIGV2ZXJ5d2hlcmUgeW91IHdhbnQgcmVhbGlzdGljIHN0YXRlXHJcbiAqIHRyYW5zaXRpb25zIGFuZCBlcnJvciBoYW5kbGluZy5cclxuICovXHJcbmNvbnN0IFRyYW5zaWVudEhhbmRsaW5nTWlkZGxld2FyZSA9IChzdG9yZSkgPT4gKG5leHQpID0+IChhY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IG5leHQoYWN0aW9uKTtcclxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuICAgICAgICBjYXNlIFNUUklQX1RSQU5TSUVOVFM6IHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICBjb25zdCBbLCB0cmFuc2llbnRzXSA9IEV4dHJhY3RUcmFuc2llbnRzKHN0b3JlLmdldFN0YXRlKCkpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zaWVudHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChzdHJpcFRyYW5zaWVudHMoKSk7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXYgTm90ZTogSWYgcGFyZW50IG1pZGRsZXdhcmUgbmVlZHMgdG8gY29ycmVsYXRlIHRoZSBzcGF3bmVkXHJcbiAgICAgICAgICAgICAgICAvLyBTdHJpcFRyYW5zaWVudHMgYWN0aW9uIHRvIHRoZSB0cmlnZ2VyaW5nIGFjdGlvbiwgaW5zdHJ1bWVudCBoZXJlLlxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBiaXQgdHJpY2t5OyBmb3IgbW9yZSBkZXRhaWxzLCBzZWU6XHJcbiAgICAgICAgICAgICAgICAvLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ib2FyZGdhbWVpby9ib2FyZGdhbWUuaW8vcHVsbC85NDAjZGlzY3Vzc2lvbl9yNjM2MjAwNjQ4XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2llbnRzLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIENyZWF0ZUdhbWVSZWR1Y2VyXHJcbiAqXHJcbiAqIENyZWF0ZXMgdGhlIG1haW4gZ2FtZSBzdGF0ZSByZWR1Y2VyLlxyXG4gKi9cclxuZnVuY3Rpb24gQ3JlYXRlR2FtZVJlZHVjZXIoeyBnYW1lLCBpc0NsaWVudCwgfSkge1xyXG4gICAgZ2FtZSA9IFByb2Nlc3NHYW1lQ29uZmlnKGdhbWUpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHYW1lUmVkdWNlclxyXG4gICAgICpcclxuICAgICAqIFJlZHV4IHJlZHVjZXIgdGhhdCBtYWludGFpbnMgdGhlIG92ZXJhbGwgZ2FtZSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSAtIFRoZSBzdGF0ZSBiZWZvcmUgdGhlIGFjdGlvbi5cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gLSBBIFJlZHV4IGFjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIChzdGF0ZVdpdGhUcmFuc2llbnRzID0gbnVsbCwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgbGV0IFtzdGF0ZSAvKiwgdHJhbnNpZW50cyAqL10gPSBFeHRyYWN0VHJhbnNpZW50cyhzdGF0ZVdpdGhUcmFuc2llbnRzKTtcclxuICAgICAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU1RSSVBfVFJBTlNJRU5UUzoge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBhY3Rpb24gaW5kaWNhdGVzIHRoYXQgdHJhbnNpZW50IG1ldGFkYXRhIGluIHRoZSBzdGF0ZSBoYXMgYmVlblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc3VtZWQgYW5kIHNob3VsZCBub3cgYmUgc3RyaXBwZWQgZnJvbSB0aGUgc3RhdGUuLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgR0FNRV9FVkVOVDoge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSB7IC4uLnN0YXRlLCBkZWx0YWxvZzogW10gfTtcclxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgZ2FtZSBldmVudHMgb25seSBvbiB0aGUgc2VydmVyLlxyXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgZXZlbnRzIGxpa2UgYGVuZFR1cm5gIHR5cGljYWxseVxyXG4gICAgICAgICAgICAgICAgLy8gY29udGFpbiBjb2RlIHRoYXQgbWF5IHJlbHkgb24gc2VjcmV0IHN0YXRlXHJcbiAgICAgICAgICAgICAgICAvLyBhbmQgY2Fubm90IGJlIGNvbXB1dGVkIG9uIHRoZSBjbGllbnQuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBEaXNhbGxvdyBldmVudHMgb25jZSB0aGUgZ2FtZSBpcyBvdmVyLlxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN0eC5nYW1lb3ZlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoYGNhbm5vdCBjYWxsIGV2ZW50IGFmdGVyIGdhbWUgZW5kYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdpdGhFcnJvcihzdGF0ZSwgQWN0aW9uRXJyb3JUeXBlLkdhbWVPdmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSB0aGUgZXZlbnQgaWYgdGhlIHBsYXllciBpc24ndCBhY3RpdmUuXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uSGFzUGxheWVySUQoYWN0aW9uKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFnYW1lLmZsb3cuaXNQbGF5ZXJBY3RpdmUoc3RhdGUuRywgc3RhdGUuY3R4LCBhY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcihgZGlzYWxsb3dlZCBldmVudDogJHthY3Rpb24ucGF5bG9hZC50eXBlfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXaXRoRXJyb3Ioc3RhdGUsIEFjdGlvbkVycm9yVHlwZS5JbmFjdGl2ZVBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHBsdWdpbnMuXHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IEVuaGFuY2Uoc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2xpZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJRDogYWN0aW9uLnBheWxvYWQucGxheWVySUQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgZXZlbnQuXHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3U3RhdGUgPSBnYW1lLmZsb3cucHJvY2Vzc0V2ZW50KHN0YXRlLCBhY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBwbHVnaW5zLlxyXG4gICAgICAgICAgICAgICAgbGV0IHN0YXRlV2l0aEVycm9yO1xyXG4gICAgICAgICAgICAgICAgW25ld1N0YXRlLCBzdGF0ZVdpdGhFcnJvcl0gPSBmbHVzaEFuZFZhbGlkYXRlUGx1Z2lucyhuZXdTdGF0ZSwgc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2xpZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlV2l0aEVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZVdpdGhFcnJvcjtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB1bmRvIC8gcmVkbyBzdGF0ZS5cclxuICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gdXBkYXRlVW5kb1JlZG9TdGF0ZShuZXdTdGF0ZSwgeyBnYW1lLCBhY3Rpb24gfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5uZXdTdGF0ZSwgX3N0YXRlSUQ6IHN0YXRlLl9zdGF0ZUlEICsgMSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgTUFLRV9NT1ZFOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRTdGF0ZSA9IChzdGF0ZSA9IHsgLi4uc3RhdGUsIGRlbHRhbG9nOiBbXSB9KTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIG1vdmUgaXMgYWxsb3dlZCBhdCB0aGlzIHRpbWUuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZlID0gZ2FtZS5mbG93LmdldE1vdmUoc3RhdGUuY3R4LCBhY3Rpb24ucGF5bG9hZC50eXBlLCBhY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCB8fCBzdGF0ZS5jdHguY3VycmVudFBsYXllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAobW92ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yKGBkaXNhbGxvd2VkIG1vdmU6ICR7YWN0aW9uLnBheWxvYWQudHlwZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2l0aEVycm9yKHN0YXRlLCBBY3Rpb25FcnJvclR5cGUuVW5hdmFpbGFibGVNb3ZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJ1biBtb3ZlIG9uIGNsaWVudCBpZiBtb3ZlIHNheXMgc28uXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGllbnQgJiYgbW92ZS5jbGllbnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gRGlzYWxsb3cgbW92ZXMgb25jZSB0aGUgZ2FtZSBpcyBvdmVyLlxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN0eC5nYW1lb3ZlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoYGNhbm5vdCBtYWtlIG1vdmUgYWZ0ZXIgZ2FtZSBlbmRgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2l0aEVycm9yKHN0YXRlLCBBY3Rpb25FcnJvclR5cGUuR2FtZU92ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHRoZSBtb3ZlIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgYWN0aXZlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbkhhc1BsYXllcklEKGFjdGlvbikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhZ2FtZS5mbG93LmlzUGxheWVyQWN0aXZlKHN0YXRlLkcsIHN0YXRlLmN0eCwgYWN0aW9uLnBheWxvYWQucGxheWVySUQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoYGRpc2FsbG93ZWQgbW92ZTogJHthY3Rpb24ucGF5bG9hZC50eXBlfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXaXRoRXJyb3Ioc3RhdGUsIEFjdGlvbkVycm9yVHlwZS5JbmFjdGl2ZVBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHBsdWdpbnMuXHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IEVuaGFuY2Uoc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2xpZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklEOiBhY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgbW92ZS5cclxuICAgICAgICAgICAgICAgIGNvbnN0IEcgPSBnYW1lLnByb2Nlc3NNb3ZlKHN0YXRlLCBhY3Rpb24ucGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgZ2FtZSBkZWNsYXJlZCB0aGUgbW92ZSBhcyBpbnZhbGlkLlxyXG4gICAgICAgICAgICAgICAgaWYgKEcgPT09IElOVkFMSURfTU9WRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yKGBpbnZhbGlkIG1vdmU6ICR7YWN0aW9uLnBheWxvYWQudHlwZX0gYXJnczogJHthY3Rpb24ucGF5bG9hZC5hcmdzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8oIzcyMyk6IE1hcnNoYWwgYSBuaWNlIGVycm9yIHBheWxvYWQgd2l0aCB0aGUgcHJvY2Vzc2VkIG1vdmUuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdpdGhFcnJvcihzdGF0ZSwgQWN0aW9uRXJyb3JUeXBlLkludmFsaWRNb3ZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSwgRyB9O1xyXG4gICAgICAgICAgICAgICAgLy8gU29tZSBwbHVnaW4gaW5kaWNhdGVkIHRoYXQgaXQgaXMgbm90IHN1aXRhYmxlIHRvIGJlXHJcbiAgICAgICAgICAgICAgICAvLyBtYXRlcmlhbGl6ZWQgb24gdGhlIGNsaWVudCAoYW5kIG11c3Qgd2FpdCBmb3IgdGhlIHNlcnZlclxyXG4gICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaW5zdGVhZCkuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDbGllbnQgJiYgTm9DbGllbnQobmV3U3RhdGUsIHsgZ2FtZSB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBvbiB0aGUgY2xpZW50LCBqdXN0IHByb2Nlc3MgdGhlIG1vdmVcclxuICAgICAgICAgICAgICAgIC8vIGFuZCBubyB0cmlnZ2VycyBpbiBtdWx0aXBsYXllciBtb2RlLlxyXG4gICAgICAgICAgICAgICAgLy8gVGhlc2Ugd2lsbCBiZSBwcm9jZXNzZWQgb24gdGhlIHNlcnZlciwgd2hpY2hcclxuICAgICAgICAgICAgICAgIC8vIHdpbGwgc2VuZCBiYWNrIGEgc3RhdGUgdXBkYXRlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2xpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXRlV2l0aEVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgIFtzdGF0ZSwgc3RhdGVXaXRoRXJyb3JdID0gZmx1c2hBbmRWYWxpZGF0ZVBsdWdpbnMoc3RhdGUsIG9sZFN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2xpZW50OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZVdpdGhFcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlV2l0aEVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RhdGVJRDogc3RhdGUuX3N0YXRlSUQgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBPbiB0aGUgc2VydmVyLCBjb25zdHJ1Y3QgdGhlIGRlbHRhbG9nLlxyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBpbml0aWFsaXplRGVsdGFsb2coc3RhdGUsIGFjdGlvbiwgbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBBbGxvdyB0aGUgZmxvdyByZWR1Y2VyIHRvIHByb2Nlc3MgYW55IHRyaWdnZXJzIHRoYXQgaGFwcGVuIGFmdGVyIG1vdmVzLlxyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBnYW1lLmZsb3cucHJvY2Vzc01vdmUoc3RhdGUsIGFjdGlvbi5wYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgIGxldCBzdGF0ZVdpdGhFcnJvcjtcclxuICAgICAgICAgICAgICAgIFtzdGF0ZSwgc3RhdGVXaXRoRXJyb3JdID0gZmx1c2hBbmRWYWxpZGF0ZVBsdWdpbnMoc3RhdGUsIG9sZFN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlV2l0aEVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZVdpdGhFcnJvcjtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB1bmRvIC8gcmVkbyBzdGF0ZS5cclxuICAgICAgICAgICAgICAgIHN0YXRlID0gdXBkYXRlVW5kb1JlZG9TdGF0ZShzdGF0ZSwgeyBnYW1lLCBhY3Rpb24gfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGF0ZUlEOiBzdGF0ZS5fc3RhdGVJRCArIDEsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgUkVTRVQ6XHJcbiAgICAgICAgICAgIGNhc2UgVVBEQVRFOlxyXG4gICAgICAgICAgICBjYXNlIFNZTkM6IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb24uc3RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBVTkRPOiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGRlbHRhbG9nOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuZGlzYWJsZVVuZG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcignVW5kbyBpcyBub3QgZW5hYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXaXRoRXJyb3Ioc3RhdGUsIEFjdGlvbkVycm9yVHlwZS5BY3Rpb25EaXNhYmxlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IEcsIGN0eCwgX3VuZG8sIF9yZWRvLCBfc3RhdGVJRCB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3VuZG8ubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yKGBObyBtb3ZlcyB0byB1bmRvYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdpdGhFcnJvcihzdGF0ZSwgQWN0aW9uRXJyb3JUeXBlLkFjdGlvbkludmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IF91bmRvW191bmRvLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdG9yZSA9IF91bmRvW191bmRvLmxlbmd0aCAtIDJdO1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBhbGxvdyBwbGF5ZXJzIHRvIHVuZG8gdGhlaXIgb3duIG1vdmVzLlxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbkhhc1BsYXllcklEKGFjdGlvbikgJiZcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCAhPT0gbGFzdC5wbGF5ZXJJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yKGBDYW5ub3QgdW5kbyBvdGhlciBwbGF5ZXJzJyBtb3Zlc2ApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXaXRoRXJyb3Ioc3RhdGUsIEFjdGlvbkVycm9yVHlwZS5BY3Rpb25JbnZhbGlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIElmIHVuZG9pbmcgYSBtb3ZlLCBjaGVjayBpdCBpcyB1bmRvYWJsZS5cclxuICAgICAgICAgICAgICAgIGlmIChsYXN0Lm1vdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE1vdmUgPSBnYW1lLmZsb3cuZ2V0TW92ZShyZXN0b3JlLmN0eCwgbGFzdC5tb3ZlVHlwZSwgbGFzdC5wbGF5ZXJJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFDYW5VbmRvTW92ZShHLCBjdHgsIGxhc3RNb3ZlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihgTW92ZSBjYW5ub3QgYmUgdW5kb25lYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBXaXRoRXJyb3Ioc3RhdGUsIEFjdGlvbkVycm9yVHlwZS5BY3Rpb25JbnZhbGlkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGluaXRpYWxpemVEZWx0YWxvZyhzdGF0ZSwgYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgRzogcmVzdG9yZS5HLFxyXG4gICAgICAgICAgICAgICAgICAgIGN0eDogcmVzdG9yZS5jdHgsXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogcmVzdG9yZS5wbHVnaW5zLFxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGF0ZUlEOiBfc3RhdGVJRCArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgX3VuZG86IF91bmRvLnNsaWNlKDAsIC0xKSxcclxuICAgICAgICAgICAgICAgICAgICBfcmVkbzogW2xhc3QsIC4uLl9yZWRvXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBSRURPOiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGRlbHRhbG9nOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuZGlzYWJsZVVuZG8pIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcignUmVkbyBpcyBub3QgZW5hYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXaXRoRXJyb3Ioc3RhdGUsIEFjdGlvbkVycm9yVHlwZS5BY3Rpb25EaXNhYmxlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IF91bmRvLCBfcmVkbywgX3N0YXRlSUQgfSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgaWYgKF9yZWRvLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yKGBObyBtb3ZlcyB0byByZWRvYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdpdGhFcnJvcihzdGF0ZSwgQWN0aW9uRXJyb3JUeXBlLkFjdGlvbkludmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBfcmVkb1swXTtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgYWxsb3cgcGxheWVycyB0byByZWRvIHRoZWlyIG93biB1bmRvcy5cclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25IYXNQbGF5ZXJJRChhY3Rpb24pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnBheWxvYWQucGxheWVySUQgIT09IGZpcnN0LnBsYXllcklEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoYENhbm5vdCByZWRvIG90aGVyIHBsYXllcnMnIG1vdmVzYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdpdGhFcnJvcihzdGF0ZSwgQWN0aW9uRXJyb3JUeXBlLkFjdGlvbkludmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBpbml0aWFsaXplRGVsdGFsb2coc3RhdGUsIGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIEc6IGZpcnN0LkcsXHJcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBmaXJzdC5jdHgsXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogZmlyc3QucGx1Z2lucyxcclxuICAgICAgICAgICAgICAgICAgICBfc3RhdGVJRDogX3N0YXRlSUQgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIF91bmRvOiBbLi4uX3VuZG8sIGZpcnN0XSxcclxuICAgICAgICAgICAgICAgICAgICBfcmVkbzogX3JlZG8uc2xpY2UoMSksXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgUExVR0lOOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPKCM3MjMpOiBFeHBvc2UgZXJyb3Igc2VtYW50aWNzIHRvIHBsdWdpbiBwcm9jZXNzaW5nLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NBY3Rpb24oc3RhdGUsIGFjdGlvbiwgeyBnYW1lIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgUEFUQ0g6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFN0YXRlID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2xkU3RhdGUpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoRXJyb3IgPSBhcHBseVBhdGNoKG5ld1N0YXRlLCBhY3Rpb24ucGF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRXJyb3IgPSBwYXRjaEVycm9yLnNvbWUoKGVudHJ5KSA9PiBlbnRyeSAhPT0gbnVsbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcihgUGF0Y2ggJHtKU09OLnN0cmluZ2lmeShhY3Rpb24ucGF0Y2gpfSBhcHBseSBmYWlsZWRgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2l0aEVycm9yKG9sZFN0YXRlLCBVcGRhdGVFcnJvclR5cGUuUGF0Y2hGYWlsZWQsIHBhdGNoRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cblxuZXhwb3J0IHsgQ3JlYXRlR2FtZVJlZHVjZXIgYXMgQywgSXNMb25nRm9ybU1vdmUgYXMgSSwgUHJvY2Vzc0dhbWVDb25maWcgYXMgUCwgVHJhbnNpZW50SGFuZGxpbmdNaWRkbGV3YXJlIGFzIFQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/reducer-07c7b307.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/socketio-e4fb268a.js":
/*!*****************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/socketio-e4fb268a.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"L\": function() { return /* binding */ Local; },\n/* harmony export */   \"S\": function() { return /* binding */ SocketIO; }\n/* harmony export */ });\n/* harmony import */ var _transport_ce07b771_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./transport-ce07b771.js */ \"./node_modules/boardgame.io/dist/esm/transport-ce07b771.js\");\n/* harmony import */ var _util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util-b1699aa1.js */ \"./node_modules/boardgame.io/dist/esm/util-b1699aa1.js\");\n/* harmony import */ var _master_be1abdd0_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./master-be1abdd0.js */ \"./node_modules/boardgame.io/dist/esm/master-be1abdd0.js\");\n/* harmony import */ var _filter_player_view_c30cdfbf_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./filter-player-view-c30cdfbf.js */ \"./node_modules/boardgame.io/dist/esm/filter-player-view-c30cdfbf.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-client */ \"./node_modules/socket.io-client/build/esm/index.js\");\n\n\n\n\n\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * InMemory data storage.\r\n */\r\nclass InMemory extends _util_b1699aa1_js__WEBPACK_IMPORTED_MODULE_1__.S {\r\n    /**\r\n     * Creates a new InMemory storage.\r\n     */\r\n    constructor() {\r\n        super();\r\n        this.state = new Map();\r\n        this.initial = new Map();\r\n        this.metadata = new Map();\r\n        this.log = new Map();\r\n    }\r\n    /**\r\n     * Create a new match.\r\n     *\r\n     * @override\r\n     */\r\n    createMatch(matchID, opts) {\r\n        this.initial.set(matchID, opts.initialState);\r\n        this.setState(matchID, opts.initialState);\r\n        this.setMetadata(matchID, opts.metadata);\r\n    }\r\n    /**\r\n     * Write the match metadata to the in-memory object.\r\n     */\r\n    setMetadata(matchID, metadata) {\r\n        this.metadata.set(matchID, metadata);\r\n    }\r\n    /**\r\n     * Write the match state to the in-memory object.\r\n     */\r\n    setState(matchID, state, deltalog) {\r\n        if (deltalog && deltalog.length > 0) {\r\n            const log = this.log.get(matchID) || [];\r\n            this.log.set(matchID, [...log, ...deltalog]);\r\n        }\r\n        this.state.set(matchID, state);\r\n    }\r\n    /**\r\n     * Fetches state for a particular matchID.\r\n     */\r\n    fetch(matchID, opts) {\r\n        const result = {};\r\n        if (opts.state) {\r\n            result.state = this.state.get(matchID);\r\n        }\r\n        if (opts.metadata) {\r\n            result.metadata = this.metadata.get(matchID);\r\n        }\r\n        if (opts.log) {\r\n            result.log = this.log.get(matchID) || [];\r\n        }\r\n        if (opts.initialState) {\r\n            result.initialState = this.initial.get(matchID);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Remove the match state from the in-memory object.\r\n     */\r\n    wipe(matchID) {\r\n        this.state.delete(matchID);\r\n        this.metadata.delete(matchID);\r\n    }\r\n    /**\r\n     * Return all keys.\r\n     *\r\n     * @override\r\n     */\r\n    listMatches(opts) {\r\n        return [...this.metadata.entries()]\r\n            .filter(([, metadata]) => {\r\n            if (!opts) {\r\n                return true;\r\n            }\r\n            if (opts.gameName !== undefined &&\r\n                metadata.gameName !== opts.gameName) {\r\n                return false;\r\n            }\r\n            if (opts.where !== undefined) {\r\n                if (opts.where.isGameover !== undefined) {\r\n                    const isGameover = metadata.gameover !== undefined;\r\n                    if (isGameover !== opts.where.isGameover) {\r\n                        return false;\r\n                    }\r\n                }\r\n                if (opts.where.updatedBefore !== undefined &&\r\n                    metadata.updatedAt >= opts.where.updatedBefore) {\r\n                    return false;\r\n                }\r\n                if (opts.where.updatedAfter !== undefined &&\r\n                    metadata.updatedAt <= opts.where.updatedAfter) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        })\r\n            .map(([key]) => key);\r\n    }\r\n}\n\nclass WithLocalStorageMap extends Map {\r\n    constructor(key) {\r\n        super();\r\n        this.key = key;\r\n        const cache = JSON.parse(localStorage.getItem(this.key)) || [];\r\n        cache.forEach((entry) => this.set(...entry));\r\n    }\r\n    sync() {\r\n        const entries = [...this.entries()];\r\n        localStorage.setItem(this.key, JSON.stringify(entries));\r\n    }\r\n    set(key, value) {\r\n        super.set(key, value);\r\n        this.sync();\r\n        return this;\r\n    }\r\n    delete(key) {\r\n        const result = super.delete(key);\r\n        this.sync();\r\n        return result;\r\n    }\r\n}\r\n/**\r\n * locaStorage data storage.\r\n */\r\nclass LocalStorage extends InMemory {\r\n    constructor(storagePrefix = 'bgio') {\r\n        super();\r\n        const StorageMap = (stateKey) => new WithLocalStorageMap(`${storagePrefix}_${stateKey}`);\r\n        this.state = StorageMap('state');\r\n        this.initial = StorageMap('initial');\r\n        this.metadata = StorageMap('metadata');\r\n        this.log = StorageMap('log');\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Returns null if it is not a bot's turn.\r\n * Otherwise, returns a playerID of a bot that may play now.\r\n */\r\nfunction GetBotPlayer(state, bots) {\r\n    if (state.ctx.gameover !== undefined) {\r\n        return null;\r\n    }\r\n    if (state.ctx.activePlayers) {\r\n        for (const key of Object.keys(bots)) {\r\n            if (key in state.ctx.activePlayers) {\r\n                return key;\r\n            }\r\n        }\r\n    }\r\n    else if (state.ctx.currentPlayer in bots) {\r\n        return state.ctx.currentPlayer;\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Creates a local version of the master that the client\r\n * can interact with.\r\n */\r\nclass LocalMaster extends _master_be1abdd0_js__WEBPACK_IMPORTED_MODULE_2__.M {\r\n    constructor({ game, bots, storageKey, persist }) {\r\n        const clientCallbacks = {};\r\n        const initializedBots = {};\r\n        if (game && game.ai && bots) {\r\n            for (const playerID in bots) {\r\n                const bot = bots[playerID];\r\n                initializedBots[playerID] = new bot({\r\n                    game,\r\n                    enumerate: game.ai.enumerate,\r\n                    seed: game.seed,\r\n                });\r\n            }\r\n        }\r\n        const send = ({ playerID, ...data }) => {\r\n            const callback = clientCallbacks[playerID];\r\n            if (callback !== undefined) {\r\n                callback(filterPlayerView(playerID, data));\r\n            }\r\n        };\r\n        const filterPlayerView = (0,_filter_player_view_c30cdfbf_js__WEBPACK_IMPORTED_MODULE_3__.g)(game);\r\n        const transportAPI = {\r\n            send,\r\n            sendAll: (payload) => {\r\n                for (const playerID in clientCallbacks) {\r\n                    send({ playerID, ...payload });\r\n                }\r\n            },\r\n        };\r\n        const storage = persist ? new LocalStorage(storageKey) : new InMemory();\r\n        super(game, storage, transportAPI);\r\n        this.connect = (playerID, callback) => {\r\n            clientCallbacks[playerID] = callback;\r\n        };\r\n        this.subscribe(({ state, matchID }) => {\r\n            if (!bots) {\r\n                return;\r\n            }\r\n            const botPlayer = GetBotPlayer(state, initializedBots);\r\n            if (botPlayer !== null) {\r\n                setTimeout(async () => {\r\n                    const botAction = await initializedBots[botPlayer].play(state, botPlayer);\r\n                    await this.onUpdate(botAction.action, state._stateID, matchID, botAction.action.payload.playerID);\r\n                }, 100);\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Local\r\n *\r\n * Transport interface that embeds a GameMaster within it\r\n * that you can connect multiple clients to.\r\n */\r\nclass LocalTransport extends _transport_ce07b771_js__WEBPACK_IMPORTED_MODULE_4__.T {\r\n    /**\r\n     * Creates a new Mutiplayer instance.\r\n     * @param {string} matchID - The game ID to connect to.\r\n     * @param {string} playerID - The player ID associated with this client.\r\n     * @param {string} gameName - The game type (the `name` field in `Game`).\r\n     * @param {string} numPlayers - The number of players.\r\n     */\r\n    constructor({ master, ...opts }) {\r\n        super(opts);\r\n        this.master = master;\r\n    }\r\n    sendChatMessage(matchID, chatMessage) {\r\n        const args = [\r\n            matchID,\r\n            chatMessage,\r\n            this.credentials,\r\n        ];\r\n        this.master.onChatMessage(...args);\r\n    }\r\n    sendAction(state, action) {\r\n        this.master.onUpdate(action, state._stateID, this.matchID, this.playerID);\r\n    }\r\n    requestSync() {\r\n        this.master.onSync(this.matchID, this.playerID, this.credentials, this.numPlayers);\r\n    }\r\n    connect() {\r\n        this.setConnectionStatus(true);\r\n        this.master.connect(this.playerID, (data) => this.notifyClient(data));\r\n        this.requestSync();\r\n    }\r\n    disconnect() {\r\n        this.setConnectionStatus(false);\r\n    }\r\n    updateMatchID(id) {\r\n        this.matchID = id;\r\n        this.connect();\r\n    }\r\n    updatePlayerID(id) {\r\n        this.playerID = id;\r\n        this.connect();\r\n    }\r\n    updateCredentials(credentials) {\r\n        this.credentials = credentials;\r\n        this.connect();\r\n    }\r\n}\r\n/**\r\n * Global map storing local master instances.\r\n */\r\nconst localMasters = new Map();\r\n/**\r\n * Create a local transport.\r\n */\r\nfunction Local({ bots, persist, storageKey } = {}) {\r\n    return (transportOpts) => {\r\n        const { gameKey, game } = transportOpts;\r\n        let master;\r\n        const instance = localMasters.get(gameKey);\r\n        if (instance &&\r\n            instance.bots === bots &&\r\n            instance.storageKey === storageKey &&\r\n            instance.persist === persist) {\r\n            master = instance.master;\r\n        }\r\n        if (!master) {\r\n            master = new LocalMaster({ game, bots, persist, storageKey });\r\n            localMasters.set(gameKey, { master, bots, persist, storageKey });\r\n        }\r\n        return new LocalTransport({ master, ...transportOpts });\r\n    };\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst io = socket_io_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n/**\r\n * SocketIO\r\n *\r\n * Transport interface that interacts with the Master via socket.io.\r\n */\r\nclass SocketIOTransport extends _transport_ce07b771_js__WEBPACK_IMPORTED_MODULE_4__.T {\r\n    /**\r\n     * Creates a new Multiplayer instance.\r\n     * @param {object} socket - Override for unit tests.\r\n     * @param {object} socketOpts - Options to pass to socket.io.\r\n     * @param {object} store - Redux store\r\n     * @param {string} matchID - The game ID to connect to.\r\n     * @param {string} playerID - The player ID associated with this client.\r\n     * @param {string} credentials - Authentication credentials\r\n     * @param {string} gameName - The game type (the `name` field in `Game`).\r\n     * @param {string} numPlayers - The number of players.\r\n     * @param {string} server - The game server in the form of 'hostname:port'. Defaults to the server serving the client if not provided.\r\n     */\r\n    constructor({ socket, socketOpts, server, ...opts }) {\r\n        super(opts);\r\n        this.server = server;\r\n        this.socket = socket;\r\n        this.socketOpts = socketOpts;\r\n    }\r\n    sendAction(state, action) {\r\n        const args = [\r\n            action,\r\n            state._stateID,\r\n            this.matchID,\r\n            this.playerID,\r\n        ];\r\n        this.socket.emit('update', ...args);\r\n    }\r\n    sendChatMessage(matchID, chatMessage) {\r\n        const args = [\r\n            matchID,\r\n            chatMessage,\r\n            this.credentials,\r\n        ];\r\n        this.socket.emit('chat', ...args);\r\n    }\r\n    connect() {\r\n        if (!this.socket) {\r\n            if (this.server) {\r\n                let server = this.server;\r\n                if (server.search(/^https?:\\/\\//) == -1) {\r\n                    server = 'http://' + this.server;\r\n                }\r\n                if (server.slice(-1) != '/') {\r\n                    // add trailing slash if not already present\r\n                    server = server + '/';\r\n                }\r\n                this.socket = io(server + this.gameName, this.socketOpts);\r\n            }\r\n            else {\r\n                this.socket = io('/' + this.gameName, this.socketOpts);\r\n            }\r\n        }\r\n        // Called when another player makes a move and the\r\n        // master broadcasts the update as a patch to other clients (including\r\n        // this one).\r\n        this.socket.on('patch', (matchID, prevStateID, stateID, patch, deltalog) => {\r\n            this.notifyClient({\r\n                type: 'patch',\r\n                args: [matchID, prevStateID, stateID, patch, deltalog],\r\n            });\r\n        });\r\n        // Called when another player makes a move and the\r\n        // master broadcasts the update to other clients (including\r\n        // this one).\r\n        this.socket.on('update', (matchID, state, deltalog) => {\r\n            this.notifyClient({\r\n                type: 'update',\r\n                args: [matchID, state, deltalog],\r\n            });\r\n        });\r\n        // Called when the client first connects to the master\r\n        // and requests the current game state.\r\n        this.socket.on('sync', (matchID, syncInfo) => {\r\n            this.notifyClient({ type: 'sync', args: [matchID, syncInfo] });\r\n        });\r\n        // Called when new player joins the match or changes\r\n        // it's connection status\r\n        this.socket.on('matchData', (matchID, matchData) => {\r\n            this.notifyClient({ type: 'matchData', args: [matchID, matchData] });\r\n        });\r\n        this.socket.on('chat', (matchID, chatMessage) => {\r\n            this.notifyClient({ type: 'chat', args: [matchID, chatMessage] });\r\n        });\r\n        // Keep track of connection status.\r\n        this.socket.on('connect', () => {\r\n            // Initial sync to get game state.\r\n            this.requestSync();\r\n            this.setConnectionStatus(true);\r\n        });\r\n        this.socket.on('disconnect', () => {\r\n            this.setConnectionStatus(false);\r\n        });\r\n    }\r\n    disconnect() {\r\n        this.socket.close();\r\n        this.socket = null;\r\n        this.setConnectionStatus(false);\r\n    }\r\n    requestSync() {\r\n        if (this.socket) {\r\n            const args = [\r\n                this.matchID,\r\n                this.playerID,\r\n                this.credentials,\r\n                this.numPlayers,\r\n            ];\r\n            this.socket.emit('sync', ...args);\r\n        }\r\n    }\r\n    updateMatchID(id) {\r\n        this.matchID = id;\r\n        this.requestSync();\r\n    }\r\n    updatePlayerID(id) {\r\n        this.playerID = id;\r\n        this.requestSync();\r\n    }\r\n    updateCredentials(credentials) {\r\n        this.credentials = credentials;\r\n        this.requestSync();\r\n    }\r\n}\r\nfunction SocketIO({ server, socketOpts } = {}) {\r\n    return (transportOpts) => new SocketIOTransport({\r\n        server,\r\n        socketOpts,\r\n        ...transportOpts,\r\n    });\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3NvY2tldGlvLWU0ZmIyNjhhLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBeUQ7QUFDVjtBQUNJO0FBQ3lCO0FBQ3hCOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsY0FBYyxHQUFHLFNBQVM7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztB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QUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUIsSUFBSTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2JvYXJkZ2FtZS5pby9kaXN0L2VzbS9zb2NrZXRpby1lNGZiMjY4YS5qcz84NjJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFQgYXMgVHJhbnNwb3J0IH0gZnJvbSAnLi90cmFuc3BvcnQtY2UwN2I3NzEuanMnO1xuaW1wb3J0IHsgUyBhcyBTeW5jIH0gZnJvbSAnLi91dGlsLWIxNjk5YWExLmpzJztcbmltcG9ydCB7IE0gYXMgTWFzdGVyIH0gZnJvbSAnLi9tYXN0ZXItYmUxYWJkZDAuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRGaWx0ZXJQbGF5ZXJWaWV3IH0gZnJvbSAnLi9maWx0ZXItcGxheWVyLXZpZXctYzMwY2RmYmYuanMnO1xuaW1wb3J0IGlvTmFtZXNwYWNlX19kZWZhdWx0IGZyb20gJ3NvY2tldC5pby1jbGllbnQnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIEluTWVtb3J5IGRhdGEgc3RvcmFnZS5cclxuICovXHJcbmNsYXNzIEluTWVtb3J5IGV4dGVuZHMgU3luYyB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgSW5NZW1vcnkgc3RvcmFnZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubG9nID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgbWF0Y2guXHJcbiAgICAgKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZU1hdGNoKG1hdGNoSUQsIG9wdHMpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWwuc2V0KG1hdGNoSUQsIG9wdHMuaW5pdGlhbFN0YXRlKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKG1hdGNoSUQsIG9wdHMuaW5pdGlhbFN0YXRlKTtcclxuICAgICAgICB0aGlzLnNldE1ldGFkYXRhKG1hdGNoSUQsIG9wdHMubWV0YWRhdGEpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXcml0ZSB0aGUgbWF0Y2ggbWV0YWRhdGEgdG8gdGhlIGluLW1lbW9yeSBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHNldE1ldGFkYXRhKG1hdGNoSUQsIG1ldGFkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXQobWF0Y2hJRCwgbWV0YWRhdGEpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXcml0ZSB0aGUgbWF0Y2ggc3RhdGUgdG8gdGhlIGluLW1lbW9yeSBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHNldFN0YXRlKG1hdGNoSUQsIHN0YXRlLCBkZWx0YWxvZykge1xyXG4gICAgICAgIGlmIChkZWx0YWxvZyAmJiBkZWx0YWxvZy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IHRoaXMubG9nLmdldChtYXRjaElEKSB8fCBbXTtcclxuICAgICAgICAgICAgdGhpcy5sb2cuc2V0KG1hdGNoSUQsIFsuLi5sb2csIC4uLmRlbHRhbG9nXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGUuc2V0KG1hdGNoSUQsIHN0YXRlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2hlcyBzdGF0ZSBmb3IgYSBwYXJ0aWN1bGFyIG1hdGNoSUQuXHJcbiAgICAgKi9cclxuICAgIGZldGNoKG1hdGNoSUQsIG9wdHMpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcclxuICAgICAgICBpZiAob3B0cy5zdGF0ZSkge1xyXG4gICAgICAgICAgICByZXN1bHQuc3RhdGUgPSB0aGlzLnN0YXRlLmdldChtYXRjaElEKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdHMubWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgcmVzdWx0Lm1ldGFkYXRhID0gdGhpcy5tZXRhZGF0YS5nZXQobWF0Y2hJRCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRzLmxvZykge1xyXG4gICAgICAgICAgICByZXN1bHQubG9nID0gdGhpcy5sb2cuZ2V0KG1hdGNoSUQpIHx8IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0cy5pbml0aWFsU3RhdGUpIHtcclxuICAgICAgICAgICAgcmVzdWx0LmluaXRpYWxTdGF0ZSA9IHRoaXMuaW5pdGlhbC5nZXQobWF0Y2hJRCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSB0aGUgbWF0Y2ggc3RhdGUgZnJvbSB0aGUgaW4tbWVtb3J5IG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgd2lwZShtYXRjaElEKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5kZWxldGUobWF0Y2hJRCk7XHJcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5kZWxldGUobWF0Y2hJRCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhbGwga2V5cy5cclxuICAgICAqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgbGlzdE1hdGNoZXMob3B0cykge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5tZXRhZGF0YS5lbnRyaWVzKCldXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKFssIG1ldGFkYXRhXSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIW9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRzLmdhbWVOYW1lICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLmdhbWVOYW1lICE9PSBvcHRzLmdhbWVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdHMud2hlcmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMud2hlcmUuaXNHYW1lb3ZlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNHYW1lb3ZlciA9IG1ldGFkYXRhLmdhbWVvdmVyICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzR2FtZW92ZXIgIT09IG9wdHMud2hlcmUuaXNHYW1lb3Zlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMud2hlcmUudXBkYXRlZEJlZm9yZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEudXBkYXRlZEF0ID49IG9wdHMud2hlcmUudXBkYXRlZEJlZm9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLndoZXJlLnVwZGF0ZWRBZnRlciAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEudXBkYXRlZEF0IDw9IG9wdHMud2hlcmUudXBkYXRlZEFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoKFtrZXldKSA9PiBrZXkpO1xyXG4gICAgfVxyXG59XG5cbmNsYXNzIFdpdGhMb2NhbFN0b3JhZ2VNYXAgZXh0ZW5kcyBNYXAge1xyXG4gICAgY29uc3RydWN0b3Ioa2V5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmtleSA9IGtleTtcclxuICAgICAgICBjb25zdCBjYWNoZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5rZXkpKSB8fCBbXTtcclxuICAgICAgICBjYWNoZS5mb3JFYWNoKChlbnRyeSkgPT4gdGhpcy5zZXQoLi4uZW50cnkpKTtcclxuICAgIH1cclxuICAgIHN5bmMoKSB7XHJcbiAgICAgICAgY29uc3QgZW50cmllcyA9IFsuLi50aGlzLmVudHJpZXMoKV07XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5rZXksIEpTT04uc3RyaW5naWZ5KGVudHJpZXMpKTtcclxuICAgIH1cclxuICAgIHNldChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc3luYygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlKGtleSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN1cGVyLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIHRoaXMuc3luYygpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGxvY2FTdG9yYWdlIGRhdGEgc3RvcmFnZS5cclxuICovXHJcbmNsYXNzIExvY2FsU3RvcmFnZSBleHRlbmRzIEluTWVtb3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKHN0b3JhZ2VQcmVmaXggPSAnYmdpbycpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGNvbnN0IFN0b3JhZ2VNYXAgPSAoc3RhdGVLZXkpID0+IG5ldyBXaXRoTG9jYWxTdG9yYWdlTWFwKGAke3N0b3JhZ2VQcmVmaXh9XyR7c3RhdGVLZXl9YCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0b3JhZ2VNYXAoJ3N0YXRlJyk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsID0gU3RvcmFnZU1hcCgnaW5pdGlhbCcpO1xyXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBTdG9yYWdlTWFwKCdtZXRhZGF0YScpO1xyXG4gICAgICAgIHRoaXMubG9nID0gU3RvcmFnZU1hcCgnbG9nJyk7XHJcbiAgICB9XHJcbn1cblxuLypcclxuICogQ29weXJpZ2h0IDIwMTggVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIG51bGwgaWYgaXQgaXMgbm90IGEgYm90J3MgdHVybi5cclxuICogT3RoZXJ3aXNlLCByZXR1cm5zIGEgcGxheWVySUQgb2YgYSBib3QgdGhhdCBtYXkgcGxheSBub3cuXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRCb3RQbGF5ZXIoc3RhdGUsIGJvdHMpIHtcclxuICAgIGlmIChzdGF0ZS5jdHguZ2FtZW92ZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXRlLmN0eC5hY3RpdmVQbGF5ZXJzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoYm90cykpIHtcclxuICAgICAgICAgICAgaWYgKGtleSBpbiBzdGF0ZS5jdHguYWN0aXZlUGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHN0YXRlLmN0eC5jdXJyZW50UGxheWVyIGluIGJvdHMpIHtcclxuICAgICAgICByZXR1cm4gc3RhdGUuY3R4LmN1cnJlbnRQbGF5ZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGxvY2FsIHZlcnNpb24gb2YgdGhlIG1hc3RlciB0aGF0IHRoZSBjbGllbnRcclxuICogY2FuIGludGVyYWN0IHdpdGguXHJcbiAqL1xyXG5jbGFzcyBMb2NhbE1hc3RlciBleHRlbmRzIE1hc3RlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGdhbWUsIGJvdHMsIHN0b3JhZ2VLZXksIHBlcnNpc3QgfSkge1xyXG4gICAgICAgIGNvbnN0IGNsaWVudENhbGxiYWNrcyA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVkQm90cyA9IHt9O1xyXG4gICAgICAgIGlmIChnYW1lICYmIGdhbWUuYWkgJiYgYm90cykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBsYXllcklEIGluIGJvdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvdCA9IGJvdHNbcGxheWVySURdO1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWRCb3RzW3BsYXllcklEXSA9IG5ldyBib3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYXRlOiBnYW1lLmFpLmVudW1lcmF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWVkOiBnYW1lLnNlZWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzZW5kID0gKHsgcGxheWVySUQsIC4uLmRhdGEgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGNsaWVudENhbGxiYWNrc1twbGF5ZXJJRF07XHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmaWx0ZXJQbGF5ZXJWaWV3KHBsYXllcklELCBkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGZpbHRlclBsYXllclZpZXcgPSBnZXRGaWx0ZXJQbGF5ZXJWaWV3KGdhbWUpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydEFQSSA9IHtcclxuICAgICAgICAgICAgc2VuZCxcclxuICAgICAgICAgICAgc2VuZEFsbDogKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGxheWVySUQgaW4gY2xpZW50Q2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VuZCh7IHBsYXllcklELCAuLi5wYXlsb2FkIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHBlcnNpc3QgPyBuZXcgTG9jYWxTdG9yYWdlKHN0b3JhZ2VLZXkpIDogbmV3IEluTWVtb3J5KCk7XHJcbiAgICAgICAgc3VwZXIoZ2FtZSwgc3RvcmFnZSwgdHJhbnNwb3J0QVBJKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3QgPSAocGxheWVySUQsIGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgIGNsaWVudENhbGxiYWNrc1twbGF5ZXJJRF0gPSBjYWxsYmFjaztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCh7IHN0YXRlLCBtYXRjaElEIH0pID0+IHtcclxuICAgICAgICAgICAgaWYgKCFib3RzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYm90UGxheWVyID0gR2V0Qm90UGxheWVyKHN0YXRlLCBpbml0aWFsaXplZEJvdHMpO1xyXG4gICAgICAgICAgICBpZiAoYm90UGxheWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3RBY3Rpb24gPSBhd2FpdCBpbml0aWFsaXplZEJvdHNbYm90UGxheWVyXS5wbGF5KHN0YXRlLCBib3RQbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMub25VcGRhdGUoYm90QWN0aW9uLmFjdGlvbiwgc3RhdGUuX3N0YXRlSUQsIG1hdGNoSUQsIGJvdEFjdGlvbi5hY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRCk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIExvY2FsXHJcbiAqXHJcbiAqIFRyYW5zcG9ydCBpbnRlcmZhY2UgdGhhdCBlbWJlZHMgYSBHYW1lTWFzdGVyIHdpdGhpbiBpdFxyXG4gKiB0aGF0IHlvdSBjYW4gY29ubmVjdCBtdWx0aXBsZSBjbGllbnRzIHRvLlxyXG4gKi9cclxuY2xhc3MgTG9jYWxUcmFuc3BvcnQgZXh0ZW5kcyBUcmFuc3BvcnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE11dGlwbGF5ZXIgaW5zdGFuY2UuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2hJRCAtIFRoZSBnYW1lIElEIHRvIGNvbm5lY3QgdG8uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGxheWVySUQgLSBUaGUgcGxheWVyIElEIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNsaWVudC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBnYW1lTmFtZSAtIFRoZSBnYW1lIHR5cGUgKHRoZSBgbmFtZWAgZmllbGQgaW4gYEdhbWVgKS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBudW1QbGF5ZXJzIC0gVGhlIG51bWJlciBvZiBwbGF5ZXJzLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih7IG1hc3RlciwgLi4ub3B0cyB9KSB7XHJcbiAgICAgICAgc3VwZXIob3B0cyk7XHJcbiAgICAgICAgdGhpcy5tYXN0ZXIgPSBtYXN0ZXI7XHJcbiAgICB9XHJcbiAgICBzZW5kQ2hhdE1lc3NhZ2UobWF0Y2hJRCwgY2hhdE1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zdCBhcmdzID0gW1xyXG4gICAgICAgICAgICBtYXRjaElELFxyXG4gICAgICAgICAgICBjaGF0TWVzc2FnZSxcclxuICAgICAgICAgICAgdGhpcy5jcmVkZW50aWFscyxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMubWFzdGVyLm9uQ2hhdE1lc3NhZ2UoLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgICBzZW5kQWN0aW9uKHN0YXRlLCBhY3Rpb24pIHtcclxuICAgICAgICB0aGlzLm1hc3Rlci5vblVwZGF0ZShhY3Rpb24sIHN0YXRlLl9zdGF0ZUlELCB0aGlzLm1hdGNoSUQsIHRoaXMucGxheWVySUQpO1xyXG4gICAgfVxyXG4gICAgcmVxdWVzdFN5bmMoKSB7XHJcbiAgICAgICAgdGhpcy5tYXN0ZXIub25TeW5jKHRoaXMubWF0Y2hJRCwgdGhpcy5wbGF5ZXJJRCwgdGhpcy5jcmVkZW50aWFscywgdGhpcy5udW1QbGF5ZXJzKTtcclxuICAgIH1cclxuICAgIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRDb25uZWN0aW9uU3RhdHVzKHRydWUpO1xyXG4gICAgICAgIHRoaXMubWFzdGVyLmNvbm5lY3QodGhpcy5wbGF5ZXJJRCwgKGRhdGEpID0+IHRoaXMubm90aWZ5Q2xpZW50KGRhdGEpKTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RTeW5jKCk7XHJcbiAgICB9XHJcbiAgICBkaXNjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29ubmVjdGlvblN0YXR1cyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVNYXRjaElEKGlkKSB7XHJcbiAgICAgICAgdGhpcy5tYXRjaElEID0gaWQ7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVQbGF5ZXJJRChpZCkge1xyXG4gICAgICAgIHRoaXMucGxheWVySUQgPSBpZDtcclxuICAgICAgICB0aGlzLmNvbm5lY3QoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUNyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdCgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBHbG9iYWwgbWFwIHN0b3JpbmcgbG9jYWwgbWFzdGVyIGluc3RhbmNlcy5cclxuICovXHJcbmNvbnN0IGxvY2FsTWFzdGVycyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIENyZWF0ZSBhIGxvY2FsIHRyYW5zcG9ydC5cclxuICovXHJcbmZ1bmN0aW9uIExvY2FsKHsgYm90cywgcGVyc2lzdCwgc3RvcmFnZUtleSB9ID0ge30pIHtcclxuICAgIHJldHVybiAodHJhbnNwb3J0T3B0cykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZ2FtZUtleSwgZ2FtZSB9ID0gdHJhbnNwb3J0T3B0cztcclxuICAgICAgICBsZXQgbWFzdGVyO1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gbG9jYWxNYXN0ZXJzLmdldChnYW1lS2V5KTtcclxuICAgICAgICBpZiAoaW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2UuYm90cyA9PT0gYm90cyAmJlxyXG4gICAgICAgICAgICBpbnN0YW5jZS5zdG9yYWdlS2V5ID09PSBzdG9yYWdlS2V5ICYmXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnBlcnNpc3QgPT09IHBlcnNpc3QpIHtcclxuICAgICAgICAgICAgbWFzdGVyID0gaW5zdGFuY2UubWFzdGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1hc3Rlcikge1xyXG4gICAgICAgICAgICBtYXN0ZXIgPSBuZXcgTG9jYWxNYXN0ZXIoeyBnYW1lLCBib3RzLCBwZXJzaXN0LCBzdG9yYWdlS2V5IH0pO1xyXG4gICAgICAgICAgICBsb2NhbE1hc3RlcnMuc2V0KGdhbWVLZXksIHsgbWFzdGVyLCBib3RzLCBwZXJzaXN0LCBzdG9yYWdlS2V5IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IExvY2FsVHJhbnNwb3J0KHsgbWFzdGVyLCAuLi50cmFuc3BvcnRPcHRzIH0pO1xyXG4gICAgfTtcclxufVxuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuY29uc3QgaW8gPSBpb05hbWVzcGFjZV9fZGVmYXVsdDtcclxuLyoqXHJcbiAqIFNvY2tldElPXHJcbiAqXHJcbiAqIFRyYW5zcG9ydCBpbnRlcmZhY2UgdGhhdCBpbnRlcmFjdHMgd2l0aCB0aGUgTWFzdGVyIHZpYSBzb2NrZXQuaW8uXHJcbiAqL1xyXG5jbGFzcyBTb2NrZXRJT1RyYW5zcG9ydCBleHRlbmRzIFRyYW5zcG9ydCB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgTXVsdGlwbGF5ZXIgaW5zdGFuY2UuXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc29ja2V0IC0gT3ZlcnJpZGUgZm9yIHVuaXQgdGVzdHMuXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc29ja2V0T3B0cyAtIE9wdGlvbnMgdG8gcGFzcyB0byBzb2NrZXQuaW8uXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RvcmUgLSBSZWR1eCBzdG9yZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoSUQgLSBUaGUgZ2FtZSBJRCB0byBjb25uZWN0IHRvLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsYXllcklEIC0gVGhlIHBsYXllciBJRCBhc3NvY2lhdGVkIHdpdGggdGhpcyBjbGllbnQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3JlZGVudGlhbHMgLSBBdXRoZW50aWNhdGlvbiBjcmVkZW50aWFsc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGdhbWVOYW1lIC0gVGhlIGdhbWUgdHlwZSAodGhlIGBuYW1lYCBmaWVsZCBpbiBgR2FtZWApLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG51bVBsYXllcnMgLSBUaGUgbnVtYmVyIG9mIHBsYXllcnMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmVyIC0gVGhlIGdhbWUgc2VydmVyIGluIHRoZSBmb3JtIG9mICdob3N0bmFtZTpwb3J0Jy4gRGVmYXVsdHMgdG8gdGhlIHNlcnZlciBzZXJ2aW5nIHRoZSBjbGllbnQgaWYgbm90IHByb3ZpZGVkLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih7IHNvY2tldCwgc29ja2V0T3B0cywgc2VydmVyLCAuLi5vcHRzIH0pIHtcclxuICAgICAgICBzdXBlcihvcHRzKTtcclxuICAgICAgICB0aGlzLnNlcnZlciA9IHNlcnZlcjtcclxuICAgICAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcclxuICAgICAgICB0aGlzLnNvY2tldE9wdHMgPSBzb2NrZXRPcHRzO1xyXG4gICAgfVxyXG4gICAgc2VuZEFjdGlvbihzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgYXJncyA9IFtcclxuICAgICAgICAgICAgYWN0aW9uLFxyXG4gICAgICAgICAgICBzdGF0ZS5fc3RhdGVJRCxcclxuICAgICAgICAgICAgdGhpcy5tYXRjaElELFxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcklELFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgndXBkYXRlJywgLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgICBzZW5kQ2hhdE1lc3NhZ2UobWF0Y2hJRCwgY2hhdE1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zdCBhcmdzID0gW1xyXG4gICAgICAgICAgICBtYXRjaElELFxyXG4gICAgICAgICAgICBjaGF0TWVzc2FnZSxcclxuICAgICAgICAgICAgdGhpcy5jcmVkZW50aWFscyxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ2NoYXQnLCAuLi5hcmdzKTtcclxuICAgIH1cclxuICAgIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNvY2tldCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXJ2ZXIgPSB0aGlzLnNlcnZlcjtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXIuc2VhcmNoKC9eaHR0cHM/OlxcL1xcLy8pID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyID0gJ2h0dHA6Ly8nICsgdGhpcy5zZXJ2ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmVyLnNsaWNlKC0xKSAhPSAnLycpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdHJhaWxpbmcgc2xhc2ggaWYgbm90IGFscmVhZHkgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlciA9IHNlcnZlciArICcvJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gaW8oc2VydmVyICsgdGhpcy5nYW1lTmFtZSwgdGhpcy5zb2NrZXRPcHRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gaW8oJy8nICsgdGhpcy5nYW1lTmFtZSwgdGhpcy5zb2NrZXRPcHRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDYWxsZWQgd2hlbiBhbm90aGVyIHBsYXllciBtYWtlcyBhIG1vdmUgYW5kIHRoZVxyXG4gICAgICAgIC8vIG1hc3RlciBicm9hZGNhc3RzIHRoZSB1cGRhdGUgYXMgYSBwYXRjaCB0byBvdGhlciBjbGllbnRzIChpbmNsdWRpbmdcclxuICAgICAgICAvLyB0aGlzIG9uZSkuXHJcbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ3BhdGNoJywgKG1hdGNoSUQsIHByZXZTdGF0ZUlELCBzdGF0ZUlELCBwYXRjaCwgZGVsdGFsb2cpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnlDbGllbnQoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3BhdGNoJyxcclxuICAgICAgICAgICAgICAgIGFyZ3M6IFttYXRjaElELCBwcmV2U3RhdGVJRCwgc3RhdGVJRCwgcGF0Y2gsIGRlbHRhbG9nXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ2FsbGVkIHdoZW4gYW5vdGhlciBwbGF5ZXIgbWFrZXMgYSBtb3ZlIGFuZCB0aGVcclxuICAgICAgICAvLyBtYXN0ZXIgYnJvYWRjYXN0cyB0aGUgdXBkYXRlIHRvIG90aGVyIGNsaWVudHMgKGluY2x1ZGluZ1xyXG4gICAgICAgIC8vIHRoaXMgb25lKS5cclxuICAgICAgICB0aGlzLnNvY2tldC5vbigndXBkYXRlJywgKG1hdGNoSUQsIHN0YXRlLCBkZWx0YWxvZykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeUNsaWVudCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAndXBkYXRlJyxcclxuICAgICAgICAgICAgICAgIGFyZ3M6IFttYXRjaElELCBzdGF0ZSwgZGVsdGFsb2ddLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgY2xpZW50IGZpcnN0IGNvbm5lY3RzIHRvIHRoZSBtYXN0ZXJcclxuICAgICAgICAvLyBhbmQgcmVxdWVzdHMgdGhlIGN1cnJlbnQgZ2FtZSBzdGF0ZS5cclxuICAgICAgICB0aGlzLnNvY2tldC5vbignc3luYycsIChtYXRjaElELCBzeW5jSW5mbykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeUNsaWVudCh7IHR5cGU6ICdzeW5jJywgYXJnczogW21hdGNoSUQsIHN5bmNJbmZvXSB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDYWxsZWQgd2hlbiBuZXcgcGxheWVyIGpvaW5zIHRoZSBtYXRjaCBvciBjaGFuZ2VzXHJcbiAgICAgICAgLy8gaXQncyBjb25uZWN0aW9uIHN0YXR1c1xyXG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdtYXRjaERhdGEnLCAobWF0Y2hJRCwgbWF0Y2hEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5Q2xpZW50KHsgdHlwZTogJ21hdGNoRGF0YScsIGFyZ3M6IFttYXRjaElELCBtYXRjaERhdGFdIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdjaGF0JywgKG1hdGNoSUQsIGNoYXRNZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5Q2xpZW50KHsgdHlwZTogJ2NoYXQnLCBhcmdzOiBbbWF0Y2hJRCwgY2hhdE1lc3NhZ2VdIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgY29ubmVjdGlvbiBzdGF0dXMuXHJcbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWwgc3luYyB0byBnZXQgZ2FtZSBzdGF0ZS5cclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0U3luYygpO1xyXG4gICAgICAgICAgICB0aGlzLnNldENvbm5lY3Rpb25TdGF0dXModHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q29ubmVjdGlvblN0YXR1cyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBkaXNjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2V0Q29ubmVjdGlvblN0YXR1cyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgICByZXF1ZXN0U3luYygpIHtcclxuICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgY29uc3QgYXJncyA9IFtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hJRCxcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxzLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5udW1QbGF5ZXJzLFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCdzeW5jJywgLi4uYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlTWF0Y2hJRChpZCkge1xyXG4gICAgICAgIHRoaXMubWF0Y2hJRCA9IGlkO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdFN5bmMoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVBsYXllcklEKGlkKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJJRCA9IGlkO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdFN5bmMoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUNyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdFN5bmMoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBTb2NrZXRJTyh7IHNlcnZlciwgc29ja2V0T3B0cyB9ID0ge30pIHtcclxuICAgIHJldHVybiAodHJhbnNwb3J0T3B0cykgPT4gbmV3IFNvY2tldElPVHJhbnNwb3J0KHtcclxuICAgICAgICBzZXJ2ZXIsXHJcbiAgICAgICAgc29ja2V0T3B0cyxcclxuICAgICAgICAuLi50cmFuc3BvcnRPcHRzLFxyXG4gICAgfSk7XHJcbn1cblxuZXhwb3J0IHsgTG9jYWwgYXMgTCwgU29ja2V0SU8gYXMgUyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/socketio-e4fb268a.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/transport-ce07b771.js":
/*!******************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/transport-ce07b771.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": function() { return /* binding */ Transport; }\n/* harmony export */ });\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nclass Transport {\r\n    constructor({ transportDataCallback, gameName, playerID, matchID, credentials, numPlayers, }) {\r\n        /** Callback to let the client know when the connection status has changed. */\r\n        this.connectionStatusCallback = () => { };\r\n        this.isConnected = false;\r\n        this.transportDataCallback = transportDataCallback;\r\n        this.gameName = gameName || 'default';\r\n        this.playerID = playerID || null;\r\n        this.matchID = matchID || 'default';\r\n        this.credentials = credentials;\r\n        this.numPlayers = numPlayers || 2;\r\n    }\r\n    /** Subscribe to connection state changes. */\r\n    subscribeToConnectionStatus(fn) {\r\n        this.connectionStatusCallback = fn;\r\n    }\r\n    /** Transport implementations should call this when they connect/disconnect. */\r\n    setConnectionStatus(isConnected) {\r\n        this.isConnected = isConnected;\r\n        this.connectionStatusCallback();\r\n    }\r\n    /** Transport implementations should call this when they receive data from a master. */\r\n    notifyClient(data) {\r\n        this.transportDataCallback(data);\r\n    }\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3RyYW5zcG9ydC1jZTA3Yjc3MS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4RUFBOEU7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3RyYW5zcG9ydC1jZTA3Yjc3MS5qcz83NmJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG5jbGFzcyBUcmFuc3BvcnQge1xyXG4gICAgY29uc3RydWN0b3IoeyB0cmFuc3BvcnREYXRhQ2FsbGJhY2ssIGdhbWVOYW1lLCBwbGF5ZXJJRCwgbWF0Y2hJRCwgY3JlZGVudGlhbHMsIG51bVBsYXllcnMsIH0pIHtcclxuICAgICAgICAvKiogQ2FsbGJhY2sgdG8gbGV0IHRoZSBjbGllbnQga25vdyB3aGVuIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBoYXMgY2hhbmdlZC4gKi9cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXNDYWxsYmFjayA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50cmFuc3BvcnREYXRhQ2FsbGJhY2sgPSB0cmFuc3BvcnREYXRhQ2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5nYW1lTmFtZSA9IGdhbWVOYW1lIHx8ICdkZWZhdWx0JztcclxuICAgICAgICB0aGlzLnBsYXllcklEID0gcGxheWVySUQgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLm1hdGNoSUQgPSBtYXRjaElEIHx8ICdkZWZhdWx0JztcclxuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XHJcbiAgICAgICAgdGhpcy5udW1QbGF5ZXJzID0gbnVtUGxheWVycyB8fCAyO1xyXG4gICAgfVxyXG4gICAgLyoqIFN1YnNjcmliZSB0byBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZXMuICovXHJcbiAgICBzdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0dXMoZm4pIHtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXNDYWxsYmFjayA9IGZuO1xyXG4gICAgfVxyXG4gICAgLyoqIFRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIGNhbGwgdGhpcyB3aGVuIHRoZXkgY29ubmVjdC9kaXNjb25uZWN0LiAqL1xyXG4gICAgc2V0Q29ubmVjdGlvblN0YXR1cyhpc0Nvbm5lY3RlZCkge1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXNDYWxsYmFjaygpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIGNhbGwgdGhpcyB3aGVuIHRoZXkgcmVjZWl2ZSBkYXRhIGZyb20gYSBtYXN0ZXIuICovXHJcbiAgICBub3RpZnlDbGllbnQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMudHJhbnNwb3J0RGF0YUNhbGxiYWNrKGRhdGEpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFRyYW5zcG9ydCBhcyBUIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/transport-ce07b771.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js":
/*!*******************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"A\": function() { return /* binding */ ActionCreators; },\n/* harmony export */   \"B\": function() { return /* binding */ makeMove; },\n/* harmony export */   \"C\": function() { return /* binding */ ActivePlayers; },\n/* harmony export */   \"E\": function() { return /* binding */ EnhanceCtx; },\n/* harmony export */   \"F\": function() { return /* binding */ FnWrap; },\n/* harmony export */   \"G\": function() { return /* binding */ GameMethod; },\n/* harmony export */   \"I\": function() { return /* binding */ InitTurnOrderState; },\n/* harmony export */   \"M\": function() { return /* binding */ MAKE_MOVE; },\n/* harmony export */   \"N\": function() { return /* binding */ NoClient; },\n/* harmony export */   \"P\": function() { return /* binding */ PATCH; },\n/* harmony export */   \"R\": function() { return /* binding */ REDO; },\n/* harmony export */   \"S\": function() { return /* binding */ Stage; },\n/* harmony export */   \"T\": function() { return /* binding */ TurnOrder; },\n/* harmony export */   \"U\": function() { return /* binding */ UpdateTurnOrderState; },\n/* harmony export */   \"a\": function() { return /* binding */ supportDeprecatedMoveLimit; },\n/* harmony export */   \"b\": function() { return /* binding */ SetActivePlayers; },\n/* harmony export */   \"c\": function() { return /* binding */ UpdateActivePlayersOnceEmpty; },\n/* harmony export */   \"d\": function() { return /* binding */ PLUGIN; },\n/* harmony export */   \"e\": function() { return /* binding */ error; },\n/* harmony export */   \"f\": function() { return /* binding */ ProcessAction; },\n/* harmony export */   \"g\": function() { return /* binding */ gameEvent; },\n/* harmony export */   \"h\": function() { return /* binding */ UNDO; },\n/* harmony export */   \"i\": function() { return /* binding */ info; },\n/* harmony export */   \"j\": function() { return /* binding */ SYNC; },\n/* harmony export */   \"k\": function() { return /* binding */ UPDATE; },\n/* harmony export */   \"l\": function() { return /* binding */ RESET; },\n/* harmony export */   \"m\": function() { return /* binding */ Enhance; },\n/* harmony export */   \"n\": function() { return /* binding */ INVALID_MOVE; },\n/* harmony export */   \"o\": function() { return /* binding */ GAME_EVENT; },\n/* harmony export */   \"p\": function() { return /* binding */ STRIP_TRANSIENTS; },\n/* harmony export */   \"q\": function() { return /* binding */ FlushAndValidate; },\n/* harmony export */   \"r\": function() { return /* binding */ stripTransients; },\n/* harmony export */   \"s\": function() { return /* binding */ sync; },\n/* harmony export */   \"t\": function() { return /* binding */ Setup; },\n/* harmony export */   \"u\": function() { return /* binding */ reset; },\n/* harmony export */   \"v\": function() { return /* binding */ undo; },\n/* harmony export */   \"w\": function() { return /* binding */ redo; },\n/* harmony export */   \"x\": function() { return /* binding */ PlayerView; },\n/* harmony export */   \"y\": function() { return /* binding */ patch; },\n/* harmony export */   \"z\": function() { return /* binding */ update; }\n/* harmony export */ });\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! immer */ \"./node_modules/immer/dist/immer.esm.mjs\");\n/* harmony import */ var _plugin_random_087f861e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./plugin-random-087f861e.js */ \"./node_modules/boardgame.io/dist/esm/plugin-random-087f861e.js\");\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.isplainobject */ \"./node_modules/lodash.isplainobject/index.js\");\n/* harmony import */ var lodash_isplainobject__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_isplainobject__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst MAKE_MOVE = 'MAKE_MOVE';\r\nconst GAME_EVENT = 'GAME_EVENT';\r\nconst REDO = 'REDO';\r\nconst RESET = 'RESET';\r\nconst SYNC = 'SYNC';\r\nconst UNDO = 'UNDO';\r\nconst UPDATE = 'UPDATE';\r\nconst PATCH = 'PATCH';\r\nconst PLUGIN = 'PLUGIN';\r\nconst STRIP_TRANSIENTS = 'STRIP_TRANSIENTS';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Generate a move to be dispatched to the game move reducer.\r\n *\r\n * @param {string} type - The move type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst makeMove = (type, args, playerID, credentials) => ({\r\n    type: MAKE_MOVE,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate a game event to be dispatched to the flow reducer.\r\n *\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst gameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate an automatic game event that is a side-effect of a move.\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst automaticGameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n    automatic: true,\r\n});\r\nconst sync = (info) => ({\r\n    type: SYNC,\r\n    state: info.state,\r\n    log: info.log,\r\n    initialState: info.initialState,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to update the Redux store's state with patch in response to\r\n * an action coming from another player.\r\n * @param prevStateID previous stateID\r\n * @param stateID stateID after this patch\r\n * @param {Operation[]} patch - The patch to apply.\r\n * @param {LogEntry[]} deltalog - A log delta.\r\n */\r\nconst patch = (prevStateID, stateID, patch, deltalog) => ({\r\n    type: PATCH,\r\n    prevStateID,\r\n    stateID,\r\n    patch,\r\n    deltalog,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to update the Redux store's state in response to\r\n * an action coming from another player.\r\n * @param {object} state - The state to restore.\r\n * @param {Array} deltalog - A log delta.\r\n */\r\nconst update = (state, deltalog) => ({\r\n    type: UPDATE,\r\n    state,\r\n    deltalog,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to reset the game state.\r\n * @param {object} state - The initial state.\r\n */\r\nconst reset = (state) => ({\r\n    type: RESET,\r\n    state,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to undo the last move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst undo = (playerID, credentials) => ({\r\n    type: UNDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Used to redo the last undone move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst redo = (playerID, credentials) => ({\r\n    type: REDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Allows plugins to define their own actions and intercept them.\r\n */\r\nconst plugin = (type, args, playerID, credentials) => ({\r\n    type: PLUGIN,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Private action used to strip transient metadata (e.g. errors) from the game\r\n * state.\r\n */\r\nconst stripTransients = () => ({\r\n    type: STRIP_TRANSIENTS,\r\n});\n\nvar ActionCreators = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  makeMove: makeMove,\n  gameEvent: gameEvent,\n  automaticGameEvent: automaticGameEvent,\n  sync: sync,\n  patch: patch,\n  update: update,\n  reset: reset,\n  undo: undo,\n  redo: redo,\n  plugin: plugin,\n  stripTransients: stripTransients\n});\n\n/**\r\n * Moves can return this when they want to indicate\r\n * that the combination of arguments is illegal and\r\n * the move ought to be discarded.\r\n */\r\nconst INVALID_MOVE = 'INVALID_MOVE';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Plugin that allows using Immer to make immutable changes\r\n * to G by just mutating it.\r\n */\r\nconst ImmerPlugin = {\r\n    name: 'plugin-immer',\r\n    fnWrap: (move) => (G, ctx, ...args) => {\r\n        let isInvalid = false;\r\n        const newG = (0,immer__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(G, (G) => {\r\n            const result = move(G, ctx, ...args);\r\n            if (result === INVALID_MOVE) {\r\n                isInvalid = true;\r\n                return;\r\n            }\r\n            return result;\r\n        });\r\n        if (isInvalid)\r\n            return INVALID_MOVE;\r\n        return newG;\r\n    },\r\n};\n\nvar GameMethod;\r\n(function (GameMethod) {\r\n    GameMethod[\"MOVE\"] = \"MOVE\";\r\n    GameMethod[\"GAME_ON_END\"] = \"GAME_ON_END\";\r\n    GameMethod[\"PHASE_ON_BEGIN\"] = \"PHASE_ON_BEGIN\";\r\n    GameMethod[\"PHASE_ON_END\"] = \"PHASE_ON_END\";\r\n    GameMethod[\"TURN_ON_BEGIN\"] = \"TURN_ON_BEGIN\";\r\n    GameMethod[\"TURN_ON_MOVE\"] = \"TURN_ON_MOVE\";\r\n    GameMethod[\"TURN_ON_END\"] = \"TURN_ON_END\";\r\n})(GameMethod || (GameMethod = {}));\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nvar Errors;\r\n(function (Errors) {\r\n    Errors[\"CalledOutsideHook\"] = \"Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.\";\r\n    Errors[\"EndTurnInOnEnd\"] = \"`endTurn` is disallowed in `onEnd` hooks \\u2014 the turn is already ending.\";\r\n    Errors[\"MaxTurnEndings\"] = \"Maximum number of turn endings exceeded for this update.\\nThis likely means game code is triggering an infinite loop.\";\r\n    Errors[\"PhaseEventInOnEnd\"] = \"`setPhase` & `endPhase` are disallowed in a phase\\u2019s `onEnd` hook \\u2014 the phase is already ending.\\nIf you\\u2019re trying to dynamically choose the next phase when a phase ends, use the phase\\u2019s `next` trigger.\";\r\n    Errors[\"StageEventInOnEnd\"] = \"`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.\";\r\n    Errors[\"StageEventInPhaseBegin\"] = \"`setStage`, `endStage` & `setActivePlayers` are disallowed in a phase\\u2019s `onBegin` hook.\\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.\";\r\n    Errors[\"StageEventInTurnBegin\"] = \"`setStage` & `endStage` are disallowed in `turn.onBegin`.\\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead.\";\r\n})(Errors || (Errors = {}));\r\n/**\r\n * Events\r\n */\r\nclass Events {\r\n    constructor(flow, ctx, playerID) {\r\n        this.flow = flow;\r\n        this.playerID = playerID;\r\n        this.dispatch = [];\r\n        this.initialTurn = ctx.turn;\r\n        this.updateTurnContext(ctx, undefined);\r\n        // This is an arbitrarily large upper threshold, which could be made\r\n        // configurable via a game option if the need arises.\r\n        this.maxEndedTurnsPerAction = ctx.numPlayers * 100;\r\n    }\r\n    api() {\r\n        const events = {\r\n            _private: this,\r\n        };\r\n        for (const type of this.flow.eventNames) {\r\n            events[type] = (...args) => {\r\n                this.dispatch.push({\r\n                    type,\r\n                    args,\r\n                    phase: this.currentPhase,\r\n                    turn: this.currentTurn,\r\n                    calledFrom: this.currentMethod,\r\n                    // Used to capture a stack trace in case it is needed later.\r\n                    error: new Error('Events Plugin Error'),\r\n                });\r\n            };\r\n        }\r\n        return events;\r\n    }\r\n    isUsed() {\r\n        return this.dispatch.length > 0;\r\n    }\r\n    updateTurnContext(ctx, methodType) {\r\n        this.currentPhase = ctx.phase;\r\n        this.currentTurn = ctx.turn;\r\n        this.currentMethod = methodType;\r\n    }\r\n    unsetCurrentMethod() {\r\n        this.currentMethod = undefined;\r\n    }\r\n    /**\r\n     * Updates ctx with the triggered events.\r\n     * @param {object} state - The state object { G, ctx }.\r\n     */\r\n    update(state) {\r\n        const initialState = state;\r\n        const stateWithError = ({ stack }, message) => ({\r\n            ...initialState,\r\n            plugins: {\r\n                ...initialState.plugins,\r\n                events: {\r\n                    ...initialState.plugins.events,\r\n                    data: { error: message + '\\n' + stack },\r\n                },\r\n            },\r\n        });\r\n        EventQueue: for (let i = 0; i < this.dispatch.length; i++) {\r\n            const event = this.dispatch[i];\r\n            const turnHasEnded = event.turn !== state.ctx.turn;\r\n            // This protects against potential infinite loops if specific events are called on hooks.\r\n            // The moment we exceed the defined threshold, we just bail out of all phases.\r\n            const endedTurns = this.currentTurn - this.initialTurn;\r\n            if (endedTurns >= this.maxEndedTurnsPerAction) {\r\n                return stateWithError(event.error, Errors.MaxTurnEndings);\r\n            }\r\n            if (event.calledFrom === undefined) {\r\n                return stateWithError(event.error, Errors.CalledOutsideHook);\r\n            }\r\n            // Stop processing events once the game has finished.\r\n            if (state.ctx.gameover)\r\n                break EventQueue;\r\n            switch (event.type) {\r\n                case 'endStage':\r\n                case 'setStage':\r\n                case 'setActivePlayers': {\r\n                    switch (event.calledFrom) {\r\n                        // Disallow all stage events in onEnd and phase.onBegin hooks.\r\n                        case GameMethod.TURN_ON_END:\r\n                        case GameMethod.PHASE_ON_END:\r\n                            return stateWithError(event.error, Errors.StageEventInOnEnd);\r\n                        case GameMethod.PHASE_ON_BEGIN:\r\n                            return stateWithError(event.error, Errors.StageEventInPhaseBegin);\r\n                        // Disallow setStage & endStage in turn.onBegin hooks.\r\n                        case GameMethod.TURN_ON_BEGIN:\r\n                            if (event.type === 'setActivePlayers')\r\n                                break;\r\n                            return stateWithError(event.error, Errors.StageEventInTurnBegin);\r\n                    }\r\n                    // If the turn already ended, don't try to process stage events.\r\n                    if (turnHasEnded)\r\n                        continue EventQueue;\r\n                    break;\r\n                }\r\n                case 'endTurn': {\r\n                    if (event.calledFrom === GameMethod.TURN_ON_END ||\r\n                        event.calledFrom === GameMethod.PHASE_ON_END) {\r\n                        return stateWithError(event.error, Errors.EndTurnInOnEnd);\r\n                    }\r\n                    // If the turn already ended some other way,\r\n                    // don't try to end the turn again.\r\n                    if (turnHasEnded)\r\n                        continue EventQueue;\r\n                    break;\r\n                }\r\n                case 'endPhase':\r\n                case 'setPhase': {\r\n                    if (event.calledFrom === GameMethod.PHASE_ON_END) {\r\n                        return stateWithError(event.error, Errors.PhaseEventInOnEnd);\r\n                    }\r\n                    // If the phase already ended some other way,\r\n                    // don't try to end the phase again.\r\n                    if (event.phase !== state.ctx.phase)\r\n                        continue EventQueue;\r\n                    break;\r\n                }\r\n            }\r\n            const action = automaticGameEvent(event.type, event.args, this.playerID);\r\n            state = this.flow.processEvent(state, action);\r\n        }\r\n        return state;\r\n    }\r\n}\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst EventsPlugin = {\r\n    name: 'events',\r\n    noClient: ({ api }) => api._private.isUsed(),\r\n    isInvalid: ({ data }) => data.error || false,\r\n    // Update the events plugin’s internal turn context each time a move\r\n    // or hook is called. This allows events called after turn or phase\r\n    // endings to dispatch the current turn and phase correctly.\r\n    fnWrap: (method, methodType) => (G, ctx, ...args) => {\r\n        const api = ctx.events;\r\n        if (api)\r\n            api._private.updateTurnContext(ctx, methodType);\r\n        G = method(G, ctx, ...args);\r\n        if (api)\r\n            api._private.unsetCurrentMethod();\r\n        return G;\r\n    },\r\n    dangerouslyFlushRawState: ({ state, api }) => api._private.update(state),\r\n    api: ({ game, ctx, playerID }) => new Events(game.flow, ctx, playerID).api(),\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Plugin that makes it possible to add metadata to log entries.\r\n * During a move, you can set metadata using ctx.log.setMetadata and it will be\r\n * available on the log entry for that move.\r\n */\r\nconst LogPlugin = {\r\n    name: 'log',\r\n    flush: () => ({}),\r\n    api: ({ data }) => {\r\n        return {\r\n            setMetadata: (metadata) => {\r\n                data.metadata = metadata;\r\n            },\r\n        };\r\n    },\r\n    setup: () => ({}),\r\n};\n\n/**\r\n * Check if a value can be serialized (e.g. using `JSON.stringify`).\r\n * Adapted from: https://stackoverflow.com/a/30712764/3829557\r\n */\r\nfunction isSerializable(value) {\r\n    // Primitives are OK.\r\n    if (value === undefined ||\r\n        value === null ||\r\n        typeof value === 'boolean' ||\r\n        typeof value === 'number' ||\r\n        typeof value === 'string') {\r\n        return true;\r\n    }\r\n    // A non-primitive value that is neither a POJO or an array cannot be serialized.\r\n    if (!lodash_isplainobject__WEBPACK_IMPORTED_MODULE_0___default()(value) && !Array.isArray(value)) {\r\n        return false;\r\n    }\r\n    // Recurse entries if the value is an object or array.\r\n    for (const key in value) {\r\n        if (!isSerializable(value[key]))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Plugin that checks whether state is serializable, in order to avoid\r\n * network serialization bugs.\r\n */\r\nconst SerializablePlugin = {\r\n    name: 'plugin-serializable',\r\n    fnWrap: (move) => (G, ctx, ...args) => {\r\n        const result = move(G, ctx, ...args);\r\n        // Check state in non-production environments.\r\n        if ( true && !isSerializable(result)) {\r\n            throw new Error('Move state is not JSON-serialiazable.\\n' +\r\n                'See https://boardgame.io/documentation/#/?id=state for more information.');\r\n        }\r\n        return result;\r\n    },\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst production = \"development\" === 'production';\r\nconst logfn = production ? () => { } : (...msg) => console.log(...msg);\r\nconst errorfn = (...msg) => console.error(...msg);\r\nfunction info(msg) {\r\n    logfn(`INFO: ${msg}`);\r\n}\r\nfunction error(error) {\r\n    errorfn('ERROR:', error);\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * List of plugins that are always added.\r\n */\r\nconst CORE_PLUGINS = [ImmerPlugin, _plugin_random_087f861e_js__WEBPACK_IMPORTED_MODULE_2__.R, LogPlugin, SerializablePlugin];\r\nconst DEFAULT_PLUGINS = [...CORE_PLUGINS, EventsPlugin];\r\n/**\r\n * Allow plugins to intercept actions and process them.\r\n */\r\nconst ProcessAction = (state, action, opts) => {\r\n    // TODO(#723): Extend error handling to plugins.\r\n    opts.game.plugins\r\n        .filter((plugin) => plugin.action !== undefined)\r\n        .filter((plugin) => plugin.name === action.payload.type)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const data = plugin.action(pluginState.data, action.payload);\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * The API's created by various plugins are stored in the plugins\r\n * section of the state object:\r\n *\r\n * {\r\n *   G: {},\r\n *   ctx: {},\r\n *   plugins: {\r\n *     plugin-a: {\r\n *       data: {},  // this is generated by the plugin at Setup / Flush.\r\n *       api: {},   // this is ephemeral and generated by Enhance.\r\n *     }\r\n *   }\r\n * }\r\n *\r\n * This function takes these API's and stuffs them back into\r\n * ctx for consumption inside a move function or hook.\r\n */\r\nconst EnhanceCtx = (state) => {\r\n    const ctx = { ...state.ctx };\r\n    const plugins = state.plugins || {};\r\n    Object.entries(plugins).forEach(([name, { api }]) => {\r\n        ctx[name] = api;\r\n    });\r\n    return ctx;\r\n};\r\n/**\r\n * Applies the provided plugins to the given move / flow function.\r\n *\r\n * @param methodToWrap - The move function or hook to apply the plugins to.\r\n * @param methodType - The type of the move or hook being wrapped.\r\n * @param plugins - The list of plugins.\r\n */\r\nconst FnWrap = (methodToWrap, methodType, plugins) => {\r\n    return [...CORE_PLUGINS, ...plugins, EventsPlugin]\r\n        .filter((plugin) => plugin.fnWrap !== undefined)\r\n        .reduce((method, { fnWrap }) => fnWrap(method, methodType), methodToWrap);\r\n};\r\n/**\r\n * Allows the plugin to generate its initial state.\r\n */\r\nconst Setup = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.setup !== undefined)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const data = plugin.setup({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            game: opts.game,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Invokes the plugin before a move or event.\r\n * The API that the plugin generates is stored inside\r\n * the `plugins` section of the state (which is subsequently\r\n * merged into ctx).\r\n */\r\nconst Enhance = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.api !== undefined)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const api = plugin.api({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            data: pluginState.data,\r\n            game: opts.game,\r\n            playerID: opts.playerID,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, api },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to update their state after a move / event.\r\n */\r\nconst Flush = (state, opts) => {\r\n    // We flush the events plugin first, then custom plugins and the core plugins.\r\n    // This means custom plugins cannot use the events API but will be available in event hooks.\r\n    // Note that plugins are flushed in reverse, to allow custom plugins calling each other.\r\n    [...CORE_PLUGINS, ...opts.game.plugins, EventsPlugin]\r\n        .reverse()\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        if (plugin.flush) {\r\n            const newData = plugin.flush({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data: newData },\r\n                },\r\n            };\r\n        }\r\n        else if (plugin.dangerouslyFlushRawState) {\r\n            state = plugin.dangerouslyFlushRawState({\r\n                state,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            // Remove everything other than data.\r\n            const data = state.plugins[name].data;\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data },\r\n                },\r\n            };\r\n        }\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to indicate if they should not be materialized on the client.\r\n * This will cause the client to discard the state update and wait for the\r\n * master instead.\r\n */\r\nconst NoClient = (state, opts) => {\r\n    return [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.noClient !== undefined)\r\n        .map((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name];\r\n        if (pluginState) {\r\n            return plugin.noClient({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n        }\r\n        return false;\r\n    })\r\n        .includes(true);\r\n};\r\n/**\r\n * Allows plugins to indicate if the entire action should be thrown out\r\n * as invalid. This will cancel the entire state update.\r\n */\r\nconst IsInvalid = (state, opts) => {\r\n    const firstInvalidReturn = [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.isInvalid !== undefined)\r\n        .map((plugin) => {\r\n        const { name } = plugin;\r\n        const pluginState = state.plugins[name];\r\n        const message = plugin.isInvalid({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            game: opts.game,\r\n            data: pluginState && pluginState.data,\r\n        });\r\n        return message ? { plugin: name, message } : false;\r\n    })\r\n        .find((value) => value);\r\n    return firstInvalidReturn || false;\r\n};\r\n/**\r\n * Update plugin state after move/event & check if plugins consider the update to be valid.\r\n * @returns Tuple of `[updatedState]` or `[originalState, invalidError]`.\r\n */\r\nconst FlushAndValidate = (state, opts) => {\r\n    const updatedState = Flush(state, opts);\r\n    const isInvalid = IsInvalid(updatedState, opts);\r\n    if (!isInvalid)\r\n        return [updatedState];\r\n    const { plugin, message } = isInvalid;\r\n    error(`${plugin} plugin declared action invalid:\\n${message}`);\r\n    return [state, isInvalid];\r\n};\r\n/**\r\n * Allows plugins to customize their data for specific players.\r\n * For example, a plugin may want to share no data with the client, or\r\n * want to keep some player data secret from opponents.\r\n */\r\nconst PlayerView = ({ G, ctx, plugins = {} }, { game, playerID }) => {\r\n    [...DEFAULT_PLUGINS, ...game.plugins].forEach(({ name, playerView }) => {\r\n        if (!playerView)\r\n            return;\r\n        const { data } = plugins[name] || { data: {} };\r\n        const newData = playerView({ G, ctx, game, data, playerID });\r\n        plugins = {\r\n            ...plugins,\r\n            [name]: { data: newData },\r\n        };\r\n    });\r\n    return plugins;\r\n};\n\n/**\r\n * Adjust the given options to use the new minMoves/maxMoves if a legacy moveLimit was given\r\n * @param options The options object to apply backwards compatibility to\r\n * @param enforceMinMoves Use moveLimit to set both minMoves and maxMoves\r\n */\r\nfunction supportDeprecatedMoveLimit(options, enforceMinMoves = false) {\r\n    if (options.moveLimit) {\r\n        if (enforceMinMoves) {\r\n            options.minMoves = options.moveLimit;\r\n        }\r\n        options.maxMoves = options.moveLimit;\r\n        delete options.moveLimit;\r\n    }\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nfunction SetActivePlayers(ctx, arg) {\r\n    let activePlayers = {};\r\n    let _prevActivePlayers = [];\r\n    let _nextActivePlayers = null;\r\n    let _activePlayersMinMoves = {};\r\n    let _activePlayersMaxMoves = {};\r\n    if (Array.isArray(arg)) {\r\n        // support a simple array of player IDs as active players\r\n        const value = {};\r\n        arg.forEach((v) => (value[v] = Stage.NULL));\r\n        activePlayers = value;\r\n    }\r\n    else {\r\n        // process active players argument object\r\n        // stages previously did not enforce minMoves, this behaviour is kept intentionally\r\n        supportDeprecatedMoveLimit(arg);\r\n        if (arg.next) {\r\n            _nextActivePlayers = arg.next;\r\n        }\r\n        if (arg.revert) {\r\n            _prevActivePlayers = [\r\n                ...ctx._prevActivePlayers,\r\n                {\r\n                    activePlayers: ctx.activePlayers,\r\n                    _activePlayersMinMoves: ctx._activePlayersMinMoves,\r\n                    _activePlayersMaxMoves: ctx._activePlayersMaxMoves,\r\n                    _activePlayersNumMoves: ctx._activePlayersNumMoves,\r\n                },\r\n            ];\r\n        }\r\n        if (arg.currentPlayer !== undefined) {\r\n            ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, ctx.currentPlayer, arg.currentPlayer);\r\n        }\r\n        if (arg.others !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                if (id !== ctx.currentPlayer) {\r\n                    ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, id, arg.others);\r\n                }\r\n            }\r\n        }\r\n        if (arg.all !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, id, arg.all);\r\n            }\r\n        }\r\n        if (arg.value) {\r\n            for (const id in arg.value) {\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, id, arg.value[id]);\r\n            }\r\n        }\r\n        if (arg.minMoves) {\r\n            for (const id in activePlayers) {\r\n                if (_activePlayersMinMoves[id] === undefined) {\r\n                    _activePlayersMinMoves[id] = arg.minMoves;\r\n                }\r\n            }\r\n        }\r\n        if (arg.maxMoves) {\r\n            for (const id in activePlayers) {\r\n                if (_activePlayersMaxMoves[id] === undefined) {\r\n                    _activePlayersMaxMoves[id] = arg.maxMoves;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (Object.keys(activePlayers).length === 0) {\r\n        activePlayers = null;\r\n    }\r\n    if (Object.keys(_activePlayersMinMoves).length === 0) {\r\n        _activePlayersMinMoves = null;\r\n    }\r\n    if (Object.keys(_activePlayersMaxMoves).length === 0) {\r\n        _activePlayersMaxMoves = null;\r\n    }\r\n    const _activePlayersNumMoves = {};\r\n    for (const id in activePlayers) {\r\n        _activePlayersNumMoves[id] = 0;\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMinMoves,\r\n        _activePlayersMaxMoves,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n        _nextActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Update activePlayers, setting it to previous, next or null values\r\n * when it becomes empty.\r\n * @param ctx\r\n */\r\nfunction UpdateActivePlayersOnceEmpty(ctx) {\r\n    let { activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, _activePlayersNumMoves, _prevActivePlayers, _nextActivePlayers, } = ctx;\r\n    if (activePlayers && Object.keys(activePlayers).length === 0) {\r\n        if (_nextActivePlayers) {\r\n            ctx = SetActivePlayers(ctx, _nextActivePlayers);\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMinMoves,\r\n                _activePlayersMaxMoves,\r\n                _activePlayersNumMoves,\r\n                _prevActivePlayers,\r\n            } = ctx);\r\n        }\r\n        else if (_prevActivePlayers.length > 0) {\r\n            const lastIndex = _prevActivePlayers.length - 1;\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMinMoves,\r\n                _activePlayersMaxMoves,\r\n                _activePlayersNumMoves,\r\n            } = _prevActivePlayers[lastIndex]);\r\n            _prevActivePlayers = _prevActivePlayers.slice(0, lastIndex);\r\n        }\r\n        else {\r\n            activePlayers = null;\r\n            _activePlayersMinMoves = null;\r\n            _activePlayersMaxMoves = null;\r\n        }\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMinMoves,\r\n        _activePlayersMaxMoves,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Apply an active player argument to the given player ID\r\n * @param {Object} activePlayers\r\n * @param {Object} _activePlayersMinMoves\r\n * @param {Object} _activePlayersMaxMoves\r\n * @param {String} playerID The player to apply the parameter to\r\n * @param {(String|Object)} arg An active player argument\r\n */\r\nfunction ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, playerID, arg) {\r\n    if (typeof arg !== 'object' || arg === Stage.NULL) {\r\n        arg = { stage: arg };\r\n    }\r\n    if (arg.stage !== undefined) {\r\n        // stages previously did not enforce minMoves, this behaviour is kept intentionally\r\n        supportDeprecatedMoveLimit(arg);\r\n        activePlayers[playerID] = arg.stage;\r\n        if (arg.minMoves)\r\n            _activePlayersMinMoves[playerID] = arg.minMoves;\r\n        if (arg.maxMoves)\r\n            _activePlayersMaxMoves[playerID] = arg.maxMoves;\r\n    }\r\n}\r\n/**\r\n * Converts a playOrderPos index into its value in playOrder.\r\n * @param {Array} playOrder - An array of player ID's.\r\n * @param {number} playOrderPos - An index into the above.\r\n */\r\nfunction getCurrentPlayer(playOrder, playOrderPos) {\r\n    // convert to string in case playOrder is set to number[]\r\n    return playOrder[playOrderPos] + '';\r\n}\r\n/**\r\n * Called at the start of a turn to initialize turn order state.\r\n *\r\n * TODO: This is called inside StartTurn, which is called from\r\n * both UpdateTurn and StartPhase (so it's called at the beginning\r\n * of a new phase as well as between turns). We should probably\r\n * split it into two.\r\n */\r\nfunction InitTurnOrderState(state, turn) {\r\n    let { G, ctx } = state;\r\n    const { numPlayers } = ctx;\r\n    const ctxWithAPI = EnhanceCtx(state);\r\n    const order = turn.order;\r\n    let playOrder = [...Array.from({ length: numPlayers })].map((_, i) => i + '');\r\n    if (order.playOrder !== undefined) {\r\n        playOrder = order.playOrder(G, ctxWithAPI);\r\n    }\r\n    const playOrderPos = order.first(G, ctxWithAPI);\r\n    const posType = typeof playOrderPos;\r\n    if (posType !== 'number') {\r\n        error(`invalid value returned by turn.order.first — expected number got ${posType} “${playOrderPos}”.`);\r\n    }\r\n    const currentPlayer = getCurrentPlayer(playOrder, playOrderPos);\r\n    ctx = { ...ctx, currentPlayer, playOrderPos, playOrder };\r\n    ctx = SetActivePlayers(ctx, turn.activePlayers || {});\r\n    return ctx;\r\n}\r\n/**\r\n * Called at the end of each turn to update the turn order state.\r\n * @param {object} G - The game object G.\r\n * @param {object} ctx - The game object ctx.\r\n * @param {object} turn - A turn object for this phase.\r\n * @param {string} endTurnArg - An optional argument to endTurn that\r\n                                may specify the next player.\r\n */\r\nfunction UpdateTurnOrderState(state, currentPlayer, turn, endTurnArg) {\r\n    const order = turn.order;\r\n    let { G, ctx } = state;\r\n    let playOrderPos = ctx.playOrderPos;\r\n    let endPhase = false;\r\n    if (endTurnArg && endTurnArg !== true) {\r\n        if (typeof endTurnArg !== 'object') {\r\n            error(`invalid argument to endTurn: ${endTurnArg}`);\r\n        }\r\n        Object.keys(endTurnArg).forEach((arg) => {\r\n            switch (arg) {\r\n                case 'remove':\r\n                    currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n                    break;\r\n                case 'next':\r\n                    playOrderPos = ctx.playOrder.indexOf(endTurnArg.next);\r\n                    currentPlayer = endTurnArg.next;\r\n                    break;\r\n                default:\r\n                    error(`invalid argument to endTurn: ${arg}`);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        const ctxWithAPI = EnhanceCtx(state);\r\n        const t = order.next(G, ctxWithAPI);\r\n        const type = typeof t;\r\n        if (t !== undefined && type !== 'number') {\r\n            error(`invalid value returned by turn.order.next — expected number or undefined got ${type} “${t}”.`);\r\n        }\r\n        if (t === undefined) {\r\n            endPhase = true;\r\n        }\r\n        else {\r\n            playOrderPos = t;\r\n            currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n        }\r\n    }\r\n    ctx = {\r\n        ...ctx,\r\n        playOrderPos,\r\n        currentPlayer,\r\n    };\r\n    return { endPhase, ctx };\r\n}\r\n/**\r\n * Set of different turn orders possible in a phase.\r\n * These are meant to be passed to the `turn` setting\r\n * in the flow objects.\r\n *\r\n * Each object defines the first player when the phase / game\r\n * begins, and also a function `next` to determine who the\r\n * next player is when the turn ends.\r\n *\r\n * The phase ends if next() returns undefined.\r\n */\r\nconst TurnOrder = {\r\n    /**\r\n     * DEFAULT\r\n     *\r\n     * The default round-robin turn order.\r\n     */\r\n    DEFAULT: {\r\n        first: (G, ctx) => ctx.turn === 0\r\n            ? ctx.playOrderPos\r\n            : (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * RESET\r\n     *\r\n     * Similar to DEFAULT, but starts from 0 each time.\r\n     */\r\n    RESET: {\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * CONTINUE\r\n     *\r\n     * Similar to DEFAULT, but starts with the player who ended the last phase.\r\n     */\r\n    CONTINUE: {\r\n        first: (G, ctx) => ctx.playOrderPos,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * ONCE\r\n     *\r\n     * Another round-robin turn order, but goes around just once.\r\n     * The phase ends after all players have played.\r\n     */\r\n    ONCE: {\r\n        first: () => 0,\r\n        next: (G, ctx) => {\r\n            if (ctx.playOrderPos < ctx.playOrder.length - 1) {\r\n                return ctx.playOrderPos + 1;\r\n            }\r\n        },\r\n    },\r\n    /**\r\n     * CUSTOM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase.\r\n     *\r\n     * @param {Array} playOrder - The play order.\r\n     */\r\n    CUSTOM: (playOrder) => ({\r\n        playOrder: () => playOrder,\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n    /**\r\n     * CUSTOM_FROM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase to a value specified by a field\r\n     * in G.\r\n     *\r\n     * @param {string} playOrderField - Field in G.\r\n     */\r\n    CUSTOM_FROM: (playOrderField) => ({\r\n        playOrder: (G) => G[playOrderField],\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n};\r\nconst Stage = {\r\n    NULL: null,\r\n};\r\nconst ActivePlayers = {\r\n    /**\r\n     * ALL\r\n     *\r\n     * The turn stays with one player, but any player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    ALL: { all: Stage.NULL },\r\n    /**\r\n     * ALL_ONCE\r\n     *\r\n     * The turn stays with one player, but any player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every player in the game.\r\n     */\r\n    ALL_ONCE: { all: Stage.NULL, minMoves: 1, maxMoves: 1 },\r\n    /**\r\n     * OTHERS\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    OTHERS: { others: Stage.NULL },\r\n    /**\r\n     * OTHERS_ONCE\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every *other* player in the game.\r\n     */\r\n    OTHERS_ONCE: { others: Stage.NULL, minMoves: 1, maxMoves: 1 },\r\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3R1cm4tb3JkZXItMGI3ZGNlM2QuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEI7QUFDb0M7QUFDZjs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1DQUFtQztBQUNsRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUNBQW1DO0FBQ2xELENBQUM7QUFDRDtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUNBQW1DO0FBQ2xEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtDQUErQztBQUM5RCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSwrQ0FBK0M7QUFDOUQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1DQUFtQztBQUNsRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpREFBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVEsMkJBQTJCLFFBQVE7QUFDMUQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE9BQU87QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0QsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Qsb0NBQW9DLDBCQUEwQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixLQUFLO0FBQ3RCLGtCQUFrQixNQUFNO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUNBQWlDLFlBQVk7QUFDN0MsWUFBWSxxQkFBcUI7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywyREFBYTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLEtBQXFDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGFBQW9CO0FBQ3ZDLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsbUJBQW1CLElBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseURBQVk7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRCxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsWUFBWTtBQUNaO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSw4Q0FBOEMsS0FBSztBQUNuRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixNQUFNO0FBQ2hDLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIscUJBQXFCO0FBQy9DLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxlQUFlO0FBQ3BELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxNQUFNO0FBQzNDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwyQkFBMkIsd0JBQXdCO0FBQ25ELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtCQUFrQjtBQUM5QixhQUFhLFFBQVEsbUNBQW1DLFFBQVE7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0JBQXNCLElBQUksZ0JBQWdCO0FBQ2hFLHFEQUFxRCxrQkFBa0I7QUFDdkU7QUFDQTtBQUNBLGdCQUFnQixPQUFPLHFCQUFxQjtBQUM1QyxxQ0FBcUMsOEJBQThCO0FBQ25FO0FBQ0E7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwQkFBMEI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUlBQWlJO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQixZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBLHFDQUFxQyxvQkFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLFNBQVMsR0FBRyxhQUFhO0FBQzNHO0FBQ0E7QUFDQSxZQUFZO0FBQ1osd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFdBQVc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxJQUFJO0FBQzlEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxNQUFNLEdBQUcsRUFBRTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkNBQTJDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0JBQW9CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhDQUE4QztBQUNqRTs7QUFFa3FCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9ib2FyZGdhbWUuaW8vZGlzdC9lc20vdHVybi1vcmRlci0wYjdkY2UzZC5qcz9hZjhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9kdWNlIGZyb20gJ2ltbWVyJztcbmltcG9ydCB7IFIgYXMgUmFuZG9tUGx1Z2luIH0gZnJvbSAnLi9wbHVnaW4tcmFuZG9tLTA4N2Y4NjFlLmpzJztcbmltcG9ydCBpc1BsYWluT2JqZWN0IGZyb20gJ2xvZGFzaC5pc3BsYWlub2JqZWN0JztcblxuLypcclxuICogQ29weXJpZ2h0IDIwMTcgVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbmNvbnN0IE1BS0VfTU9WRSA9ICdNQUtFX01PVkUnO1xyXG5jb25zdCBHQU1FX0VWRU5UID0gJ0dBTUVfRVZFTlQnO1xyXG5jb25zdCBSRURPID0gJ1JFRE8nO1xyXG5jb25zdCBSRVNFVCA9ICdSRVNFVCc7XHJcbmNvbnN0IFNZTkMgPSAnU1lOQyc7XHJcbmNvbnN0IFVORE8gPSAnVU5ETyc7XHJcbmNvbnN0IFVQREFURSA9ICdVUERBVEUnO1xyXG5jb25zdCBQQVRDSCA9ICdQQVRDSCc7XHJcbmNvbnN0IFBMVUdJTiA9ICdQTFVHSU4nO1xyXG5jb25zdCBTVFJJUF9UUkFOU0lFTlRTID0gJ1NUUklQX1RSQU5TSUVOVFMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIEdlbmVyYXRlIGEgbW92ZSB0byBiZSBkaXNwYXRjaGVkIHRvIHRoZSBnYW1lIG1vdmUgcmVkdWNlci5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgbW92ZSB0eXBlLlxyXG4gKiBAcGFyYW0ge0FycmF5fSAgYXJncyAtIEFkZGl0aW9uYWwgYXJndW1lbnRzLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gIHBsYXllcklEIC0gVGhlIElEIG9mIHRoZSBwbGF5ZXIgbWFraW5nIHRoaXMgYWN0aW9uLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gIGNyZWRlbnRpYWxzIC0gKG9wdGlvbmFsKSBUaGUgY3JlZGVudGlhbHMgZm9yIHRoZSBwbGF5ZXIgbWFraW5nIHRoaXMgYWN0aW9uLlxyXG4gKi9cclxuY29uc3QgbWFrZU1vdmUgPSAodHlwZSwgYXJncywgcGxheWVySUQsIGNyZWRlbnRpYWxzKSA9PiAoe1xyXG4gICAgdHlwZTogTUFLRV9NT1ZFLFxyXG4gICAgcGF5bG9hZDogeyB0eXBlLCBhcmdzLCBwbGF5ZXJJRCwgY3JlZGVudGlhbHMgfSxcclxufSk7XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIGdhbWUgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZCB0byB0aGUgZmxvdyByZWR1Y2VyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBldmVudCB0eXBlLlxyXG4gKiBAcGFyYW0ge0FycmF5fSAgYXJncyAtIEFkZGl0aW9uYWwgYXJndW1lbnRzLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gIHBsYXllcklEIC0gVGhlIElEIG9mIHRoZSBwbGF5ZXIgbWFraW5nIHRoaXMgYWN0aW9uLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gIGNyZWRlbnRpYWxzIC0gKG9wdGlvbmFsKSBUaGUgY3JlZGVudGlhbHMgZm9yIHRoZSBwbGF5ZXIgbWFraW5nIHRoaXMgYWN0aW9uLlxyXG4gKi9cclxuY29uc3QgZ2FtZUV2ZW50ID0gKHR5cGUsIGFyZ3MsIHBsYXllcklELCBjcmVkZW50aWFscykgPT4gKHtcclxuICAgIHR5cGU6IEdBTUVfRVZFTlQsXHJcbiAgICBwYXlsb2FkOiB7IHR5cGUsIGFyZ3MsIHBsYXllcklELCBjcmVkZW50aWFscyB9LFxyXG59KTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlIGFuIGF1dG9tYXRpYyBnYW1lIGV2ZW50IHRoYXQgaXMgYSBzaWRlLWVmZmVjdCBvZiBhIG1vdmUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGV2ZW50IHR5cGUuXHJcbiAqIEBwYXJhbSB7QXJyYXl9ICBhcmdzIC0gQWRkaXRpb25hbCBhcmd1bWVudHMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSAgcGxheWVySUQgLSBUaGUgSUQgb2YgdGhlIHBsYXllciBtYWtpbmcgdGhpcyBhY3Rpb24uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSAgY3JlZGVudGlhbHMgLSAob3B0aW9uYWwpIFRoZSBjcmVkZW50aWFscyBmb3IgdGhlIHBsYXllciBtYWtpbmcgdGhpcyBhY3Rpb24uXHJcbiAqL1xyXG5jb25zdCBhdXRvbWF0aWNHYW1lRXZlbnQgPSAodHlwZSwgYXJncywgcGxheWVySUQsIGNyZWRlbnRpYWxzKSA9PiAoe1xyXG4gICAgdHlwZTogR0FNRV9FVkVOVCxcclxuICAgIHBheWxvYWQ6IHsgdHlwZSwgYXJncywgcGxheWVySUQsIGNyZWRlbnRpYWxzIH0sXHJcbiAgICBhdXRvbWF0aWM6IHRydWUsXHJcbn0pO1xyXG5jb25zdCBzeW5jID0gKGluZm8pID0+ICh7XHJcbiAgICB0eXBlOiBTWU5DLFxyXG4gICAgc3RhdGU6IGluZm8uc3RhdGUsXHJcbiAgICBsb2c6IGluZm8ubG9nLFxyXG4gICAgaW5pdGlhbFN0YXRlOiBpbmZvLmluaXRpYWxTdGF0ZSxcclxuICAgIGNsaWVudE9ubHk6IHRydWUsXHJcbn0pO1xyXG4vKipcclxuICogVXNlZCB0byB1cGRhdGUgdGhlIFJlZHV4IHN0b3JlJ3Mgc3RhdGUgd2l0aCBwYXRjaCBpbiByZXNwb25zZSB0b1xyXG4gKiBhbiBhY3Rpb24gY29taW5nIGZyb20gYW5vdGhlciBwbGF5ZXIuXHJcbiAqIEBwYXJhbSBwcmV2U3RhdGVJRCBwcmV2aW91cyBzdGF0ZUlEXHJcbiAqIEBwYXJhbSBzdGF0ZUlEIHN0YXRlSUQgYWZ0ZXIgdGhpcyBwYXRjaFxyXG4gKiBAcGFyYW0ge09wZXJhdGlvbltdfSBwYXRjaCAtIFRoZSBwYXRjaCB0byBhcHBseS5cclxuICogQHBhcmFtIHtMb2dFbnRyeVtdfSBkZWx0YWxvZyAtIEEgbG9nIGRlbHRhLlxyXG4gKi9cclxuY29uc3QgcGF0Y2ggPSAocHJldlN0YXRlSUQsIHN0YXRlSUQsIHBhdGNoLCBkZWx0YWxvZykgPT4gKHtcclxuICAgIHR5cGU6IFBBVENILFxyXG4gICAgcHJldlN0YXRlSUQsXHJcbiAgICBzdGF0ZUlELFxyXG4gICAgcGF0Y2gsXHJcbiAgICBkZWx0YWxvZyxcclxuICAgIGNsaWVudE9ubHk6IHRydWUsXHJcbn0pO1xyXG4vKipcclxuICogVXNlZCB0byB1cGRhdGUgdGhlIFJlZHV4IHN0b3JlJ3Mgc3RhdGUgaW4gcmVzcG9uc2UgdG9cclxuICogYW4gYWN0aW9uIGNvbWluZyBmcm9tIGFub3RoZXIgcGxheWVyLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gcmVzdG9yZS5cclxuICogQHBhcmFtIHtBcnJheX0gZGVsdGFsb2cgLSBBIGxvZyBkZWx0YS5cclxuICovXHJcbmNvbnN0IHVwZGF0ZSA9IChzdGF0ZSwgZGVsdGFsb2cpID0+ICh7XHJcbiAgICB0eXBlOiBVUERBVEUsXHJcbiAgICBzdGF0ZSxcclxuICAgIGRlbHRhbG9nLFxyXG4gICAgY2xpZW50T25seTogdHJ1ZSxcclxufSk7XHJcbi8qKlxyXG4gKiBVc2VkIHRvIHJlc2V0IHRoZSBnYW1lIHN0YXRlLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBUaGUgaW5pdGlhbCBzdGF0ZS5cclxuICovXHJcbmNvbnN0IHJlc2V0ID0gKHN0YXRlKSA9PiAoe1xyXG4gICAgdHlwZTogUkVTRVQsXHJcbiAgICBzdGF0ZSxcclxuICAgIGNsaWVudE9ubHk6IHRydWUsXHJcbn0pO1xyXG4vKipcclxuICogVXNlZCB0byB1bmRvIHRoZSBsYXN0IG1vdmUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSAgcGxheWVySUQgLSBUaGUgSUQgb2YgdGhlIHBsYXllciBtYWtpbmcgdGhpcyBhY3Rpb24uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSAgY3JlZGVudGlhbHMgLSAob3B0aW9uYWwpIFRoZSBjcmVkZW50aWFscyBmb3IgdGhlIHBsYXllciBtYWtpbmcgdGhpcyBhY3Rpb24uXHJcbiAqL1xyXG5jb25zdCB1bmRvID0gKHBsYXllcklELCBjcmVkZW50aWFscykgPT4gKHtcclxuICAgIHR5cGU6IFVORE8sXHJcbiAgICBwYXlsb2FkOiB7IHR5cGU6IG51bGwsIGFyZ3M6IG51bGwsIHBsYXllcklELCBjcmVkZW50aWFscyB9LFxyXG59KTtcclxuLyoqXHJcbiAqIFVzZWQgdG8gcmVkbyB0aGUgbGFzdCB1bmRvbmUgbW92ZS5cclxuICogQHBhcmFtIHtzdHJpbmd9ICBwbGF5ZXJJRCAtIFRoZSBJRCBvZiB0aGUgcGxheWVyIG1ha2luZyB0aGlzIGFjdGlvbi5cclxuICogQHBhcmFtIHtzdHJpbmd9ICBjcmVkZW50aWFscyAtIChvcHRpb25hbCkgVGhlIGNyZWRlbnRpYWxzIGZvciB0aGUgcGxheWVyIG1ha2luZyB0aGlzIGFjdGlvbi5cclxuICovXHJcbmNvbnN0IHJlZG8gPSAocGxheWVySUQsIGNyZWRlbnRpYWxzKSA9PiAoe1xyXG4gICAgdHlwZTogUkVETyxcclxuICAgIHBheWxvYWQ6IHsgdHlwZTogbnVsbCwgYXJnczogbnVsbCwgcGxheWVySUQsIGNyZWRlbnRpYWxzIH0sXHJcbn0pO1xyXG4vKipcclxuICogQWxsb3dzIHBsdWdpbnMgdG8gZGVmaW5lIHRoZWlyIG93biBhY3Rpb25zIGFuZCBpbnRlcmNlcHQgdGhlbS5cclxuICovXHJcbmNvbnN0IHBsdWdpbiA9ICh0eXBlLCBhcmdzLCBwbGF5ZXJJRCwgY3JlZGVudGlhbHMpID0+ICh7XHJcbiAgICB0eXBlOiBQTFVHSU4sXHJcbiAgICBwYXlsb2FkOiB7IHR5cGUsIGFyZ3MsIHBsYXllcklELCBjcmVkZW50aWFscyB9LFxyXG59KTtcclxuLyoqXHJcbiAqIFByaXZhdGUgYWN0aW9uIHVzZWQgdG8gc3RyaXAgdHJhbnNpZW50IG1ldGFkYXRhIChlLmcuIGVycm9ycykgZnJvbSB0aGUgZ2FtZVxyXG4gKiBzdGF0ZS5cclxuICovXHJcbmNvbnN0IHN0cmlwVHJhbnNpZW50cyA9ICgpID0+ICh7XHJcbiAgICB0eXBlOiBTVFJJUF9UUkFOU0lFTlRTLFxyXG59KTtcblxudmFyIEFjdGlvbkNyZWF0b3JzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIG1ha2VNb3ZlOiBtYWtlTW92ZSxcbiAgZ2FtZUV2ZW50OiBnYW1lRXZlbnQsXG4gIGF1dG9tYXRpY0dhbWVFdmVudDogYXV0b21hdGljR2FtZUV2ZW50LFxuICBzeW5jOiBzeW5jLFxuICBwYXRjaDogcGF0Y2gsXG4gIHVwZGF0ZTogdXBkYXRlLFxuICByZXNldDogcmVzZXQsXG4gIHVuZG86IHVuZG8sXG4gIHJlZG86IHJlZG8sXG4gIHBsdWdpbjogcGx1Z2luLFxuICBzdHJpcFRyYW5zaWVudHM6IHN0cmlwVHJhbnNpZW50c1xufSk7XG5cbi8qKlxyXG4gKiBNb3ZlcyBjYW4gcmV0dXJuIHRoaXMgd2hlbiB0aGV5IHdhbnQgdG8gaW5kaWNhdGVcclxuICogdGhhdCB0aGUgY29tYmluYXRpb24gb2YgYXJndW1lbnRzIGlzIGlsbGVnYWwgYW5kXHJcbiAqIHRoZSBtb3ZlIG91Z2h0IHRvIGJlIGRpc2NhcmRlZC5cclxuICovXHJcbmNvbnN0IElOVkFMSURfTU9WRSA9ICdJTlZBTElEX01PVkUnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIFBsdWdpbiB0aGF0IGFsbG93cyB1c2luZyBJbW1lciB0byBtYWtlIGltbXV0YWJsZSBjaGFuZ2VzXHJcbiAqIHRvIEcgYnkganVzdCBtdXRhdGluZyBpdC5cclxuICovXHJcbmNvbnN0IEltbWVyUGx1Z2luID0ge1xyXG4gICAgbmFtZTogJ3BsdWdpbi1pbW1lcicsXHJcbiAgICBmbldyYXA6IChtb3ZlKSA9PiAoRywgY3R4LCAuLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgbGV0IGlzSW52YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IG5ld0cgPSBwcm9kdWNlKEcsIChHKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vdmUoRywgY3R4LCAuLi5hcmdzKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gSU5WQUxJRF9NT1ZFKSB7XHJcbiAgICAgICAgICAgICAgICBpc0ludmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGlzSW52YWxpZClcclxuICAgICAgICAgICAgcmV0dXJuIElOVkFMSURfTU9WRTtcclxuICAgICAgICByZXR1cm4gbmV3RztcclxuICAgIH0sXHJcbn07XG5cbnZhciBHYW1lTWV0aG9kO1xyXG4oZnVuY3Rpb24gKEdhbWVNZXRob2QpIHtcclxuICAgIEdhbWVNZXRob2RbXCJNT1ZFXCJdID0gXCJNT1ZFXCI7XHJcbiAgICBHYW1lTWV0aG9kW1wiR0FNRV9PTl9FTkRcIl0gPSBcIkdBTUVfT05fRU5EXCI7XHJcbiAgICBHYW1lTWV0aG9kW1wiUEhBU0VfT05fQkVHSU5cIl0gPSBcIlBIQVNFX09OX0JFR0lOXCI7XHJcbiAgICBHYW1lTWV0aG9kW1wiUEhBU0VfT05fRU5EXCJdID0gXCJQSEFTRV9PTl9FTkRcIjtcclxuICAgIEdhbWVNZXRob2RbXCJUVVJOX09OX0JFR0lOXCJdID0gXCJUVVJOX09OX0JFR0lOXCI7XHJcbiAgICBHYW1lTWV0aG9kW1wiVFVSTl9PTl9NT1ZFXCJdID0gXCJUVVJOX09OX01PVkVcIjtcclxuICAgIEdhbWVNZXRob2RbXCJUVVJOX09OX0VORFwiXSA9IFwiVFVSTl9PTl9FTkRcIjtcclxufSkoR2FtZU1ldGhvZCB8fCAoR2FtZU1ldGhvZCA9IHt9KSk7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG52YXIgRXJyb3JzO1xyXG4oZnVuY3Rpb24gKEVycm9ycykge1xyXG4gICAgRXJyb3JzW1wiQ2FsbGVkT3V0c2lkZUhvb2tcIl0gPSBcIkV2ZW50cyBtdXN0IGJlIGNhbGxlZCBmcm9tIG1vdmVzIG9yIHRoZSBgb25CZWdpbmAsIGBvbkVuZGAsIGFuZCBgb25Nb3ZlYCBob29rcy5cXG5UaGlzIGVycm9yIHByb2JhYmx5IG1lYW5zIHlvdSBjYWxsZWQgYW4gZXZlbnQgZnJvbSBvdGhlciBnYW1lIGNvZGUsIGxpa2UgYW4gYGVuZElmYCB0cmlnZ2VyIG9yIG9uZSBvZiB0aGUgYHR1cm4ub3JkZXJgIG1ldGhvZHMuXCI7XHJcbiAgICBFcnJvcnNbXCJFbmRUdXJuSW5PbkVuZFwiXSA9IFwiYGVuZFR1cm5gIGlzIGRpc2FsbG93ZWQgaW4gYG9uRW5kYCBob29rcyBcXHUyMDE0IHRoZSB0dXJuIGlzIGFscmVhZHkgZW5kaW5nLlwiO1xyXG4gICAgRXJyb3JzW1wiTWF4VHVybkVuZGluZ3NcIl0gPSBcIk1heGltdW0gbnVtYmVyIG9mIHR1cm4gZW5kaW5ncyBleGNlZWRlZCBmb3IgdGhpcyB1cGRhdGUuXFxuVGhpcyBsaWtlbHkgbWVhbnMgZ2FtZSBjb2RlIGlzIHRyaWdnZXJpbmcgYW4gaW5maW5pdGUgbG9vcC5cIjtcclxuICAgIEVycm9yc1tcIlBoYXNlRXZlbnRJbk9uRW5kXCJdID0gXCJgc2V0UGhhc2VgICYgYGVuZFBoYXNlYCBhcmUgZGlzYWxsb3dlZCBpbiBhIHBoYXNlXFx1MjAxOXMgYG9uRW5kYCBob29rIFxcdTIwMTQgdGhlIHBoYXNlIGlzIGFscmVhZHkgZW5kaW5nLlxcbklmIHlvdVxcdTIwMTlyZSB0cnlpbmcgdG8gZHluYW1pY2FsbHkgY2hvb3NlIHRoZSBuZXh0IHBoYXNlIHdoZW4gYSBwaGFzZSBlbmRzLCB1c2UgdGhlIHBoYXNlXFx1MjAxOXMgYG5leHRgIHRyaWdnZXIuXCI7XHJcbiAgICBFcnJvcnNbXCJTdGFnZUV2ZW50SW5PbkVuZFwiXSA9IFwiYHNldFN0YWdlYCwgYGVuZFN0YWdlYCAmIGBzZXRBY3RpdmVQbGF5ZXJzYCBhcmUgZGlzYWxsb3dlZCBpbiBgb25FbmRgIGhvb2tzLlwiO1xyXG4gICAgRXJyb3JzW1wiU3RhZ2VFdmVudEluUGhhc2VCZWdpblwiXSA9IFwiYHNldFN0YWdlYCwgYGVuZFN0YWdlYCAmIGBzZXRBY3RpdmVQbGF5ZXJzYCBhcmUgZGlzYWxsb3dlZCBpbiBhIHBoYXNlXFx1MjAxOXMgYG9uQmVnaW5gIGhvb2suXFxuVXNlIGBzZXRBY3RpdmVQbGF5ZXJzYCBpbiBhIGB0dXJuLm9uQmVnaW5gIGhvb2sgb3IgZGVjbGFyZSBzdGFnZXMgd2l0aCBgdHVybi5hY3RpdmVQbGF5ZXJzYCBpbnN0ZWFkLlwiO1xyXG4gICAgRXJyb3JzW1wiU3RhZ2VFdmVudEluVHVybkJlZ2luXCJdID0gXCJgc2V0U3RhZ2VgICYgYGVuZFN0YWdlYCBhcmUgZGlzYWxsb3dlZCBpbiBgdHVybi5vbkJlZ2luYC5cXG5Vc2UgYHNldEFjdGl2ZVBsYXllcnNgIG9yIGRlY2xhcmUgc3RhZ2VzIHdpdGggYHR1cm4uYWN0aXZlUGxheWVyc2AgaW5zdGVhZC5cIjtcclxufSkoRXJyb3JzIHx8IChFcnJvcnMgPSB7fSkpO1xyXG4vKipcclxuICogRXZlbnRzXHJcbiAqL1xyXG5jbGFzcyBFdmVudHMge1xyXG4gICAgY29uc3RydWN0b3IoZmxvdywgY3R4LCBwbGF5ZXJJRCkge1xyXG4gICAgICAgIHRoaXMuZmxvdyA9IGZsb3c7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJJRCA9IHBsYXllcklEO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2ggPSBbXTtcclxuICAgICAgICB0aGlzLmluaXRpYWxUdXJuID0gY3R4LnR1cm47XHJcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuQ29udGV4dChjdHgsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgLy8gVGhpcyBpcyBhbiBhcmJpdHJhcmlseSBsYXJnZSB1cHBlciB0aHJlc2hvbGQsIHdoaWNoIGNvdWxkIGJlIG1hZGVcclxuICAgICAgICAvLyBjb25maWd1cmFibGUgdmlhIGEgZ2FtZSBvcHRpb24gaWYgdGhlIG5lZWQgYXJpc2VzLlxyXG4gICAgICAgIHRoaXMubWF4RW5kZWRUdXJuc1BlckFjdGlvbiA9IGN0eC5udW1QbGF5ZXJzICogMTAwO1xyXG4gICAgfVxyXG4gICAgYXBpKCkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHtcclxuICAgICAgICAgICAgX3ByaXZhdGU6IHRoaXMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgdGhpcy5mbG93LmV2ZW50TmFtZXMpIHtcclxuICAgICAgICAgICAgZXZlbnRzW3R5cGVdID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2gucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIHBoYXNlOiB0aGlzLmN1cnJlbnRQaGFzZSxcclxuICAgICAgICAgICAgICAgICAgICB0dXJuOiB0aGlzLmN1cnJlbnRUdXJuLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxlZEZyb206IHRoaXMuY3VycmVudE1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VkIHRvIGNhcHR1cmUgYSBzdGFjayB0cmFjZSBpbiBjYXNlIGl0IGlzIG5lZWRlZCBsYXRlci5cclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKCdFdmVudHMgUGx1Z2luIEVycm9yJyksXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50cztcclxuICAgIH1cclxuICAgIGlzVXNlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaC5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlVHVybkNvbnRleHQoY3R4LCBtZXRob2RUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGhhc2UgPSBjdHgucGhhc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGN0eC50dXJuO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE1ldGhvZCA9IG1ldGhvZFR5cGU7XHJcbiAgICB9XHJcbiAgICB1bnNldEN1cnJlbnRNZXRob2QoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TWV0aG9kID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIGN0eCB3aXRoIHRoZSB0cmlnZ2VyZWQgZXZlbnRzLlxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gVGhlIHN0YXRlIG9iamVjdCB7IEcsIGN0eCB9LlxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoc3RhdGUpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICBjb25zdCBzdGF0ZVdpdGhFcnJvciA9ICh7IHN0YWNrIH0sIG1lc3NhZ2UpID0+ICh7XHJcbiAgICAgICAgICAgIC4uLmluaXRpYWxTdGF0ZSxcclxuICAgICAgICAgICAgcGx1Z2luczoge1xyXG4gICAgICAgICAgICAgICAgLi4uaW5pdGlhbFN0YXRlLnBsdWdpbnMsXHJcbiAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5pbml0aWFsU3RhdGUucGx1Z2lucy5ldmVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcjogbWVzc2FnZSArICdcXG4nICsgc3RhY2sgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgRXZlbnRRdWV1ZTogZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRpc3BhdGNoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5kaXNwYXRjaFtpXTtcclxuICAgICAgICAgICAgY29uc3QgdHVybkhhc0VuZGVkID0gZXZlbnQudHVybiAhPT0gc3RhdGUuY3R4LnR1cm47XHJcbiAgICAgICAgICAgIC8vIFRoaXMgcHJvdGVjdHMgYWdhaW5zdCBwb3RlbnRpYWwgaW5maW5pdGUgbG9vcHMgaWYgc3BlY2lmaWMgZXZlbnRzIGFyZSBjYWxsZWQgb24gaG9va3MuXHJcbiAgICAgICAgICAgIC8vIFRoZSBtb21lbnQgd2UgZXhjZWVkIHRoZSBkZWZpbmVkIHRocmVzaG9sZCwgd2UganVzdCBiYWlsIG91dCBvZiBhbGwgcGhhc2VzLlxyXG4gICAgICAgICAgICBjb25zdCBlbmRlZFR1cm5zID0gdGhpcy5jdXJyZW50VHVybiAtIHRoaXMuaW5pdGlhbFR1cm47XHJcbiAgICAgICAgICAgIGlmIChlbmRlZFR1cm5zID49IHRoaXMubWF4RW5kZWRUdXJuc1BlckFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlV2l0aEVycm9yKGV2ZW50LmVycm9yLCBFcnJvcnMuTWF4VHVybkVuZGluZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5jYWxsZWRGcm9tID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZVdpdGhFcnJvcihldmVudC5lcnJvciwgRXJyb3JzLkNhbGxlZE91dHNpZGVIb29rKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTdG9wIHByb2Nlc3NpbmcgZXZlbnRzIG9uY2UgdGhlIGdhbWUgaGFzIGZpbmlzaGVkLlxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuY3R4LmdhbWVvdmVyKVxyXG4gICAgICAgICAgICAgICAgYnJlYWsgRXZlbnRRdWV1ZTtcclxuICAgICAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdlbmRTdGFnZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzZXRTdGFnZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzZXRBY3RpdmVQbGF5ZXJzJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuY2FsbGVkRnJvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNhbGxvdyBhbGwgc3RhZ2UgZXZlbnRzIGluIG9uRW5kIGFuZCBwaGFzZS5vbkJlZ2luIGhvb2tzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEdhbWVNZXRob2QuVFVSTl9PTl9FTkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgR2FtZU1ldGhvZC5QSEFTRV9PTl9FTkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVXaXRoRXJyb3IoZXZlbnQuZXJyb3IsIEVycm9ycy5TdGFnZUV2ZW50SW5PbkVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgR2FtZU1ldGhvZC5QSEFTRV9PTl9CRUdJTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZVdpdGhFcnJvcihldmVudC5lcnJvciwgRXJyb3JzLlN0YWdlRXZlbnRJblBoYXNlQmVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNhbGxvdyBzZXRTdGFnZSAmIGVuZFN0YWdlIGluIHR1cm4ub25CZWdpbiBob29rcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBHYW1lTWV0aG9kLlRVUk5fT05fQkVHSU46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3NldEFjdGl2ZVBsYXllcnMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlV2l0aEVycm9yKGV2ZW50LmVycm9yLCBFcnJvcnMuU3RhZ2VFdmVudEluVHVybkJlZ2luKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHR1cm4gYWxyZWFkeSBlbmRlZCwgZG9uJ3QgdHJ5IHRvIHByb2Nlc3Mgc3RhZ2UgZXZlbnRzLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0dXJuSGFzRW5kZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIEV2ZW50UXVldWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlICdlbmRUdXJuJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jYWxsZWRGcm9tID09PSBHYW1lTWV0aG9kLlRVUk5fT05fRU5EIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbGxlZEZyb20gPT09IEdhbWVNZXRob2QuUEhBU0VfT05fRU5EKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZVdpdGhFcnJvcihldmVudC5lcnJvciwgRXJyb3JzLkVuZFR1cm5Jbk9uRW5kKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHR1cm4gYWxyZWFkeSBlbmRlZCBzb21lIG90aGVyIHdheSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCB0cnkgdG8gZW5kIHRoZSB0dXJuIGFnYWluLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0dXJuSGFzRW5kZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIEV2ZW50UXVldWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlICdlbmRQaGFzZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzZXRQaGFzZSc6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY2FsbGVkRnJvbSA9PT0gR2FtZU1ldGhvZC5QSEFTRV9PTl9FTkQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlV2l0aEVycm9yKGV2ZW50LmVycm9yLCBFcnJvcnMuUGhhc2VFdmVudEluT25FbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcGhhc2UgYWxyZWFkeSBlbmRlZCBzb21lIG90aGVyIHdheSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCB0cnkgdG8gZW5kIHRoZSBwaGFzZSBhZ2Fpbi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQucGhhc2UgIT09IHN0YXRlLmN0eC5waGFzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgRXZlbnRRdWV1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBhdXRvbWF0aWNHYW1lRXZlbnQoZXZlbnQudHlwZSwgZXZlbnQuYXJncywgdGhpcy5wbGF5ZXJJRCk7XHJcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5mbG93LnByb2Nlc3NFdmVudChzdGF0ZSwgYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG59XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDIwIFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG5jb25zdCBFdmVudHNQbHVnaW4gPSB7XHJcbiAgICBuYW1lOiAnZXZlbnRzJyxcclxuICAgIG5vQ2xpZW50OiAoeyBhcGkgfSkgPT4gYXBpLl9wcml2YXRlLmlzVXNlZCgpLFxyXG4gICAgaXNJbnZhbGlkOiAoeyBkYXRhIH0pID0+IGRhdGEuZXJyb3IgfHwgZmFsc2UsXHJcbiAgICAvLyBVcGRhdGUgdGhlIGV2ZW50cyBwbHVnaW7igJlzIGludGVybmFsIHR1cm4gY29udGV4dCBlYWNoIHRpbWUgYSBtb3ZlXHJcbiAgICAvLyBvciBob29rIGlzIGNhbGxlZC4gVGhpcyBhbGxvd3MgZXZlbnRzIGNhbGxlZCBhZnRlciB0dXJuIG9yIHBoYXNlXHJcbiAgICAvLyBlbmRpbmdzIHRvIGRpc3BhdGNoIHRoZSBjdXJyZW50IHR1cm4gYW5kIHBoYXNlIGNvcnJlY3RseS5cclxuICAgIGZuV3JhcDogKG1ldGhvZCwgbWV0aG9kVHlwZSkgPT4gKEcsIGN0eCwgLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFwaSA9IGN0eC5ldmVudHM7XHJcbiAgICAgICAgaWYgKGFwaSlcclxuICAgICAgICAgICAgYXBpLl9wcml2YXRlLnVwZGF0ZVR1cm5Db250ZXh0KGN0eCwgbWV0aG9kVHlwZSk7XHJcbiAgICAgICAgRyA9IG1ldGhvZChHLCBjdHgsIC4uLmFyZ3MpO1xyXG4gICAgICAgIGlmIChhcGkpXHJcbiAgICAgICAgICAgIGFwaS5fcHJpdmF0ZS51bnNldEN1cnJlbnRNZXRob2QoKTtcclxuICAgICAgICByZXR1cm4gRztcclxuICAgIH0sXHJcbiAgICBkYW5nZXJvdXNseUZsdXNoUmF3U3RhdGU6ICh7IHN0YXRlLCBhcGkgfSkgPT4gYXBpLl9wcml2YXRlLnVwZGF0ZShzdGF0ZSksXHJcbiAgICBhcGk6ICh7IGdhbWUsIGN0eCwgcGxheWVySUQgfSkgPT4gbmV3IEV2ZW50cyhnYW1lLmZsb3csIGN0eCwgcGxheWVySUQpLmFwaSgpLFxyXG59O1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgYm9hcmRnYW1lLmlvIEF1dGhvcnNcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBNSVQtc3R5bGVcclxuICogbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XHJcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxyXG4gKi9cclxuLyoqXHJcbiAqIFBsdWdpbiB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIGFkZCBtZXRhZGF0YSB0byBsb2cgZW50cmllcy5cclxuICogRHVyaW5nIGEgbW92ZSwgeW91IGNhbiBzZXQgbWV0YWRhdGEgdXNpbmcgY3R4LmxvZy5zZXRNZXRhZGF0YSBhbmQgaXQgd2lsbCBiZVxyXG4gKiBhdmFpbGFibGUgb24gdGhlIGxvZyBlbnRyeSBmb3IgdGhhdCBtb3ZlLlxyXG4gKi9cclxuY29uc3QgTG9nUGx1Z2luID0ge1xyXG4gICAgbmFtZTogJ2xvZycsXHJcbiAgICBmbHVzaDogKCkgPT4gKHt9KSxcclxuICAgIGFwaTogKHsgZGF0YSB9KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0TWV0YWRhdGE6IChtZXRhZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgc2V0dXA6ICgpID0+ICh7fSksXHJcbn07XG5cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhbHVlIGNhbiBiZSBzZXJpYWxpemVkIChlLmcuIHVzaW5nIGBKU09OLnN0cmluZ2lmeWApLlxyXG4gKiBBZGFwdGVkIGZyb206IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMDcxMjc2NC8zODI5NTU3XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1NlcmlhbGl6YWJsZSh2YWx1ZSkge1xyXG4gICAgLy8gUHJpbWl0aXZlcyBhcmUgT0suXHJcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgIHZhbHVlID09PSBudWxsIHx8XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gQSBub24tcHJpbWl0aXZlIHZhbHVlIHRoYXQgaXMgbmVpdGhlciBhIFBPSk8gb3IgYW4gYXJyYXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQuXHJcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QodmFsdWUpICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIFJlY3Vyc2UgZW50cmllcyBpZiB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IG9yIGFycmF5LlxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICBpZiAoIWlzU2VyaWFsaXphYmxlKHZhbHVlW2tleV0pKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICogUGx1Z2luIHRoYXQgY2hlY2tzIHdoZXRoZXIgc3RhdGUgaXMgc2VyaWFsaXphYmxlLCBpbiBvcmRlciB0byBhdm9pZFxyXG4gKiBuZXR3b3JrIHNlcmlhbGl6YXRpb24gYnVncy5cclxuICovXHJcbmNvbnN0IFNlcmlhbGl6YWJsZVBsdWdpbiA9IHtcclxuICAgIG5hbWU6ICdwbHVnaW4tc2VyaWFsaXphYmxlJyxcclxuICAgIGZuV3JhcDogKG1vdmUpID0+IChHLCBjdHgsIC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBtb3ZlKEcsIGN0eCwgLi4uYXJncyk7XHJcbiAgICAgICAgLy8gQ2hlY2sgc3RhdGUgaW4gbm9uLXByb2R1Y3Rpb24gZW52aXJvbm1lbnRzLlxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFpc1NlcmlhbGl6YWJsZShyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW92ZSBzdGF0ZSBpcyBub3QgSlNPTi1zZXJpYWxpYXphYmxlLlxcbicgK1xyXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwczovL2JvYXJkZ2FtZS5pby9kb2N1bWVudGF0aW9uLyMvP2lkPXN0YXRlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSxcclxufTtcblxuLypcclxuICogQ29weXJpZ2h0IDIwMTggVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbmNvbnN0IHByb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xyXG5jb25zdCBsb2dmbiA9IHByb2R1Y3Rpb24gPyAoKSA9PiB7IH0gOiAoLi4ubXNnKSA9PiBjb25zb2xlLmxvZyguLi5tc2cpO1xyXG5jb25zdCBlcnJvcmZuID0gKC4uLm1zZykgPT4gY29uc29sZS5lcnJvciguLi5tc2cpO1xyXG5mdW5jdGlvbiBpbmZvKG1zZykge1xyXG4gICAgbG9nZm4oYElORk86ICR7bXNnfWApO1xyXG59XHJcbmZ1bmN0aW9uIGVycm9yKGVycm9yKSB7XHJcbiAgICBlcnJvcmZuKCdFUlJPUjonLCBlcnJvcik7XHJcbn1cblxuLypcclxuICogQ29weXJpZ2h0IDIwMTggVGhlIGJvYXJkZ2FtZS5pbyBBdXRob3JzXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgTUlULXN0eWxlXHJcbiAqIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxyXG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cclxuICovXHJcbi8qKlxyXG4gKiBMaXN0IG9mIHBsdWdpbnMgdGhhdCBhcmUgYWx3YXlzIGFkZGVkLlxyXG4gKi9cclxuY29uc3QgQ09SRV9QTFVHSU5TID0gW0ltbWVyUGx1Z2luLCBSYW5kb21QbHVnaW4sIExvZ1BsdWdpbiwgU2VyaWFsaXphYmxlUGx1Z2luXTtcclxuY29uc3QgREVGQVVMVF9QTFVHSU5TID0gWy4uLkNPUkVfUExVR0lOUywgRXZlbnRzUGx1Z2luXTtcclxuLyoqXHJcbiAqIEFsbG93IHBsdWdpbnMgdG8gaW50ZXJjZXB0IGFjdGlvbnMgYW5kIHByb2Nlc3MgdGhlbS5cclxuICovXHJcbmNvbnN0IFByb2Nlc3NBY3Rpb24gPSAoc3RhdGUsIGFjdGlvbiwgb3B0cykgPT4ge1xyXG4gICAgLy8gVE9ETygjNzIzKTogRXh0ZW5kIGVycm9yIGhhbmRsaW5nIHRvIHBsdWdpbnMuXHJcbiAgICBvcHRzLmdhbWUucGx1Z2luc1xyXG4gICAgICAgIC5maWx0ZXIoKHBsdWdpbikgPT4gcGx1Z2luLmFjdGlvbiAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIC5maWx0ZXIoKHBsdWdpbikgPT4gcGx1Z2luLm5hbWUgPT09IGFjdGlvbi5wYXlsb2FkLnR5cGUpXHJcbiAgICAgICAgLmZvckVhY2goKHBsdWdpbikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSBwbHVnaW4ubmFtZTtcclxuICAgICAgICBjb25zdCBwbHVnaW5TdGF0ZSA9IHN0YXRlLnBsdWdpbnNbbmFtZV0gfHwgeyBkYXRhOiB7fSB9O1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBwbHVnaW4uYWN0aW9uKHBsdWdpblN0YXRlLmRhdGEsIGFjdGlvbi5wYXlsb2FkKTtcclxuICAgICAgICBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgIHBsdWdpbnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnN0YXRlLnBsdWdpbnMsXHJcbiAgICAgICAgICAgICAgICBbbmFtZV06IHsgLi4ucGx1Z2luU3RhdGUsIGRhdGEgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgQVBJJ3MgY3JlYXRlZCBieSB2YXJpb3VzIHBsdWdpbnMgYXJlIHN0b3JlZCBpbiB0aGUgcGx1Z2luc1xyXG4gKiBzZWN0aW9uIG9mIHRoZSBzdGF0ZSBvYmplY3Q6XHJcbiAqXHJcbiAqIHtcclxuICogICBHOiB7fSxcclxuICogICBjdHg6IHt9LFxyXG4gKiAgIHBsdWdpbnM6IHtcclxuICogICAgIHBsdWdpbi1hOiB7XHJcbiAqICAgICAgIGRhdGE6IHt9LCAgLy8gdGhpcyBpcyBnZW5lcmF0ZWQgYnkgdGhlIHBsdWdpbiBhdCBTZXR1cCAvIEZsdXNoLlxyXG4gKiAgICAgICBhcGk6IHt9LCAgIC8vIHRoaXMgaXMgZXBoZW1lcmFsIGFuZCBnZW5lcmF0ZWQgYnkgRW5oYW5jZS5cclxuICogICAgIH1cclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyB0aGVzZSBBUEkncyBhbmQgc3R1ZmZzIHRoZW0gYmFjayBpbnRvXHJcbiAqIGN0eCBmb3IgY29uc3VtcHRpb24gaW5zaWRlIGEgbW92ZSBmdW5jdGlvbiBvciBob29rLlxyXG4gKi9cclxuY29uc3QgRW5oYW5jZUN0eCA9IChzdGF0ZSkgPT4ge1xyXG4gICAgY29uc3QgY3R4ID0geyAuLi5zdGF0ZS5jdHggfTtcclxuICAgIGNvbnN0IHBsdWdpbnMgPSBzdGF0ZS5wbHVnaW5zIHx8IHt9O1xyXG4gICAgT2JqZWN0LmVudHJpZXMocGx1Z2lucykuZm9yRWFjaCgoW25hbWUsIHsgYXBpIH1dKSA9PiB7XHJcbiAgICAgICAgY3R4W25hbWVdID0gYXBpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY3R4O1xyXG59O1xyXG4vKipcclxuICogQXBwbGllcyB0aGUgcHJvdmlkZWQgcGx1Z2lucyB0byB0aGUgZ2l2ZW4gbW92ZSAvIGZsb3cgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSBtZXRob2RUb1dyYXAgLSBUaGUgbW92ZSBmdW5jdGlvbiBvciBob29rIHRvIGFwcGx5IHRoZSBwbHVnaW5zIHRvLlxyXG4gKiBAcGFyYW0gbWV0aG9kVHlwZSAtIFRoZSB0eXBlIG9mIHRoZSBtb3ZlIG9yIGhvb2sgYmVpbmcgd3JhcHBlZC5cclxuICogQHBhcmFtIHBsdWdpbnMgLSBUaGUgbGlzdCBvZiBwbHVnaW5zLlxyXG4gKi9cclxuY29uc3QgRm5XcmFwID0gKG1ldGhvZFRvV3JhcCwgbWV0aG9kVHlwZSwgcGx1Z2lucykgPT4ge1xyXG4gICAgcmV0dXJuIFsuLi5DT1JFX1BMVUdJTlMsIC4uLnBsdWdpbnMsIEV2ZW50c1BsdWdpbl1cclxuICAgICAgICAuZmlsdGVyKChwbHVnaW4pID0+IHBsdWdpbi5mbldyYXAgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAucmVkdWNlKChtZXRob2QsIHsgZm5XcmFwIH0pID0+IGZuV3JhcChtZXRob2QsIG1ldGhvZFR5cGUpLCBtZXRob2RUb1dyYXApO1xyXG59O1xyXG4vKipcclxuICogQWxsb3dzIHRoZSBwbHVnaW4gdG8gZ2VuZXJhdGUgaXRzIGluaXRpYWwgc3RhdGUuXHJcbiAqL1xyXG5jb25zdCBTZXR1cCA9IChzdGF0ZSwgb3B0cykgPT4ge1xyXG4gICAgWy4uLkRFRkFVTFRfUExVR0lOUywgLi4ub3B0cy5nYW1lLnBsdWdpbnNdXHJcbiAgICAgICAgLmZpbHRlcigocGx1Z2luKSA9PiBwbHVnaW4uc2V0dXAgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAuZm9yRWFjaCgocGx1Z2luKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHBsdWdpbi5uYW1lO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBwbHVnaW4uc2V0dXAoe1xyXG4gICAgICAgICAgICBHOiBzdGF0ZS5HLFxyXG4gICAgICAgICAgICBjdHg6IHN0YXRlLmN0eCxcclxuICAgICAgICAgICAgZ2FtZTogb3B0cy5nYW1lLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0YXRlID0ge1xyXG4gICAgICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICAgICAgcGx1Z2luczoge1xyXG4gICAgICAgICAgICAgICAgLi4uc3RhdGUucGx1Z2lucyxcclxuICAgICAgICAgICAgICAgIFtuYW1lXTogeyBkYXRhIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59O1xyXG4vKipcclxuICogSW52b2tlcyB0aGUgcGx1Z2luIGJlZm9yZSBhIG1vdmUgb3IgZXZlbnQuXHJcbiAqIFRoZSBBUEkgdGhhdCB0aGUgcGx1Z2luIGdlbmVyYXRlcyBpcyBzdG9yZWQgaW5zaWRlXHJcbiAqIHRoZSBgcGx1Z2luc2Agc2VjdGlvbiBvZiB0aGUgc3RhdGUgKHdoaWNoIGlzIHN1YnNlcXVlbnRseVxyXG4gKiBtZXJnZWQgaW50byBjdHgpLlxyXG4gKi9cclxuY29uc3QgRW5oYW5jZSA9IChzdGF0ZSwgb3B0cykgPT4ge1xyXG4gICAgWy4uLkRFRkFVTFRfUExVR0lOUywgLi4ub3B0cy5nYW1lLnBsdWdpbnNdXHJcbiAgICAgICAgLmZpbHRlcigocGx1Z2luKSA9PiBwbHVnaW4uYXBpICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgLmZvckVhY2goKHBsdWdpbikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSBwbHVnaW4ubmFtZTtcclxuICAgICAgICBjb25zdCBwbHVnaW5TdGF0ZSA9IHN0YXRlLnBsdWdpbnNbbmFtZV0gfHwgeyBkYXRhOiB7fSB9O1xyXG4gICAgICAgIGNvbnN0IGFwaSA9IHBsdWdpbi5hcGkoe1xyXG4gICAgICAgICAgICBHOiBzdGF0ZS5HLFxyXG4gICAgICAgICAgICBjdHg6IHN0YXRlLmN0eCxcclxuICAgICAgICAgICAgZGF0YTogcGx1Z2luU3RhdGUuZGF0YSxcclxuICAgICAgICAgICAgZ2FtZTogb3B0cy5nYW1lLFxyXG4gICAgICAgICAgICBwbGF5ZXJJRDogb3B0cy5wbGF5ZXJJRCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgIHBsdWdpbnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnN0YXRlLnBsdWdpbnMsXHJcbiAgICAgICAgICAgICAgICBbbmFtZV06IHsgLi4ucGx1Z2luU3RhdGUsIGFwaSB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzdGF0ZTtcclxufTtcclxuLyoqXHJcbiAqIEFsbG93cyBwbHVnaW5zIHRvIHVwZGF0ZSB0aGVpciBzdGF0ZSBhZnRlciBhIG1vdmUgLyBldmVudC5cclxuICovXHJcbmNvbnN0IEZsdXNoID0gKHN0YXRlLCBvcHRzKSA9PiB7XHJcbiAgICAvLyBXZSBmbHVzaCB0aGUgZXZlbnRzIHBsdWdpbiBmaXJzdCwgdGhlbiBjdXN0b20gcGx1Z2lucyBhbmQgdGhlIGNvcmUgcGx1Z2lucy5cclxuICAgIC8vIFRoaXMgbWVhbnMgY3VzdG9tIHBsdWdpbnMgY2Fubm90IHVzZSB0aGUgZXZlbnRzIEFQSSBidXQgd2lsbCBiZSBhdmFpbGFibGUgaW4gZXZlbnQgaG9va3MuXHJcbiAgICAvLyBOb3RlIHRoYXQgcGx1Z2lucyBhcmUgZmx1c2hlZCBpbiByZXZlcnNlLCB0byBhbGxvdyBjdXN0b20gcGx1Z2lucyBjYWxsaW5nIGVhY2ggb3RoZXIuXHJcbiAgICBbLi4uQ09SRV9QTFVHSU5TLCAuLi5vcHRzLmdhbWUucGx1Z2lucywgRXZlbnRzUGx1Z2luXVxyXG4gICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAuZm9yRWFjaCgocGx1Z2luKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHBsdWdpbi5uYW1lO1xyXG4gICAgICAgIGNvbnN0IHBsdWdpblN0YXRlID0gc3RhdGUucGx1Z2luc1tuYW1lXSB8fCB7IGRhdGE6IHt9IH07XHJcbiAgICAgICAgaWYgKHBsdWdpbi5mbHVzaCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdEYXRhID0gcGx1Z2luLmZsdXNoKHtcclxuICAgICAgICAgICAgICAgIEc6IHN0YXRlLkcsXHJcbiAgICAgICAgICAgICAgICBjdHg6IHN0YXRlLmN0eCxcclxuICAgICAgICAgICAgICAgIGdhbWU6IG9wdHMuZ2FtZSxcclxuICAgICAgICAgICAgICAgIGFwaTogcGx1Z2luU3RhdGUuYXBpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcGx1Z2luU3RhdGUuZGF0YSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXRlID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgICAgICBwbHVnaW5zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUucGx1Z2lucyxcclxuICAgICAgICAgICAgICAgICAgICBbcGx1Z2luLm5hbWVdOiB7IGRhdGE6IG5ld0RhdGEgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBsdWdpbi5kYW5nZXJvdXNseUZsdXNoUmF3U3RhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSBwbHVnaW4uZGFuZ2Vyb3VzbHlGbHVzaFJhd1N0YXRlKHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgZ2FtZTogb3B0cy5nYW1lLFxyXG4gICAgICAgICAgICAgICAgYXBpOiBwbHVnaW5TdGF0ZS5hcGksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBwbHVnaW5TdGF0ZS5kYXRhLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZXJ5dGhpbmcgb3RoZXIgdGhhbiBkYXRhLlxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gc3RhdGUucGx1Z2luc1tuYW1lXS5kYXRhO1xyXG4gICAgICAgICAgICBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgcGx1Z2luczoge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLnBsdWdpbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgW3BsdWdpbi5uYW1lXTogeyBkYXRhIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59O1xyXG4vKipcclxuICogQWxsb3dzIHBsdWdpbnMgdG8gaW5kaWNhdGUgaWYgdGhleSBzaG91bGQgbm90IGJlIG1hdGVyaWFsaXplZCBvbiB0aGUgY2xpZW50LlxyXG4gKiBUaGlzIHdpbGwgY2F1c2UgdGhlIGNsaWVudCB0byBkaXNjYXJkIHRoZSBzdGF0ZSB1cGRhdGUgYW5kIHdhaXQgZm9yIHRoZVxyXG4gKiBtYXN0ZXIgaW5zdGVhZC5cclxuICovXHJcbmNvbnN0IE5vQ2xpZW50ID0gKHN0YXRlLCBvcHRzKSA9PiB7XHJcbiAgICByZXR1cm4gWy4uLkRFRkFVTFRfUExVR0lOUywgLi4ub3B0cy5nYW1lLnBsdWdpbnNdXHJcbiAgICAgICAgLmZpbHRlcigocGx1Z2luKSA9PiBwbHVnaW4ubm9DbGllbnQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAubWFwKChwbHVnaW4pID0+IHtcclxuICAgICAgICBjb25zdCBuYW1lID0gcGx1Z2luLm5hbWU7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luU3RhdGUgPSBzdGF0ZS5wbHVnaW5zW25hbWVdO1xyXG4gICAgICAgIGlmIChwbHVnaW5TdGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luLm5vQ2xpZW50KHtcclxuICAgICAgICAgICAgICAgIEc6IHN0YXRlLkcsXHJcbiAgICAgICAgICAgICAgICBjdHg6IHN0YXRlLmN0eCxcclxuICAgICAgICAgICAgICAgIGdhbWU6IG9wdHMuZ2FtZSxcclxuICAgICAgICAgICAgICAgIGFwaTogcGx1Z2luU3RhdGUuYXBpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcGx1Z2luU3RhdGUuZGF0YSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pXHJcbiAgICAgICAgLmluY2x1ZGVzKHRydWUpO1xyXG59O1xyXG4vKipcclxuICogQWxsb3dzIHBsdWdpbnMgdG8gaW5kaWNhdGUgaWYgdGhlIGVudGlyZSBhY3Rpb24gc2hvdWxkIGJlIHRocm93biBvdXRcclxuICogYXMgaW52YWxpZC4gVGhpcyB3aWxsIGNhbmNlbCB0aGUgZW50aXJlIHN0YXRlIHVwZGF0ZS5cclxuICovXHJcbmNvbnN0IElzSW52YWxpZCA9IChzdGF0ZSwgb3B0cykgPT4ge1xyXG4gICAgY29uc3QgZmlyc3RJbnZhbGlkUmV0dXJuID0gWy4uLkRFRkFVTFRfUExVR0lOUywgLi4ub3B0cy5nYW1lLnBsdWdpbnNdXHJcbiAgICAgICAgLmZpbHRlcigocGx1Z2luKSA9PiBwbHVnaW4uaXNJbnZhbGlkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgLm1hcCgocGx1Z2luKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBuYW1lIH0gPSBwbHVnaW47XHJcbiAgICAgICAgY29uc3QgcGx1Z2luU3RhdGUgPSBzdGF0ZS5wbHVnaW5zW25hbWVdO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwbHVnaW4uaXNJbnZhbGlkKHtcclxuICAgICAgICAgICAgRzogc3RhdGUuRyxcclxuICAgICAgICAgICAgY3R4OiBzdGF0ZS5jdHgsXHJcbiAgICAgICAgICAgIGdhbWU6IG9wdHMuZ2FtZSxcclxuICAgICAgICAgICAgZGF0YTogcGx1Z2luU3RhdGUgJiYgcGx1Z2luU3RhdGUuZGF0YSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWVzc2FnZSA/IHsgcGx1Z2luOiBuYW1lLCBtZXNzYWdlIH0gOiBmYWxzZTtcclxuICAgIH0pXHJcbiAgICAgICAgLmZpbmQoKHZhbHVlKSA9PiB2YWx1ZSk7XHJcbiAgICByZXR1cm4gZmlyc3RJbnZhbGlkUmV0dXJuIHx8IGZhbHNlO1xyXG59O1xyXG4vKipcclxuICogVXBkYXRlIHBsdWdpbiBzdGF0ZSBhZnRlciBtb3ZlL2V2ZW50ICYgY2hlY2sgaWYgcGx1Z2lucyBjb25zaWRlciB0aGUgdXBkYXRlIHRvIGJlIHZhbGlkLlxyXG4gKiBAcmV0dXJucyBUdXBsZSBvZiBgW3VwZGF0ZWRTdGF0ZV1gIG9yIGBbb3JpZ2luYWxTdGF0ZSwgaW52YWxpZEVycm9yXWAuXHJcbiAqL1xyXG5jb25zdCBGbHVzaEFuZFZhbGlkYXRlID0gKHN0YXRlLCBvcHRzKSA9PiB7XHJcbiAgICBjb25zdCB1cGRhdGVkU3RhdGUgPSBGbHVzaChzdGF0ZSwgb3B0cyk7XHJcbiAgICBjb25zdCBpc0ludmFsaWQgPSBJc0ludmFsaWQodXBkYXRlZFN0YXRlLCBvcHRzKTtcclxuICAgIGlmICghaXNJbnZhbGlkKVxyXG4gICAgICAgIHJldHVybiBbdXBkYXRlZFN0YXRlXTtcclxuICAgIGNvbnN0IHsgcGx1Z2luLCBtZXNzYWdlIH0gPSBpc0ludmFsaWQ7XHJcbiAgICBlcnJvcihgJHtwbHVnaW59IHBsdWdpbiBkZWNsYXJlZCBhY3Rpb24gaW52YWxpZDpcXG4ke21lc3NhZ2V9YCk7XHJcbiAgICByZXR1cm4gW3N0YXRlLCBpc0ludmFsaWRdO1xyXG59O1xyXG4vKipcclxuICogQWxsb3dzIHBsdWdpbnMgdG8gY3VzdG9taXplIHRoZWlyIGRhdGEgZm9yIHNwZWNpZmljIHBsYXllcnMuXHJcbiAqIEZvciBleGFtcGxlLCBhIHBsdWdpbiBtYXkgd2FudCB0byBzaGFyZSBubyBkYXRhIHdpdGggdGhlIGNsaWVudCwgb3JcclxuICogd2FudCB0byBrZWVwIHNvbWUgcGxheWVyIGRhdGEgc2VjcmV0IGZyb20gb3Bwb25lbnRzLlxyXG4gKi9cclxuY29uc3QgUGxheWVyVmlldyA9ICh7IEcsIGN0eCwgcGx1Z2lucyA9IHt9IH0sIHsgZ2FtZSwgcGxheWVySUQgfSkgPT4ge1xyXG4gICAgWy4uLkRFRkFVTFRfUExVR0lOUywgLi4uZ2FtZS5wbHVnaW5zXS5mb3JFYWNoKCh7IG5hbWUsIHBsYXllclZpZXcgfSkgPT4ge1xyXG4gICAgICAgIGlmICghcGxheWVyVmlldylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcGx1Z2luc1tuYW1lXSB8fCB7IGRhdGE6IHt9IH07XHJcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IHBsYXllclZpZXcoeyBHLCBjdHgsIGdhbWUsIGRhdGEsIHBsYXllcklEIH0pO1xyXG4gICAgICAgIHBsdWdpbnMgPSB7XHJcbiAgICAgICAgICAgIC4uLnBsdWdpbnMsXHJcbiAgICAgICAgICAgIFtuYW1lXTogeyBkYXRhOiBuZXdEYXRhIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHBsdWdpbnM7XHJcbn07XG5cbi8qKlxyXG4gKiBBZGp1c3QgdGhlIGdpdmVuIG9wdGlvbnMgdG8gdXNlIHRoZSBuZXcgbWluTW92ZXMvbWF4TW92ZXMgaWYgYSBsZWdhY3kgbW92ZUxpbWl0IHdhcyBnaXZlblxyXG4gKiBAcGFyYW0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QgdG8gYXBwbHkgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgdG9cclxuICogQHBhcmFtIGVuZm9yY2VNaW5Nb3ZlcyBVc2UgbW92ZUxpbWl0IHRvIHNldCBib3RoIG1pbk1vdmVzIGFuZCBtYXhNb3Zlc1xyXG4gKi9cclxuZnVuY3Rpb24gc3VwcG9ydERlcHJlY2F0ZWRNb3ZlTGltaXQob3B0aW9ucywgZW5mb3JjZU1pbk1vdmVzID0gZmFsc2UpIHtcclxuICAgIGlmIChvcHRpb25zLm1vdmVMaW1pdCkge1xyXG4gICAgICAgIGlmIChlbmZvcmNlTWluTW92ZXMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5taW5Nb3ZlcyA9IG9wdGlvbnMubW92ZUxpbWl0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBvcHRpb25zLm1heE1vdmVzID0gb3B0aW9ucy5tb3ZlTGltaXQ7XHJcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMubW92ZUxpbWl0O1xyXG4gICAgfVxyXG59XG5cbi8qXHJcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBib2FyZGdhbWUuaW8gQXV0aG9yc1xyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIE1JVC1zdHlsZVxyXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcclxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXHJcbiAqL1xyXG5mdW5jdGlvbiBTZXRBY3RpdmVQbGF5ZXJzKGN0eCwgYXJnKSB7XHJcbiAgICBsZXQgYWN0aXZlUGxheWVycyA9IHt9O1xyXG4gICAgbGV0IF9wcmV2QWN0aXZlUGxheWVycyA9IFtdO1xyXG4gICAgbGV0IF9uZXh0QWN0aXZlUGxheWVycyA9IG51bGw7XHJcbiAgICBsZXQgX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcyA9IHt9O1xyXG4gICAgbGV0IF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXMgPSB7fTtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcclxuICAgICAgICAvLyBzdXBwb3J0IGEgc2ltcGxlIGFycmF5IG9mIHBsYXllciBJRHMgYXMgYWN0aXZlIHBsYXllcnNcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHt9O1xyXG4gICAgICAgIGFyZy5mb3JFYWNoKCh2KSA9PiAodmFsdWVbdl0gPSBTdGFnZS5OVUxMKSk7XHJcbiAgICAgICAgYWN0aXZlUGxheWVycyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gcHJvY2VzcyBhY3RpdmUgcGxheWVycyBhcmd1bWVudCBvYmplY3RcclxuICAgICAgICAvLyBzdGFnZXMgcHJldmlvdXNseSBkaWQgbm90IGVuZm9yY2UgbWluTW92ZXMsIHRoaXMgYmVoYXZpb3VyIGlzIGtlcHQgaW50ZW50aW9uYWxseVxyXG4gICAgICAgIHN1cHBvcnREZXByZWNhdGVkTW92ZUxpbWl0KGFyZyk7XHJcbiAgICAgICAgaWYgKGFyZy5uZXh0KSB7XHJcbiAgICAgICAgICAgIF9uZXh0QWN0aXZlUGxheWVycyA9IGFyZy5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnLnJldmVydCkge1xyXG4gICAgICAgICAgICBfcHJldkFjdGl2ZVBsYXllcnMgPSBbXHJcbiAgICAgICAgICAgICAgICAuLi5jdHguX3ByZXZBY3RpdmVQbGF5ZXJzLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVBsYXllcnM6IGN0eC5hY3RpdmVQbGF5ZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIF9hY3RpdmVQbGF5ZXJzTWluTW92ZXM6IGN0eC5fYWN0aXZlUGxheWVyc01pbk1vdmVzLFxyXG4gICAgICAgICAgICAgICAgICAgIF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXM6IGN0eC5fYWN0aXZlUGxheWVyc01heE1vdmVzLFxyXG4gICAgICAgICAgICAgICAgICAgIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXM6IGN0eC5fYWN0aXZlUGxheWVyc051bU1vdmVzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZy5jdXJyZW50UGxheWVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgQXBwbHlBY3RpdmVQbGF5ZXJBcmd1bWVudChhY3RpdmVQbGF5ZXJzLCBfYWN0aXZlUGxheWVyc01pbk1vdmVzLCBfYWN0aXZlUGxheWVyc01heE1vdmVzLCBjdHguY3VycmVudFBsYXllciwgYXJnLmN1cnJlbnRQbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnLm90aGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4LnBsYXlPcmRlci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBjdHgucGxheU9yZGVyW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkICE9PSBjdHguY3VycmVudFBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgIEFwcGx5QWN0aXZlUGxheWVyQXJndW1lbnQoYWN0aXZlUGxheWVycywgX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcywgX2FjdGl2ZVBsYXllcnNNYXhNb3ZlcywgaWQsIGFyZy5vdGhlcnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmcuYWxsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdHgucGxheU9yZGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGN0eC5wbGF5T3JkZXJbaV07XHJcbiAgICAgICAgICAgICAgICBBcHBseUFjdGl2ZVBsYXllckFyZ3VtZW50KGFjdGl2ZVBsYXllcnMsIF9hY3RpdmVQbGF5ZXJzTWluTW92ZXMsIF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXMsIGlkLCBhcmcuYWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gYXJnLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBBcHBseUFjdGl2ZVBsYXllckFyZ3VtZW50KGFjdGl2ZVBsYXllcnMsIF9hY3RpdmVQbGF5ZXJzTWluTW92ZXMsIF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXMsIGlkLCBhcmcudmFsdWVbaWRdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnLm1pbk1vdmVzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gYWN0aXZlUGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9hY3RpdmVQbGF5ZXJzTWluTW92ZXNbaWRdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfYWN0aXZlUGxheWVyc01pbk1vdmVzW2lkXSA9IGFyZy5taW5Nb3ZlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJnLm1heE1vdmVzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gYWN0aXZlUGxheWVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXNbaWRdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfYWN0aXZlUGxheWVyc01heE1vdmVzW2lkXSA9IGFyZy5tYXhNb3ZlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChPYmplY3Qua2V5cyhhY3RpdmVQbGF5ZXJzKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBhY3RpdmVQbGF5ZXJzID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmIChPYmplY3Qua2V5cyhfYWN0aXZlUGxheWVyc01pbk1vdmVzKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBfYWN0aXZlUGxheWVyc01pbk1vdmVzID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmIChPYmplY3Qua2V5cyhfYWN0aXZlUGxheWVyc01heE1vdmVzKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBfYWN0aXZlUGxheWVyc01heE1vdmVzID0gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3QgaWQgaW4gYWN0aXZlUGxheWVycykge1xyXG4gICAgICAgIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXNbaWRdID0gMDtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uY3R4LFxyXG4gICAgICAgIGFjdGl2ZVBsYXllcnMsXHJcbiAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3ZlcyxcclxuICAgICAgICBfYWN0aXZlUGxheWVyc01heE1vdmVzLFxyXG4gICAgICAgIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXMsXHJcbiAgICAgICAgX3ByZXZBY3RpdmVQbGF5ZXJzLFxyXG4gICAgICAgIF9uZXh0QWN0aXZlUGxheWVycyxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFVwZGF0ZSBhY3RpdmVQbGF5ZXJzLCBzZXR0aW5nIGl0IHRvIHByZXZpb3VzLCBuZXh0IG9yIG51bGwgdmFsdWVzXHJcbiAqIHdoZW4gaXQgYmVjb21lcyBlbXB0eS5cclxuICogQHBhcmFtIGN0eFxyXG4gKi9cclxuZnVuY3Rpb24gVXBkYXRlQWN0aXZlUGxheWVyc09uY2VFbXB0eShjdHgpIHtcclxuICAgIGxldCB7IGFjdGl2ZVBsYXllcnMsIF9hY3RpdmVQbGF5ZXJzTWluTW92ZXMsIF9hY3RpdmVQbGF5ZXJzTWF4TW92ZXMsIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXMsIF9wcmV2QWN0aXZlUGxheWVycywgX25leHRBY3RpdmVQbGF5ZXJzLCB9ID0gY3R4O1xyXG4gICAgaWYgKGFjdGl2ZVBsYXllcnMgJiYgT2JqZWN0LmtleXMoYWN0aXZlUGxheWVycykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgaWYgKF9uZXh0QWN0aXZlUGxheWVycykge1xyXG4gICAgICAgICAgICBjdHggPSBTZXRBY3RpdmVQbGF5ZXJzKGN0eCwgX25leHRBY3RpdmVQbGF5ZXJzKTtcclxuICAgICAgICAgICAgKHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVBsYXllcnMsXHJcbiAgICAgICAgICAgICAgICBfYWN0aXZlUGxheWVyc01pbk1vdmVzLFxyXG4gICAgICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNYXhNb3ZlcyxcclxuICAgICAgICAgICAgICAgIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXMsXHJcbiAgICAgICAgICAgICAgICBfcHJldkFjdGl2ZVBsYXllcnMsXHJcbiAgICAgICAgICAgIH0gPSBjdHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfcHJldkFjdGl2ZVBsYXllcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBfcHJldkFjdGl2ZVBsYXllcnMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgKHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVBsYXllcnMsXHJcbiAgICAgICAgICAgICAgICBfYWN0aXZlUGxheWVyc01pbk1vdmVzLFxyXG4gICAgICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNYXhNb3ZlcyxcclxuICAgICAgICAgICAgICAgIF9hY3RpdmVQbGF5ZXJzTnVtTW92ZXMsXHJcbiAgICAgICAgICAgIH0gPSBfcHJldkFjdGl2ZVBsYXllcnNbbGFzdEluZGV4XSk7XHJcbiAgICAgICAgICAgIF9wcmV2QWN0aXZlUGxheWVycyA9IF9wcmV2QWN0aXZlUGxheWVycy5zbGljZSgwLCBsYXN0SW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYWN0aXZlUGxheWVycyA9IG51bGw7XHJcbiAgICAgICAgICAgIF9hY3RpdmVQbGF5ZXJzTWluTW92ZXMgPSBudWxsO1xyXG4gICAgICAgICAgICBfYWN0aXZlUGxheWVyc01heE1vdmVzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmN0eCxcclxuICAgICAgICBhY3RpdmVQbGF5ZXJzLFxyXG4gICAgICAgIF9hY3RpdmVQbGF5ZXJzTWluTW92ZXMsXHJcbiAgICAgICAgX2FjdGl2ZVBsYXllcnNNYXhNb3ZlcyxcclxuICAgICAgICBfYWN0aXZlUGxheWVyc051bU1vdmVzLFxyXG4gICAgICAgIF9wcmV2QWN0aXZlUGxheWVycyxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIEFwcGx5IGFuIGFjdGl2ZSBwbGF5ZXIgYXJndW1lbnQgdG8gdGhlIGdpdmVuIHBsYXllciBJRFxyXG4gKiBAcGFyYW0ge09iamVjdH0gYWN0aXZlUGxheWVyc1xyXG4gKiBAcGFyYW0ge09iamVjdH0gX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlc1xyXG4gKiBAcGFyYW0ge09iamVjdH0gX2FjdGl2ZVBsYXllcnNNYXhNb3Zlc1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGxheWVySUQgVGhlIHBsYXllciB0byBhcHBseSB0aGUgcGFyYW1ldGVyIHRvXHJcbiAqIEBwYXJhbSB7KFN0cmluZ3xPYmplY3QpfSBhcmcgQW4gYWN0aXZlIHBsYXllciBhcmd1bWVudFxyXG4gKi9cclxuZnVuY3Rpb24gQXBwbHlBY3RpdmVQbGF5ZXJBcmd1bWVudChhY3RpdmVQbGF5ZXJzLCBfYWN0aXZlUGxheWVyc01pbk1vdmVzLCBfYWN0aXZlUGxheWVyc01heE1vdmVzLCBwbGF5ZXJJRCwgYXJnKSB7XHJcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ29iamVjdCcgfHwgYXJnID09PSBTdGFnZS5OVUxMKSB7XHJcbiAgICAgICAgYXJnID0geyBzdGFnZTogYXJnIH07XHJcbiAgICB9XHJcbiAgICBpZiAoYXJnLnN0YWdlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAvLyBzdGFnZXMgcHJldmlvdXNseSBkaWQgbm90IGVuZm9yY2UgbWluTW92ZXMsIHRoaXMgYmVoYXZpb3VyIGlzIGtlcHQgaW50ZW50aW9uYWxseVxyXG4gICAgICAgIHN1cHBvcnREZXByZWNhdGVkTW92ZUxpbWl0KGFyZyk7XHJcbiAgICAgICAgYWN0aXZlUGxheWVyc1twbGF5ZXJJRF0gPSBhcmcuc3RhZ2U7XHJcbiAgICAgICAgaWYgKGFyZy5taW5Nb3ZlcylcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNaW5Nb3Zlc1twbGF5ZXJJRF0gPSBhcmcubWluTW92ZXM7XHJcbiAgICAgICAgaWYgKGFyZy5tYXhNb3ZlcylcclxuICAgICAgICAgICAgX2FjdGl2ZVBsYXllcnNNYXhNb3Zlc1twbGF5ZXJJRF0gPSBhcmcubWF4TW92ZXM7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENvbnZlcnRzIGEgcGxheU9yZGVyUG9zIGluZGV4IGludG8gaXRzIHZhbHVlIGluIHBsYXlPcmRlci5cclxuICogQHBhcmFtIHtBcnJheX0gcGxheU9yZGVyIC0gQW4gYXJyYXkgb2YgcGxheWVyIElEJ3MuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwbGF5T3JkZXJQb3MgLSBBbiBpbmRleCBpbnRvIHRoZSBhYm92ZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldEN1cnJlbnRQbGF5ZXIocGxheU9yZGVyLCBwbGF5T3JkZXJQb3MpIHtcclxuICAgIC8vIGNvbnZlcnQgdG8gc3RyaW5nIGluIGNhc2UgcGxheU9yZGVyIGlzIHNldCB0byBudW1iZXJbXVxyXG4gICAgcmV0dXJuIHBsYXlPcmRlcltwbGF5T3JkZXJQb3NdICsgJyc7XHJcbn1cclxuLyoqXHJcbiAqIENhbGxlZCBhdCB0aGUgc3RhcnQgb2YgYSB0dXJuIHRvIGluaXRpYWxpemUgdHVybiBvcmRlciBzdGF0ZS5cclxuICpcclxuICogVE9ETzogVGhpcyBpcyBjYWxsZWQgaW5zaWRlIFN0YXJ0VHVybiwgd2hpY2ggaXMgY2FsbGVkIGZyb21cclxuICogYm90aCBVcGRhdGVUdXJuIGFuZCBTdGFydFBoYXNlIChzbyBpdCdzIGNhbGxlZCBhdCB0aGUgYmVnaW5uaW5nXHJcbiAqIG9mIGEgbmV3IHBoYXNlIGFzIHdlbGwgYXMgYmV0d2VlbiB0dXJucykuIFdlIHNob3VsZCBwcm9iYWJseVxyXG4gKiBzcGxpdCBpdCBpbnRvIHR3by5cclxuICovXHJcbmZ1bmN0aW9uIEluaXRUdXJuT3JkZXJTdGF0ZShzdGF0ZSwgdHVybikge1xyXG4gICAgbGV0IHsgRywgY3R4IH0gPSBzdGF0ZTtcclxuICAgIGNvbnN0IHsgbnVtUGxheWVycyB9ID0gY3R4O1xyXG4gICAgY29uc3QgY3R4V2l0aEFQSSA9IEVuaGFuY2VDdHgoc3RhdGUpO1xyXG4gICAgY29uc3Qgb3JkZXIgPSB0dXJuLm9yZGVyO1xyXG4gICAgbGV0IHBsYXlPcmRlciA9IFsuLi5BcnJheS5mcm9tKHsgbGVuZ3RoOiBudW1QbGF5ZXJzIH0pXS5tYXAoKF8sIGkpID0+IGkgKyAnJyk7XHJcbiAgICBpZiAob3JkZXIucGxheU9yZGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwbGF5T3JkZXIgPSBvcmRlci5wbGF5T3JkZXIoRywgY3R4V2l0aEFQSSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwbGF5T3JkZXJQb3MgPSBvcmRlci5maXJzdChHLCBjdHhXaXRoQVBJKTtcclxuICAgIGNvbnN0IHBvc1R5cGUgPSB0eXBlb2YgcGxheU9yZGVyUG9zO1xyXG4gICAgaWYgKHBvc1R5cGUgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgZXJyb3IoYGludmFsaWQgdmFsdWUgcmV0dXJuZWQgYnkgdHVybi5vcmRlci5maXJzdCDigJQgZXhwZWN0ZWQgbnVtYmVyIGdvdCAke3Bvc1R5cGV9IOKAnCR7cGxheU9yZGVyUG9zfeKAnS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXIgPSBnZXRDdXJyZW50UGxheWVyKHBsYXlPcmRlciwgcGxheU9yZGVyUG9zKTtcclxuICAgIGN0eCA9IHsgLi4uY3R4LCBjdXJyZW50UGxheWVyLCBwbGF5T3JkZXJQb3MsIHBsYXlPcmRlciB9O1xyXG4gICAgY3R4ID0gU2V0QWN0aXZlUGxheWVycyhjdHgsIHR1cm4uYWN0aXZlUGxheWVycyB8fCB7fSk7XHJcbiAgICByZXR1cm4gY3R4O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxsZWQgYXQgdGhlIGVuZCBvZiBlYWNoIHR1cm4gdG8gdXBkYXRlIHRoZSB0dXJuIG9yZGVyIHN0YXRlLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gRyAtIFRoZSBnYW1lIG9iamVjdCBHLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gVGhlIGdhbWUgb2JqZWN0IGN0eC5cclxuICogQHBhcmFtIHtvYmplY3R9IHR1cm4gLSBBIHR1cm4gb2JqZWN0IGZvciB0aGlzIHBoYXNlLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5kVHVybkFyZyAtIEFuIG9wdGlvbmFsIGFyZ3VtZW50IHRvIGVuZFR1cm4gdGhhdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heSBzcGVjaWZ5IHRoZSBuZXh0IHBsYXllci5cclxuICovXHJcbmZ1bmN0aW9uIFVwZGF0ZVR1cm5PcmRlclN0YXRlKHN0YXRlLCBjdXJyZW50UGxheWVyLCB0dXJuLCBlbmRUdXJuQXJnKSB7XHJcbiAgICBjb25zdCBvcmRlciA9IHR1cm4ub3JkZXI7XHJcbiAgICBsZXQgeyBHLCBjdHggfSA9IHN0YXRlO1xyXG4gICAgbGV0IHBsYXlPcmRlclBvcyA9IGN0eC5wbGF5T3JkZXJQb3M7XHJcbiAgICBsZXQgZW5kUGhhc2UgPSBmYWxzZTtcclxuICAgIGlmIChlbmRUdXJuQXJnICYmIGVuZFR1cm5BcmcgIT09IHRydWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGVuZFR1cm5BcmcgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBpbnZhbGlkIGFyZ3VtZW50IHRvIGVuZFR1cm46ICR7ZW5kVHVybkFyZ31gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZW5kVHVybkFyZykuZm9yRWFjaCgoYXJnKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYXJnKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyZW1vdmUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIgPSBnZXRDdXJyZW50UGxheWVyKGN0eC5wbGF5T3JkZXIsIHBsYXlPcmRlclBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICduZXh0JzpcclxuICAgICAgICAgICAgICAgICAgICBwbGF5T3JkZXJQb3MgPSBjdHgucGxheU9yZGVyLmluZGV4T2YoZW5kVHVybkFyZy5uZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyID0gZW5kVHVybkFyZy5uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcihgaW52YWxpZCBhcmd1bWVudCB0byBlbmRUdXJuOiAke2FyZ31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgY3R4V2l0aEFQSSA9IEVuaGFuY2VDdHgoc3RhdGUpO1xyXG4gICAgICAgIGNvbnN0IHQgPSBvcmRlci5uZXh0KEcsIGN0eFdpdGhBUEkpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgdDtcclxuICAgICAgICBpZiAodCAhPT0gdW5kZWZpbmVkICYmIHR5cGUgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBpbnZhbGlkIHZhbHVlIHJldHVybmVkIGJ5IHR1cm4ub3JkZXIubmV4dCDigJQgZXhwZWN0ZWQgbnVtYmVyIG9yIHVuZGVmaW5lZCBnb3QgJHt0eXBlfSDigJwke3R94oCdLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGVuZFBoYXNlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBsYXlPcmRlclBvcyA9IHQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIgPSBnZXRDdXJyZW50UGxheWVyKGN0eC5wbGF5T3JkZXIsIHBsYXlPcmRlclBvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY3R4ID0ge1xyXG4gICAgICAgIC4uLmN0eCxcclxuICAgICAgICBwbGF5T3JkZXJQb3MsXHJcbiAgICAgICAgY3VycmVudFBsYXllcixcclxuICAgIH07XHJcbiAgICByZXR1cm4geyBlbmRQaGFzZSwgY3R4IH07XHJcbn1cclxuLyoqXHJcbiAqIFNldCBvZiBkaWZmZXJlbnQgdHVybiBvcmRlcnMgcG9zc2libGUgaW4gYSBwaGFzZS5cclxuICogVGhlc2UgYXJlIG1lYW50IHRvIGJlIHBhc3NlZCB0byB0aGUgYHR1cm5gIHNldHRpbmdcclxuICogaW4gdGhlIGZsb3cgb2JqZWN0cy5cclxuICpcclxuICogRWFjaCBvYmplY3QgZGVmaW5lcyB0aGUgZmlyc3QgcGxheWVyIHdoZW4gdGhlIHBoYXNlIC8gZ2FtZVxyXG4gKiBiZWdpbnMsIGFuZCBhbHNvIGEgZnVuY3Rpb24gYG5leHRgIHRvIGRldGVybWluZSB3aG8gdGhlXHJcbiAqIG5leHQgcGxheWVyIGlzIHdoZW4gdGhlIHR1cm4gZW5kcy5cclxuICpcclxuICogVGhlIHBoYXNlIGVuZHMgaWYgbmV4dCgpIHJldHVybnMgdW5kZWZpbmVkLlxyXG4gKi9cclxuY29uc3QgVHVybk9yZGVyID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBERUZBVUxUXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRlZmF1bHQgcm91bmQtcm9iaW4gdHVybiBvcmRlci5cclxuICAgICAqL1xyXG4gICAgREVGQVVMVDoge1xyXG4gICAgICAgIGZpcnN0OiAoRywgY3R4KSA9PiBjdHgudHVybiA9PT0gMFxyXG4gICAgICAgICAgICA/IGN0eC5wbGF5T3JkZXJQb3NcclxuICAgICAgICAgICAgOiAoY3R4LnBsYXlPcmRlclBvcyArIDEpICUgY3R4LnBsYXlPcmRlci5sZW5ndGgsXHJcbiAgICAgICAgbmV4dDogKEcsIGN0eCkgPT4gKGN0eC5wbGF5T3JkZXJQb3MgKyAxKSAlIGN0eC5wbGF5T3JkZXIubGVuZ3RoLFxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogUkVTRVRcclxuICAgICAqXHJcbiAgICAgKiBTaW1pbGFyIHRvIERFRkFVTFQsIGJ1dCBzdGFydHMgZnJvbSAwIGVhY2ggdGltZS5cclxuICAgICAqL1xyXG4gICAgUkVTRVQ6IHtcclxuICAgICAgICBmaXJzdDogKCkgPT4gMCxcclxuICAgICAgICBuZXh0OiAoRywgY3R4KSA9PiAoY3R4LnBsYXlPcmRlclBvcyArIDEpICUgY3R4LnBsYXlPcmRlci5sZW5ndGgsXHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDT05USU5VRVxyXG4gICAgICpcclxuICAgICAqIFNpbWlsYXIgdG8gREVGQVVMVCwgYnV0IHN0YXJ0cyB3aXRoIHRoZSBwbGF5ZXIgd2hvIGVuZGVkIHRoZSBsYXN0IHBoYXNlLlxyXG4gICAgICovXHJcbiAgICBDT05USU5VRToge1xyXG4gICAgICAgIGZpcnN0OiAoRywgY3R4KSA9PiBjdHgucGxheU9yZGVyUG9zLFxyXG4gICAgICAgIG5leHQ6IChHLCBjdHgpID0+IChjdHgucGxheU9yZGVyUG9zICsgMSkgJSBjdHgucGxheU9yZGVyLmxlbmd0aCxcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIE9OQ0VcclxuICAgICAqXHJcbiAgICAgKiBBbm90aGVyIHJvdW5kLXJvYmluIHR1cm4gb3JkZXIsIGJ1dCBnb2VzIGFyb3VuZCBqdXN0IG9uY2UuXHJcbiAgICAgKiBUaGUgcGhhc2UgZW5kcyBhZnRlciBhbGwgcGxheWVycyBoYXZlIHBsYXllZC5cclxuICAgICAqL1xyXG4gICAgT05DRToge1xyXG4gICAgICAgIGZpcnN0OiAoKSA9PiAwLFxyXG4gICAgICAgIG5leHQ6IChHLCBjdHgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGN0eC5wbGF5T3JkZXJQb3MgPCBjdHgucGxheU9yZGVyLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGxheU9yZGVyUG9zICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBDVVNUT01cclxuICAgICAqXHJcbiAgICAgKiBJZGVudGljYWwgdG8gREVGQVVMVCwgYnV0IGFsc28gc2V0cyBwbGF5T3JkZXIgYXQgdGhlXHJcbiAgICAgKiBiZWdpbm5pbmcgb2YgdGhlIHBoYXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBsYXlPcmRlciAtIFRoZSBwbGF5IG9yZGVyLlxyXG4gICAgICovXHJcbiAgICBDVVNUT006IChwbGF5T3JkZXIpID0+ICh7XHJcbiAgICAgICAgcGxheU9yZGVyOiAoKSA9PiBwbGF5T3JkZXIsXHJcbiAgICAgICAgZmlyc3Q6ICgpID0+IDAsXHJcbiAgICAgICAgbmV4dDogKEcsIGN0eCkgPT4gKGN0eC5wbGF5T3JkZXJQb3MgKyAxKSAlIGN0eC5wbGF5T3JkZXIubGVuZ3RoLFxyXG4gICAgfSksXHJcbiAgICAvKipcclxuICAgICAqIENVU1RPTV9GUk9NXHJcbiAgICAgKlxyXG4gICAgICogSWRlbnRpY2FsIHRvIERFRkFVTFQsIGJ1dCBhbHNvIHNldHMgcGxheU9yZGVyIGF0IHRoZVxyXG4gICAgICogYmVnaW5uaW5nIG9mIHRoZSBwaGFzZSB0byBhIHZhbHVlIHNwZWNpZmllZCBieSBhIGZpZWxkXHJcbiAgICAgKiBpbiBHLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF5T3JkZXJGaWVsZCAtIEZpZWxkIGluIEcuXHJcbiAgICAgKi9cclxuICAgIENVU1RPTV9GUk9NOiAocGxheU9yZGVyRmllbGQpID0+ICh7XHJcbiAgICAgICAgcGxheU9yZGVyOiAoRykgPT4gR1twbGF5T3JkZXJGaWVsZF0sXHJcbiAgICAgICAgZmlyc3Q6ICgpID0+IDAsXHJcbiAgICAgICAgbmV4dDogKEcsIGN0eCkgPT4gKGN0eC5wbGF5T3JkZXJQb3MgKyAxKSAlIGN0eC5wbGF5T3JkZXIubGVuZ3RoLFxyXG4gICAgfSksXHJcbn07XHJcbmNvbnN0IFN0YWdlID0ge1xyXG4gICAgTlVMTDogbnVsbCxcclxufTtcclxuY29uc3QgQWN0aXZlUGxheWVycyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogQUxMXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHR1cm4gc3RheXMgd2l0aCBvbmUgcGxheWVyLCBidXQgYW55IHBsYXllciBjYW4gcGxheSAoaW4gYW55IG9yZGVyKVxyXG4gICAgICogdW50aWwgdGhlIHBoYXNlIGVuZHMuXHJcbiAgICAgKi9cclxuICAgIEFMTDogeyBhbGw6IFN0YWdlLk5VTEwgfSxcclxuICAgIC8qKlxyXG4gICAgICogQUxMX09OQ0VcclxuICAgICAqXHJcbiAgICAgKiBUaGUgdHVybiBzdGF5cyB3aXRoIG9uZSBwbGF5ZXIsIGJ1dCBhbnkgcGxheWVyIGNhbiBwbGF5IChvbmNlLCBhbmQgaW4gYW55IG9yZGVyKS5cclxuICAgICAqIFRoaXMgaXMgdHlwaWNhbGx5IHVzZWQgaW4gYSBwaGFzZSB3aGVyZSB5b3Ugd2FudCB0byBlbGljaXQgYSByZXNwb25zZVxyXG4gICAgICogZnJvbSBldmVyeSBwbGF5ZXIgaW4gdGhlIGdhbWUuXHJcbiAgICAgKi9cclxuICAgIEFMTF9PTkNFOiB7IGFsbDogU3RhZ2UuTlVMTCwgbWluTW92ZXM6IDEsIG1heE1vdmVzOiAxIH0sXHJcbiAgICAvKipcclxuICAgICAqIE9USEVSU1xyXG4gICAgICpcclxuICAgICAqIFRoZSB0dXJuIHN0YXlzIHdpdGggb25lIHBsYXllciwgYW5kIGV2ZXJ5ICpvdGhlciogcGxheWVyIGNhbiBwbGF5IChpbiBhbnkgb3JkZXIpXHJcbiAgICAgKiB1bnRpbCB0aGUgcGhhc2UgZW5kcy5cclxuICAgICAqL1xyXG4gICAgT1RIRVJTOiB7IG90aGVyczogU3RhZ2UuTlVMTCB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBPVEhFUlNfT05DRVxyXG4gICAgICpcclxuICAgICAqIFRoZSB0dXJuIHN0YXlzIHdpdGggb25lIHBsYXllciwgYW5kIGV2ZXJ5ICpvdGhlciogcGxheWVyIGNhbiBwbGF5IChvbmNlLCBhbmQgaW4gYW55IG9yZGVyKS5cclxuICAgICAqIFRoaXMgaXMgdHlwaWNhbGx5IHVzZWQgaW4gYSBwaGFzZSB3aGVyZSB5b3Ugd2FudCB0byBlbGljaXQgYSByZXNwb25zZVxyXG4gICAgICogZnJvbSBldmVyeSAqb3RoZXIqIHBsYXllciBpbiB0aGUgZ2FtZS5cclxuICAgICAqL1xyXG4gICAgT1RIRVJTX09OQ0U6IHsgb3RoZXJzOiBTdGFnZS5OVUxMLCBtaW5Nb3ZlczogMSwgbWF4TW92ZXM6IDEgfSxcclxufTtcblxuZXhwb3J0IHsgQWN0aW9uQ3JlYXRvcnMgYXMgQSwgbWFrZU1vdmUgYXMgQiwgQWN0aXZlUGxheWVycyBhcyBDLCBFbmhhbmNlQ3R4IGFzIEUsIEZuV3JhcCBhcyBGLCBHYW1lTWV0aG9kIGFzIEcsIEluaXRUdXJuT3JkZXJTdGF0ZSBhcyBJLCBNQUtFX01PVkUgYXMgTSwgTm9DbGllbnQgYXMgTiwgUEFUQ0ggYXMgUCwgUkVETyBhcyBSLCBTdGFnZSBhcyBTLCBUdXJuT3JkZXIgYXMgVCwgVXBkYXRlVHVybk9yZGVyU3RhdGUgYXMgVSwgc3VwcG9ydERlcHJlY2F0ZWRNb3ZlTGltaXQgYXMgYSwgU2V0QWN0aXZlUGxheWVycyBhcyBiLCBVcGRhdGVBY3RpdmVQbGF5ZXJzT25jZUVtcHR5IGFzIGMsIFBMVUdJTiBhcyBkLCBlcnJvciBhcyBlLCBQcm9jZXNzQWN0aW9uIGFzIGYsIGdhbWVFdmVudCBhcyBnLCBVTkRPIGFzIGgsIGluZm8gYXMgaSwgU1lOQyBhcyBqLCBVUERBVEUgYXMgaywgUkVTRVQgYXMgbCwgRW5oYW5jZSBhcyBtLCBJTlZBTElEX01PVkUgYXMgbiwgR0FNRV9FVkVOVCBhcyBvLCBTVFJJUF9UUkFOU0lFTlRTIGFzIHAsIEZsdXNoQW5kVmFsaWRhdGUgYXMgcSwgc3RyaXBUcmFuc2llbnRzIGFzIHIsIHN5bmMgYXMgcywgU2V0dXAgYXMgdCwgcmVzZXQgYXMgdSwgdW5kbyBhcyB2LCByZWRvIGFzIHcsIFBsYXllclZpZXcgYXMgeCwgcGF0Y2ggYXMgeSwgdXBkYXRlIGFzIHogfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/turn-order-0b7dce3d.js\n"));

/***/ }),

/***/ "./node_modules/boardgame.io/dist/esm/util-b1699aa1.js":
/*!*************************************************************!*\
  !*** ./node_modules/boardgame.io/dist/esm/util-b1699aa1.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"A\": function() { return /* binding */ Async; },\n/* harmony export */   \"S\": function() { return /* binding */ Sync; },\n/* harmony export */   \"c\": function() { return /* binding */ createMatch; },\n/* harmony export */   \"i\": function() { return /* binding */ isSynchronous; }\n/* harmony export */ });\n/* harmony import */ var _initialize_9ac1bbf5_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initialize-9ac1bbf5.js */ \"./node_modules/boardgame.io/dist/esm/initialize-9ac1bbf5.js\");\n\n\nvar Type;\r\n(function (Type) {\r\n    Type[Type[\"SYNC\"] = 0] = \"SYNC\";\r\n    Type[Type[\"ASYNC\"] = 1] = \"ASYNC\";\r\n})(Type || (Type = {}));\r\n/**\r\n * Type guard that checks if a storage implementation is synchronous.\r\n */\r\nfunction isSynchronous(storageAPI) {\r\n    return storageAPI.type() === Type.SYNC;\r\n}\r\nclass Async {\r\n    /* istanbul ignore next */\r\n    type() {\r\n        /* istanbul ignore next */\r\n        return Type.ASYNC;\r\n    }\r\n    /**\r\n     * Create a new match.\r\n     *\r\n     * This might just need to call setState and setMetadata in\r\n     * most implementations.\r\n     *\r\n     * However, it exists as a separate call so that the\r\n     * implementation can provision things differently when\r\n     * a match is created.  For example, it might stow away the\r\n     * initial match state in a separate field for easier retrieval.\r\n     */\r\n    /* istanbul ignore next */\r\n    async createMatch(matchID, opts) {\r\n        if (this.createGame) {\r\n            console.warn('The database connector does not implement a createMatch method.', '\\nUsing the deprecated createGame method instead.');\r\n            return this.createGame(matchID, opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a createMatch method.');\r\n        }\r\n    }\r\n    /**\r\n     * Return all matches.\r\n     */\r\n    /* istanbul ignore next */\r\n    async listMatches(opts) {\r\n        if (this.listGames) {\r\n            console.warn('The database connector does not implement a listMatches method.', '\\nUsing the deprecated listGames method instead.');\r\n            return this.listGames(opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a listMatches method.');\r\n        }\r\n    }\r\n}\r\nclass Sync {\r\n    type() {\r\n        return Type.SYNC;\r\n    }\r\n    /**\r\n     * Connect.\r\n     */\r\n    connect() {\r\n        return;\r\n    }\r\n    /**\r\n     * Create a new match.\r\n     *\r\n     * This might just need to call setState and setMetadata in\r\n     * most implementations.\r\n     *\r\n     * However, it exists as a separate call so that the\r\n     * implementation can provision things differently when\r\n     * a match is created.  For example, it might stow away the\r\n     * initial match state in a separate field for easier retrieval.\r\n     */\r\n    /* istanbul ignore next */\r\n    createMatch(matchID, opts) {\r\n        if (this.createGame) {\r\n            console.warn('The database connector does not implement a createMatch method.', '\\nUsing the deprecated createGame method instead.');\r\n            return this.createGame(matchID, opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a createMatch method.');\r\n        }\r\n    }\r\n    /**\r\n     * Return all matches.\r\n     */\r\n    /* istanbul ignore next */\r\n    listMatches(opts) {\r\n        if (this.listGames) {\r\n            console.warn('The database connector does not implement a listMatches method.', '\\nUsing the deprecated listGames method instead.');\r\n            return this.listGames(opts);\r\n        }\r\n        else {\r\n            console.error('The database connector does not implement a listMatches method.');\r\n        }\r\n    }\r\n}\n\n/**\r\n * Creates a new match metadata object.\r\n */\r\nconst createMetadata = ({ game, unlisted, setupData, numPlayers, }) => {\r\n    const metadata = {\r\n        gameName: game.name,\r\n        unlisted: !!unlisted,\r\n        players: {},\r\n        createdAt: Date.now(),\r\n        updatedAt: Date.now(),\r\n    };\r\n    if (setupData !== undefined)\r\n        metadata.setupData = setupData;\r\n    for (let playerIndex = 0; playerIndex < numPlayers; playerIndex++) {\r\n        metadata.players[playerIndex] = { id: playerIndex };\r\n    }\r\n    return metadata;\r\n};\r\n/**\r\n * Creates initial state and metadata for a new match.\r\n * If the provided `setupData` doesn’t pass the game’s validation,\r\n * an error object is returned instead.\r\n */\r\nconst createMatch = ({ game, numPlayers, setupData, unlisted, }) => {\r\n    if (!numPlayers || typeof numPlayers !== 'number')\r\n        numPlayers = 2;\r\n    const setupDataError = game.validateSetupData && game.validateSetupData(setupData, numPlayers);\r\n    if (setupDataError !== undefined)\r\n        return { setupDataError };\r\n    const metadata = createMetadata({ game, numPlayers, setupData, unlisted });\r\n    const initialState = (0,_initialize_9ac1bbf5_js__WEBPACK_IMPORTED_MODULE_0__.I)({ game, numPlayers, setupData });\r\n    return { metadata, initialState };\r\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3V0aWwtYjE2OTlhYTEuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0Q7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQkFBb0I7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0NBQXdDO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDBCQUEwQjtBQUN4RCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3Q0FBd0M7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsc0NBQXNDLHVDQUF1QztBQUM3RSx5QkFBeUIsMERBQWMsR0FBRyw2QkFBNkI7QUFDdkUsYUFBYTtBQUNiOztBQUV1RSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYm9hcmRnYW1lLmlvL2Rpc3QvZXNtL3V0aWwtYjE2OTlhYTEuanM/MzVjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJIGFzIEluaXRpYWxpemVHYW1lIH0gZnJvbSAnLi9pbml0aWFsaXplLTlhYzFiYmY1LmpzJztcblxudmFyIFR5cGU7XHJcbihmdW5jdGlvbiAoVHlwZSkge1xyXG4gICAgVHlwZVtUeXBlW1wiU1lOQ1wiXSA9IDBdID0gXCJTWU5DXCI7XHJcbiAgICBUeXBlW1R5cGVbXCJBU1lOQ1wiXSA9IDFdID0gXCJBU1lOQ1wiO1xyXG59KShUeXBlIHx8IChUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIFR5cGUgZ3VhcmQgdGhhdCBjaGVja3MgaWYgYSBzdG9yYWdlIGltcGxlbWVudGF0aW9uIGlzIHN5bmNocm9ub3VzLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNTeW5jaHJvbm91cyhzdG9yYWdlQVBJKSB7XHJcbiAgICByZXR1cm4gc3RvcmFnZUFQSS50eXBlKCkgPT09IFR5cGUuU1lOQztcclxufVxyXG5jbGFzcyBBc3luYyB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgdHlwZSgpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIHJldHVybiBUeXBlLkFTWU5DO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgbWF0Y2guXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtaWdodCBqdXN0IG5lZWQgdG8gY2FsbCBzZXRTdGF0ZSBhbmQgc2V0TWV0YWRhdGEgaW5cclxuICAgICAqIG1vc3QgaW1wbGVtZW50YXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEhvd2V2ZXIsIGl0IGV4aXN0cyBhcyBhIHNlcGFyYXRlIGNhbGwgc28gdGhhdCB0aGVcclxuICAgICAqIGltcGxlbWVudGF0aW9uIGNhbiBwcm92aXNpb24gdGhpbmdzIGRpZmZlcmVudGx5IHdoZW5cclxuICAgICAqIGEgbWF0Y2ggaXMgY3JlYXRlZC4gIEZvciBleGFtcGxlLCBpdCBtaWdodCBzdG93IGF3YXkgdGhlXHJcbiAgICAgKiBpbml0aWFsIG1hdGNoIHN0YXRlIGluIGEgc2VwYXJhdGUgZmllbGQgZm9yIGVhc2llciByZXRyaWV2YWwuXHJcbiAgICAgKi9cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICBhc3luYyBjcmVhdGVNYXRjaChtYXRjaElELCBvcHRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlR2FtZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBjb25uZWN0b3IgZG9lcyBub3QgaW1wbGVtZW50IGEgY3JlYXRlTWF0Y2ggbWV0aG9kLicsICdcXG5Vc2luZyB0aGUgZGVwcmVjYXRlZCBjcmVhdGVHYW1lIG1ldGhvZCBpbnN0ZWFkLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHYW1lKG1hdGNoSUQsIG9wdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhlIGRhdGFiYXNlIGNvbm5lY3RvciBkb2VzIG5vdCBpbXBsZW1lbnQgYSBjcmVhdGVNYXRjaCBtZXRob2QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYWxsIG1hdGNoZXMuXHJcbiAgICAgKi9cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICBhc3luYyBsaXN0TWF0Y2hlcyhvcHRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGlzdEdhbWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhlIGRhdGFiYXNlIGNvbm5lY3RvciBkb2VzIG5vdCBpbXBsZW1lbnQgYSBsaXN0TWF0Y2hlcyBtZXRob2QuJywgJ1xcblVzaW5nIHRoZSBkZXByZWNhdGVkIGxpc3RHYW1lcyBtZXRob2QgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdEdhbWVzKG9wdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhlIGRhdGFiYXNlIGNvbm5lY3RvciBkb2VzIG5vdCBpbXBsZW1lbnQgYSBsaXN0TWF0Y2hlcyBtZXRob2QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNsYXNzIFN5bmMge1xyXG4gICAgdHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gVHlwZS5TWU5DO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25uZWN0LlxyXG4gICAgICovXHJcbiAgICBjb25uZWN0KCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IG1hdGNoLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWlnaHQganVzdCBuZWVkIHRvIGNhbGwgc2V0U3RhdGUgYW5kIHNldE1ldGFkYXRhIGluXHJcbiAgICAgKiBtb3N0IGltcGxlbWVudGF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBIb3dldmVyLCBpdCBleGlzdHMgYXMgYSBzZXBhcmF0ZSBjYWxsIHNvIHRoYXQgdGhlXHJcbiAgICAgKiBpbXBsZW1lbnRhdGlvbiBjYW4gcHJvdmlzaW9uIHRoaW5ncyBkaWZmZXJlbnRseSB3aGVuXHJcbiAgICAgKiBhIG1hdGNoIGlzIGNyZWF0ZWQuICBGb3IgZXhhbXBsZSwgaXQgbWlnaHQgc3RvdyBhd2F5IHRoZVxyXG4gICAgICogaW5pdGlhbCBtYXRjaCBzdGF0ZSBpbiBhIHNlcGFyYXRlIGZpZWxkIGZvciBlYXNpZXIgcmV0cmlldmFsLlxyXG4gICAgICovXHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgY3JlYXRlTWF0Y2gobWF0Y2hJRCwgb3B0cykge1xyXG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZUdhbWUpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGUgZGF0YWJhc2UgY29ubmVjdG9yIGRvZXMgbm90IGltcGxlbWVudCBhIGNyZWF0ZU1hdGNoIG1ldGhvZC4nLCAnXFxuVXNpbmcgdGhlIGRlcHJlY2F0ZWQgY3JlYXRlR2FtZSBtZXRob2QgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlR2FtZShtYXRjaElELCBvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBkYXRhYmFzZSBjb25uZWN0b3IgZG9lcyBub3QgaW1wbGVtZW50IGEgY3JlYXRlTWF0Y2ggbWV0aG9kLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFsbCBtYXRjaGVzLlxyXG4gICAgICovXHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgbGlzdE1hdGNoZXMob3B0cykge1xyXG4gICAgICAgIGlmICh0aGlzLmxpc3RHYW1lcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBjb25uZWN0b3IgZG9lcyBub3QgaW1wbGVtZW50IGEgbGlzdE1hdGNoZXMgbWV0aG9kLicsICdcXG5Vc2luZyB0aGUgZGVwcmVjYXRlZCBsaXN0R2FtZXMgbWV0aG9kIGluc3RlYWQuJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RHYW1lcyhvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBkYXRhYmFzZSBjb25uZWN0b3IgZG9lcyBub3QgaW1wbGVtZW50IGEgbGlzdE1hdGNoZXMgbWV0aG9kLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXRjaCBtZXRhZGF0YSBvYmplY3QuXHJcbiAqL1xyXG5jb25zdCBjcmVhdGVNZXRhZGF0YSA9ICh7IGdhbWUsIHVubGlzdGVkLCBzZXR1cERhdGEsIG51bVBsYXllcnMsIH0pID0+IHtcclxuICAgIGNvbnN0IG1ldGFkYXRhID0ge1xyXG4gICAgICAgIGdhbWVOYW1lOiBnYW1lLm5hbWUsXHJcbiAgICAgICAgdW5saXN0ZWQ6ICEhdW5saXN0ZWQsXHJcbiAgICAgICAgcGxheWVyczoge30sXHJcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcclxuICAgIH07XHJcbiAgICBpZiAoc2V0dXBEYXRhICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgbWV0YWRhdGEuc2V0dXBEYXRhID0gc2V0dXBEYXRhO1xyXG4gICAgZm9yIChsZXQgcGxheWVySW5kZXggPSAwOyBwbGF5ZXJJbmRleCA8IG51bVBsYXllcnM7IHBsYXllckluZGV4KyspIHtcclxuICAgICAgICBtZXRhZGF0YS5wbGF5ZXJzW3BsYXllckluZGV4XSA9IHsgaWQ6IHBsYXllckluZGV4IH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWV0YWRhdGE7XHJcbn07XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGluaXRpYWwgc3RhdGUgYW5kIG1ldGFkYXRhIGZvciBhIG5ldyBtYXRjaC5cclxuICogSWYgdGhlIHByb3ZpZGVkIGBzZXR1cERhdGFgIGRvZXNu4oCZdCBwYXNzIHRoZSBnYW1l4oCZcyB2YWxpZGF0aW9uLFxyXG4gKiBhbiBlcnJvciBvYmplY3QgaXMgcmV0dXJuZWQgaW5zdGVhZC5cclxuICovXHJcbmNvbnN0IGNyZWF0ZU1hdGNoID0gKHsgZ2FtZSwgbnVtUGxheWVycywgc2V0dXBEYXRhLCB1bmxpc3RlZCwgfSkgPT4ge1xyXG4gICAgaWYgKCFudW1QbGF5ZXJzIHx8IHR5cGVvZiBudW1QbGF5ZXJzICE9PSAnbnVtYmVyJylcclxuICAgICAgICBudW1QbGF5ZXJzID0gMjtcclxuICAgIGNvbnN0IHNldHVwRGF0YUVycm9yID0gZ2FtZS52YWxpZGF0ZVNldHVwRGF0YSAmJiBnYW1lLnZhbGlkYXRlU2V0dXBEYXRhKHNldHVwRGF0YSwgbnVtUGxheWVycyk7XHJcbiAgICBpZiAoc2V0dXBEYXRhRXJyb3IgIT09IHVuZGVmaW5lZClcclxuICAgICAgICByZXR1cm4geyBzZXR1cERhdGFFcnJvciB9O1xyXG4gICAgY29uc3QgbWV0YWRhdGEgPSBjcmVhdGVNZXRhZGF0YSh7IGdhbWUsIG51bVBsYXllcnMsIHNldHVwRGF0YSwgdW5saXN0ZWQgfSk7XHJcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBJbml0aWFsaXplR2FtZSh7IGdhbWUsIG51bVBsYXllcnMsIHNldHVwRGF0YSB9KTtcclxuICAgIHJldHVybiB7IG1ldGFkYXRhLCBpbml0aWFsU3RhdGUgfTtcclxufTtcblxuZXhwb3J0IHsgQXN5bmMgYXMgQSwgU3luYyBhcyBTLCBjcmVhdGVNYXRjaCBhcyBjLCBpc1N5bmNocm9ub3VzIGFzIGkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/boardgame.io/dist/esm/util-b1699aa1.js\n"));

/***/ }),

/***/ "./node_modules/lodash.isplainobject/index.js":
/*!****************************************************!*\
  !*** ./node_modules/lodash.isplainobject/index.js ***!
  \****************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoLmlzcGxhaW5vYmplY3QvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnQkFBZ0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNwbGFpbm9iamVjdC9pbmRleC5qcz8zMWY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fFxuICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash.isplainobject/index.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cryanm%5CDocuments%5CProjects%5Cair-land-sea%5Csrc%5Cpages%5Cindex.tsx&page=%2F!":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cryanm%5CDocuments%5CProjects%5Cair-land-sea%5Csrc%5Cpages%5Cindex.tsx&page=%2F! ***!
  \**************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(/*! ./src/pages/index.tsx */ \"./src/pages/index.tsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD1DJTNBJTVDVXNlcnMlNUNyeWFubSU1Q0RvY3VtZW50cyU1Q1Byb2plY3RzJTVDYWlyLWxhbmQtc2VhJTVDc3JjJTVDcGFnZXMlNUNpbmRleC50c3gmcGFnZT0lMkYhLmpzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFPLENBQUMsb0RBQXVCO0FBQzlDO0FBQ0E7QUFDQSxPQUFPLElBQVU7QUFDakIsTUFBTSxVQUFVO0FBQ2hCO0FBQ0EsT0FBTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLz83MDFiIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICh3aW5kb3cuX19ORVhUX1AgPSB3aW5kb3cuX19ORVhUX1AgfHwgW10pLnB1c2goW1xuICAgICAgXCIvXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwiLi9zcmMvcGFnZXMvaW5kZXgudHN4XCIpO1xuICAgICAgfVxuICAgIF0pO1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5fX05FWFRfUC5wdXNoKFtcIi9cIl0pXG4gICAgICB9KTtcbiAgICB9XG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cryanm%5CDocuments%5CProjects%5Cair-land-sea%5Csrc%5Cpages%5Cindex.tsx&page=%2F!\n"));

/***/ }),

/***/ "./src/components/board/Board.tsx":
/*!****************************************!*\
  !*** ./src/components/board/Board.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BoardContext\": function() { return /* binding */ BoardContext; },\n/* harmony export */   \"useBoardContext\": function() { return /* binding */ useBoardContext; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Hand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Hand */ \"./src/components/board/Hand.tsx\");\n/* harmony import */ var _TheaterRow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TheaterRow */ \"./src/components/board/TheaterRow.tsx\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var _Controls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Controls */ \"./src/components/board/Controls.tsx\");\n/* harmony import */ var _HelpText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./HelpText */ \"./src/components/board/HelpText.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\nvar BoardContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nvar useBoardContext = function() {\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(BoardContext);\n};\n_s(useBoardContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar Board = function(boardProps) {\n    _s1();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), activeCardDesc = ref[0], setActiveCardDesc = ref[1];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BoardContext.Provider, {\n        value: boardProps,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.VStack, {\n            h: \"100vh\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.Flex, {\n                    h: \"10%\",\n                    gap: \"3px\",\n                    alignItems: \"center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Hand__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        type: \"opponent\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                        lineNumber: 20,\n                        columnNumber: 11\n                    }, _this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                    lineNumber: 19,\n                    columnNumber: 9\n                }, _this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.Box, {\n                    h: \"60%\",\n                    w: \"100%\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TheaterRow__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        setDesc: setActiveCardDesc\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                        lineNumber: 23,\n                        columnNumber: 11\n                    }, _this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                    lineNumber: 22,\n                    columnNumber: 9\n                }, _this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.Grid, {\n                    h: \"30%\",\n                    w: \"100%\",\n                    templateColumns: \"repeat(4, 1fr)\",\n                    gap: 4,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.GridItem, {\n                            h: \"100%\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.Flex, {\n                                h: \"100%\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                gap: \"3px\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Controls__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                                    lineNumber: 33,\n                                    columnNumber: 15\n                                }, _this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                                lineNumber: 27,\n                                columnNumber: 13\n                            }, _this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                            lineNumber: 26,\n                            columnNumber: 11\n                        }, _this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.GridItem, {\n                            colSpan: 2,\n                            h: \"100%\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HelpText__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                                    lineNumber: 37,\n                                    columnNumber: 13\n                                }, _this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.Flex, {\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    gap: \"3px\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Hand__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        type: \"self\",\n                                        setDesc: setActiveCardDesc\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                                        lineNumber: 39,\n                                        columnNumber: 15\n                                    }, _this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                                    lineNumber: 38,\n                                    columnNumber: 13\n                                }, _this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                            lineNumber: 36,\n                            columnNumber: 11\n                        }, _this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.GridItem, {\n                            h: \"100%\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.Flex, {\n                                h: \"100%\",\n                                alignItems: \"center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.Text, {\n                                    children: activeCardDesc\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                                    lineNumber: 44,\n                                    columnNumber: 15\n                                }, _this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                                lineNumber: 43,\n                                columnNumber: 13\n                            }, _this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                            lineNumber: 42,\n                            columnNumber: 11\n                        }, _this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n                    lineNumber: 25,\n                    columnNumber: 9\n                }, _this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, _this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Board.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, _this);\n};\n_s1(Board, \"v2x6wirwKCy++9DuW8s383qRkbI=\");\n_c = Board;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Board);\nvar _c;\n$RefreshReg$(_c, \"Board\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9Cb2FyZC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7O0FBQTREO0FBR2xDO0FBQ1k7QUFDcUM7QUFDekM7QUFDQTtBQUUzQixJQUFNYSxZQUFZLGlCQUFHWixvREFBYSxDQUFDLEVBQUUsQ0FBMEIsQ0FBQztBQUNoRSxJQUFNYSxlQUFlLEdBQUcsV0FBTWQ7O0lBQUFBLE9BQUFBLGlEQUFVLENBQUNhLFlBQVksQ0FBQztBQUFELENBQUMsQ0FBQztHQUFqREMsZUFBZTtBQUU1QixJQUFNQyxLQUFLLEdBQUcsU0FBQ0MsVUFBaUMsRUFBa0I7O0lBQ2hFLElBQTRDZCxHQUFZLEdBQVpBLCtDQUFRLENBQUMsRUFBRSxDQUFDLEVBQWpEZSxjQUFjLEdBQXVCZixHQUFZLEdBQW5DLEVBQUVnQixpQkFBaUIsR0FBSWhCLEdBQVksR0FBaEI7SUFFeEMscUJBQ0UsOERBQUNXLFlBQVksQ0FBQ00sUUFBUTtRQUFDQyxLQUFLLEVBQUVKLFVBQVU7a0JBQ3RDLDRFQUFDVixvREFBTTtZQUFDZSxDQUFDLEVBQUMsT0FBTzs7OEJBQ2YsOERBQUNkLGtEQUFJO29CQUFDYyxDQUFDLEVBQUMsS0FBSztvQkFBQ0MsR0FBRyxFQUFDLEtBQUs7b0JBQUNDLFVBQVUsRUFBQyxRQUFROzhCQUN6Qyw0RUFBQ3BCLDZDQUFJO3dCQUFDcUIsSUFBSSxFQUFDLFVBQVU7Ozs7OzZCQUFHOzs7Ozt5QkFDbkI7OEJBQ1AsOERBQUNuQixpREFBRztvQkFBQ2dCLENBQUMsRUFBQyxLQUFLO29CQUFDSSxDQUFDLEVBQUMsTUFBTTs4QkFDbkIsNEVBQUNyQixtREFBVTt3QkFBQ3NCLE9BQU8sRUFBRVIsaUJBQWlCOzs7Ozs2QkFBSTs7Ozs7eUJBQ3RDOzhCQUNOLDhEQUFDVCxrREFBSTtvQkFBQ1ksQ0FBQyxFQUFDLEtBQUs7b0JBQUNJLENBQUMsRUFBQyxNQUFNO29CQUFDRSxlQUFlLEVBQUMsZ0JBQWdCO29CQUFDTCxHQUFHLEVBQUUsQ0FBQzs7c0NBQzVELDhEQUFDWixzREFBUTs0QkFBQ1csQ0FBQyxFQUFDLE1BQU07c0NBQ2hCLDRFQUFDZCxrREFBSTtnQ0FDSGMsQ0FBQyxFQUFDLE1BQU07Z0NBQ1JFLFVBQVUsRUFBQyxRQUFRO2dDQUNuQkssY0FBYyxFQUFDLFFBQVE7Z0NBQ3ZCTixHQUFHLEVBQUMsS0FBSzswQ0FFVCw0RUFBQ1gsaURBQVE7Ozs7eUNBQUc7Ozs7O3FDQUNQOzs7OztpQ0FDRTtzQ0FDWCw4REFBQ0Qsc0RBQVE7NEJBQUNtQixPQUFPLEVBQUUsQ0FBQzs0QkFBRVIsQ0FBQyxFQUFDLE1BQU07OzhDQUM1Qiw4REFBQ1QsaURBQVE7Ozs7eUNBQUc7OENBQ1osOERBQUNMLGtEQUFJO29DQUFDZ0IsVUFBVSxFQUFDLFFBQVE7b0NBQUNLLGNBQWMsRUFBQyxRQUFRO29DQUFDTixHQUFHLEVBQUMsS0FBSzs4Q0FDekQsNEVBQUNuQiw2Q0FBSTt3Q0FBQ3FCLElBQUksRUFBQyxNQUFNO3dDQUFDRSxPQUFPLEVBQUVSLGlCQUFpQjs7Ozs7NkNBQUk7Ozs7O3lDQUMzQzs7Ozs7O2lDQUNFO3NDQUNYLDhEQUFDUixzREFBUTs0QkFBQ1csQ0FBQyxFQUFDLE1BQU07c0NBQ2hCLDRFQUFDZCxrREFBSTtnQ0FBQ2MsQ0FBQyxFQUFDLE1BQU07Z0NBQUNFLFVBQVUsRUFBQyxRQUFROzBDQUNoQyw0RUFBQ2Ysa0RBQUk7OENBQUVTLGNBQWM7Ozs7O3lDQUFROzs7OztxQ0FDeEI7Ozs7O2lDQUNFOzs7Ozs7eUJBQ047Ozs7OztpQkFDQTs7Ozs7YUFDYSxDQUN4QjtBQUNKLENBQUM7SUF0Q0tGLEtBQUs7QUFBTEEsS0FBQUEsS0FBSztBQXdDWCwrREFBZUEsS0FBSyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2JvYXJkL0JvYXJkLnRzeD81NDY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNvbnRleHQsIGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBCb2FyZFByb3BzIH0gZnJvbSAnYm9hcmRnYW1lLmlvL3JlYWN0JztcclxuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSAnLi4vLi4vZ2FtZS9nYW1lVHlwZXMnO1xyXG5pbXBvcnQgSGFuZCBmcm9tICcuL0hhbmQnO1xyXG5pbXBvcnQgVGhlYXRlclJvdyBmcm9tICcuL1RoZWF0ZXJSb3cnO1xyXG5pbXBvcnQgeyBCb3gsIFZTdGFjaywgRmxleCwgVGV4dCwgR3JpZCwgR3JpZEl0ZW0gfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcclxuaW1wb3J0IENvbnRyb2xzIGZyb20gJy4vQ29udHJvbHMnO1xyXG5pbXBvcnQgSGVscFRleHQgZnJvbSAnLi9IZWxwVGV4dCc7XHJcblxyXG5leHBvcnQgY29uc3QgQm9hcmRDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSBhcyBCb2FyZFByb3BzPEdhbWVTdGF0ZT4pO1xyXG5leHBvcnQgY29uc3QgdXNlQm9hcmRDb250ZXh0ID0gKCkgPT4gdXNlQ29udGV4dChCb2FyZENvbnRleHQpO1xyXG5cclxuY29uc3QgQm9hcmQgPSAoYm9hcmRQcm9wczogQm9hcmRQcm9wczxHYW1lU3RhdGU+KTogSlNYLkVsZW1lbnQgPT4ge1xyXG4gIGNvbnN0IFthY3RpdmVDYXJkRGVzYywgc2V0QWN0aXZlQ2FyZERlc2NdID0gdXNlU3RhdGUoJycpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPEJvYXJkQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Ym9hcmRQcm9wc30+XHJcbiAgICAgIDxWU3RhY2sgaD1cIjEwMHZoXCI+XHJcbiAgICAgICAgPEZsZXggaD1cIjEwJVwiIGdhcD1cIjNweFwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cclxuICAgICAgICAgIDxIYW5kIHR5cGU9XCJvcHBvbmVudFwiIC8+XHJcbiAgICAgICAgPC9GbGV4PlxyXG4gICAgICAgIDxCb3ggaD1cIjYwJVwiIHc9XCIxMDAlXCI+XHJcbiAgICAgICAgICA8VGhlYXRlclJvdyBzZXREZXNjPXtzZXRBY3RpdmVDYXJkRGVzY30gLz5cclxuICAgICAgICA8L0JveD5cclxuICAgICAgICA8R3JpZCBoPVwiMzAlXCIgdz1cIjEwMCVcIiB0ZW1wbGF0ZUNvbHVtbnM9XCJyZXBlYXQoNCwgMWZyKVwiIGdhcD17NH0+XHJcbiAgICAgICAgICA8R3JpZEl0ZW0gaD1cIjEwMCVcIj5cclxuICAgICAgICAgICAgPEZsZXhcclxuICAgICAgICAgICAgICBoPVwiMTAwJVwiXHJcbiAgICAgICAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXHJcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIlxyXG4gICAgICAgICAgICAgIGdhcD1cIjNweFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8Q29udHJvbHMgLz5cclxuICAgICAgICAgICAgPC9GbGV4PlxyXG4gICAgICAgICAgPC9HcmlkSXRlbT5cclxuICAgICAgICAgIDxHcmlkSXRlbSBjb2xTcGFuPXsyfSBoPVwiMTAwJVwiPlxyXG4gICAgICAgICAgICA8SGVscFRleHQgLz5cclxuICAgICAgICAgICAgPEZsZXggYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgZ2FwPVwiM3B4XCI+XHJcbiAgICAgICAgICAgICAgPEhhbmQgdHlwZT1cInNlbGZcIiBzZXREZXNjPXtzZXRBY3RpdmVDYXJkRGVzY30gLz5cclxuICAgICAgICAgICAgPC9GbGV4PlxyXG4gICAgICAgICAgPC9HcmlkSXRlbT5cclxuICAgICAgICAgIDxHcmlkSXRlbSBoPVwiMTAwJVwiPlxyXG4gICAgICAgICAgICA8RmxleCBoPVwiMTAwJVwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICA8VGV4dD57YWN0aXZlQ2FyZERlc2N9PC9UZXh0PlxyXG4gICAgICAgICAgICA8L0ZsZXg+XHJcbiAgICAgICAgICA8L0dyaWRJdGVtPlxyXG4gICAgICAgIDwvR3JpZD5cclxuICAgICAgPC9WU3RhY2s+XHJcbiAgICA8L0JvYXJkQ29udGV4dC5Qcm92aWRlcj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQm9hcmQ7XHJcbiJdLCJuYW1lcyI6WyJ1c2VDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInVzZVN0YXRlIiwiSGFuZCIsIlRoZWF0ZXJSb3ciLCJCb3giLCJWU3RhY2siLCJGbGV4IiwiVGV4dCIsIkdyaWQiLCJHcmlkSXRlbSIsIkNvbnRyb2xzIiwiSGVscFRleHQiLCJCb2FyZENvbnRleHQiLCJ1c2VCb2FyZENvbnRleHQiLCJCb2FyZCIsImJvYXJkUHJvcHMiLCJhY3RpdmVDYXJkRGVzYyIsInNldEFjdGl2ZUNhcmREZXNjIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsImgiLCJnYXAiLCJhbGlnbkl0ZW1zIiwidHlwZSIsInciLCJzZXREZXNjIiwidGVtcGxhdGVDb2x1bW5zIiwianVzdGlmeUNvbnRlbnQiLCJjb2xTcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/board/Board.tsx\n"));

/***/ }),

/***/ "./src/components/board/Card.tsx":
/*!***************************************!*\
  !*** ./src/components/board/Card.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swc_helpers_src_tagged_template_literal_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @swc/helpers/src/_tagged_template_literal.mjs */ \"./node_modules/@swc/helpers/src/_tagged_template_literal.mjs\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var config_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! config/theme */ \"./src/config/theme.ts\");\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n\nvar _this = undefined;\nfunction _templateObject() {\n    var data = (0,_swc_helpers_src_tagged_template_literal_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\n        \"\\n        transition-duration: 0.3s;\\n        transition-property: transform;\\n        &:hover {\\n          transform: scale(1.1);\\n        }\\n      \"\n    ]);\n    _templateObject = function _templateObject() {\n        return data;\n    };\n    return data;\n}\n\nvar _s = $RefreshSig$();\n\n\n\n\nvar Card = function(param) {\n    var card = param.card, deployed = param.deployed, setDesc = param.setDesc;\n    var getCardId = function getCardId() {\n        return G.players[Number(playerID)].cards.findIndex(function(c) {\n            return c.cardID === card.cardID;\n        });\n    };\n    _s();\n    var ref = (0,_Board__WEBPACK_IMPORTED_MODULE_3__.useBoardContext)(), G = ref.G, moves = ref.moves, playerID = ref.playerID;\n    var cardInfo = card.cardInfo, strength = card.strength, faceDown = card.faceDown;\n    var name = cardInfo.name, desc = cardInfo.desc, theater = cardInfo.theater;\n    var cardDisplay = faceDown ? strength : \"\".concat(strength, \" \").concat(name);\n    var description = deployed === \"opponent\" && faceDown ? \"\" : \"\".concat(name, \" (\").concat(strength, \"): \").concat(desc);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Box, {\n        w: \"75px\",\n        h: \"125px\",\n        bg: faceDown ? config_theme__WEBPACK_IMPORTED_MODULE_2__.theme.faceDown : config_theme__WEBPACK_IMPORTED_MODULE_2__.theme[theater],\n        border: \"2px solid black\",\n        color: \"white\",\n        borderRadius: \"10%\",\n        cursor: \"pointer\",\n        marginRight: deployed != null ? \"-50px\" : \"0\",\n        onClick: !deployed ? function() {\n            return moves.selectCard(getCardId());\n        } : undefined,\n        tabIndex: 0,\n        css: (0,_emotion_react__WEBPACK_IMPORTED_MODULE_5__.css)(_templateObject()),\n        onMouseOver: function() {\n            return setDesc ? setDesc(description) : undefined;\n        },\n        onMouseOut: function() {\n            return setDesc ? setDesc(\"\") : undefined;\n        },\n        children: cardDisplay\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Card.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, _this);\n};\n_s(Card, \"fNNFxL4+Y6kwYyNSUa1wRELsRuY=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_3__.useBoardContext\n    ];\n});\n_c = Card;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Card);\nvar _c;\n$RefreshReg$(_c, \"Card\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9DYXJkLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ0Y7QUFFSztBQUNMO0FBUXJDLElBQU1JLElBQUksR0FBRyxnQkFBd0M7UUFBckNDLElBQUksU0FBSkEsSUFBSSxFQUFFQyxRQUFRLFNBQVJBLFFBQVEsRUFBRUMsT0FBTyxTQUFQQSxPQUFPO1FBTzVCQyxTQUFTLEdBQWxCLFNBQVNBLFNBQVMsR0FBVztRQUMzQixPQUFPQyxDQUFDLENBQUNDLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUNDLFNBQVMsQ0FDaEQsU0FBQ0MsQ0FBQzttQkFBS0EsQ0FBQyxDQUFDQyxNQUFNLEtBQUtYLElBQUksQ0FBQ1csTUFBTTtTQUFBLENBQ2hDLENBQUM7SUFDSixDQUFDOztJQVZELElBQStCZCxHQUFpQixHQUFqQkEsdURBQWUsRUFBRSxFQUF4Q08sQ0FBQyxHQUFzQlAsR0FBaUIsQ0FBeENPLENBQUMsRUFBRVEsS0FBSyxHQUFlZixHQUFpQixDQUFyQ2UsS0FBSyxFQUFFTCxRQUFRLEdBQUtWLEdBQWlCLENBQTlCVSxRQUFRO0lBQzFCLElBQVFNLFFBQVEsR0FBeUJiLElBQUksQ0FBckNhLFFBQVEsRUFBRUMsUUFBUSxHQUFlZCxJQUFJLENBQTNCYyxRQUFRLEVBQUVDLFFBQVEsR0FBS2YsSUFBSSxDQUFqQmUsUUFBUTtJQUNwQyxJQUFRQyxJQUFJLEdBQW9CSCxRQUFRLENBQWhDRyxJQUFJLEVBQUVDLElBQUksR0FBY0osUUFBUSxDQUExQkksSUFBSSxFQUFFQyxPQUFPLEdBQUtMLFFBQVEsQ0FBcEJLLE9BQU87SUFFM0IsSUFBTUMsV0FBVyxHQUFHSixRQUFRLEdBQUdELFFBQVEsR0FBRyxFQUFDLENBQWNFLE1BQUksQ0FBaEJGLFFBQVEsRUFBQyxHQUFDLENBQU8sUUFBTEUsSUFBSSxDQUFFO0lBUS9ELElBQU1JLFdBQVcsR0FDZm5CLFFBQVEsS0FBSyxVQUFVLElBQUljLFFBQVEsR0FBRyxFQUFFLEdBQUcsRUFBQyxDQUFXRCxNQUFRLENBQWpCRSxJQUFJLEVBQUMsSUFBRSxDQUFXLENBQUtDLE1BQUksQ0FBbEJILFFBQVEsRUFBQyxLQUFHLENBQU8sUUFBTEcsSUFBSSxDQUFFO0lBRTdFLHFCQUNFLDhEQUFDdEIsaURBQUc7UUFDRjBCLENBQUMsRUFBQyxNQUFNO1FBQ1JDLENBQUMsRUFBQyxPQUFPO1FBQ1RDLEVBQUUsRUFBRVIsUUFBUSxHQUFHbkIsd0RBQWlCLEdBQUdBLCtDQUFLLENBQUNzQixPQUFPLENBQUM7UUFDakRNLE1BQU0sRUFBQyxpQkFBaUI7UUFDeEJDLEtBQUssRUFBQyxPQUFPO1FBQ2JDLFlBQVksRUFBQyxLQUFLO1FBQ2xCQyxNQUFNLEVBQUMsU0FBUztRQUNoQkMsV0FBVyxFQUFFM0IsUUFBUSxJQUFJLElBQUksR0FBRyxPQUFPLEdBQUcsR0FBRztRQUM3QzRCLE9BQU8sRUFBRSxDQUFDNUIsUUFBUSxHQUFHO21CQUFNVyxLQUFLLENBQUNrQixVQUFVLENBQUMzQixTQUFTLEVBQUUsQ0FBQztTQUFBLEdBQUc0QixTQUFTO1FBQ3BFQyxRQUFRLEVBQUUsQ0FBQztRQUNYbEMsR0FBRyxFQUFFQSxtREFBRztRQU9SbUMsV0FBVyxFQUFFO21CQUFPL0IsT0FBTyxHQUFHQSxPQUFPLENBQUNrQixXQUFXLENBQUMsR0FBR1csU0FBUztTQUFDO1FBQy9ERyxVQUFVLEVBQUU7bUJBQU9oQyxPQUFPLEdBQUdBLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRzZCLFNBQVM7U0FBQztrQkFFcERaLFdBQVc7Ozs7O2FBQ1IsQ0FDTjtBQUNKLENBQUM7R0F6Q0twQixJQUFJOztRQUN1QkYsbURBQWU7OztBQUQxQ0UsS0FBQUEsSUFBSTtBQTJDViwrREFBZUEsSUFBSSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2JvYXJkL0NhcmQudHN4PzRiNjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm94IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdCc7XHJcbmltcG9ydCB7IHRoZW1lIH0gZnJvbSAnY29uZmlnL3RoZW1lJztcclxuaW1wb3J0IHsgQ2FyZCBhcyBHYW1lQ2FyZCB9IGZyb20gJ2dhbWUvY2FyZHMnO1xyXG5pbXBvcnQgeyB1c2VCb2FyZENvbnRleHQgfSBmcm9tICcuL0JvYXJkJztcclxuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBjYXJkOiBHYW1lQ2FyZDtcclxuICBkZXBsb3llZD86ICdzZWxmJyB8ICdvcHBvbmVudCc7XHJcbiAgc2V0RGVzYz86IChkZXNjOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmNvbnN0IENhcmQgPSAoeyBjYXJkLCBkZXBsb3llZCwgc2V0RGVzYyB9OiBQcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgRywgbW92ZXMsIHBsYXllcklEIH0gPSB1c2VCb2FyZENvbnRleHQoKTtcclxuICBjb25zdCB7IGNhcmRJbmZvLCBzdHJlbmd0aCwgZmFjZURvd24gfSA9IGNhcmQ7XHJcbiAgY29uc3QgeyBuYW1lLCBkZXNjLCB0aGVhdGVyIH0gPSBjYXJkSW5mbztcclxuXHJcbiAgY29uc3QgY2FyZERpc3BsYXkgPSBmYWNlRG93biA/IHN0cmVuZ3RoIDogYCR7c3RyZW5ndGh9ICR7bmFtZX1gO1xyXG5cclxuICBmdW5jdGlvbiBnZXRDYXJkSWQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBHLnBsYXllcnNbTnVtYmVyKHBsYXllcklEKV0uY2FyZHMuZmluZEluZGV4KFxyXG4gICAgICAoYykgPT4gYy5jYXJkSUQgPT09IGNhcmQuY2FyZElELFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRlc2NyaXB0aW9uID1cclxuICAgIGRlcGxveWVkID09PSAnb3Bwb25lbnQnICYmIGZhY2VEb3duID8gJycgOiBgJHtuYW1lfSAoJHtzdHJlbmd0aH0pOiAke2Rlc2N9YDtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxCb3hcclxuICAgICAgdz1cIjc1cHhcIlxyXG4gICAgICBoPVwiMTI1cHhcIlxyXG4gICAgICBiZz17ZmFjZURvd24gPyB0aGVtZVsnZmFjZURvd24nXSA6IHRoZW1lW3RoZWF0ZXJdfVxyXG4gICAgICBib3JkZXI9XCIycHggc29saWQgYmxhY2tcIlxyXG4gICAgICBjb2xvcj1cIndoaXRlXCJcclxuICAgICAgYm9yZGVyUmFkaXVzPVwiMTAlXCJcclxuICAgICAgY3Vyc29yPVwicG9pbnRlclwiXHJcbiAgICAgIG1hcmdpblJpZ2h0PXtkZXBsb3llZCAhPSBudWxsID8gJy01MHB4JyA6ICcwJ31cclxuICAgICAgb25DbGljaz17IWRlcGxveWVkID8gKCkgPT4gbW92ZXMuc2VsZWN0Q2FyZChnZXRDYXJkSWQoKSkgOiB1bmRlZmluZWR9XHJcbiAgICAgIHRhYkluZGV4PXswfVxyXG4gICAgICBjc3M9e2Nzc2BcclxuICAgICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjNzO1xyXG4gICAgICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IHRyYW5zZm9ybTtcclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcclxuICAgICAgICB9XHJcbiAgICAgIGB9XHJcbiAgICAgIG9uTW91c2VPdmVyPXsoKSA9PiAoc2V0RGVzYyA/IHNldERlc2MoZGVzY3JpcHRpb24pIDogdW5kZWZpbmVkKX1cclxuICAgICAgb25Nb3VzZU91dD17KCkgPT4gKHNldERlc2MgPyBzZXREZXNjKCcnKSA6IHVuZGVmaW5lZCl9XHJcbiAgICA+XHJcbiAgICAgIHtjYXJkRGlzcGxheX1cclxuICAgIDwvQm94PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iXSwibmFtZXMiOlsiQm94IiwidGhlbWUiLCJ1c2VCb2FyZENvbnRleHQiLCJjc3MiLCJDYXJkIiwiY2FyZCIsImRlcGxveWVkIiwic2V0RGVzYyIsImdldENhcmRJZCIsIkciLCJwbGF5ZXJzIiwiTnVtYmVyIiwicGxheWVySUQiLCJjYXJkcyIsImZpbmRJbmRleCIsImMiLCJjYXJkSUQiLCJtb3ZlcyIsImNhcmRJbmZvIiwic3RyZW5ndGgiLCJmYWNlRG93biIsIm5hbWUiLCJkZXNjIiwidGhlYXRlciIsImNhcmREaXNwbGF5IiwiZGVzY3JpcHRpb24iLCJ3IiwiaCIsImJnIiwiYm9yZGVyIiwiY29sb3IiLCJib3JkZXJSYWRpdXMiLCJjdXJzb3IiLCJtYXJnaW5SaWdodCIsIm9uQ2xpY2siLCJzZWxlY3RDYXJkIiwidW5kZWZpbmVkIiwidGFiSW5kZXgiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/board/Card.tsx\n"));

/***/ }),

/***/ "./src/components/board/CardIcon.tsx":
/*!*******************************************!*\
  !*** ./src/components/board/CardIcon.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\nvar _this = undefined;\n\n\nvar CardIcon = function() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.Box, {\n        bg: \"black\",\n        w: \"1.5em\",\n        h: \"2em\",\n        borderRadius: \"15%\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\CardIcon.tsx\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, _this);\n};\n_c = CardIcon;\n/* harmony default export */ __webpack_exports__[\"default\"] = (CardIcon);\nvar _c;\n$RefreshReg$(_c, \"CardIcon\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9DYXJkSWNvbi50c3guanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUF1QztBQUV2QyxJQUFNQyxRQUFRLEdBQUcsV0FBTTtJQUNyQixxQkFBTyw4REFBQ0QsaURBQUc7UUFBQ0UsRUFBRSxFQUFDLE9BQU87UUFBQ0MsQ0FBQyxFQUFDLE9BQU87UUFBQ0MsQ0FBQyxFQUFDLEtBQUs7UUFBQ0MsWUFBWSxFQUFDLEtBQUs7Ozs7O2FBQUcsQ0FBQztBQUNqRSxDQUFDO0FBRktKLEtBQUFBLFFBQVE7QUFJZCwrREFBZUEsUUFBUSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2JvYXJkL0NhcmRJY29uLnRzeD8xYTc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJveCB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnO1xyXG5cclxuY29uc3QgQ2FyZEljb24gPSAoKSA9PiB7XHJcbiAgcmV0dXJuIDxCb3ggYmc9XCJibGFja1wiIHc9XCIxLjVlbVwiIGg9XCIyZW1cIiBib3JkZXJSYWRpdXM9XCIxNSVcIiAvPjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmRJY29uO1xyXG4iXSwibmFtZXMiOlsiQm94IiwiQ2FyZEljb24iLCJiZyIsInciLCJoIiwiYm9yZGVyUmFkaXVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/board/CardIcon.tsx\n"));

/***/ }),

/***/ "./src/components/board/Controls.tsx":
/*!*******************************************!*\
  !*** ./src/components/board/Controls.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var game_gameUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! game/gameUtil */ \"./src/game/gameUtil.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\n/* harmony import */ var _WithdrawTable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WithdrawTable */ \"./src/components/board/WithdrawTable.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\nvar WithdrawDialog = function(param) {\n    var isOpen = param.isOpen, onClose = param.onClose;\n    var onConfirm = function onConfirm() {\n        moves.withdraw();\n        onClose();\n    };\n    _s();\n    var ref = (0,_Board__WEBPACK_IMPORTED_MODULE_3__.useBoardContext)(), G = ref.G, playerID = ref.playerID, moves = ref.moves;\n    var cancelRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n    var player = G.players.find(function(p) {\n        return p.ID !== playerID;\n    });\n    var opponentPoints = (0,game_gameUtil__WEBPACK_IMPORTED_MODULE_1__.getPointsScored)(player.firstPlayer, player.cards.length);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.AlertDialog, {\n        motionPreset: \"slideInBottom\",\n        leastDestructiveRef: cancelRef,\n        onClose: onClose,\n        isOpen: isOpen,\n        isCentered: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.AlertDialogOverlay, {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.AlertDialogContent, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.AlertDialogHeader, {\n                        children: \"Withdraw?\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.AlertDialogBody, {\n                        children: [\n                            \"Opponent will score \",\n                            opponentPoints,\n                            \" points if you withdraw.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                        lineNumber: 54,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.AlertDialogFooter, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                ref: cancelRef,\n                                onClick: onClose,\n                                children: \"No\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                                lineNumber: 58,\n                                columnNumber: 11\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                colorScheme: \"red\",\n                                ml: 3,\n                                onClick: onConfirm,\n                                children: \"Yes\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                                lineNumber: 61,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                        lineNumber: 57,\n                        columnNumber: 9\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                lineNumber: 52,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, _this);\n};\n_s(WithdrawDialog, \"V2/fdZ5CoNrbIUpgK0QemoMN4tc=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_3__.useBoardContext\n    ];\n});\n_c = WithdrawDialog;\nvar ScoreInfoModel = function(param) {\n    var isOpen = param.isOpen, onClose = param.onClose;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Modal, {\n            isOpen: isOpen,\n            onClose: onClose,\n            size: \"xl\",\n            isCentered: true,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.ModalOverlay, {}, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                    lineNumber: 80,\n                    columnNumber: 9\n                }, _this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.ModalContent, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.ModalHeader, {\n                            children: \"Scoring Info\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                            lineNumber: 82,\n                            columnNumber: 11\n                        }, _this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.ModalBody, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_WithdrawTable__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, _this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                            lineNumber: 83,\n                            columnNumber: 11\n                        }, _this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.ModalFooter, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                colorScheme: \"blue\",\n                                mr: 3,\n                                onClick: onClose,\n                                children: \"Close\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                                lineNumber: 87,\n                                columnNumber: 13\n                            }, _this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                            lineNumber: 86,\n                            columnNumber: 11\n                        }, _this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                    lineNumber: 81,\n                    columnNumber: 9\n                }, _this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n            lineNumber: 79,\n            columnNumber: 7\n        }, _this)\n    }, void 0, false);\n};\n_c1 = ScoreInfoModel;\nvar Controls = function() {\n    _s1();\n    var ref = (0,_Board__WEBPACK_IMPORTED_MODULE_3__.useBoardContext)(), undo = ref.undo, ctx = ref.ctx, isActive = ref.isActive;\n    var ref1 = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.useDisclosure)(), isDialogOpen = ref1.isOpen, onDialogOpen = ref1.onOpen, onDialogClose = ref1.onClose;\n    var ref2 = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.useDisclosure)(), isModalOpen = ref2.isOpen, onModalOpen = ref2.onOpen, onModalClose = ref2.onClose;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Flex, {\n        gap: \"5px\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                colorScheme: \"red\",\n                onClick: undo,\n                disabled: !ctx.numMoves || !isActive,\n                children: \"⭮\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                lineNumber: 112,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                colorScheme: \"red\",\n                variant: \"outline\",\n                onClick: onDialogOpen,\n                disabled: !isActive,\n                children: \"Withdraw\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                lineNumber: 120,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                colorScheme: \"blue\",\n                onClick: onModalOpen,\n                children: \"?\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                lineNumber: 129,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WithdrawDialog, {\n                isOpen: isDialogOpen,\n                onClose: onDialogClose\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                lineNumber: 133,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScoreInfoModel, {\n                isOpen: isModalOpen,\n                onClose: onModalClose\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n                lineNumber: 134,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Controls.tsx\",\n        lineNumber: 111,\n        columnNumber: 5\n    }, _this);\n};\n_s1(Controls, \"Vgg+McsSbkKOFfO1h4HTmW1wSXk=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_3__.useBoardContext,\n        _chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.useDisclosure,\n        _chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.useDisclosure\n    ];\n});\n_c2 = Controls;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Controls);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"WithdrawDialog\");\n$RefreshReg$(_c1, \"ScoreInfoModel\");\n$RefreshReg$(_c2, \"Controls\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9Db250cm9scy50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7OztBQWdCMEI7QUFDc0I7QUFDakI7QUFDVztBQUNFO0FBRTVDLElBQU1tQixjQUFjLEdBQUcsZ0JBTUo7UUFMakJDLE1BQU0sU0FBTkEsTUFBTSxFQUNOQyxPQUFPLFNBQVBBLE9BQU87UUFPRUMsU0FBUyxHQUFsQixTQUFTQSxTQUFTLEdBQUc7UUFDbkJDLEtBQUssQ0FBQ0MsUUFBUSxFQUFFLENBQUM7UUFDakJILE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQzs7SUFMRCxJQUErQkosR0FBaUIsR0FBakJBLHVEQUFlLEVBQUUsRUFBeENRLENBQUMsR0FBc0JSLEdBQWlCLENBQXhDUSxDQUFDLEVBQUVDLFFBQVEsR0FBWVQsR0FBaUIsQ0FBckNTLFFBQVEsRUFBRUgsS0FBSyxHQUFLTixHQUFpQixDQUEzQk0sS0FBSztJQUMxQixJQUFNSSxTQUFTLEdBQUdYLDZDQUFNLEVBQU87SUFLL0IsSUFBTVksTUFBTSxHQUFHSCxDQUFDLENBQUNJLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLFNBQUNDLENBQUM7ZUFBS0EsQ0FBQyxDQUFDQyxFQUFFLEtBQUtOLFFBQVE7S0FBQSxDQUFDO0lBQ3ZELElBQU1PLGNBQWMsR0FBR2xCLDhEQUFlLENBQ3BDYSxNQUFNLENBQUVNLFdBQVcsRUFDbkJOLE1BQU0sQ0FBRU8sS0FBSyxDQUFDQyxNQUFNLENBQ3JCO0lBRUQscUJBQ0UsOERBQUNwQyx5REFBVztRQUNWcUMsWUFBWSxFQUFDLGVBQWU7UUFDNUJDLG1CQUFtQixFQUFFWCxTQUFTO1FBQzlCTixPQUFPLEVBQUVBLE9BQU87UUFDaEJELE1BQU0sRUFBRUEsTUFBTTtRQUNkbUIsVUFBVTs7MEJBRVYsOERBQUNsQyxnRUFBa0I7Ozs7cUJBQUc7MEJBRXRCLDhEQUFDSCxnRUFBa0I7O2tDQUNqQiw4REFBQ0UsK0RBQWlCO2tDQUFDLFdBQVM7Ozs7OzZCQUFvQjtrQ0FD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RWpEOzs7OztxQkFBUzswQkFFVCw4REFBQ3JDLGNBQWM7Z0JBQUNDLE1BQU0sRUFBRStCLFlBQVk7Z0JBQUU5QixPQUFPLEVBQUVpQyxhQUFhOzs7OztxQkFBSTswQkFDaEUsOERBQUNWLGNBQWM7Z0JBQUN4QixNQUFNLEVBQUVtQyxXQUFXO2dCQUFFbEMsT0FBTyxFQUFFb0MsWUFBWTs7Ozs7cUJBQUk7Ozs7OzthQUN6RCxDQUNQO0FBQ0osQ0FBQztJQXhDS1YsUUFBUTs7UUFDb0I5QixtREFBZTtRQUszQ0gsMkRBQWE7UUFLYkEsMkRBQWE7OztBQVhiaUMsTUFBQUEsUUFBUTtBQTBDZCwrREFBZUEsUUFBUSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2JvYXJkL0NvbnRyb2xzLnRzeD8xZGM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQWxlcnREaWFsb2csXHJcbiAgQWxlcnREaWFsb2dCb2R5LFxyXG4gIEFsZXJ0RGlhbG9nQ29udGVudCxcclxuICBBbGVydERpYWxvZ0Zvb3RlcixcclxuICBBbGVydERpYWxvZ0hlYWRlcixcclxuICBBbGVydERpYWxvZ092ZXJsYXksXHJcbiAgQnV0dG9uLFxyXG4gIEZsZXgsXHJcbiAgTW9kYWwsXHJcbiAgTW9kYWxCb2R5LFxyXG4gIE1vZGFsQ29udGVudCxcclxuICBNb2RhbEZvb3RlcixcclxuICBNb2RhbEhlYWRlcixcclxuICBNb2RhbE92ZXJsYXksXHJcbiAgdXNlRGlzY2xvc3VyZSxcclxufSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0UG9pbnRzU2NvcmVkIH0gZnJvbSAnZ2FtZS9nYW1lVXRpbCc7XHJcbmltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlQm9hcmRDb250ZXh0IH0gZnJvbSAnLi9Cb2FyZCc7XHJcbmltcG9ydCBXaXRoZHJhd1RhYmxlIGZyb20gJy4vV2l0aGRyYXdUYWJsZSc7XHJcblxyXG5jb25zdCBXaXRoZHJhd0RpYWxvZyA9ICh7XHJcbiAgaXNPcGVuLFxyXG4gIG9uQ2xvc2UsXHJcbn06IHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxufSk6IEpTWC5FbGVtZW50ID0+IHtcclxuICBjb25zdCB7IEcsIHBsYXllcklELCBtb3ZlcyB9ID0gdXNlQm9hcmRDb250ZXh0KCk7XHJcbiAgY29uc3QgY2FuY2VsUmVmID0gdXNlUmVmPGFueT4oKTtcclxuICBmdW5jdGlvbiBvbkNvbmZpcm0oKSB7XHJcbiAgICBtb3Zlcy53aXRoZHJhdygpO1xyXG4gICAgb25DbG9zZSgpO1xyXG4gIH1cclxuICBjb25zdCBwbGF5ZXIgPSBHLnBsYXllcnMuZmluZCgocCkgPT4gcC5JRCAhPT0gcGxheWVySUQpO1xyXG4gIGNvbnN0IG9wcG9uZW50UG9pbnRzID0gZ2V0UG9pbnRzU2NvcmVkKFxyXG4gICAgcGxheWVyIS5maXJzdFBsYXllcixcclxuICAgIHBsYXllciEuY2FyZHMubGVuZ3RoLFxyXG4gICk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8QWxlcnREaWFsb2dcclxuICAgICAgbW90aW9uUHJlc2V0PVwic2xpZGVJbkJvdHRvbVwiXHJcbiAgICAgIGxlYXN0RGVzdHJ1Y3RpdmVSZWY9e2NhbmNlbFJlZn1cclxuICAgICAgb25DbG9zZT17b25DbG9zZX1cclxuICAgICAgaXNPcGVuPXtpc09wZW59XHJcbiAgICAgIGlzQ2VudGVyZWRcclxuICAgID5cclxuICAgICAgPEFsZXJ0RGlhbG9nT3ZlcmxheSAvPlxyXG5cclxuICAgICAgPEFsZXJ0RGlhbG9nQ29udGVudD5cclxuICAgICAgICA8QWxlcnREaWFsb2dIZWFkZXI+V2l0aGRyYXc/PC9BbGVydERpYWxvZ0hlYWRlcj5cclxuICAgICAgICA8QWxlcnREaWFsb2dCb2R5PlxyXG4gICAgICAgICAgT3Bwb25lbnQgd2lsbCBzY29yZSB7b3Bwb25lbnRQb2ludHN9IHBvaW50cyBpZiB5b3Ugd2l0aGRyYXcuXHJcbiAgICAgICAgPC9BbGVydERpYWxvZ0JvZHk+XHJcbiAgICAgICAgPEFsZXJ0RGlhbG9nRm9vdGVyPlxyXG4gICAgICAgICAgPEJ1dHRvbiByZWY9e2NhbmNlbFJlZn0gb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICAgIE5vXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDxCdXR0b24gY29sb3JTY2hlbWU9XCJyZWRcIiBtbD17M30gb25DbGljaz17b25Db25maXJtfT5cclxuICAgICAgICAgICAgWWVzXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPlxyXG4gICAgICA8L0FsZXJ0RGlhbG9nQ29udGVudD5cclxuICAgIDwvQWxlcnREaWFsb2c+XHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IFNjb3JlSW5mb01vZGVsID0gKHtcclxuICBpc09wZW4sXHJcbiAgb25DbG9zZSxcclxufToge1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG59KTogSlNYLkVsZW1lbnQgPT4ge1xyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8TW9kYWwgaXNPcGVuPXtpc09wZW59IG9uQ2xvc2U9e29uQ2xvc2V9IHNpemU9XCJ4bFwiIGlzQ2VudGVyZWQ+XHJcbiAgICAgICAgPE1vZGFsT3ZlcmxheSAvPlxyXG4gICAgICAgIDxNb2RhbENvbnRlbnQ+XHJcbiAgICAgICAgICA8TW9kYWxIZWFkZXI+U2NvcmluZyBJbmZvPC9Nb2RhbEhlYWRlcj5cclxuICAgICAgICAgIDxNb2RhbEJvZHk+XHJcbiAgICAgICAgICAgIDxXaXRoZHJhd1RhYmxlIC8+XHJcbiAgICAgICAgICA8L01vZGFsQm9keT5cclxuICAgICAgICAgIDxNb2RhbEZvb3Rlcj5cclxuICAgICAgICAgICAgPEJ1dHRvbiBjb2xvclNjaGVtZT1cImJsdWVcIiBtcj17M30gb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICAgICAgQ2xvc2VcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L01vZGFsRm9vdGVyPlxyXG4gICAgICAgIDwvTW9kYWxDb250ZW50PlxyXG4gICAgICA8L01vZGFsPlxyXG4gICAgPC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IENvbnRyb2xzID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcclxuICBjb25zdCB7IHVuZG8sIGN0eCwgaXNBY3RpdmUgfSA9IHVzZUJvYXJkQ29udGV4dCgpO1xyXG4gIGNvbnN0IHtcclxuICAgIGlzT3BlbjogaXNEaWFsb2dPcGVuLFxyXG4gICAgb25PcGVuOiBvbkRpYWxvZ09wZW4sXHJcbiAgICBvbkNsb3NlOiBvbkRpYWxvZ0Nsb3NlLFxyXG4gIH0gPSB1c2VEaXNjbG9zdXJlKCk7XHJcbiAgY29uc3Qge1xyXG4gICAgaXNPcGVuOiBpc01vZGFsT3BlbixcclxuICAgIG9uT3Blbjogb25Nb2RhbE9wZW4sXHJcbiAgICBvbkNsb3NlOiBvbk1vZGFsQ2xvc2UsXHJcbiAgfSA9IHVzZURpc2Nsb3N1cmUoKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxGbGV4IGdhcD1cIjVweFwiPlxyXG4gICAgICA8QnV0dG9uXHJcbiAgICAgICAgY29sb3JTY2hlbWU9XCJyZWRcIlxyXG4gICAgICAgIG9uQ2xpY2s9e3VuZG99XHJcbiAgICAgICAgZGlzYWJsZWQ9eyFjdHgubnVtTW92ZXMgfHwgIWlzQWN0aXZlfVxyXG4gICAgICA+XHJcbiAgICAgICAg4q2uXHJcbiAgICAgIDwvQnV0dG9uPlxyXG5cclxuICAgICAgPEJ1dHRvblxyXG4gICAgICAgIGNvbG9yU2NoZW1lPVwicmVkXCJcclxuICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgb25DbGljaz17b25EaWFsb2dPcGVufVxyXG4gICAgICAgIGRpc2FibGVkPXshaXNBY3RpdmV9XHJcbiAgICAgID5cclxuICAgICAgICBXaXRoZHJhd1xyXG4gICAgICA8L0J1dHRvbj5cclxuXHJcbiAgICAgIDxCdXR0b24gY29sb3JTY2hlbWU9XCJibHVlXCIgb25DbGljaz17b25Nb2RhbE9wZW59PlxyXG4gICAgICAgID9cclxuICAgICAgPC9CdXR0b24+XHJcblxyXG4gICAgICA8V2l0aGRyYXdEaWFsb2cgaXNPcGVuPXtpc0RpYWxvZ09wZW59IG9uQ2xvc2U9e29uRGlhbG9nQ2xvc2V9IC8+XHJcbiAgICAgIDxTY29yZUluZm9Nb2RlbCBpc09wZW49e2lzTW9kYWxPcGVufSBvbkNsb3NlPXtvbk1vZGFsQ2xvc2V9IC8+XHJcbiAgICA8L0ZsZXg+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xzO1xyXG4iXSwibmFtZXMiOlsiQWxlcnREaWFsb2ciLCJBbGVydERpYWxvZ0JvZHkiLCJBbGVydERpYWxvZ0NvbnRlbnQiLCJBbGVydERpYWxvZ0Zvb3RlciIsIkFsZXJ0RGlhbG9nSGVhZGVyIiwiQWxlcnREaWFsb2dPdmVybGF5IiwiQnV0dG9uIiwiRmxleCIsIk1vZGFsIiwiTW9kYWxCb2R5IiwiTW9kYWxDb250ZW50IiwiTW9kYWxGb290ZXIiLCJNb2RhbEhlYWRlciIsIk1vZGFsT3ZlcmxheSIsInVzZURpc2Nsb3N1cmUiLCJnZXRQb2ludHNTY29yZWQiLCJ1c2VSZWYiLCJ1c2VCb2FyZENvbnRleHQiLCJXaXRoZHJhd1RhYmxlIiwiV2l0aGRyYXdEaWFsb2ciLCJpc09wZW4iLCJvbkNsb3NlIiwib25Db25maXJtIiwibW92ZXMiLCJ3aXRoZHJhdyIsIkciLCJwbGF5ZXJJRCIsImNhbmNlbFJlZiIsInBsYXllciIsInBsYXllcnMiLCJmaW5kIiwicCIsIklEIiwib3Bwb25lbnRQb2ludHMiLCJmaXJzdFBsYXllciIsImNhcmRzIiwibGVuZ3RoIiwibW90aW9uUHJlc2V0IiwibGVhc3REZXN0cnVjdGl2ZVJlZiIsImlzQ2VudGVyZWQiLCJyZWYiLCJvbkNsaWNrIiwiY29sb3JTY2hlbWUiLCJtbCIsIlNjb3JlSW5mb01vZGVsIiwic2l6ZSIsIm1yIiwiQ29udHJvbHMiLCJ1bmRvIiwiY3R4IiwiaXNBY3RpdmUiLCJpc0RpYWxvZ09wZW4iLCJvbk9wZW4iLCJvbkRpYWxvZ09wZW4iLCJvbkRpYWxvZ0Nsb3NlIiwiaXNNb2RhbE9wZW4iLCJvbk1vZGFsT3BlbiIsIm9uTW9kYWxDbG9zZSIsImdhcCIsImRpc2FibGVkIiwibnVtTW92ZXMiLCJ2YXJpYW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/board/Controls.tsx\n"));

/***/ }),

/***/ "./src/components/board/Hand.tsx":
/*!***************************************!*\
  !*** ./src/components/board/Hand.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\n/* harmony import */ var _Card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Card */ \"./src/components/board/Card.tsx\");\n/* harmony import */ var _CardIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CardIcon */ \"./src/components/board/CardIcon.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\nvar Hand = function(param) {\n    var type = param.type, setDesc = param.setDesc;\n    var ref;\n    _s();\n    var ref1 = (0,_Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext)(), G = ref1.G, playerID = ref1.playerID;\n    if (type === \"self\") {\n        var ref2;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: (ref2 = G.players.find(function(p) {\n                return p.ID === playerID;\n            })) === null || ref2 === void 0 ? void 0 : ref2.cards.map(function(card) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Card__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    card: card,\n                    setDesc: setDesc\n                }, card.cardID, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Hand.tsx\",\n                    lineNumber: 19,\n                    columnNumber: 13\n                }, _this);\n            })\n        }, void 0, false);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: (ref = G.players.find(function(p) {\n            return p.ID !== playerID;\n        })) === null || ref === void 0 ? void 0 : ref.cards.map(function(card) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CardIcon__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, card.cardID, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Hand.tsx\",\n                lineNumber: 30,\n                columnNumber: 11\n            }, _this);\n        })\n    }, void 0, false);\n};\n_s(Hand, \"T/kAuhCNPCp8d58oqAQ0ySd3q/4=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext\n    ];\n});\n_c = Hand;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Hand);\nvar _c;\n$RefreshReg$(_c, \"Hand\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9IYW5kLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0FBQTBDO0FBQ2hCO0FBQ1E7QUFPbEMsSUFBTUcsSUFBSSxHQUFHLGdCQUE4QjtRQUEzQkMsSUFBSSxTQUFKQSxJQUFJLEVBQUVDLE9BQU8sU0FBUEEsT0FBTztRQWlCdEJDLEdBQ2dDOztJQWpCckMsSUFBd0JOLElBQWlCLEdBQWpCQSx1REFBZSxFQUFFLEVBQWpDTSxDQUFDLEdBQWVOLElBQWlCLENBQWpDTSxDQUFDLEVBQUVDLFFBQVEsR0FBS1AsSUFBaUIsQ0FBOUJPLFFBQVE7SUFFbkIsSUFBSUgsSUFBSSxLQUFLLE1BQU0sRUFBRTtZQUdkRSxJQUNnQztRQUhyQyxxQkFDRTtzQkFDR0EsQ0FBQUEsSUFDZ0MsR0FEaENBLENBQUMsQ0FBQ0UsT0FBTyxDQUNQQyxJQUFJLENBQUMsU0FBQ0MsQ0FBQzt1QkFBS0EsQ0FBQyxDQUFDQyxFQUFFLEtBQUtKLFFBQVE7YUFBQSxDQUFDLGNBRGhDRCxJQUNnQyxXQUN4QixHQUZSQSxLQUFBQSxDQUVRLEdBRlJBLElBQ2dDLENBQzdCTSxLQUFLLENBQUNDLEdBQUcsQ0FBQyxTQUFDQyxJQUFJO3FDQUNmLDhEQUFDYiw2Q0FBSTtvQkFBbUJhLElBQUksRUFBRUEsSUFBSTtvQkFBRVQsT0FBTyxFQUFFQSxPQUFPO21CQUF6Q1MsSUFBSSxDQUFDQyxNQUFNOzs7O3lCQUFrQzthQUN6RCxDQUFDO3lCQUNILENBQ0g7SUFDSixDQUFDO0lBRUQscUJBQ0U7a0JBQ0dULENBQUFBLEdBQ2dDLEdBRGhDQSxDQUFDLENBQUNFLE9BQU8sQ0FDUEMsSUFBSSxDQUFDLFNBQUNDLENBQUM7bUJBQUtBLENBQUMsQ0FBQ0MsRUFBRSxLQUFLSixRQUFRO1NBQUEsQ0FBQyxjQURoQ0QsR0FDZ0MsV0FDeEIsR0FGUkEsS0FBQUEsQ0FFUSxHQUZSQSxHQUNnQyxDQUM3Qk0sS0FBSyxDQUFDQyxHQUFHLENBQUMsU0FBQ0MsSUFBSTtpQ0FDZiw4REFBQ1osaURBQVEsTUFBTVksSUFBSSxDQUFDQyxNQUFNOzs7O3FCQUFJO1NBQy9CLENBQUM7cUJBQ0gsQ0FDSDtBQUNKLENBQUM7R0F4QktaLElBQUk7O1FBQ2dCSCxtREFBZTs7O0FBRG5DRyxLQUFBQSxJQUFJO0FBMEJWLCtEQUFlQSxJQUFJLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvYm9hcmQvSGFuZC50c3g/NTJkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VCb2FyZENvbnRleHQgfSBmcm9tICcuL0JvYXJkJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi9DYXJkJztcclxuaW1wb3J0IENhcmRJY29uIGZyb20gJy4vQ2FyZEljb24nO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICB0eXBlOiAnc2VsZicgfCAnb3Bwb25lbnQnO1xyXG4gIHNldERlc2M/OiAoZGVzYzogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBIYW5kID0gKHsgdHlwZSwgc2V0RGVzYyB9OiBQcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgRywgcGxheWVySUQgfSA9IHVzZUJvYXJkQ29udGV4dCgpO1xyXG5cclxuICBpZiAodHlwZSA9PT0gJ3NlbGYnKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8PlxyXG4gICAgICAgIHtHLnBsYXllcnNcclxuICAgICAgICAgIC5maW5kKChwKSA9PiBwLklEID09PSBwbGF5ZXJJRClcclxuICAgICAgICAgID8uY2FyZHMubWFwKChjYXJkKSA9PiAoXHJcbiAgICAgICAgICAgIDxDYXJkIGtleT17Y2FyZC5jYXJkSUR9IGNhcmQ9e2NhcmR9IHNldERlc2M9e3NldERlc2N9IC8+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgPC8+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIHtHLnBsYXllcnNcclxuICAgICAgICAuZmluZCgocCkgPT4gcC5JRCAhPT0gcGxheWVySUQpXHJcbiAgICAgICAgPy5jYXJkcy5tYXAoKGNhcmQpID0+IChcclxuICAgICAgICAgIDxDYXJkSWNvbiBrZXk9e2NhcmQuY2FyZElEfSAvPlxyXG4gICAgICAgICkpfVxyXG4gICAgPC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhhbmQ7XHJcbiJdLCJuYW1lcyI6WyJ1c2VCb2FyZENvbnRleHQiLCJDYXJkIiwiQ2FyZEljb24iLCJIYW5kIiwidHlwZSIsInNldERlc2MiLCJHIiwicGxheWVySUQiLCJwbGF5ZXJzIiwiZmluZCIsInAiLCJJRCIsImNhcmRzIiwibWFwIiwiY2FyZCIsImNhcmRJRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/board/Hand.tsx\n"));

/***/ }),

/***/ "./src/components/board/HelpText.tsx":
/*!*******************************************!*\
  !*** ./src/components/board/HelpText.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\nvar HelpText = function() {\n    _s();\n    var ref = (0,_Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext)(), isActive = ref.isActive, ctx = ref.ctx;\n    var stage = ctx.activePlayers && ctx.activePlayers[ctx.currentPlayer] || null;\n    // todo: make more descriptive\n    var text = isActive ? \"\".concat(ctx.phase, \" : \").concat(stage) : \"Waiting for Opponent...\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n        fontSize: \"lg\",\n        textAlign: \"center\",\n        children: text\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\HelpText.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, _this);\n};\n_s(HelpText, \"SsowwfILzKIc87fdBLfNo3vOC6s=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext\n    ];\n});\n_c = HelpText;\n/* harmony default export */ __webpack_exports__[\"default\"] = (HelpText);\nvar _c;\n$RefreshReg$(_c, \"HelpText\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9IZWxwVGV4dC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7O0FBQXdDO0FBQ0U7QUFFMUMsSUFBTUUsUUFBUSxHQUFHLFdBQW1COztJQUNsQyxJQUEwQkQsR0FBaUIsR0FBakJBLHVEQUFlLEVBQUUsRUFBbkNFLFFBQVEsR0FBVUYsR0FBaUIsQ0FBbkNFLFFBQVEsRUFBRUMsR0FBRyxHQUFLSCxHQUFpQixDQUF6QkcsR0FBRztJQUVyQixJQUFNQyxLQUFLLEdBQ1QsR0FBSSxDQUFDQyxhQUFhLElBQUlGLEdBQUcsQ0FBQ0UsYUFBYSxDQUFDRixHQUFHLENBQUNHLGFBQWEsQ0FBQyxJQUFLLElBQUk7SUFFckUsOEJBQThCO0lBQzlCLElBQU1DLElBQUksR0FBR0wsUUFBUSxHQUFHLEVBQUMsQ0FBaUJFLE1BQUssQ0FBcEJELEdBQUcsQ0FBQ0ssS0FBSyxFQUFDLEtBQUcsQ0FBUSxRQUFOSixLQUFLLENBQUUsR0FBRyx5QkFBeUI7SUFFN0UscUJBQ0UsOERBQUNMLGtEQUFJO1FBQUNVLFFBQVEsRUFBQyxJQUFJO1FBQUNDLFNBQVMsRUFBQyxRQUFRO2tCQUNuQ0gsSUFBSTs7Ozs7YUFDQSxDQUNQO0FBQ0osQ0FBQztHQWRLTixRQUFROztRQUNjRCxtREFBZTs7O0FBRHJDQyxLQUFBQSxRQUFRO0FBZ0JkLCtEQUFlQSxRQUFRLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvYm9hcmQvSGVscFRleHQudHN4PzRlZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGV4dCB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VCb2FyZENvbnRleHQgfSBmcm9tICcuL0JvYXJkJztcclxuXHJcbmNvbnN0IEhlbHBUZXh0ID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcclxuICBjb25zdCB7IGlzQWN0aXZlLCBjdHggfSA9IHVzZUJvYXJkQ29udGV4dCgpO1xyXG5cclxuICBjb25zdCBzdGFnZTogc3RyaW5nIHwgbnVsbCA9XHJcbiAgICAoY3R4LmFjdGl2ZVBsYXllcnMgJiYgY3R4LmFjdGl2ZVBsYXllcnNbY3R4LmN1cnJlbnRQbGF5ZXJdKSB8fCBudWxsO1xyXG5cclxuICAvLyB0b2RvOiBtYWtlIG1vcmUgZGVzY3JpcHRpdmVcclxuICBjb25zdCB0ZXh0ID0gaXNBY3RpdmUgPyBgJHtjdHgucGhhc2V9IDogJHtzdGFnZX1gIDogJ1dhaXRpbmcgZm9yIE9wcG9uZW50Li4uJztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxUZXh0IGZvbnRTaXplPVwibGdcIiB0ZXh0QWxpZ249XCJjZW50ZXJcIj5cclxuICAgICAge3RleHR9XHJcbiAgICA8L1RleHQ+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhlbHBUZXh0O1xyXG4iXSwibmFtZXMiOlsiVGV4dCIsInVzZUJvYXJkQ29udGV4dCIsIkhlbHBUZXh0IiwiaXNBY3RpdmUiLCJjdHgiLCJzdGFnZSIsImFjdGl2ZVBsYXllcnMiLCJjdXJyZW50UGxheWVyIiwidGV4dCIsInBoYXNlIiwiZm9udFNpemUiLCJ0ZXh0QWxpZ24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/board/HelpText.tsx\n"));

/***/ }),

/***/ "./src/components/board/SupremeCommanderCard.tsx":
/*!*******************************************************!*\
  !*** ./src/components/board/SupremeCommanderCard.tsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var config_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! config/theme */ \"./src/config/theme.ts\");\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\nvar SupremeCommanderCard = function(param) {\n    var playerID = param.playerID;\n    _s();\n    var ref = (0,_Board__WEBPACK_IMPORTED_MODULE_2__.useBoardContext)(), G = ref.G, clientPlayerID = ref.playerID;\n    var player = G.players.find(function(p) {\n        return p.ID === playerID;\n    });\n    var color = (player === null || player === void 0 ? void 0 : player.firstPlayer) ? config_theme__WEBPACK_IMPORTED_MODULE_1__.theme.first : config_theme__WEBPACK_IMPORTED_MODULE_1__.theme.second;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.Stack, {\n        w: \"75px\",\n        h: \"125px\",\n        border: \"2px solid \".concat(color),\n        borderRadius: \"10%\",\n        textAlign: \"center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                color: color,\n                size: \"md\",\n                children: (player === null || player === void 0 ? void 0 : player.firstPlayer) ? \"1st\" : \"2nd\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\SupremeCommanderCard.tsx\",\n                lineNumber: 22,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                size: \"md\",\n                children: [\n                    \"Player \",\n                    playerID,\n                    playerID === clientPlayerID && \" (You)\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\SupremeCommanderCard.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                size: \"md\",\n                children: [\n                    \"Score: \",\n                    player === null || player === void 0 ? void 0 : player.score\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\SupremeCommanderCard.tsx\",\n                lineNumber: 29,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\SupremeCommanderCard.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, _this);\n};\n_s(SupremeCommanderCard, \"JXkecYaZ3GDGs4QjffaBoCEZGBo=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_2__.useBoardContext\n    ];\n});\n_c = SupremeCommanderCard;\n/* harmony default export */ __webpack_exports__[\"default\"] = (SupremeCommanderCard);\nvar _c;\n$RefreshReg$(_c, \"SupremeCommanderCard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9TdXByZW1lQ29tbWFuZGVyQ2FyZC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7OztBQUErQztBQUNWO0FBQ0s7QUFFMUMsSUFBTUksb0JBQW9CLEdBQUcsZ0JBSVY7UUFIakJDLFFBQVEsU0FBUkEsUUFBUTs7SUFJUixJQUF3Q0YsR0FBaUIsR0FBakJBLHVEQUFlLEVBQUUsRUFBakRHLENBQUMsR0FBK0JILEdBQWlCLENBQWpERyxDQUFDLEVBQUVELGNBQXdCLEdBQUtGLEdBQWlCLENBQTlDRSxRQUFRO0lBQ25CLElBQU1HLE1BQU0sR0FBR0YsQ0FBQyxDQUFDRyxPQUFPLENBQUNDLElBQUksQ0FBQyxTQUFDQyxDQUFDO2VBQUtBLENBQUMsQ0FBQ0MsRUFBRSxLQUFLUCxRQUFRO0tBQUEsQ0FBQztJQUN2RCxJQUFNUSxLQUFLLEdBQUdMLENBQUFBLE1BQU0sYUFBTkEsTUFBTSxXQUFhLEdBQW5CQSxLQUFBQSxDQUFtQixHQUFuQkEsTUFBTSxDQUFFTSxXQUFXLElBQUdaLHFEQUFjLEdBQUdBLHNEQUFlO0lBRXBFLHFCQUNFLDhEQUFDRCxtREFBSztRQUNKYyxDQUFDLEVBQUMsTUFBTTtRQUNSQyxDQUFDLEVBQUMsT0FBTztRQUNUQyxNQUFNLEVBQUUsWUFBVyxDQUFRLE9BQU5KLEtBQUssQ0FBRTtRQUM1QkssWUFBWSxFQUFDLEtBQUs7UUFDbEJDLFNBQVMsRUFBQyxRQUFROzswQkFFbEIsOERBQUNuQixrREFBSTtnQkFBQ2EsS0FBSyxFQUFFQSxLQUFLO2dCQUFFTyxJQUFJLEVBQUMsSUFBSTswQkFDMUJaLENBQUFBLE1BQU0sYUFBTkEsTUFBTSxXQUFhLEdBQW5CQSxLQUFBQSxDQUFtQixHQUFuQkEsTUFBTSxDQUFFTSxXQUFXLElBQUcsS0FBSyxHQUFHLEtBQUs7Ozs7O3FCQUMvQjswQkFDUCw4REFBQ2Qsa0RBQUk7Z0JBQUNvQixJQUFJLEVBQUMsSUFBSTs7b0JBQUMsU0FDUDtvQkFBQ2YsUUFBUTtvQkFDZkEsUUFBUSxLQUFLRSxjQUFjLElBQUksUUFBUTs7Ozs7O3FCQUNuQzswQkFDUCw4REFBQ1Asa0RBQUk7Z0JBQUNvQixJQUFJLEVBQUMsSUFBSTs7b0JBQUMsU0FBTztvQkFBQ1osTUFBTSxhQUFOQSxNQUFNLFdBQU8sR0FBYkEsS0FBQUEsQ0FBYSxHQUFiQSxNQUFNLENBQUVhLEtBQUs7Ozs7OztxQkFBUTs7Ozs7O2FBQ3ZDLENBQ1I7QUFDSixDQUFDO0dBM0JLakIsb0JBQW9COztRQUtnQkQsbURBQWU7OztBQUxuREMsS0FBQUEsb0JBQW9CO0FBNkIxQiwrREFBZUEsb0JBQW9CLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvYm9hcmQvU3VwcmVtZUNvbW1hbmRlckNhcmQudHN4P2EwYzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGV4dCwgU3RhY2sgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcclxuaW1wb3J0IHsgdGhlbWUgfSBmcm9tICdjb25maWcvdGhlbWUnO1xyXG5pbXBvcnQgeyB1c2VCb2FyZENvbnRleHQgfSBmcm9tICcuL0JvYXJkJztcclxuXHJcbmNvbnN0IFN1cHJlbWVDb21tYW5kZXJDYXJkID0gKHtcclxuICBwbGF5ZXJJRCxcclxufToge1xyXG4gIHBsYXllcklEOiBzdHJpbmc7XHJcbn0pOiBKU1guRWxlbWVudCA9PiB7XHJcbiAgY29uc3QgeyBHLCBwbGF5ZXJJRDogY2xpZW50UGxheWVySUQgfSA9IHVzZUJvYXJkQ29udGV4dCgpO1xyXG4gIGNvbnN0IHBsYXllciA9IEcucGxheWVycy5maW5kKChwKSA9PiBwLklEID09PSBwbGF5ZXJJRCk7XHJcbiAgY29uc3QgY29sb3IgPSBwbGF5ZXI/LmZpcnN0UGxheWVyID8gdGhlbWVbJ2ZpcnN0J10gOiB0aGVtZVsnc2Vjb25kJ107XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U3RhY2tcclxuICAgICAgdz1cIjc1cHhcIlxyXG4gICAgICBoPVwiMTI1cHhcIlxyXG4gICAgICBib3JkZXI9e2AycHggc29saWQgJHtjb2xvcn1gfVxyXG4gICAgICBib3JkZXJSYWRpdXM9XCIxMCVcIlxyXG4gICAgICB0ZXh0QWxpZ249XCJjZW50ZXJcIlxyXG4gICAgPlxyXG4gICAgICA8VGV4dCBjb2xvcj17Y29sb3J9IHNpemU9XCJtZFwiPlxyXG4gICAgICAgIHtwbGF5ZXI/LmZpcnN0UGxheWVyID8gJzFzdCcgOiAnMm5kJ31cclxuICAgICAgPC9UZXh0PlxyXG4gICAgICA8VGV4dCBzaXplPVwibWRcIj5cclxuICAgICAgICBQbGF5ZXIge3BsYXllcklEfVxyXG4gICAgICAgIHtwbGF5ZXJJRCA9PT0gY2xpZW50UGxheWVySUQgJiYgJyAoWW91KSd9XHJcbiAgICAgIDwvVGV4dD5cclxuICAgICAgPFRleHQgc2l6ZT1cIm1kXCI+U2NvcmU6IHtwbGF5ZXI/LnNjb3JlfTwvVGV4dD5cclxuICAgIDwvU3RhY2s+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN1cHJlbWVDb21tYW5kZXJDYXJkO1xyXG4iXSwibmFtZXMiOlsiVGV4dCIsIlN0YWNrIiwidGhlbWUiLCJ1c2VCb2FyZENvbnRleHQiLCJTdXByZW1lQ29tbWFuZGVyQ2FyZCIsInBsYXllcklEIiwiRyIsImNsaWVudFBsYXllcklEIiwicGxheWVyIiwicGxheWVycyIsImZpbmQiLCJwIiwiSUQiLCJjb2xvciIsImZpcnN0UGxheWVyIiwidyIsImgiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJzaXplIiwic2NvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/board/SupremeCommanderCard.tsx\n"));

/***/ }),

/***/ "./src/components/board/Theater.tsx":
/*!******************************************!*\
  !*** ./src/components/board/Theater.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var config_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! config/theme */ \"./src/config/theme.ts\");\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\n/* harmony import */ var _Card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Card */ \"./src/components/board/Card.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\n\nvar Theater = function(param) {\n    var theater = param.theater, setDesc = param.setDesc;\n    var getTheaterId = function getTheaterId() {\n        return G.playingField.findIndex(function(t) {\n            return t.theater === theaterName;\n        });\n    };\n    var onRightClick = // todo: better way to play card face down\n    function onRightClick(e) {\n        e.preventDefault();\n        moves.improvise(getTheaterId());\n        return false;\n    };\n    _s();\n    var theaterName = theater.theater, deployedCards = theater.deployedCards;\n    var ref = (0,_Board__WEBPACK_IMPORTED_MODULE_2__.useBoardContext)(), G = ref.G, moves = ref.moves, playerID = ref.playerID;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Box, {\n        w: \"25%\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Flex, {\n                height: \"150px\",\n                alignItems: \"center\",\n                children: deployedCards[(Number(playerID) ^ 1).toString()].map(function(card) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Card__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        card: card,\n                        deployed: \"opponent\",\n                        setDesc: setDesc\n                    }, card.cardID, false, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Theater.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 11\n                    }, _this);\n                })\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Theater.tsx\",\n                lineNumber: 29,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Box, {\n                color: \"white\",\n                bg: config_theme__WEBPACK_IMPORTED_MODULE_1__.theme[theaterName],\n                textAlign: \"center\",\n                children: [\n                    \"- \",\n                    theaterName.toUpperCase(),\n                    \" -\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Theater.tsx\",\n                lineNumber: 39,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Flex, {\n                height: \"150px\",\n                alignItems: \"center\",\n                _hover: {\n                    bg: \"gainsboro\"\n                },\n                cursor: \"pointer\",\n                onClick: function() {\n                    return moves.deploy(getTheaterId());\n                },\n                onContextMenu: onRightClick,\n                children: deployedCards[playerID].map(function(card) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Card__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        card: card,\n                        deployed: \"self\",\n                        setDesc: setDesc\n                    }, card.cardID, false, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Theater.tsx\",\n                        lineNumber: 51,\n                        columnNumber: 11\n                    }, _this);\n                })\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Theater.tsx\",\n                lineNumber: 42,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\Theater.tsx\",\n        lineNumber: 28,\n        columnNumber: 5\n    }, _this);\n};\n_s(Theater, \"fNNFxL4+Y6kwYyNSUa1wRELsRuY=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_2__.useBoardContext\n    ];\n});\n_c = Theater;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Theater);\nvar _c;\n$RefreshReg$(_c, \"Theater\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2JvYXJkL1RoZWF0ZXIudHN4P2E4ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm94LCBGbGV4IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdCc7XHJcbmltcG9ydCB7IHRoZW1lIH0gZnJvbSAnY29uZmlnL3RoZW1lJztcclxuaW1wb3J0IHsgVGhlYXRlciBhcyBHYW1lVGhlYXRlciB9IGZyb20gJ2dhbWUvZ2FtZVR5cGVzJztcclxuaW1wb3J0IHsgdXNlQm9hcmRDb250ZXh0IH0gZnJvbSAnLi9Cb2FyZCc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4vQ2FyZCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIHRoZWF0ZXI6IEdhbWVUaGVhdGVyO1xyXG4gIHNldERlc2M/OiAoZGVzYzogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBUaGVhdGVyID0gKHsgdGhlYXRlciwgc2V0RGVzYyB9OiBQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcclxuICBjb25zdCB7IHRoZWF0ZXI6IHRoZWF0ZXJOYW1lLCBkZXBsb3llZENhcmRzIH0gPSB0aGVhdGVyO1xyXG4gIGNvbnN0IHsgRywgbW92ZXMsIHBsYXllcklEIH0gPSB1c2VCb2FyZENvbnRleHQoKTtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0VGhlYXRlcklkKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gRy5wbGF5aW5nRmllbGQuZmluZEluZGV4KCh0KSA9PiB0LnRoZWF0ZXIgPT09IHRoZWF0ZXJOYW1lKTtcclxuICB9XHJcblxyXG4gIC8vIHRvZG86IGJldHRlciB3YXkgdG8gcGxheSBjYXJkIGZhY2UgZG93blxyXG4gIGZ1bmN0aW9uIG9uUmlnaHRDbGljayhlOiBhbnkpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIG1vdmVzLmltcHJvdmlzZShnZXRUaGVhdGVySWQoKSk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPEJveCB3PVwiMjUlXCI+XHJcbiAgICAgIDxGbGV4IGhlaWdodD1cIjE1MHB4XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxyXG4gICAgICAgIHtkZXBsb3llZENhcmRzWyhOdW1iZXIocGxheWVySUQpIF4gMSkudG9TdHJpbmcoKV0ubWFwKChjYXJkKSA9PiAoXHJcbiAgICAgICAgICA8Q2FyZFxyXG4gICAgICAgICAgICBrZXk9e2NhcmQuY2FyZElEfVxyXG4gICAgICAgICAgICBjYXJkPXtjYXJkfVxyXG4gICAgICAgICAgICBkZXBsb3llZD1cIm9wcG9uZW50XCJcclxuICAgICAgICAgICAgc2V0RGVzYz17c2V0RGVzY31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvRmxleD5cclxuICAgICAgPEJveCBjb2xvcj1cIndoaXRlXCIgYmc9e3RoZW1lW3RoZWF0ZXJOYW1lXX0gdGV4dEFsaWduPVwiY2VudGVyXCI+XHJcbiAgICAgICAgLSB7dGhlYXRlck5hbWUudG9VcHBlckNhc2UoKX0gLVxyXG4gICAgICA8L0JveD5cclxuICAgICAgPEZsZXhcclxuICAgICAgICBoZWlnaHQ9XCIxNTBweFwiXHJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXHJcbiAgICAgICAgX2hvdmVyPXt7IGJnOiAnZ2FpbnNib3JvJyB9fVxyXG4gICAgICAgIGN1cnNvcj1cInBvaW50ZXJcIlxyXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IG1vdmVzLmRlcGxveShnZXRUaGVhdGVySWQoKSl9XHJcbiAgICAgICAgb25Db250ZXh0TWVudT17b25SaWdodENsaWNrfVxyXG4gICAgICA+XHJcbiAgICAgICAge2RlcGxveWVkQ2FyZHNbcGxheWVySUQhXS5tYXAoKGNhcmQpID0+IChcclxuICAgICAgICAgIDxDYXJkXHJcbiAgICAgICAgICAgIGtleT17Y2FyZC5jYXJkSUR9XHJcbiAgICAgICAgICAgIGNhcmQ9e2NhcmR9XHJcbiAgICAgICAgICAgIGRlcGxveWVkPVwic2VsZlwiXHJcbiAgICAgICAgICAgIHNldERlc2M9e3NldERlc2N9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICkpfVxyXG4gICAgICA8L0ZsZXg+XHJcbiAgICA8L0JveD5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGhlYXRlcjtcclxuIl0sIm5hbWVzIjpbIkJveCIsIkZsZXgiLCJ0aGVtZSIsInVzZUJvYXJkQ29udGV4dCIsIkNhcmQiLCJUaGVhdGVyIiwidGhlYXRlciIsInNldERlc2MiLCJnZXRUaGVhdGVySWQiLCJHIiwicGxheWluZ0ZpZWxkIiwiZmluZEluZGV4IiwidCIsInRoZWF0ZXJOYW1lIiwib25SaWdodENsaWNrIiwiZSIsInByZXZlbnREZWZhdWx0IiwibW92ZXMiLCJpbXByb3Zpc2UiLCJkZXBsb3llZENhcmRzIiwicGxheWVySUQiLCJ3IiwiaGVpZ2h0IiwiYWxpZ25JdGVtcyIsIk51bWJlciIsInRvU3RyaW5nIiwibWFwIiwiY2FyZCIsImRlcGxveWVkIiwiY2FyZElEIiwiY29sb3IiLCJiZyIsInRleHRBbGlnbiIsInRvVXBwZXJDYXNlIiwiX2hvdmVyIiwiY3Vyc29yIiwib25DbGljayIsImRlcGxveSIsIm9uQ29udGV4dE1lbnUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/board/Theater.tsx\n"));

/***/ }),

/***/ "./src/components/board/TheaterRow.tsx":
/*!*********************************************!*\
  !*** ./src/components/board/TheaterRow.tsx ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\n/* harmony import */ var _SupremeCommanderCard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SupremeCommanderCard */ \"./src/components/board/SupremeCommanderCard.tsx\");\n/* harmony import */ var _Theater__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Theater */ \"./src/components/board/Theater.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\n\nvar TheaterRow = function(param) {\n    var setDesc = param.setDesc;\n    _s();\n    var ref = (0,_Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext)(), G = ref.G, playerID = ref.playerID;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Flex, {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Flex, {\n                h: \"300px\",\n                alignItems: \"flex-end\",\n                marginRight: \"10px\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SupremeCommanderCard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    playerID: playerID\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\TheaterRow.tsx\",\n                    lineNumber: 16,\n                    columnNumber: 9\n                }, _this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\TheaterRow.tsx\",\n                lineNumber: 15,\n                columnNumber: 7\n            }, _this),\n            G.playingField.map(function(theater) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Theater__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                    theater: theater,\n                    setDesc: setDesc\n                }, theater.theater, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\TheaterRow.tsx\",\n                    lineNumber: 19,\n                    columnNumber: 9\n                }, _this);\n            }),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.Flex, {\n                h: \"300px\",\n                alignItems: \"flex-start\",\n                marginLeft: \"10px\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SupremeCommanderCard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    playerID: (Number(playerID) ^ 1).toString()\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\TheaterRow.tsx\",\n                    lineNumber: 22,\n                    columnNumber: 9\n                }, _this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\TheaterRow.tsx\",\n                lineNumber: 21,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\TheaterRow.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, _this);\n};\n_s(TheaterRow, \"T/kAuhCNPCp8d58oqAQ0ySd3q/4=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext\n    ];\n});\n_c = TheaterRow;\n/* harmony default export */ __webpack_exports__[\"default\"] = (TheaterRow);\nvar _c;\n$RefreshReg$(_c, \"TheaterRow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9UaGVhdGVyUm93LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7OztBQUF3QztBQUNFO0FBQ2dCO0FBQzFCO0FBTWhDLElBQU1JLFVBQVUsR0FBRyxnQkFBd0I7UUFBckJDLE9BQU8sU0FBUEEsT0FBTzs7SUFDM0IsSUFBd0JKLEdBQWlCLEdBQWpCQSx1REFBZSxFQUFFLEVBQWpDSyxDQUFDLEdBQWVMLEdBQWlCLENBQWpDSyxDQUFDLEVBQUVDLFFBQVEsR0FBS04sR0FBaUIsQ0FBOUJNLFFBQVE7SUFFbkIscUJBQ0UsOERBQUNQLGtEQUFJO1FBQUNRLFVBQVUsRUFBQyxRQUFRO1FBQUNDLGNBQWMsRUFBQyxRQUFROzswQkFDL0MsOERBQUNULGtEQUFJO2dCQUFDVSxDQUFDLEVBQUMsT0FBTztnQkFBQ0YsVUFBVSxFQUFDLFVBQVU7Z0JBQUNHLFdBQVcsRUFBQyxNQUFNOzBCQUN0RCw0RUFBQ1QsNkRBQW9CO29CQUFDSyxRQUFRLEVBQUVBLFFBQVE7Ozs7O3lCQUFLOzs7OztxQkFDeEM7WUFDTkQsQ0FBQyxDQUFDTSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxTQUFDQyxPQUFPO3FDQUMxQiw4REFBQ1gsZ0RBQU87b0JBQXVCVyxPQUFPLEVBQUVBLE9BQU87b0JBQUVULE9BQU8sRUFBRUEsT0FBTzttQkFBbkRTLE9BQU8sQ0FBQ0EsT0FBTzs7Ozt5QkFBd0M7YUFDdEUsQ0FBQzswQkFDRiw4REFBQ2Qsa0RBQUk7Z0JBQUNVLENBQUMsRUFBQyxPQUFPO2dCQUFDRixVQUFVLEVBQUMsWUFBWTtnQkFBQ08sVUFBVSxFQUFDLE1BQU07MEJBQ3ZELDRFQUFDYiw2REFBb0I7b0JBQUNLLFFBQVEsRUFBRSxDQUFDUyxNQUFNLENBQUNULFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRVUsUUFBUSxFQUFFOzs7Ozt5QkFBSTs7Ozs7cUJBQ2hFOzs7Ozs7YUFDRixDQUNQO0FBQ0osQ0FBQztHQWhCS2IsVUFBVTs7UUFDVUgsbURBQWU7OztBQURuQ0csS0FBQUEsVUFBVTtBQWtCaEIsK0RBQWVBLFVBQVUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9ib2FyZC9UaGVhdGVyUm93LnRzeD9jODA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZsZXggfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcclxuaW1wb3J0IHsgdXNlQm9hcmRDb250ZXh0IH0gZnJvbSAnLi9Cb2FyZCc7XHJcbmltcG9ydCBTdXByZW1lQ29tbWFuZGVyQ2FyZCBmcm9tICcuL1N1cHJlbWVDb21tYW5kZXJDYXJkJztcclxuaW1wb3J0IFRoZWF0ZXIgZnJvbSAnLi9UaGVhdGVyJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgc2V0RGVzYz86IChkZXNjOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmNvbnN0IFRoZWF0ZXJSb3cgPSAoeyBzZXREZXNjIH06IFByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBHLCBwbGF5ZXJJRCB9ID0gdXNlQm9hcmRDb250ZXh0KCk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8RmxleCBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cclxuICAgICAgPEZsZXggaD1cIjMwMHB4XCIgYWxpZ25JdGVtcz1cImZsZXgtZW5kXCIgbWFyZ2luUmlnaHQ9XCIxMHB4XCI+XHJcbiAgICAgICAgPFN1cHJlbWVDb21tYW5kZXJDYXJkIHBsYXllcklEPXtwbGF5ZXJJRCF9IC8+XHJcbiAgICAgIDwvRmxleD5cclxuICAgICAge0cucGxheWluZ0ZpZWxkLm1hcCgodGhlYXRlcikgPT4gKFxyXG4gICAgICAgIDxUaGVhdGVyIGtleT17dGhlYXRlci50aGVhdGVyfSB0aGVhdGVyPXt0aGVhdGVyfSBzZXREZXNjPXtzZXREZXNjfSAvPlxyXG4gICAgICApKX1cclxuICAgICAgPEZsZXggaD1cIjMwMHB4XCIgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIiBtYXJnaW5MZWZ0PVwiMTBweFwiPlxyXG4gICAgICAgIDxTdXByZW1lQ29tbWFuZGVyQ2FyZCBwbGF5ZXJJRD17KE51bWJlcihwbGF5ZXJJRCkgXiAxKS50b1N0cmluZygpfSAvPlxyXG4gICAgICA8L0ZsZXg+XHJcbiAgICA8L0ZsZXg+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRoZWF0ZXJSb3c7XHJcbiJdLCJuYW1lcyI6WyJGbGV4IiwidXNlQm9hcmRDb250ZXh0IiwiU3VwcmVtZUNvbW1hbmRlckNhcmQiLCJUaGVhdGVyIiwiVGhlYXRlclJvdyIsInNldERlc2MiLCJHIiwicGxheWVySUQiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJoIiwibWFyZ2luUmlnaHQiLCJwbGF5aW5nRmllbGQiLCJtYXAiLCJ0aGVhdGVyIiwibWFyZ2luTGVmdCIsIk51bWJlciIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/board/TheaterRow.tsx\n"));

/***/ }),

/***/ "./src/components/board/WithdrawTable.tsx":
/*!************************************************!*\
  !*** ./src/components/board/WithdrawTable.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Board */ \"./src/components/board/Board.tsx\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\nvar scoringChartP1 = [\n    {\n        cardsRemaining: \"4 - 6\",\n        opponentPoints: 2\n    },\n    {\n        cardsRemaining: \"2 - 3\",\n        opponentPoints: 3\n    },\n    {\n        cardsRemaining: \"1\",\n        opponentPoints: 4\n    },\n    {\n        cardsRemaining: \"0\",\n        opponentPoints: 6\n    }, \n];\nvar scoringChartP2 = [\n    {\n        cardsRemaining: \"5 - 6\",\n        opponentPoints: 2\n    },\n    {\n        cardsRemaining: \"3 - 4\",\n        opponentPoints: 3\n    },\n    {\n        cardsRemaining: \"2\",\n        opponentPoints: 4\n    },\n    {\n        cardsRemaining: \"0 - 1\",\n        opponentPoints: 6\n    }, \n];\nvar WithdrawTable = function(param) {\n    var scoringChart = param.scoringChart;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.TableContainer, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Table, {\n            size: \"sm\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Thead, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Tr, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Th, {\n                                isNumeric: true,\n                                children: \"Cards Remaining In Hand\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                                lineNumber: 46,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Th, {\n                                isNumeric: true,\n                                children: \"Points Opponent Will Score\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                                lineNumber: 47,\n                                columnNumber: 13\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                        lineNumber: 45,\n                        columnNumber: 11\n                    }, _this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                    lineNumber: 44,\n                    columnNumber: 9\n                }, _this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Tbody, {\n                    children: scoringChart.map(function(data) {\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Tr, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Td, {\n                                    isNumeric: true,\n                                    children: data.cardsRemaining\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                                    lineNumber: 53,\n                                    columnNumber: 15\n                                }, _this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Td, {\n                                    isNumeric: true,\n                                    children: data.opponentPoints\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                                    lineNumber: 54,\n                                    columnNumber: 15\n                                }, _this)\n                            ]\n                        }, data.opponentPoints, true, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                            lineNumber: 52,\n                            columnNumber: 13\n                        }, _this);\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                    lineNumber: 50,\n                    columnNumber: 9\n                }, _this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n            lineNumber: 43,\n            columnNumber: 7\n        }, _this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n        lineNumber: 42,\n        columnNumber: 5\n    }, _this);\n};\n_c = WithdrawTable;\nvar TabbedWithdrawTables = function() {\n    var ref;\n    _s();\n    var ref1 = (0,_Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext)(), G = ref1.G, playerID = ref1.playerID;\n    var firstPlayer = (ref = G.players.find(function(p) {\n        return p.ID === playerID;\n    })) === null || ref === void 0 ? void 0 : ref.firstPlayer;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Tabs, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.TabList, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Tab, {\n                        children: [\n                            \"1st Player \",\n                            firstPlayer && \"(You)\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Tab, {\n                        children: [\n                            \"2nd Player \",\n                            !firstPlayer && \"(You)\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                        lineNumber: 72,\n                        columnNumber: 9\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                lineNumber: 70,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.TabPanels, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.TabPanel, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WithdrawTable, {\n                            scoringChart: scoringChartP1\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                            lineNumber: 77,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                        lineNumber: 76,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.TabPanel, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WithdrawTable, {\n                            scoringChart: scoringChartP2\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                            lineNumber: 80,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                        lineNumber: 79,\n                        columnNumber: 9\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n                lineNumber: 75,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\components\\\\board\\\\WithdrawTable.tsx\",\n        lineNumber: 69,\n        columnNumber: 5\n    }, _this);\n};\n_s(TabbedWithdrawTables, \"T/kAuhCNPCp8d58oqAQ0ySd3q/4=\", false, function() {\n    return [\n        _Board__WEBPACK_IMPORTED_MODULE_1__.useBoardContext\n    ];\n});\n_c1 = TabbedWithdrawTables;\n/* harmony default export */ __webpack_exports__[\"default\"] = (TabbedWithdrawTables);\nvar _c, _c1;\n$RefreshReg$(_c, \"WithdrawTable\");\n$RefreshReg$(_c1, \"TabbedWithdrawTables\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ib2FyZC9XaXRoZHJhd1RhYmxlLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7QUFhMEI7QUFDZ0I7QUFPMUMsSUFBTWEsY0FBYyxHQUFtQjtJQUNyQztRQUFFQyxjQUFjLEVBQUUsT0FBTztRQUFFQyxjQUFjLEVBQUUsQ0FBQztLQUFFO0lBQzlDO1FBQUVELGNBQWMsRUFBRSxPQUFPO1FBQUVDLGNBQWMsRUFBRSxDQUFDO0tBQUU7SUFDOUM7UUFBRUQsY0FBYyxFQUFFLEdBQUc7UUFBRUMsY0FBYyxFQUFFLENBQUM7S0FBRTtJQUMxQztRQUFFRCxjQUFjLEVBQUUsR0FBRztRQUFFQyxjQUFjLEVBQUUsQ0FBQztLQUFFO0NBQzNDO0FBRUQsSUFBTUMsY0FBYyxHQUFtQjtJQUNyQztRQUFFRixjQUFjLEVBQUUsT0FBTztRQUFFQyxjQUFjLEVBQUUsQ0FBQztLQUFFO0lBQzlDO1FBQUVELGNBQWMsRUFBRSxPQUFPO1FBQUVDLGNBQWMsRUFBRSxDQUFDO0tBQUU7SUFDOUM7UUFBRUQsY0FBYyxFQUFFLEdBQUc7UUFBRUMsY0FBYyxFQUFFLENBQUM7S0FBRTtJQUMxQztRQUFFRCxjQUFjLEVBQUUsT0FBTztRQUFFQyxjQUFjLEVBQUUsQ0FBQztLQUFFO0NBQy9DO0FBRUQsSUFBTUUsYUFBYSxHQUFHLGdCQUlIO1FBSGpCQyxZQUFZLFNBQVpBLFlBQVk7SUFJWixxQkFDRSw4REFBQ2pCLDREQUFjO2tCQUNiLDRFQUFDRCxtREFBSztZQUFDbUIsSUFBSSxFQUFDLElBQUk7OzhCQUNkLDhEQUFDWCxtREFBSzs4QkFDSiw0RUFBQ0MsZ0RBQUU7OzBDQUNELDhEQUFDRixnREFBRTtnQ0FBQ2EsU0FBUzswQ0FBQyx5QkFBdUI7Ozs7O3FDQUFLOzBDQUMxQyw4REFBQ2IsZ0RBQUU7Z0NBQUNhLFNBQVM7MENBQUMsNEJBQTBCOzs7OztxQ0FBSzs7Ozs7OzZCQUMxQzs7Ozs7eUJBQ0M7OEJBQ1IsOERBQUNmLG1EQUFLOzhCQUNIYSxZQUFZLENBQUNHLEdBQUcsQ0FBQyxTQUFDQyxJQUFJOzZDQUNyQiw4REFBQ2IsZ0RBQUU7OzhDQUNELDhEQUFDSCxnREFBRTtvQ0FBQ2MsU0FBUzs4Q0FBRUUsSUFBSSxDQUFDUixjQUFjOzs7Ozt5Q0FBTTs4Q0FDeEMsOERBQUNSLGdEQUFFO29DQUFDYyxTQUFTOzhDQUFFRSxJQUFJLENBQUNQLGNBQWM7Ozs7O3lDQUFNOzsyQkFGakNPLElBQUksQ0FBQ1AsY0FBYzs7OztpQ0FHdkI7cUJBQ04sQ0FBQzs7Ozs7eUJBQ0k7Ozs7OztpQkFDRjs7Ozs7YUFDTyxDQUNqQjtBQUNKLENBQUM7QUF6QktFLEtBQUFBLGFBQWE7QUEyQm5CLElBQU1NLG9CQUFvQixHQUFHLFdBQU07UUFHYkMsR0FBd0M7O0lBRjVELElBQXdCWixJQUFpQixHQUFqQkEsdURBQWUsRUFBRSxFQUFqQ1ksQ0FBQyxHQUFlWixJQUFpQixDQUFqQ1ksQ0FBQyxFQUFFQyxRQUFRLEdBQUtiLElBQWlCLENBQTlCYSxRQUFRO0lBRW5CLElBQU1DLFdBQVcsR0FBR0YsQ0FBQUEsR0FBd0MsR0FBeENBLENBQUMsQ0FBQ0csT0FBTyxDQUFDQyxJQUFJLENBQUMsU0FBQ0MsQ0FBQztlQUFLQSxDQUFDLENBQUNDLEVBQUUsS0FBS0wsUUFBUTtLQUFBLENBQUMsY0FBeENELEdBQXdDLFdBQWEsR0FBckRBLEtBQUFBLENBQXFELEdBQXJEQSxHQUF3QyxDQUFFRSxXQUFXO0lBRXpFLHFCQUNFLDhEQUFDdkIsa0RBQUk7OzBCQUNILDhEQUFDRCxxREFBTzs7a0NBQ04sOERBQUNFLGlEQUFHOzs0QkFBQyxhQUFXOzRCQUFDc0IsV0FBVyxJQUFJLE9BQU87Ozs7Ozs2QkFBTztrQ0FDOUMsOERBQUN0QixpREFBRzs7NEJBQUMsYUFBVzs0QkFBQyxDQUFDc0IsV0FBVyxJQUFJLE9BQU87Ozs7Ozs2QkFBTzs7Ozs7O3FCQUN2QzswQkFFViw4REFBQ2hCLHVEQUFTOztrQ0FDUiw4REFBQ0Msc0RBQVE7a0NBQ1AsNEVBQUNNLGFBQWE7NEJBQUNDLFlBQVksRUFBRUwsY0FBYzs7Ozs7aUNBQUk7Ozs7OzZCQUN0QztrQ0FDWCw4REFBQ0Ysc0RBQVE7a0NBQ1AsNEVBQUNNLGFBQWE7NEJBQUNDLFlBQVksRUFBRUYsY0FBYzs7Ozs7aUNBQUk7Ozs7OzZCQUN0Qzs7Ozs7O3FCQUNEOzs7Ozs7YUFDUCxDQUNQO0FBQ0osQ0FBQztHQXRCS08sb0JBQW9COztRQUNBWCxtREFBZTs7O0FBRG5DVyxNQUFBQSxvQkFBb0I7QUF3QjFCLCtEQUFlQSxvQkFBb0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9ib2FyZC9XaXRoZHJhd1RhYmxlLnRzeD81MGNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgVGFibGUsXHJcbiAgVGFibGVDb250YWluZXIsXHJcbiAgVGFiTGlzdCxcclxuICBUYWJzLFxyXG4gIFRhYixcclxuICBUYm9keSxcclxuICBUZCxcclxuICBUaCxcclxuICBUaGVhZCxcclxuICBUcixcclxuICBUYWJQYW5lbHMsXHJcbiAgVGFiUGFuZWwsXHJcbn0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdCc7XHJcbmltcG9ydCB7IHVzZUJvYXJkQ29udGV4dCB9IGZyb20gJy4vQm9hcmQnO1xyXG5cclxuaW50ZXJmYWNlIFNjb3JpbmdDaGFydCB7XHJcbiAgY2FyZHNSZW1haW5pbmc6IHN0cmluZztcclxuICBvcHBvbmVudFBvaW50czogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBzY29yaW5nQ2hhcnRQMTogU2NvcmluZ0NoYXJ0W10gPSBbXHJcbiAgeyBjYXJkc1JlbWFpbmluZzogJzQgLSA2Jywgb3Bwb25lbnRQb2ludHM6IDIgfSxcclxuICB7IGNhcmRzUmVtYWluaW5nOiAnMiAtIDMnLCBvcHBvbmVudFBvaW50czogMyB9LFxyXG4gIHsgY2FyZHNSZW1haW5pbmc6ICcxJywgb3Bwb25lbnRQb2ludHM6IDQgfSxcclxuICB7IGNhcmRzUmVtYWluaW5nOiAnMCcsIG9wcG9uZW50UG9pbnRzOiA2IH0sXHJcbl07XHJcblxyXG5jb25zdCBzY29yaW5nQ2hhcnRQMjogU2NvcmluZ0NoYXJ0W10gPSBbXHJcbiAgeyBjYXJkc1JlbWFpbmluZzogJzUgLSA2Jywgb3Bwb25lbnRQb2ludHM6IDIgfSxcclxuICB7IGNhcmRzUmVtYWluaW5nOiAnMyAtIDQnLCBvcHBvbmVudFBvaW50czogMyB9LFxyXG4gIHsgY2FyZHNSZW1haW5pbmc6ICcyJywgb3Bwb25lbnRQb2ludHM6IDQgfSxcclxuICB7IGNhcmRzUmVtYWluaW5nOiAnMCAtIDEnLCBvcHBvbmVudFBvaW50czogNiB9LFxyXG5dO1xyXG5cclxuY29uc3QgV2l0aGRyYXdUYWJsZSA9ICh7XHJcbiAgc2NvcmluZ0NoYXJ0LFxyXG59OiB7XHJcbiAgc2NvcmluZ0NoYXJ0OiBTY29yaW5nQ2hhcnRbXTtcclxufSk6IEpTWC5FbGVtZW50ID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPFRhYmxlQ29udGFpbmVyPlxyXG4gICAgICA8VGFibGUgc2l6ZT1cInNtXCI+XHJcbiAgICAgICAgPFRoZWFkPlxyXG4gICAgICAgICAgPFRyPlxyXG4gICAgICAgICAgICA8VGggaXNOdW1lcmljPkNhcmRzIFJlbWFpbmluZyBJbiBIYW5kPC9UaD5cclxuICAgICAgICAgICAgPFRoIGlzTnVtZXJpYz5Qb2ludHMgT3Bwb25lbnQgV2lsbCBTY29yZTwvVGg+XHJcbiAgICAgICAgICA8L1RyPlxyXG4gICAgICAgIDwvVGhlYWQ+XHJcbiAgICAgICAgPFRib2R5PlxyXG4gICAgICAgICAge3Njb3JpbmdDaGFydC5tYXAoKGRhdGEpID0+IChcclxuICAgICAgICAgICAgPFRyIGtleT17ZGF0YS5vcHBvbmVudFBvaW50c30+XHJcbiAgICAgICAgICAgICAgPFRkIGlzTnVtZXJpYz57ZGF0YS5jYXJkc1JlbWFpbmluZ308L1RkPlxyXG4gICAgICAgICAgICAgIDxUZCBpc051bWVyaWM+e2RhdGEub3Bwb25lbnRQb2ludHN9PC9UZD5cclxuICAgICAgICAgICAgPC9Ucj5cclxuICAgICAgICAgICkpfVxyXG4gICAgICAgIDwvVGJvZHk+XHJcbiAgICAgIDwvVGFibGU+XHJcbiAgICA8L1RhYmxlQ29udGFpbmVyPlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBUYWJiZWRXaXRoZHJhd1RhYmxlcyA9ICgpID0+IHtcclxuICBjb25zdCB7IEcsIHBsYXllcklEIH0gPSB1c2VCb2FyZENvbnRleHQoKTtcclxuXHJcbiAgY29uc3QgZmlyc3RQbGF5ZXIgPSBHLnBsYXllcnMuZmluZCgocCkgPT4gcC5JRCA9PT0gcGxheWVySUQpPy5maXJzdFBsYXllcjtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxUYWJzPlxyXG4gICAgICA8VGFiTGlzdD5cclxuICAgICAgICA8VGFiPjFzdCBQbGF5ZXIge2ZpcnN0UGxheWVyICYmICcoWW91KSd9PC9UYWI+XHJcbiAgICAgICAgPFRhYj4ybmQgUGxheWVyIHshZmlyc3RQbGF5ZXIgJiYgJyhZb3UpJ308L1RhYj5cclxuICAgICAgPC9UYWJMaXN0PlxyXG5cclxuICAgICAgPFRhYlBhbmVscz5cclxuICAgICAgICA8VGFiUGFuZWw+XHJcbiAgICAgICAgICA8V2l0aGRyYXdUYWJsZSBzY29yaW5nQ2hhcnQ9e3Njb3JpbmdDaGFydFAxfSAvPlxyXG4gICAgICAgIDwvVGFiUGFuZWw+XHJcbiAgICAgICAgPFRhYlBhbmVsPlxyXG4gICAgICAgICAgPFdpdGhkcmF3VGFibGUgc2NvcmluZ0NoYXJ0PXtzY29yaW5nQ2hhcnRQMn0gLz5cclxuICAgICAgICA8L1RhYlBhbmVsPlxyXG4gICAgICA8L1RhYlBhbmVscz5cclxuICAgIDwvVGFicz5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGFiYmVkV2l0aGRyYXdUYWJsZXM7XHJcbiJdLCJuYW1lcyI6WyJUYWJsZSIsIlRhYmxlQ29udGFpbmVyIiwiVGFiTGlzdCIsIlRhYnMiLCJUYWIiLCJUYm9keSIsIlRkIiwiVGgiLCJUaGVhZCIsIlRyIiwiVGFiUGFuZWxzIiwiVGFiUGFuZWwiLCJ1c2VCb2FyZENvbnRleHQiLCJzY29yaW5nQ2hhcnRQMSIsImNhcmRzUmVtYWluaW5nIiwib3Bwb25lbnRQb2ludHMiLCJzY29yaW5nQ2hhcnRQMiIsIldpdGhkcmF3VGFibGUiLCJzY29yaW5nQ2hhcnQiLCJzaXplIiwiaXNOdW1lcmljIiwibWFwIiwiZGF0YSIsIlRhYmJlZFdpdGhkcmF3VGFibGVzIiwiRyIsInBsYXllcklEIiwiZmlyc3RQbGF5ZXIiLCJwbGF5ZXJzIiwiZmluZCIsInAiLCJJRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/board/WithdrawTable.tsx\n"));

/***/ }),

/***/ "./src/config/index.ts":
/*!*****************************!*\
  !*** ./src/config/index.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DEFAULT_PORT\": function() { return /* binding */ DEFAULT_PORT; },\n/* harmony export */   \"GAME_ID\": function() { return /* binding */ GAME_ID; },\n/* harmony export */   \"isProduction\": function() { return /* binding */ isProduction; }\n/* harmony export */ });\nvar DEFAULT_PORT = 3001;\nvar isProduction = \"development\" === \"production\";\nvar GAME_ID = \"airlandsea\";\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLElBQU1BLFlBQVksR0FBRyxJQUFJLENBQUM7QUFDMUIsSUFBTUMsWUFBWSxHQUFHQyxhQURmLEtBQ3dDLFlBQVksQ0FBQztBQUMzRCxJQUFNQyxPQUFPLEdBQUcsWUFBWSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb25maWcvaW5kZXgudHM/ZGE5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgREVGQVVMVF9QT1JUID0gMzAwMTtcclxuZXhwb3J0IGNvbnN0IGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XHJcbmV4cG9ydCBjb25zdCBHQU1FX0lEID0gJ2FpcmxhbmRzZWEnO1xyXG4iXSwibmFtZXMiOlsiREVGQVVMVF9QT1JUIiwiaXNQcm9kdWN0aW9uIiwicHJvY2VzcyIsIkdBTUVfSUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/index.ts\n"));

/***/ }),

/***/ "./src/config/theme.ts":
/*!*****************************!*\
  !*** ./src/config/theme.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"theme\": function() { return /* binding */ theme; }\n/* harmony export */ });\nvar theme = {\n    air: \"#5b574b\",\n    land: \"#5a7237\",\n    sea: \"#356479\",\n    faceDown: \"#34312e\",\n    first: \"#c56569\",\n    second: \"#687daf\"\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnL3RoZW1lLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxJQUFNQSxLQUFLLEdBQTJCO0lBQzNDQyxHQUFHLEVBQUUsU0FBUztJQUNkQyxJQUFJLEVBQUUsU0FBUztJQUNmQyxHQUFHLEVBQUUsU0FBUztJQUNkQyxRQUFRLEVBQUUsU0FBUztJQUNuQkMsS0FBSyxFQUFFLFNBQVM7SUFDaEJDLE1BQU0sRUFBRSxTQUFTO0NBQ2xCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbmZpZy90aGVtZS50cz9hNGJmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB0aGVtZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICBhaXI6ICcjNWI1NzRiJyxcclxuICBsYW5kOiAnIzVhNzIzNycsXHJcbiAgc2VhOiAnIzM1NjQ3OScsXHJcbiAgZmFjZURvd246ICcjMzQzMTJlJyxcclxuICBmaXJzdDogJyNjNTY1NjknLFxyXG4gIHNlY29uZDogJyM2ODdkYWYnLFxyXG59O1xyXG4iXSwibmFtZXMiOlsidGhlbWUiLCJhaXIiLCJsYW5kIiwic2VhIiwiZmFjZURvd24iLCJmaXJzdCIsInNlY29uZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/theme.ts\n"));

/***/ }),

/***/ "./src/game/cardInfo.ts":
/*!******************************!*\
  !*** ./src/game/cardInfo.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cardInfoRecords\": function() { return /* binding */ cardInfoRecords; }\n/* harmony export */ });\nvar cardInfoRecords = {\n    Support: {\n        name: \"Support\",\n        desc: \"You gain +3 strength in each adjacent theater.\",\n        strength: 1,\n        theater: \"air\",\n        type: \"ongoing\"\n    },\n    Air_Drop: {\n        name: \"Air Drop\",\n        desc: \"On your next turn, you may play a battle card to a non-matching theater.\",\n        strength: 2,\n        theater: \"air\",\n        type: \"instant\"\n    },\n    Maneuver_Air: {\n        name: \"Maneuver\",\n        desc: \"Flip a battle card in an adjacent theater.\",\n        strength: 3,\n        theater: \"air\",\n        type: \"instant\"\n    },\n    Aerodrome: {\n        name: \"Aerodrome\",\n        desc: \"You may play battle cards of strength 3 or less to non-matching theaters.\",\n        strength: 4,\n        theater: \"air\",\n        type: \"ongoing\",\n        ongoingType: \"player\"\n    },\n    Containment: {\n        name: \"Containment\",\n        desc: \"If either player plays a battle card face-down, immediately discard that card.\",\n        strength: 5,\n        theater: \"air\",\n        type: \"ongoing\",\n        ongoingType: \"global\"\n    },\n    Heavy_Bombers: {\n        name: \"Heavy Bombers\",\n        desc: \"\",\n        strength: 6,\n        theater: \"air\",\n        type: \"none\"\n    },\n    Reinforce: {\n        name: \"Reinforce\",\n        desc: \"Look at the top card of the battle deck. You may play it face-down to an adjacent theater.\",\n        strength: 1,\n        theater: \"land\",\n        type: \"instant\"\n    },\n    Ambush: {\n        name: \"Ambush\",\n        desc: \"Flip a battle card in any theater.\",\n        strength: 2,\n        theater: \"land\",\n        type: \"instant\"\n    },\n    Maneuver_Land: {\n        name: \"Maneuver\",\n        desc: \"Flip a battle card in an adjacent theater.\",\n        strength: 3,\n        theater: \"land\",\n        type: \"instant\"\n    },\n    Cover_Fire: {\n        name: \"Cover Fire\",\n        desc: \"All battle cards covered by this card are now strength 4.\",\n        strength: 4,\n        theater: \"land\",\n        type: \"ongoing\",\n        ongoingType: \"player\"\n    },\n    Disrupt: {\n        name: \"Disrupt\",\n        desc: \"Your opponent chooses and flips 1 of their battle cards. Then you flip 1 of yours.\",\n        strength: 5,\n        theater: \"land\",\n        type: \"instant\"\n    },\n    Heavy_Tanks: {\n        name: \"Heavy Tanks\",\n        desc: \"\",\n        strength: 6,\n        theater: \"land\",\n        type: \"none\"\n    },\n    Transport: {\n        name: \"Transport\",\n        desc: \"You may move 1 of your battle cards to a different theater.\",\n        strength: 1,\n        theater: \"sea\",\n        type: \"instant\"\n    },\n    Escalation: {\n        name: \"Escalation\",\n        desc: \"All of your face-down battle cards are now strength 4.\",\n        strength: 2,\n        theater: \"sea\",\n        type: \"ongoing\",\n        ongoingType: \"player\"\n    },\n    Maneuver_Sea: {\n        name: \"Maneuver\",\n        desc: \"Flip a battle card in an adjacent theater.\",\n        strength: 3,\n        theater: \"sea\",\n        type: \"instant\"\n    },\n    Redeploy: {\n        name: \"Redeploy\",\n        desc: \"Return 1 of your face-down battle cards to your hand. If you do, gain an extra turn.\",\n        strength: 4,\n        theater: \"sea\",\n        type: \"instant\"\n    },\n    Blockade: {\n        name: \"Blockade\",\n        desc: \"If a battle card is played in an adjacent theater with 3 or more cards already in it (counting both players' cards), discard that card with no effect.\",\n        strength: 5,\n        theater: \"sea\",\n        type: \"ongoing\",\n        ongoingType: \"global\"\n    },\n    Super_Battleship: {\n        name: \"Super Battleship\",\n        desc: \"\",\n        strength: 6,\n        theater: \"sea\",\n        type: \"none\"\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxPQUFPLEVBQUUsS0FBSztRQUNkQyxJQUFJLEVBQUUsU0FBUztLQUNoQjtJQUNEYyxVQUFVLEVBQUU7UUFDVmxCLElBQUksRUFBRSxZQUFZO1FBQ2xCQyxJQUFJLEVBQUUsd0RBQXdEO1FBQzlEQyxRQUFRLEVBQUUsQ0FBQztRQUNYQyxPQUFPLEVBQUUsS0FBSztRQUNkQyxJQUFJLEVBQUUsU0FBUztRQUNmSSxXQUFXLEVBQUUsUUFBUTtLQUN0QjtJQUNEVyxZQUFZLEVBQUU7UUFDWm5CLElBQUksRUFBRSxVQUFVO1FBQ2hCQyxJQUFJLEVBQUUsNENBQTRDO1FBQ2xEQyxRQUFRLEVBQUUsQ0FBQztRQUNYQyxPQUFPLEVBQUUsS0FBSztRQUNkQyxJQUFJLEVBQUUsU0FBUztLQUNoQjtJQUNEZ0IsUUFBUSxFQUFFO1FBQ1JwQixJQUFJLEVBQUUsVUFBVTtRQUNoQkMsSUFBSSxFQUFFLHNGQUFzRjtRQUM1RkMsUUFBUSxFQUFFLENBQUM7UUFDWEMsT0FBTyxFQUFFLEtBQUs7UUFDZEMsSUFBSSxFQUFFLFNBQVM7S0FDaEI7SUFDRGlCLFFBQVEsRUFBRTtRQUNSckIsSUFBSSxFQUFFLFVBQVU7UUFDaEJDLElBQUksRUFBRSx3SkFBd0o7UUFDOUpDLFFBQVEsRUFBRSxDQUFDO1FBQ1hDLE9BQU8sRUFBRSxLQUFLO1FBQ2RDLElBQUksRUFBRSxTQUFTO1FBQ2ZJLFdBQVcsRUFBRSxRQUFRO0tBQ3RCO0lBQ0RjLGdCQUFnQixFQUFFO1FBQ2hCdEIsSUFBSSxFQUFFLGtCQUFrQjtRQUN4QkMsSUFBSSxFQUFFLEVBQUU7UUFDUkMsUUFBUSxFQUFFLENBQUM7UUFDWEMsT0FBTyxFQUFFLEtBQUs7UUFDZEMsSUFBSSxFQUFFLE1BQU07S0FDYjtDQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2dhbWUvY2FyZEluZm8udHM/OGI1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYmlsaXR5VHlwZSwgVGhlYXRlclR5cGUsIE9uZ29pbmdUeXBlIH0gZnJvbSAnLi9jYXJkcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhcmRJbmZvIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgc3RyZW5ndGg6IG51bWJlcjtcclxuICBkZXNjOiBzdHJpbmc7XHJcbiAgdHlwZTogQWJpbGl0eVR5cGU7XHJcbiAgdGhlYXRlcjogVGhlYXRlclR5cGU7XHJcbiAgb25nb2luZ1R5cGU/OiBPbmdvaW5nVHlwZTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRJbmZvUmVjb3JkczogUmVjb3JkPHN0cmluZywgQ2FyZEluZm8+ID0ge1xyXG4gIFN1cHBvcnQ6IHtcclxuICAgIG5hbWU6ICdTdXBwb3J0JyxcclxuICAgIGRlc2M6ICdZb3UgZ2FpbiArMyBzdHJlbmd0aCBpbiBlYWNoIGFkamFjZW50IHRoZWF0ZXIuJyxcclxuICAgIHN0cmVuZ3RoOiAxLFxyXG4gICAgdGhlYXRlcjogJ2FpcicsXHJcbiAgICB0eXBlOiAnb25nb2luZycsXHJcbiAgfSxcclxuICBBaXJfRHJvcDoge1xyXG4gICAgbmFtZTogJ0FpciBEcm9wJyxcclxuICAgIGRlc2M6ICdPbiB5b3VyIG5leHQgdHVybiwgeW91IG1heSBwbGF5IGEgYmF0dGxlIGNhcmQgdG8gYSBub24tbWF0Y2hpbmcgdGhlYXRlci4nLFxyXG4gICAgc3RyZW5ndGg6IDIsXHJcbiAgICB0aGVhdGVyOiAnYWlyJyxcclxuICAgIHR5cGU6ICdpbnN0YW50JyxcclxuICB9LFxyXG4gIE1hbmV1dmVyX0Fpcjoge1xyXG4gICAgbmFtZTogJ01hbmV1dmVyJyxcclxuICAgIGRlc2M6ICdGbGlwIGEgYmF0dGxlIGNhcmQgaW4gYW4gYWRqYWNlbnQgdGhlYXRlci4nLFxyXG4gICAgc3RyZW5ndGg6IDMsXHJcbiAgICB0aGVhdGVyOiAnYWlyJyxcclxuICAgIHR5cGU6ICdpbnN0YW50JyxcclxuICB9LFxyXG4gIEFlcm9kcm9tZToge1xyXG4gICAgbmFtZTogJ0Flcm9kcm9tZScsXHJcbiAgICBkZXNjOiAnWW91IG1heSBwbGF5IGJhdHRsZSBjYXJkcyBvZiBzdHJlbmd0aCAzIG9yIGxlc3MgdG8gbm9uLW1hdGNoaW5nIHRoZWF0ZXJzLicsXHJcbiAgICBzdHJlbmd0aDogNCxcclxuICAgIHRoZWF0ZXI6ICdhaXInLFxyXG4gICAgdHlwZTogJ29uZ29pbmcnLFxyXG4gICAgb25nb2luZ1R5cGU6ICdwbGF5ZXInLFxyXG4gIH0sXHJcbiAgQ29udGFpbm1lbnQ6IHtcclxuICAgIG5hbWU6ICdDb250YWlubWVudCcsXHJcbiAgICBkZXNjOiAnSWYgZWl0aGVyIHBsYXllciBwbGF5cyBhIGJhdHRsZSBjYXJkIGZhY2UtZG93biwgaW1tZWRpYXRlbHkgZGlzY2FyZCB0aGF0IGNhcmQuJyxcclxuICAgIHN0cmVuZ3RoOiA1LFxyXG4gICAgdGhlYXRlcjogJ2FpcicsXHJcbiAgICB0eXBlOiAnb25nb2luZycsXHJcbiAgICBvbmdvaW5nVHlwZTogJ2dsb2JhbCcsXHJcbiAgfSxcclxuICBIZWF2eV9Cb21iZXJzOiB7XHJcbiAgICBuYW1lOiAnSGVhdnkgQm9tYmVycycsXHJcbiAgICBkZXNjOiAnJyxcclxuICAgIHN0cmVuZ3RoOiA2LFxyXG4gICAgdGhlYXRlcjogJ2FpcicsXHJcbiAgICB0eXBlOiAnbm9uZScsXHJcbiAgfSxcclxuICBSZWluZm9yY2U6IHtcclxuICAgIG5hbWU6ICdSZWluZm9yY2UnLFxyXG4gICAgZGVzYzogJ0xvb2sgYXQgdGhlIHRvcCBjYXJkIG9mIHRoZSBiYXR0bGUgZGVjay4gWW91IG1heSBwbGF5IGl0IGZhY2UtZG93biB0byBhbiBhZGphY2VudCB0aGVhdGVyLicsXHJcbiAgICBzdHJlbmd0aDogMSxcclxuICAgIHRoZWF0ZXI6ICdsYW5kJyxcclxuICAgIHR5cGU6ICdpbnN0YW50JyxcclxuICB9LFxyXG4gIEFtYnVzaDoge1xyXG4gICAgbmFtZTogJ0FtYnVzaCcsXHJcbiAgICBkZXNjOiAnRmxpcCBhIGJhdHRsZSBjYXJkIGluIGFueSB0aGVhdGVyLicsXHJcbiAgICBzdHJlbmd0aDogMixcclxuICAgIHRoZWF0ZXI6ICdsYW5kJyxcclxuICAgIHR5cGU6ICdpbnN0YW50JyxcclxuICB9LFxyXG4gIE1hbmV1dmVyX0xhbmQ6IHtcclxuICAgIG5hbWU6ICdNYW5ldXZlcicsXHJcbiAgICBkZXNjOiAnRmxpcCBhIGJhdHRsZSBjYXJkIGluIGFuIGFkamFjZW50IHRoZWF0ZXIuJyxcclxuICAgIHN0cmVuZ3RoOiAzLFxyXG4gICAgdGhlYXRlcjogJ2xhbmQnLFxyXG4gICAgdHlwZTogJ2luc3RhbnQnLFxyXG4gIH0sXHJcbiAgQ292ZXJfRmlyZToge1xyXG4gICAgbmFtZTogJ0NvdmVyIEZpcmUnLFxyXG4gICAgZGVzYzogJ0FsbCBiYXR0bGUgY2FyZHMgY292ZXJlZCBieSB0aGlzIGNhcmQgYXJlIG5vdyBzdHJlbmd0aCA0LicsXHJcbiAgICBzdHJlbmd0aDogNCxcclxuICAgIHRoZWF0ZXI6ICdsYW5kJyxcclxuICAgIHR5cGU6ICdvbmdvaW5nJyxcclxuICAgIG9uZ29pbmdUeXBlOiAncGxheWVyJyxcclxuICB9LFxyXG4gIERpc3J1cHQ6IHtcclxuICAgIG5hbWU6ICdEaXNydXB0JyxcclxuICAgIGRlc2M6ICdZb3VyIG9wcG9uZW50IGNob29zZXMgYW5kIGZsaXBzIDEgb2YgdGhlaXIgYmF0dGxlIGNhcmRzLiBUaGVuIHlvdSBmbGlwIDEgb2YgeW91cnMuJyxcclxuICAgIHN0cmVuZ3RoOiA1LFxyXG4gICAgdGhlYXRlcjogJ2xhbmQnLFxyXG4gICAgdHlwZTogJ2luc3RhbnQnLFxyXG4gIH0sXHJcbiAgSGVhdnlfVGFua3M6IHtcclxuICAgIG5hbWU6ICdIZWF2eSBUYW5rcycsXHJcbiAgICBkZXNjOiAnJyxcclxuICAgIHN0cmVuZ3RoOiA2LFxyXG4gICAgdGhlYXRlcjogJ2xhbmQnLFxyXG4gICAgdHlwZTogJ25vbmUnLFxyXG4gIH0sXHJcbiAgVHJhbnNwb3J0OiB7XHJcbiAgICBuYW1lOiAnVHJhbnNwb3J0JyxcclxuICAgIGRlc2M6ICdZb3UgbWF5IG1vdmUgMSBvZiB5b3VyIGJhdHRsZSBjYXJkcyB0byBhIGRpZmZlcmVudCB0aGVhdGVyLicsXHJcbiAgICBzdHJlbmd0aDogMSxcclxuICAgIHRoZWF0ZXI6ICdzZWEnLFxyXG4gICAgdHlwZTogJ2luc3RhbnQnLFxyXG4gIH0sXHJcbiAgRXNjYWxhdGlvbjoge1xyXG4gICAgbmFtZTogJ0VzY2FsYXRpb24nLFxyXG4gICAgZGVzYzogJ0FsbCBvZiB5b3VyIGZhY2UtZG93biBiYXR0bGUgY2FyZHMgYXJlIG5vdyBzdHJlbmd0aCA0LicsXHJcbiAgICBzdHJlbmd0aDogMixcclxuICAgIHRoZWF0ZXI6ICdzZWEnLFxyXG4gICAgdHlwZTogJ29uZ29pbmcnLFxyXG4gICAgb25nb2luZ1R5cGU6ICdwbGF5ZXInLFxyXG4gIH0sXHJcbiAgTWFuZXV2ZXJfU2VhOiB7XHJcbiAgICBuYW1lOiAnTWFuZXV2ZXInLFxyXG4gICAgZGVzYzogJ0ZsaXAgYSBiYXR0bGUgY2FyZCBpbiBhbiBhZGphY2VudCB0aGVhdGVyLicsXHJcbiAgICBzdHJlbmd0aDogMyxcclxuICAgIHRoZWF0ZXI6ICdzZWEnLFxyXG4gICAgdHlwZTogJ2luc3RhbnQnLFxyXG4gIH0sXHJcbiAgUmVkZXBsb3k6IHtcclxuICAgIG5hbWU6ICdSZWRlcGxveScsXHJcbiAgICBkZXNjOiAnUmV0dXJuIDEgb2YgeW91ciBmYWNlLWRvd24gYmF0dGxlIGNhcmRzIHRvIHlvdXIgaGFuZC4gSWYgeW91IGRvLCBnYWluIGFuIGV4dHJhIHR1cm4uJyxcclxuICAgIHN0cmVuZ3RoOiA0LFxyXG4gICAgdGhlYXRlcjogJ3NlYScsXHJcbiAgICB0eXBlOiAnaW5zdGFudCcsXHJcbiAgfSxcclxuICBCbG9ja2FkZToge1xyXG4gICAgbmFtZTogJ0Jsb2NrYWRlJyxcclxuICAgIGRlc2M6IFwiSWYgYSBiYXR0bGUgY2FyZCBpcyBwbGF5ZWQgaW4gYW4gYWRqYWNlbnQgdGhlYXRlciB3aXRoIDMgb3IgbW9yZSBjYXJkcyBhbHJlYWR5IGluIGl0IChjb3VudGluZyBib3RoIHBsYXllcnMnIGNhcmRzKSwgZGlzY2FyZCB0aGF0IGNhcmQgd2l0aCBubyBlZmZlY3QuXCIsXHJcbiAgICBzdHJlbmd0aDogNSxcclxuICAgIHRoZWF0ZXI6ICdzZWEnLFxyXG4gICAgdHlwZTogJ29uZ29pbmcnLFxyXG4gICAgb25nb2luZ1R5cGU6ICdnbG9iYWwnLFxyXG4gIH0sXHJcbiAgU3VwZXJfQmF0dGxlc2hpcDoge1xyXG4gICAgbmFtZTogJ1N1cGVyIEJhdHRsZXNoaXAnLFxyXG4gICAgZGVzYzogJycsXHJcbiAgICBzdHJlbmd0aDogNixcclxuICAgIHRoZWF0ZXI6ICdzZWEnLFxyXG4gICAgdHlwZTogJ25vbmUnLFxyXG4gIH0sXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJjYXJkSW5mb1JlY29yZHMiLCJTdXBwb3J0IiwibmFtZSIsImRlc2MiLCJzdHJlbmd0aCIsInRoZWF0ZXIiLCJ0eXBlIiwiQWlyX0Ryb3AiLCJNYW5ldXZlcl9BaXIiLCJBZXJvZHJvbWUiLCJvbmdvaW5nVHlwZSIsIkNvbnRhaW5tZW50IiwiSGVhdnlfQm9tYmVycyIsIlJlaW5mb3JjZSIsIkFtYnVzaCIsIk1hbmV1dmVyX0xhbmQiLCJDb3Zlcl9GaXJlIiwiRGlzcnVwdCIsIkhlYXZ5X1RhbmtzIiwiVHJhbnNwb3J0IiwiRXNjYWxhdGlvbiIsIk1hbmV1dmVyX1NlYSIsIlJlZGVwbG95IiwiQmxvY2thZGUiLCJTdXBlcl9CYXR0bGVzaGlwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/cardInfo.ts\n"));

/***/ }),

/***/ "./src/game/cards.ts":
/*!***************************!*\
  !*** ./src/game/cards.ts ***!
  \***************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"battleCards\": function() { return /* binding */ battleCards; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/src/_object_spread.mjs */ \"./node_modules/@swc/helpers/src/_object_spread.mjs\");\n/* harmony import */ var _swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/src/_object_spread_props.mjs */ \"./node_modules/@swc/helpers/src/_object_spread_props.mjs\");\n/* harmony import */ var _cardInfo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cardInfo */ \"./src/game/cardInfo.ts\");\n\n\n\nvar genericCard = {\n    cardID: \"Generic Card\",\n    cardInfo: {\n        name: \"None\",\n        desc: \"None\",\n        strength: -1,\n        theater: \"air\",\n        type: \"none\"\n    },\n    strength: -1,\n    covered: false,\n    faceDown: false\n};\nvar battleCards = [\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Support\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Support,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Support.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Air_Drop\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Air_Drop,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Air_Drop.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Maneuver_Air\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Maneuver_Air,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Maneuver_Air.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Aerodrome\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Aerodrome,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Aerodrome.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Containment\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Containment,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Containment.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Heavy_Bombers\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Heavy_Bombers,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Heavy_Bombers.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Reinforce\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Reinforce,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Reinforce.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Ambush\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Ambush,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Ambush.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Maneuver_Land\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Maneuver_Land,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Maneuver_Land.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Cover_Fire\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Cover_Fire,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Cover_Fire.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Disrupt\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Disrupt,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Disrupt.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Heavy_Tanks\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Heavy_Tanks,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Heavy_Tanks.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Transport\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Transport,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Transport.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Escalation\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Escalation,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Escalation.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Maneuver_Sea\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Maneuver_Sea,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Maneuver_Sea.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Redeploy\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Redeploy,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Redeploy.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Blockade\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Blockade,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Blockade.strength\n    }),\n    (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, genericCard), {\n        cardID: \"Super_Battleship\",\n        cardInfo: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Super_Battleship,\n        strength: _cardInfo__WEBPACK_IMPORTED_MODULE_0__.cardInfoRecords.Super_Battleship.strength\n    }), \n];\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkMsUUFBUSxFQUFFSCwrREFBd0I7UUFDbENNLFFBQVEsRUFBRU4sd0VBQWlDO01BQzVDO0lBQ0Qsd0tBQ0tDLFdBQVc7UUFDZEMsTUFBTSxFQUFFLFVBQVU7UUFDbEJDLFFBQVEsRUFBRUgsK0RBQXdCO1FBQ2xDTSxRQUFRLEVBQUVOLHdFQUFpQztNQUM1QztJQUNELHdLQUNLQyxXQUFXO1FBQ2RDLE1BQU0sRUFBRSxrQkFBa0I7UUFDMUJDLFFBQVEsRUFBRUgsdUVBQWdDO1FBQzFDTSxRQUFRLEVBQUVOLGdGQUF5QztNQUNwRDtDQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2dhbWUvY2FyZHMudHM/ZmE5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXJkSW5mbywgY2FyZEluZm9SZWNvcmRzIH0gZnJvbSAnLi9jYXJkSW5mbyc7XHJcblxyXG5leHBvcnQgdHlwZSBUaGVhdGVyVHlwZSA9ICdhaXInIHwgJ2xhbmQnIHwgJ3NlYSc7XHJcbmV4cG9ydCB0eXBlIEFiaWxpdHlUeXBlID0gJ29uZ29pbmcnIHwgJ2luc3RhbnQnIHwgJ25vbmUnO1xyXG5leHBvcnQgdHlwZSBPbmdvaW5nVHlwZSA9ICdnbG9iYWwnIHwgJ3BsYXllcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhcmQge1xyXG4gIGNhcmRJRDogc3RyaW5nO1xyXG4gIGNhcmRJbmZvOiBDYXJkSW5mbztcclxuICBzdHJlbmd0aDogbnVtYmVyO1xyXG4gIGNvdmVyZWQ6IGJvb2xlYW47XHJcbiAgZmFjZURvd246IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IGdlbmVyaWNDYXJkOiBDYXJkID0ge1xyXG4gIGNhcmRJRDogJ0dlbmVyaWMgQ2FyZCcsXHJcbiAgY2FyZEluZm86IHtcclxuICAgIG5hbWU6ICdOb25lJyxcclxuICAgIGRlc2M6ICdOb25lJyxcclxuICAgIHN0cmVuZ3RoOiAtMSxcclxuICAgIHRoZWF0ZXI6ICdhaXInLFxyXG4gICAgdHlwZTogJ25vbmUnLFxyXG4gIH0sXHJcbiAgc3RyZW5ndGg6IC0xLFxyXG4gIGNvdmVyZWQ6IGZhbHNlLFxyXG4gIGZhY2VEb3duOiBmYWxzZSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBiYXR0bGVDYXJkczogQ2FyZFtdID0gW1xyXG4gIHtcclxuICAgIC4uLmdlbmVyaWNDYXJkLFxyXG4gICAgY2FyZElEOiAnU3VwcG9ydCcsXHJcbiAgICBjYXJkSW5mbzogY2FyZEluZm9SZWNvcmRzLlN1cHBvcnQsXHJcbiAgICBzdHJlbmd0aDogY2FyZEluZm9SZWNvcmRzLlN1cHBvcnQuc3RyZW5ndGgsXHJcbiAgfSxcclxuICB7XHJcbiAgICAuLi5nZW5lcmljQ2FyZCxcclxuICAgIGNhcmRJRDogJ0Fpcl9Ecm9wJyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuQWlyX0Ryb3AsXHJcbiAgICBzdHJlbmd0aDogY2FyZEluZm9SZWNvcmRzLkFpcl9Ecm9wLnN0cmVuZ3RoLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgLi4uZ2VuZXJpY0NhcmQsXHJcbiAgICBjYXJkSUQ6ICdNYW5ldXZlcl9BaXInLFxyXG4gICAgY2FyZEluZm86IGNhcmRJbmZvUmVjb3Jkcy5NYW5ldXZlcl9BaXIsXHJcbiAgICBzdHJlbmd0aDogY2FyZEluZm9SZWNvcmRzLk1hbmV1dmVyX0Fpci5zdHJlbmd0aCxcclxuICB9LFxyXG4gIHtcclxuICAgIC4uLmdlbmVyaWNDYXJkLFxyXG4gICAgY2FyZElEOiAnQWVyb2Ryb21lJyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuQWVyb2Ryb21lLFxyXG4gICAgc3RyZW5ndGg6IGNhcmRJbmZvUmVjb3Jkcy5BZXJvZHJvbWUuc3RyZW5ndGgsXHJcbiAgfSxcclxuICB7XHJcbiAgICAuLi5nZW5lcmljQ2FyZCxcclxuICAgIGNhcmRJRDogJ0NvbnRhaW5tZW50JyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuQ29udGFpbm1lbnQsXHJcbiAgICBzdHJlbmd0aDogY2FyZEluZm9SZWNvcmRzLkNvbnRhaW5tZW50LnN0cmVuZ3RoLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgLi4uZ2VuZXJpY0NhcmQsXHJcbiAgICBjYXJkSUQ6ICdIZWF2eV9Cb21iZXJzJyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuSGVhdnlfQm9tYmVycyxcclxuICAgIHN0cmVuZ3RoOiBjYXJkSW5mb1JlY29yZHMuSGVhdnlfQm9tYmVycy5zdHJlbmd0aCxcclxuICB9LFxyXG4gIHtcclxuICAgIC4uLmdlbmVyaWNDYXJkLFxyXG4gICAgY2FyZElEOiAnUmVpbmZvcmNlJyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuUmVpbmZvcmNlLFxyXG4gICAgc3RyZW5ndGg6IGNhcmRJbmZvUmVjb3Jkcy5SZWluZm9yY2Uuc3RyZW5ndGgsXHJcbiAgfSxcclxuICB7XHJcbiAgICAuLi5nZW5lcmljQ2FyZCxcclxuICAgIGNhcmRJRDogJ0FtYnVzaCcsXHJcbiAgICBjYXJkSW5mbzogY2FyZEluZm9SZWNvcmRzLkFtYnVzaCxcclxuICAgIHN0cmVuZ3RoOiBjYXJkSW5mb1JlY29yZHMuQW1idXNoLnN0cmVuZ3RoLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgLi4uZ2VuZXJpY0NhcmQsXHJcbiAgICBjYXJkSUQ6ICdNYW5ldXZlcl9MYW5kJyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuTWFuZXV2ZXJfTGFuZCxcclxuICAgIHN0cmVuZ3RoOiBjYXJkSW5mb1JlY29yZHMuTWFuZXV2ZXJfTGFuZC5zdHJlbmd0aCxcclxuICB9LFxyXG4gIHtcclxuICAgIC4uLmdlbmVyaWNDYXJkLFxyXG4gICAgY2FyZElEOiAnQ292ZXJfRmlyZScsXHJcbiAgICBjYXJkSW5mbzogY2FyZEluZm9SZWNvcmRzLkNvdmVyX0ZpcmUsXHJcbiAgICBzdHJlbmd0aDogY2FyZEluZm9SZWNvcmRzLkNvdmVyX0ZpcmUuc3RyZW5ndGgsXHJcbiAgfSxcclxuICB7XHJcbiAgICAuLi5nZW5lcmljQ2FyZCxcclxuICAgIGNhcmRJRDogJ0Rpc3J1cHQnLFxyXG4gICAgY2FyZEluZm86IGNhcmRJbmZvUmVjb3Jkcy5EaXNydXB0LFxyXG4gICAgc3RyZW5ndGg6IGNhcmRJbmZvUmVjb3Jkcy5EaXNydXB0LnN0cmVuZ3RoLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgLi4uZ2VuZXJpY0NhcmQsXHJcbiAgICBjYXJkSUQ6ICdIZWF2eV9UYW5rcycsXHJcbiAgICBjYXJkSW5mbzogY2FyZEluZm9SZWNvcmRzLkhlYXZ5X1RhbmtzLFxyXG4gICAgc3RyZW5ndGg6IGNhcmRJbmZvUmVjb3Jkcy5IZWF2eV9UYW5rcy5zdHJlbmd0aCxcclxuICB9LFxyXG4gIHtcclxuICAgIC4uLmdlbmVyaWNDYXJkLFxyXG4gICAgY2FyZElEOiAnVHJhbnNwb3J0JyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuVHJhbnNwb3J0LFxyXG4gICAgc3RyZW5ndGg6IGNhcmRJbmZvUmVjb3Jkcy5UcmFuc3BvcnQuc3RyZW5ndGgsXHJcbiAgfSxcclxuICB7XHJcbiAgICAuLi5nZW5lcmljQ2FyZCxcclxuICAgIGNhcmRJRDogJ0VzY2FsYXRpb24nLFxyXG4gICAgY2FyZEluZm86IGNhcmRJbmZvUmVjb3Jkcy5Fc2NhbGF0aW9uLFxyXG4gICAgc3RyZW5ndGg6IGNhcmRJbmZvUmVjb3Jkcy5Fc2NhbGF0aW9uLnN0cmVuZ3RoLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgLi4uZ2VuZXJpY0NhcmQsXHJcbiAgICBjYXJkSUQ6ICdNYW5ldXZlcl9TZWEnLFxyXG4gICAgY2FyZEluZm86IGNhcmRJbmZvUmVjb3Jkcy5NYW5ldXZlcl9TZWEsXHJcbiAgICBzdHJlbmd0aDogY2FyZEluZm9SZWNvcmRzLk1hbmV1dmVyX1NlYS5zdHJlbmd0aCxcclxuICB9LFxyXG4gIHtcclxuICAgIC4uLmdlbmVyaWNDYXJkLFxyXG4gICAgY2FyZElEOiAnUmVkZXBsb3knLFxyXG4gICAgY2FyZEluZm86IGNhcmRJbmZvUmVjb3Jkcy5SZWRlcGxveSxcclxuICAgIHN0cmVuZ3RoOiBjYXJkSW5mb1JlY29yZHMuUmVkZXBsb3kuc3RyZW5ndGgsXHJcbiAgfSxcclxuICB7XHJcbiAgICAuLi5nZW5lcmljQ2FyZCxcclxuICAgIGNhcmRJRDogJ0Jsb2NrYWRlJyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuQmxvY2thZGUsXHJcbiAgICBzdHJlbmd0aDogY2FyZEluZm9SZWNvcmRzLkJsb2NrYWRlLnN0cmVuZ3RoLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgLi4uZ2VuZXJpY0NhcmQsXHJcbiAgICBjYXJkSUQ6ICdTdXBlcl9CYXR0bGVzaGlwJyxcclxuICAgIGNhcmRJbmZvOiBjYXJkSW5mb1JlY29yZHMuU3VwZXJfQmF0dGxlc2hpcCxcclxuICAgIHN0cmVuZ3RoOiBjYXJkSW5mb1JlY29yZHMuU3VwZXJfQmF0dGxlc2hpcC5zdHJlbmd0aCxcclxuICB9LFxyXG5dO1xyXG4iXSwibmFtZXMiOlsiY2FyZEluZm9SZWNvcmRzIiwiZ2VuZXJpY0NhcmQiLCJjYXJkSUQiLCJjYXJkSW5mbyIsIm5hbWUiLCJkZXNjIiwic3RyZW5ndGgiLCJ0aGVhdGVyIiwidHlwZSIsImNvdmVyZWQiLCJmYWNlRG93biIsImJhdHRsZUNhcmRzIiwiU3VwcG9ydCIsIkFpcl9Ecm9wIiwiTWFuZXV2ZXJfQWlyIiwiQWVyb2Ryb21lIiwiQ29udGFpbm1lbnQiLCJIZWF2eV9Cb21iZXJzIiwiUmVpbmZvcmNlIiwiQW1idXNoIiwiTWFuZXV2ZXJfTGFuZCIsIkNvdmVyX0ZpcmUiLCJEaXNydXB0IiwiSGVhdnlfVGFua3MiLCJUcmFuc3BvcnQiLCJFc2NhbGF0aW9uIiwiTWFuZXV2ZXJfU2VhIiwiUmVkZXBsb3kiLCJCbG9ja2FkZSIsIlN1cGVyX0JhdHRsZXNoaXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/cards.ts\n"));

/***/ }),

/***/ "./src/game/gameUtil.ts":
/*!******************************!*\
  !*** ./src/game/gameUtil.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CalculateCardStrength\": function() { return /* binding */ CalculateCardStrength; },\n/* harmony export */   \"CardEffect\": function() { return /* binding */ CardEffect; },\n/* harmony export */   \"Flip\": function() { return /* binding */ Flip; },\n/* harmony export */   \"GetAdjacentTheaters\": function() { return /* binding */ GetAdjacentTheaters; },\n/* harmony export */   \"SetValidTheaters\": function() { return /* binding */ SetValidTheaters; },\n/* harmony export */   \"getPointsScored\": function() { return /* binding */ getPointsScored; }\n/* harmony export */ });\nfunction getPointsScored(firstPlayer, cardsLeft) {\n    var points = 0;\n    if (firstPlayer) {\n        switch(cardsLeft){\n            case 6:\n            case 5:\n            case 4:\n                points = 2;\n                break;\n            case 3:\n            case 2:\n                points = 3;\n                break;\n            case 1:\n                points = 4;\n                break;\n            case 0:\n                points = 6;\n                break;\n        }\n    } else {\n        switch(cardsLeft){\n            case 6:\n            case 5:\n                points = 2;\n                break;\n            case 4:\n            case 3:\n                points = 3;\n                break;\n            case 2:\n                points = 4;\n                break;\n            case 1:\n            case 0:\n                points = 6;\n                break;\n        }\n    }\n    return points;\n}\nfunction Flip(G, ctx) {\n// flip() {\n//   if (!this.covered) {\n//     if (this.faceDown) {\n//       this.strength = this.cardInfo.strength;\n//       this.faceDown = false;\n//     } else {\n//       this.strength = 2;\n//       this.faceDown = true;\n//     }\n//   }\n// },\n// effect: (G, ctx) => {},\n}\nfunction CardEffect(G, ctx, cardID) {\n    switch(cardID){\n        case \"Support\":\n            break;\n        case \"Air_Drop\":\n            break;\n        case \"Maneuver_Air\":\n            break;\n        case \"Aerodrome\":\n            break;\n        case \"Containment\":\n            break;\n        case \"Heavy_Bombers\":\n            break;\n        case \"Reinforce\":\n            break;\n        case \"Ambush\":\n            break;\n        case \"Maneuver_Land\":\n            break;\n        case \"Cover_Fire\":\n            break;\n        case \"Disrupt\":\n            break;\n        case \"Heavy_Tanks\":\n            break;\n        case \"Transport\":\n            break;\n        case \"Escalation\":\n            break;\n        case \"Maneuver_Sea\":\n            break;\n        case \"Redeploy\":\n            break;\n        case \"Blockade\":\n            break;\n        case \"Super_Battleship\":\n            break;\n        default:\n            break;\n    }\n}\nfunction SetValidTheaters(G, ctx, card) {\n    var validTheater = card.cardInfo.theater;\n    G.playingField.map(function(theater) {\n        //need to check for ongoing effects here\n        theater.isValid = theater.theater === validTheater;\n    });\n}\nfunction CalculateCardStrength(G, player, card) {\n    //need to check for ongoing effects here\n    if (card.faceDown) return 2;\n    else {\n        return card.strength;\n    }\n}\nfunction GetAdjacentTheaters(G, theaterID) {\n    if (theaterID === 1) {\n        return [\n            G.playingField[0].theater,\n            G.playingField[2].theater\n        ];\n    } else {\n        return [\n            G.playingField[1].theater\n        ];\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBQ00sU0FBU00scUJBQXFCLENBQ25DWixDQUFZLEVBQ1phLE1BQWMsRUFDZFIsSUFBVSxFQUNGO0lBQ1Isd0NBQXdDO0lBQ3hDLElBQUlBLElBQUksQ0FBQ1MsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ3ZCO1FBQ0gsT0FBT1QsSUFBSSxDQUFDVSxRQUFRLENBQUM7SUFDdkIsQ0FBQztBQUNILENBQUM7QUFDTSxTQUFTQyxtQkFBbUIsQ0FDakNoQixDQUFZLEVBQ1ppQixTQUFpQixFQUNGO0lBQ2YsSUFBSUEsU0FBUyxLQUFLLENBQUMsRUFBRTtRQUNuQixPQUFPO1lBQUNqQixDQUFDLENBQUNTLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQ0QsT0FBTztZQUFFUixDQUFDLENBQUNTLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQ0QsT0FBTztTQUFDLENBQUM7SUFDaEUsT0FBTztRQUNMLE9BQU87WUFBQ1IsQ0FBQyxDQUFDUyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUNELE9BQU87U0FBQyxDQUFDO0lBQ3JDLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9nYW1lL2dhbWVVdGlsLnRzPzg2OTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ3R4IH0gZnJvbSAnYm9hcmRnYW1lLmlvJztcclxuaW1wb3J0IHsgQ2FyZCwgVGhlYXRlclR5cGUgfSBmcm9tICcuL2NhcmRzJztcclxuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSAnLi9nYW1lVHlwZXMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50c1Njb3JlZChcclxuICBmaXJzdFBsYXllcjogYm9vbGVhbixcclxuICBjYXJkc0xlZnQ6IG51bWJlcixcclxuKTogbnVtYmVyIHtcclxuICBsZXQgcG9pbnRzID0gMDtcclxuICBpZiAoZmlyc3RQbGF5ZXIpIHtcclxuICAgIHN3aXRjaCAoY2FyZHNMZWZ0KSB7XHJcbiAgICAgIGNhc2UgNjpcclxuICAgICAgY2FzZSA1OlxyXG4gICAgICBjYXNlIDQ6XHJcbiAgICAgICAgcG9pbnRzID0gMjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgcG9pbnRzID0gMztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHBvaW50cyA9IDQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgICBwb2ludHMgPSA2O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBzd2l0Y2ggKGNhcmRzTGVmdCkge1xyXG4gICAgICBjYXNlIDY6XHJcbiAgICAgIGNhc2UgNTpcclxuICAgICAgICBwb2ludHMgPSAyO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDQ6XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgICBwb2ludHMgPSAzO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgcG9pbnRzID0gNDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgcG9pbnRzID0gNjtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHBvaW50cztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gRmxpcChHOiBHYW1lU3RhdGUsIGN0eDogQ3R4KTogdm9pZCB7XHJcbiAgLy8gZmxpcCgpIHtcclxuICAvLyAgIGlmICghdGhpcy5jb3ZlcmVkKSB7XHJcbiAgLy8gICAgIGlmICh0aGlzLmZhY2VEb3duKSB7XHJcbiAgLy8gICAgICAgdGhpcy5zdHJlbmd0aCA9IHRoaXMuY2FyZEluZm8uc3RyZW5ndGg7XHJcbiAgLy8gICAgICAgdGhpcy5mYWNlRG93biA9IGZhbHNlO1xyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgIHRoaXMuc3RyZW5ndGggPSAyO1xyXG4gIC8vICAgICAgIHRoaXMuZmFjZURvd24gPSB0cnVlO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9XHJcbiAgLy8gfSxcclxuICAvLyBlZmZlY3Q6IChHLCBjdHgpID0+IHt9LFxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBDYXJkRWZmZWN0KEc6IEdhbWVTdGF0ZSwgY3R4OiBDdHgsIGNhcmRJRDogc3RyaW5nKTogdm9pZCB7XHJcbiAgc3dpdGNoIChjYXJkSUQpIHtcclxuICAgIGNhc2UgJ1N1cHBvcnQnOlxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ0Fpcl9Ecm9wJzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdNYW5ldXZlcl9BaXInOlxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ0Flcm9kcm9tZSc6XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnQ29udGFpbm1lbnQnOlxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ0hlYXZ5X0JvbWJlcnMnOlxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ1JlaW5mb3JjZSc6XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnQW1idXNoJzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdNYW5ldXZlcl9MYW5kJzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdDb3Zlcl9GaXJlJzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdEaXNydXB0JzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdIZWF2eV9UYW5rcyc6XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnVHJhbnNwb3J0JzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdFc2NhbGF0aW9uJzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdNYW5ldXZlcl9TZWEnOlxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ1JlZGVwbG95JzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdCbG9ja2FkZSc6XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnU3VwZXJfQmF0dGxlc2hpcCc6XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRWYWxpZFRoZWF0ZXJzKEc6IEdhbWVTdGF0ZSwgY3R4OiBDdHgsIGNhcmQ6IENhcmQpOiB2b2lkIHtcclxuICBsZXQgdmFsaWRUaGVhdGVyID0gY2FyZC5jYXJkSW5mby50aGVhdGVyO1xyXG4gIEcucGxheWluZ0ZpZWxkLm1hcCgodGhlYXRlcikgPT4ge1xyXG4gICAgLy9uZWVkIHRvIGNoZWNrIGZvciBvbmdvaW5nIGVmZmVjdHMgaGVyZVxyXG4gICAgdGhlYXRlci5pc1ZhbGlkID0gdGhlYXRlci50aGVhdGVyID09PSB2YWxpZFRoZWF0ZXI7XHJcbiAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIENhbGN1bGF0ZUNhcmRTdHJlbmd0aChcclxuICBHOiBHYW1lU3RhdGUsXHJcbiAgcGxheWVyOiBzdHJpbmcsXHJcbiAgY2FyZDogQ2FyZCxcclxuKTogbnVtYmVyIHtcclxuICAvL25lZWQgdG8gY2hlY2sgZm9yIG9uZ29pbmcgZWZmZWN0cyBoZXJlXHJcbiAgaWYgKGNhcmQuZmFjZURvd24pIHJldHVybiAyO1xyXG4gIGVsc2Uge1xyXG4gICAgcmV0dXJuIGNhcmQuc3RyZW5ndGg7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRBZGphY2VudFRoZWF0ZXJzKFxyXG4gIEc6IEdhbWVTdGF0ZSxcclxuICB0aGVhdGVySUQ6IG51bWJlcixcclxuKTogVGhlYXRlclR5cGVbXSB7XHJcbiAgaWYgKHRoZWF0ZXJJRCA9PT0gMSkge1xyXG4gICAgcmV0dXJuIFtHLnBsYXlpbmdGaWVsZFswXS50aGVhdGVyLCBHLnBsYXlpbmdGaWVsZFsyXS50aGVhdGVyXTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIFtHLnBsYXlpbmdGaWVsZFsxXS50aGVhdGVyXTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImdldFBvaW50c1Njb3JlZCIsImZpcnN0UGxheWVyIiwiY2FyZHNMZWZ0IiwicG9pbnRzIiwiRmxpcCIsIkciLCJjdHgiLCJDYXJkRWZmZWN0IiwiY2FyZElEIiwiU2V0VmFsaWRUaGVhdGVycyIsImNhcmQiLCJ2YWxpZFRoZWF0ZXIiLCJjYXJkSW5mbyIsInRoZWF0ZXIiLCJwbGF5aW5nRmllbGQiLCJtYXAiLCJpc1ZhbGlkIiwiQ2FsY3VsYXRlQ2FyZFN0cmVuZ3RoIiwicGxheWVyIiwiZmFjZURvd24iLCJzdHJlbmd0aCIsIkdldEFkamFjZW50VGhlYXRlcnMiLCJ0aGVhdGVySUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/gameUtil.ts\n"));

/***/ }),

/***/ "./src/game/index.ts":
/*!***************************!*\
  !*** ./src/game/index.ts ***!
  \***************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AirLandSea\": function() { return /* binding */ AirLandSea; }\n/* harmony export */ });\n/* harmony import */ var boardgame_io_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! boardgame.io/core */ \"./node_modules/boardgame.io/dist/esm/core.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config/index.ts\");\n/* harmony import */ var _cards__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cards */ \"./src/game/cards.ts\");\n/* harmony import */ var _moves__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./moves */ \"./src/game/moves.ts\");\n\n\n\n\nvar AirLandSea = {\n    name: _config__WEBPACK_IMPORTED_MODULE_0__.GAME_ID,\n    minPlayers: 2,\n    maxPlayers: 2,\n    setup: function() {\n        return {\n            secret: {\n                deck: _cards__WEBPACK_IMPORTED_MODULE_1__.battleCards,\n                discardPile: []\n            },\n            selectedCardID: -1,\n            ongoingEffects: [],\n            playOrder: [\n                \"0\",\n                \"1\"\n            ],\n            players: [\n                {\n                    ID: \"0\",\n                    firstPlayer: true,\n                    cards: [],\n                    ready: false,\n                    score: 0,\n                    ongoingEffects: []\n                },\n                {\n                    ID: \"1\",\n                    firstPlayer: false,\n                    cards: [],\n                    ready: false,\n                    score: 0,\n                    ongoingEffects: []\n                }, \n            ],\n            playingField: [\n                {\n                    theater: \"air\",\n                    deployedCards: {\n                        \"0\": [],\n                        \"1\": []\n                    },\n                    totalStrength: {\n                        \"0\": 0,\n                        \"1\": 0\n                    }\n                },\n                {\n                    theater: \"land\",\n                    deployedCards: {\n                        \"0\": [],\n                        \"1\": []\n                    },\n                    totalStrength: {\n                        \"0\": 0,\n                        \"1\": 0\n                    }\n                },\n                {\n                    theater: \"sea\",\n                    deployedCards: {\n                        \"0\": [],\n                        \"1\": []\n                    },\n                    totalStrength: {\n                        \"0\": 0,\n                        \"1\": 0\n                    }\n                }, \n            ]\n        };\n    },\n    phases: {\n        shuffleAndDeal: {\n            start: true,\n            next: \"main\",\n            onBegin: function(G, ctx) {\n                var ref;\n                G.playingField = ctx.random.Shuffle(G.playingField);\n                G.secret.deck = ctx.random.Shuffle(G.secret.deck);\n                G.players[0].cards = G.secret.deck.splice(0, 6);\n                G.players[1].cards = G.secret.deck.splice(0, 6);\n                (ref = ctx.events) === null || ref === void 0 ? void 0 : ref.endPhase();\n            }\n        },\n        main: {\n            turn: {\n                activePlayers: {\n                    currentPlayer: \"select\"\n                },\n                order: boardgame_io_core__WEBPACK_IMPORTED_MODULE_3__.TurnOrder.CUSTOM_FROM(\"playOrder\"),\n                stages: {\n                    select: {\n                        moves: {\n                            selectCard: _moves__WEBPACK_IMPORTED_MODULE_2__.selectCard,\n                            withdraw: _moves__WEBPACK_IMPORTED_MODULE_2__.withdraw\n                        }\n                    },\n                    place: {\n                        moves: {\n                            deploy: _moves__WEBPACK_IMPORTED_MODULE_2__.deploy,\n                            improvise: _moves__WEBPACK_IMPORTED_MODULE_2__.improvise\n                        }\n                    }\n                }\n            }\n        },\n        epicWinningAnimation: {\n            onBegin: function(G, ctx) {\n            //something crazy idk\n            }\n        }\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVLEdBQVZBLEdBQUcsQ0FBQ0ksTUFBTSxjQUFWSixHQUFVLFdBQVUsR0FBcEJBLEtBQUFBLENBQW9CLEdBQXBCQSxHQUFVLENBQUVLLFFBQVEsRUFBRSxDQUFDO1lBQ3pCLENBQUM7U0FDRjtRQUNEQyxJQUFJLEVBQUU7WUFDSkMsSUFBSSxFQUFFO2dCQUNKQyxhQUFhLEVBQUU7b0JBQUVDLGFBQWEsRUFBRSxRQUFRO2lCQUFFO2dCQUMxQ0MsS0FBSyxFQUFFNUMsb0VBQXFCLENBQUMsV0FBVyxDQUFDO2dCQUN6QzhDLE1BQU0sRUFBRTtvQkFDTkMsTUFBTSxFQUFFO3dCQUFFQyxLQUFLLEVBQUU7NEJBQUU3QyxVQUFVLEVBQVZBLDhDQUFVOzRCQUFFQyxRQUFRLEVBQVJBLDRDQUFRO3lCQUFFO3FCQUFFO29CQUMzQzZDLEtBQUssRUFBRTt3QkFBRUQsS0FBSyxFQUFFOzRCQUFFM0MsTUFBTSxFQUFOQSwwQ0FBTTs0QkFBRUMsU0FBUyxFQUFUQSw2Q0FBUzt5QkFBRTtxQkFBRTtpQkFDeEM7YUFDRjtTQUNGO1FBQ0Q0QyxvQkFBb0IsRUFBRTtZQUNwQmxCLE9BQU8sRUFBRSxTQUFDQyxDQUFDLEVBQUVDLEdBQUcsRUFBSztZQUNuQixxQkFBcUI7WUFDdkIsQ0FBQztTQUNGO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9nYW1lL2luZGV4LnRzP2IzMWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBHYW1lIH0gZnJvbSAnYm9hcmRnYW1lLmlvJztcclxuaW1wb3J0IHsgVHVybk9yZGVyIH0gZnJvbSAnYm9hcmRnYW1lLmlvL2NvcmUnO1xyXG5pbXBvcnQgeyBHQU1FX0lEIH0gZnJvbSAnLi4vY29uZmlnJztcclxuaW1wb3J0IHsgYmF0dGxlQ2FyZHMsIENhcmQgfSBmcm9tICcuL2NhcmRzJztcclxuaW1wb3J0IHsgR2FtZVN0YXRlLCBUaGVhdGVyIH0gZnJvbSAnLi9nYW1lVHlwZXMnO1xyXG5pbXBvcnQgeyBzZWxlY3RDYXJkLCB3aXRoZHJhdywgZGVwbG95LCBpbXByb3Zpc2UgfSBmcm9tICcuL21vdmVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBBaXJMYW5kU2VhOiBHYW1lPEdhbWVTdGF0ZT4gPSB7XHJcbiAgbmFtZTogR0FNRV9JRCxcclxuICBtaW5QbGF5ZXJzOiAyLFxyXG4gIG1heFBsYXllcnM6IDIsXHJcblxyXG4gIHNldHVwOiAoKSA9PiAoe1xyXG4gICAgc2VjcmV0OiB7IGRlY2s6IGJhdHRsZUNhcmRzLCBkaXNjYXJkUGlsZTogW10gfSxcclxuICAgIHNlbGVjdGVkQ2FyZElEOiAtMSxcclxuICAgIG9uZ29pbmdFZmZlY3RzOiBbXSxcclxuICAgIHBsYXlPcmRlcjogWycwJywgJzEnXSxcclxuICAgIHBsYXllcnM6IFtcclxuICAgICAge1xyXG4gICAgICAgIElEOiAnMCcsXHJcbiAgICAgICAgZmlyc3RQbGF5ZXI6IHRydWUsXHJcbiAgICAgICAgY2FyZHM6IFtdLFxyXG4gICAgICAgIHJlYWR5OiBmYWxzZSxcclxuICAgICAgICBzY29yZTogMCxcclxuICAgICAgICBvbmdvaW5nRWZmZWN0czogW10sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBJRDogJzEnLFxyXG4gICAgICAgIGZpcnN0UGxheWVyOiBmYWxzZSxcclxuICAgICAgICBjYXJkczogW10sXHJcbiAgICAgICAgcmVhZHk6IGZhbHNlLFxyXG4gICAgICAgIHNjb3JlOiAwLFxyXG4gICAgICAgIG9uZ29pbmdFZmZlY3RzOiBbXSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBwbGF5aW5nRmllbGQ6IFtcclxuICAgICAge1xyXG4gICAgICAgIHRoZWF0ZXI6ICdhaXInLFxyXG4gICAgICAgIGRlcGxveWVkQ2FyZHM6IHsgJzAnOiBbXSwgJzEnOiBbXSB9LFxyXG4gICAgICAgIHRvdGFsU3RyZW5ndGg6IHsgJzAnOiAwLCAnMSc6IDAgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRoZWF0ZXI6ICdsYW5kJyxcclxuICAgICAgICBkZXBsb3llZENhcmRzOiB7ICcwJzogW10sICcxJzogW10gfSxcclxuICAgICAgICB0b3RhbFN0cmVuZ3RoOiB7ICcwJzogMCwgJzEnOiAwIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0aGVhdGVyOiAnc2VhJyxcclxuICAgICAgICBkZXBsb3llZENhcmRzOiB7ICcwJzogW10sICcxJzogW10gfSxcclxuICAgICAgICB0b3RhbFN0cmVuZ3RoOiB7ICcwJzogMCwgJzEnOiAwIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gIH0pLFxyXG5cclxuICBwaGFzZXM6IHtcclxuICAgIHNodWZmbGVBbmREZWFsOiB7XHJcbiAgICAgIHN0YXJ0OiB0cnVlLFxyXG4gICAgICBuZXh0OiAnbWFpbicsXHJcbiAgICAgIG9uQmVnaW46IChHLCBjdHgpID0+IHtcclxuICAgICAgICBHLnBsYXlpbmdGaWVsZCA9IGN0eC5yYW5kb20hLlNodWZmbGU8VGhlYXRlcj4oRy5wbGF5aW5nRmllbGQpO1xyXG4gICAgICAgIEcuc2VjcmV0LmRlY2sgPSBjdHgucmFuZG9tIS5TaHVmZmxlPENhcmQ+KEcuc2VjcmV0LmRlY2spO1xyXG4gICAgICAgIEcucGxheWVyc1swXS5jYXJkcyA9IEcuc2VjcmV0LmRlY2suc3BsaWNlKDAsIDYpO1xyXG4gICAgICAgIEcucGxheWVyc1sxXS5jYXJkcyA9IEcuc2VjcmV0LmRlY2suc3BsaWNlKDAsIDYpO1xyXG4gICAgICAgIGN0eC5ldmVudHM/LmVuZFBoYXNlKCk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgbWFpbjoge1xyXG4gICAgICB0dXJuOiB7XHJcbiAgICAgICAgYWN0aXZlUGxheWVyczogeyBjdXJyZW50UGxheWVyOiAnc2VsZWN0JyB9LFxyXG4gICAgICAgIG9yZGVyOiBUdXJuT3JkZXIuQ1VTVE9NX0ZST00oJ3BsYXlPcmRlcicpLCAvL3tcclxuICAgICAgICBzdGFnZXM6IHtcclxuICAgICAgICAgIHNlbGVjdDogeyBtb3ZlczogeyBzZWxlY3RDYXJkLCB3aXRoZHJhdyB9IH0sXHJcbiAgICAgICAgICBwbGFjZTogeyBtb3ZlczogeyBkZXBsb3ksIGltcHJvdmlzZSB9IH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBlcGljV2lubmluZ0FuaW1hdGlvbjoge1xyXG4gICAgICBvbkJlZ2luOiAoRywgY3R4KSA9PiB7XHJcbiAgICAgICAgLy9zb21ldGhpbmcgY3JhenkgaWRrXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0sXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJUdXJuT3JkZXIiLCJHQU1FX0lEIiwiYmF0dGxlQ2FyZHMiLCJzZWxlY3RDYXJkIiwid2l0aGRyYXciLCJkZXBsb3kiLCJpbXByb3Zpc2UiLCJBaXJMYW5kU2VhIiwibmFtZSIsIm1pblBsYXllcnMiLCJtYXhQbGF5ZXJzIiwic2V0dXAiLCJzZWNyZXQiLCJkZWNrIiwiZGlzY2FyZFBpbGUiLCJzZWxlY3RlZENhcmRJRCIsIm9uZ29pbmdFZmZlY3RzIiwicGxheU9yZGVyIiwicGxheWVycyIsIklEIiwiZmlyc3RQbGF5ZXIiLCJjYXJkcyIsInJlYWR5Iiwic2NvcmUiLCJwbGF5aW5nRmllbGQiLCJ0aGVhdGVyIiwiZGVwbG95ZWRDYXJkcyIsInRvdGFsU3RyZW5ndGgiLCJwaGFzZXMiLCJzaHVmZmxlQW5kRGVhbCIsInN0YXJ0IiwibmV4dCIsIm9uQmVnaW4iLCJHIiwiY3R4IiwicmFuZG9tIiwiU2h1ZmZsZSIsInNwbGljZSIsImV2ZW50cyIsImVuZFBoYXNlIiwibWFpbiIsInR1cm4iLCJhY3RpdmVQbGF5ZXJzIiwiY3VycmVudFBsYXllciIsIm9yZGVyIiwiQ1VTVE9NX0ZST00iLCJzdGFnZXMiLCJzZWxlY3QiLCJtb3ZlcyIsInBsYWNlIiwiZXBpY1dpbm5pbmdBbmltYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/index.ts\n"));

/***/ }),

/***/ "./src/game/moves.ts":
/*!***************************!*\
  !*** ./src/game/moves.ts ***!
  \***************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deploy\": function() { return /* binding */ deploy; },\n/* harmony export */   \"improvise\": function() { return /* binding */ improvise; },\n/* harmony export */   \"selectCard\": function() { return /* binding */ selectCard; },\n/* harmony export */   \"withdraw\": function() { return /* binding */ withdraw; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/src/_to_consumable_array.mjs */ \"./node_modules/@swc/helpers/src/_to_consumable_array.mjs\");\n/* harmony import */ var _gameUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gameUtil */ \"./src/game/gameUtil.ts\");\n\n\nvar selectCard = function(G, ctx, cardID) {\n    var ref;\n    G.selectedCardID = cardID;\n    (0,_gameUtil__WEBPACK_IMPORTED_MODULE_0__.SetValidTheaters)(G, ctx, G.players[Number(ctx.currentPlayer)].cards[G.selectedCardID]);\n    (ref = ctx.events) === null || ref === void 0 ? void 0 : ref.setStage(\"place\");\n};\n//play a card face-down to any theater\nvar improvise = function(G, ctx, theaterID) {\n    var _currentPlayer;\n    var ref;\n    //TODO: if blockade, immediately discard card\n    var playerID = Number(ctx.currentPlayer);\n    G.players[playerID].cards[G.selectedCardID].faceDown = true;\n    var arrLength = (_currentPlayer = G.playingField[theaterID].deployedCards[ctx.currentPlayer]).push.apply(_currentPlayer, (0,_swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(G.players[playerID].cards.splice(G.selectedCardID, 1)));\n    //set previous uncovered card to covered\n    var coveredCard = G.playingField[theaterID].deployedCards[ctx.currentPlayer].at(-2);\n    if (coveredCard !== undefined) {\n        G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 2].covered = true;\n    }\n    //set card strength\n    G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 1].strength = (0,_gameUtil__WEBPACK_IMPORTED_MODULE_0__.CalculateCardStrength)(G, ctx.currentPlayer, G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 1]);\n    //update total strength for theater\n    G.playingField[theaterID].totalStrength[ctx.currentPlayer] += G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 1].strength;\n    (ref = ctx.events) === null || ref === void 0 ? void 0 : ref.endTurn();\n};\n//play a card face-up to matching theater\nvar deploy = function(G, ctx, theaterID) {\n    if (G.playingField[theaterID].isValid) {\n        var _currentPlayer;\n        var ref;\n        var playerID = Number(ctx.currentPlayer);\n        var selectedCard = G.players[playerID].cards[G.selectedCardID];\n        G.players[playerID].cards[G.selectedCardID].faceDown = false;\n        var arrLength = (_currentPlayer = G.playingField[theaterID].deployedCards[ctx.currentPlayer]).push.apply(_currentPlayer, (0,_swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(G.players[playerID].cards.splice(G.selectedCardID, 1)));\n        (0,_gameUtil__WEBPACK_IMPORTED_MODULE_0__.CardEffect)(G, ctx, selectedCard.cardID);\n        //set previous uncovered card to covered\n        var coveredCard = G.playingField[theaterID].deployedCards[ctx.currentPlayer].at(-2);\n        if (coveredCard !== undefined) {\n            G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 2].covered = true;\n        }\n        //set card strength\n        G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 1].strength = (0,_gameUtil__WEBPACK_IMPORTED_MODULE_0__.CalculateCardStrength)(G, ctx.currentPlayer, G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 1]);\n        //update total strength for theater\n        G.playingField[theaterID].totalStrength[ctx.currentPlayer] += G.playingField[theaterID].deployedCards[ctx.currentPlayer][arrLength - 1].strength;\n        (ref = ctx.events) === null || ref === void 0 ? void 0 : ref.endTurn();\n    } else {\n        var //keep letting them try til they click the right theater\n        ref1;\n        (ref1 = ctx.events) === null || ref1 === void 0 ? void 0 : ref1.setStage(\"place\");\n    }\n};\n//lose battle, opponent gains points based on how many cards you have left\nvar withdraw = function(G, ctx) {\n    var lostPlayer = Number(ctx.currentPlayer);\n    G.players[lostPlayer ^ 1].score += (0,_gameUtil__WEBPACK_IMPORTED_MODULE_0__.getPointsScored)(G.players[lostPlayer].firstPlayer, G.players[lostPlayer].cards.length);\n    if (G.players[lostPlayer ^ 1].score >= 12) {\n        var ref;\n        (ref = ctx.events) === null || ref === void 0 ? void 0 : ref.setPhase(\"epicWinningAnimation\");\n    } else {\n        var ref1;\n        //probably don't need the firstPlayer variable now that I need playOrder, oh well leaving for now\n        G.players[lostPlayer ^ 1].firstPlayer = G.players[lostPlayer].firstPlayer;\n        G.players[lostPlayer].firstPlayer = !G.players[lostPlayer].firstPlayer;\n        var ref2;\n        ref2 = [\n            G.playOrder[1],\n            G.playOrder[0]\n        ], G.playOrder[0] = ref2[0], G.playOrder[1] = ref2[1], ref2;\n        (ref1 = ctx.events) === null || ref1 === void 0 ? void 0 : ref1.setPhase(\"shuffleAndDeal\");\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxDQUFDMEIsVUFBVSxDQUFDLENBQUNFLFdBQVcsR0FBRyxDQUFDaEMsQ0FBQyxDQUFDSSxPQUFPLENBQUMwQixVQUFVLENBQUMsQ0FBQ0UsV0FBVyxDQUFDOztlQUNwQztZQUFDaEMsQ0FBQyxDQUFDbUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUFFbkMsQ0FBQyxDQUFDbUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUFDLEVBQWxFbkMsQ0FBQyxDQUFDbUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxZQUFFbkMsQ0FBQyxDQUFDbUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxpQkFBcUM7UUFFcEVsQyxDQUFBQSxJQUFVLEdBQVZBLEdBQUcsQ0FBQ08sTUFBTSxjQUFWUCxJQUFVLFdBQVUsR0FBcEJBLEtBQUFBLENBQW9CLEdBQXBCQSxJQUFVLENBQUVpQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN6QyxDQUFDO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9nYW1lL21vdmVzLnRzPzc4NjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW92ZSB9IGZyb20gJ2JvYXJkZ2FtZS5pbyc7XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gJy4vZ2FtZVR5cGVzJztcclxuaW1wb3J0IHtcclxuICBDYWxjdWxhdGVDYXJkU3RyZW5ndGgsXHJcbiAgQ2FyZEVmZmVjdCxcclxuICBnZXRQb2ludHNTY29yZWQsXHJcbiAgU2V0VmFsaWRUaGVhdGVycyxcclxufSBmcm9tICcuL2dhbWVVdGlsJztcclxuXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RDYXJkOiBNb3ZlPEdhbWVTdGF0ZT4gPSAoRywgY3R4LCBjYXJkSUQ6IG51bWJlcikgPT4ge1xyXG4gIEcuc2VsZWN0ZWRDYXJkSUQgPSBjYXJkSUQ7XHJcbiAgU2V0VmFsaWRUaGVhdGVycyhcclxuICAgIEcsXHJcbiAgICBjdHgsXHJcbiAgICBHLnBsYXllcnNbTnVtYmVyKGN0eC5jdXJyZW50UGxheWVyKV0uY2FyZHNbRy5zZWxlY3RlZENhcmRJRF0sXHJcbiAgKTtcclxuICBjdHguZXZlbnRzPy5zZXRTdGFnZSgncGxhY2UnKTtcclxufTtcclxuLy9wbGF5IGEgY2FyZCBmYWNlLWRvd24gdG8gYW55IHRoZWF0ZXJcclxuZXhwb3J0IGNvbnN0IGltcHJvdmlzZTogTW92ZTxHYW1lU3RhdGU+ID0gKEcsIGN0eCwgdGhlYXRlcklEOiBudW1iZXIpID0+IHtcclxuICAvL1RPRE86IGlmIGJsb2NrYWRlLCBpbW1lZGlhdGVseSBkaXNjYXJkIGNhcmRcclxuICBsZXQgcGxheWVySUQgPSBOdW1iZXIoY3R4LmN1cnJlbnRQbGF5ZXIpO1xyXG4gIEcucGxheWVyc1twbGF5ZXJJRF0uY2FyZHNbRy5zZWxlY3RlZENhcmRJRF0uZmFjZURvd24gPSB0cnVlO1xyXG4gIGxldCBhcnJMZW5ndGggPSBHLnBsYXlpbmdGaWVsZFt0aGVhdGVySURdLmRlcGxveWVkQ2FyZHNbXHJcbiAgICBjdHguY3VycmVudFBsYXllclxyXG4gIF0ucHVzaCguLi5HLnBsYXllcnNbcGxheWVySURdLmNhcmRzLnNwbGljZShHLnNlbGVjdGVkQ2FyZElELCAxKSk7XHJcblxyXG4gIC8vc2V0IHByZXZpb3VzIHVuY292ZXJlZCBjYXJkIHRvIGNvdmVyZWRcclxuICBjb25zdCBjb3ZlcmVkQ2FyZCA9XHJcbiAgICBHLnBsYXlpbmdGaWVsZFt0aGVhdGVySURdLmRlcGxveWVkQ2FyZHNbY3R4LmN1cnJlbnRQbGF5ZXJdLmF0KC0yKTtcclxuICBpZiAoY292ZXJlZENhcmQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgRy5wbGF5aW5nRmllbGRbdGhlYXRlcklEXS5kZXBsb3llZENhcmRzW2N0eC5jdXJyZW50UGxheWVyXVtcclxuICAgICAgYXJyTGVuZ3RoIC0gMlxyXG4gICAgXS5jb3ZlcmVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vc2V0IGNhcmQgc3RyZW5ndGhcclxuICBHLnBsYXlpbmdGaWVsZFt0aGVhdGVySURdLmRlcGxveWVkQ2FyZHNbY3R4LmN1cnJlbnRQbGF5ZXJdW1xyXG4gICAgYXJyTGVuZ3RoIC0gMVxyXG4gIF0uc3RyZW5ndGggPSBDYWxjdWxhdGVDYXJkU3RyZW5ndGgoXHJcbiAgICBHLFxyXG4gICAgY3R4LmN1cnJlbnRQbGF5ZXIsXHJcbiAgICBHLnBsYXlpbmdGaWVsZFt0aGVhdGVySURdLmRlcGxveWVkQ2FyZHNbY3R4LmN1cnJlbnRQbGF5ZXJdW2Fyckxlbmd0aCAtIDFdLFxyXG4gICk7XHJcblxyXG4gIC8vdXBkYXRlIHRvdGFsIHN0cmVuZ3RoIGZvciB0aGVhdGVyXHJcbiAgRy5wbGF5aW5nRmllbGRbdGhlYXRlcklEXS50b3RhbFN0cmVuZ3RoW2N0eC5jdXJyZW50UGxheWVyXSArPVxyXG4gICAgRy5wbGF5aW5nRmllbGRbdGhlYXRlcklEXS5kZXBsb3llZENhcmRzW2N0eC5jdXJyZW50UGxheWVyXVtcclxuICAgICAgYXJyTGVuZ3RoIC0gMVxyXG4gICAgXS5zdHJlbmd0aDtcclxuXHJcbiAgY3R4LmV2ZW50cz8uZW5kVHVybigpO1xyXG59O1xyXG5cclxuLy9wbGF5IGEgY2FyZCBmYWNlLXVwIHRvIG1hdGNoaW5nIHRoZWF0ZXJcclxuZXhwb3J0IGNvbnN0IGRlcGxveTogTW92ZTxHYW1lU3RhdGU+ID0gKEcsIGN0eCwgdGhlYXRlcklEOiBudW1iZXIpID0+IHtcclxuICBpZiAoRy5wbGF5aW5nRmllbGRbdGhlYXRlcklEXS5pc1ZhbGlkKSB7XHJcbiAgICBsZXQgcGxheWVySUQgPSBOdW1iZXIoY3R4LmN1cnJlbnRQbGF5ZXIpO1xyXG4gICAgbGV0IHNlbGVjdGVkQ2FyZCA9IEcucGxheWVyc1twbGF5ZXJJRF0uY2FyZHNbRy5zZWxlY3RlZENhcmRJRF07XHJcbiAgICBHLnBsYXllcnNbcGxheWVySURdLmNhcmRzW0cuc2VsZWN0ZWRDYXJkSURdLmZhY2VEb3duID0gZmFsc2U7XHJcbiAgICBsZXQgYXJyTGVuZ3RoID0gRy5wbGF5aW5nRmllbGRbdGhlYXRlcklEXS5kZXBsb3llZENhcmRzW1xyXG4gICAgICBjdHguY3VycmVudFBsYXllclxyXG4gICAgXS5wdXNoKC4uLkcucGxheWVyc1twbGF5ZXJJRF0uY2FyZHMuc3BsaWNlKEcuc2VsZWN0ZWRDYXJkSUQsIDEpKTtcclxuXHJcbiAgICBDYXJkRWZmZWN0KEcsIGN0eCwgc2VsZWN0ZWRDYXJkLmNhcmRJRCk7XHJcblxyXG4gICAgLy9zZXQgcHJldmlvdXMgdW5jb3ZlcmVkIGNhcmQgdG8gY292ZXJlZFxyXG4gICAgY29uc3QgY292ZXJlZENhcmQgPVxyXG4gICAgICBHLnBsYXlpbmdGaWVsZFt0aGVhdGVySURdLmRlcGxveWVkQ2FyZHNbY3R4LmN1cnJlbnRQbGF5ZXJdLmF0KC0yKTtcclxuICAgIGlmIChjb3ZlcmVkQ2FyZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIEcucGxheWluZ0ZpZWxkW3RoZWF0ZXJJRF0uZGVwbG95ZWRDYXJkc1tjdHguY3VycmVudFBsYXllcl1bXHJcbiAgICAgICAgYXJyTGVuZ3RoIC0gMlxyXG4gICAgICBdLmNvdmVyZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vc2V0IGNhcmQgc3RyZW5ndGhcclxuICAgIEcucGxheWluZ0ZpZWxkW3RoZWF0ZXJJRF0uZGVwbG95ZWRDYXJkc1tjdHguY3VycmVudFBsYXllcl1bXHJcbiAgICAgIGFyckxlbmd0aCAtIDFcclxuICAgIF0uc3RyZW5ndGggPSBDYWxjdWxhdGVDYXJkU3RyZW5ndGgoXHJcbiAgICAgIEcsXHJcbiAgICAgIGN0eC5jdXJyZW50UGxheWVyLFxyXG4gICAgICBHLnBsYXlpbmdGaWVsZFt0aGVhdGVySURdLmRlcGxveWVkQ2FyZHNbY3R4LmN1cnJlbnRQbGF5ZXJdW2Fyckxlbmd0aCAtIDFdLFxyXG4gICAgKTtcclxuXHJcbiAgICAvL3VwZGF0ZSB0b3RhbCBzdHJlbmd0aCBmb3IgdGhlYXRlclxyXG4gICAgRy5wbGF5aW5nRmllbGRbdGhlYXRlcklEXS50b3RhbFN0cmVuZ3RoW2N0eC5jdXJyZW50UGxheWVyXSArPVxyXG4gICAgICBHLnBsYXlpbmdGaWVsZFt0aGVhdGVySURdLmRlcGxveWVkQ2FyZHNbY3R4LmN1cnJlbnRQbGF5ZXJdW1xyXG4gICAgICAgIGFyckxlbmd0aCAtIDFcclxuICAgICAgXS5zdHJlbmd0aDtcclxuXHJcbiAgICBjdHguZXZlbnRzPy5lbmRUdXJuKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8va2VlcCBsZXR0aW5nIHRoZW0gdHJ5IHRpbCB0aGV5IGNsaWNrIHRoZSByaWdodCB0aGVhdGVyXHJcbiAgICBjdHguZXZlbnRzPy5zZXRTdGFnZSgncGxhY2UnKTtcclxuICB9XHJcbn07XHJcblxyXG4vL2xvc2UgYmF0dGxlLCBvcHBvbmVudCBnYWlucyBwb2ludHMgYmFzZWQgb24gaG93IG1hbnkgY2FyZHMgeW91IGhhdmUgbGVmdFxyXG5leHBvcnQgY29uc3Qgd2l0aGRyYXc6IE1vdmU8R2FtZVN0YXRlPiA9IChHLCBjdHgpID0+IHtcclxuICBsZXQgbG9zdFBsYXllciA9IE51bWJlcihjdHguY3VycmVudFBsYXllcik7XHJcbiAgRy5wbGF5ZXJzW2xvc3RQbGF5ZXIgXiAxXS5zY29yZSArPSBnZXRQb2ludHNTY29yZWQoXHJcbiAgICBHLnBsYXllcnNbbG9zdFBsYXllcl0uZmlyc3RQbGF5ZXIsXHJcbiAgICBHLnBsYXllcnNbbG9zdFBsYXllcl0uY2FyZHMubGVuZ3RoLFxyXG4gICk7XHJcblxyXG4gIGlmIChHLnBsYXllcnNbbG9zdFBsYXllciBeIDFdLnNjb3JlID49IDEyKSB7XHJcbiAgICBjdHguZXZlbnRzPy5zZXRQaGFzZSgnZXBpY1dpbm5pbmdBbmltYXRpb24nKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy9wcm9iYWJseSBkb24ndCBuZWVkIHRoZSBmaXJzdFBsYXllciB2YXJpYWJsZSBub3cgdGhhdCBJIG5lZWQgcGxheU9yZGVyLCBvaCB3ZWxsIGxlYXZpbmcgZm9yIG5vd1xyXG4gICAgRy5wbGF5ZXJzW2xvc3RQbGF5ZXIgXiAxXS5maXJzdFBsYXllciA9IEcucGxheWVyc1tsb3N0UGxheWVyXS5maXJzdFBsYXllcjtcclxuICAgIEcucGxheWVyc1tsb3N0UGxheWVyXS5maXJzdFBsYXllciA9ICFHLnBsYXllcnNbbG9zdFBsYXllcl0uZmlyc3RQbGF5ZXI7XHJcbiAgICBbRy5wbGF5T3JkZXJbMF0sIEcucGxheU9yZGVyWzFdXSA9IFtHLnBsYXlPcmRlclsxXSwgRy5wbGF5T3JkZXJbMF1dO1xyXG5cclxuICAgIGN0eC5ldmVudHM/LnNldFBoYXNlKCdzaHVmZmxlQW5kRGVhbCcpO1xyXG4gIH1cclxufTtcclxuIl0sIm5hbWVzIjpbIkNhbGN1bGF0ZUNhcmRTdHJlbmd0aCIsIkNhcmRFZmZlY3QiLCJnZXRQb2ludHNTY29yZWQiLCJTZXRWYWxpZFRoZWF0ZXJzIiwic2VsZWN0Q2FyZCIsIkciLCJjdHgiLCJjYXJkSUQiLCJzZWxlY3RlZENhcmRJRCIsInBsYXllcnMiLCJOdW1iZXIiLCJjdXJyZW50UGxheWVyIiwiY2FyZHMiLCJldmVudHMiLCJzZXRTdGFnZSIsImltcHJvdmlzZSIsInRoZWF0ZXJJRCIsInBsYXllcklEIiwiZmFjZURvd24iLCJhcnJMZW5ndGgiLCJwbGF5aW5nRmllbGQiLCJkZXBsb3llZENhcmRzIiwicHVzaCIsInNwbGljZSIsImNvdmVyZWRDYXJkIiwiYXQiLCJ1bmRlZmluZWQiLCJjb3ZlcmVkIiwic3RyZW5ndGgiLCJ0b3RhbFN0cmVuZ3RoIiwiZW5kVHVybiIsImRlcGxveSIsImlzVmFsaWQiLCJzZWxlY3RlZENhcmQiLCJ3aXRoZHJhdyIsImxvc3RQbGF5ZXIiLCJzY29yZSIsImZpcnN0UGxheWVyIiwibGVuZ3RoIiwic2V0UGhhc2UiLCJwbGF5T3JkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/moves.ts\n"));

/***/ }),

/***/ "./src/pages/index.tsx":
/*!*****************************!*\
  !*** ./src/pages/index.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var boardgame_io_multiplayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! boardgame.io/multiplayer */ \"./node_modules/boardgame.io/dist/esm/multiplayer.js\");\n/* harmony import */ var boardgame_io_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! boardgame.io/react */ \"./node_modules/boardgame.io/dist/esm/react.js\");\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../game */ \"./src/game/index.ts\");\n/* harmony import */ var _components_board_Board__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/board/Board */ \"./src/components/board/Board.tsx\");\nvar _this = undefined;\n\n\n\n// import { SocketIO } from 'boardgame.io/multiplayer';\n\n\n\n// import { SERVER_URL } from '../config/client';\nvar GameClient = (0,boardgame_io_react__WEBPACK_IMPORTED_MODULE_3__.Client)({\n    game: _game__WEBPACK_IMPORTED_MODULE_1__.AirLandSea,\n    board: _components_board_Board__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    // multiplayer: SocketIO({ server: SERVER_URL }),\n    multiplayer: (0,boardgame_io_multiplayer__WEBPACK_IMPORTED_MODULE_4__.Local)()\n});\n_c = GameClient;\nvar Lobby = function() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.VStack, {\n        divider: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.StackDivider, {\n            borderColor: \"gray\"\n        }, void 0, false, void 0, void 0),\n        spacing: 4,\n        align: \"stretch\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Box, {\n                w: \"100vw\",\n                h: \"100vh\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GameClient, {\n                    playerID: \"0\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\pages\\\\index.tsx\",\n                    lineNumber: 24,\n                    columnNumber: 9\n                }, _this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\pages\\\\index.tsx\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Box, {\n                w: \"100vw\",\n                h: \"100vh\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GameClient, {\n                    playerID: \"1\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\pages\\\\index.tsx\",\n                    lineNumber: 27,\n                    columnNumber: 9\n                }, _this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\pages\\\\index.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ryanm\\\\Documents\\\\Projects\\\\air-land-sea\\\\src\\\\pages\\\\index.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, _this);\n};\n_c1 = Lobby;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Lobby);\nvar _c, _c1;\n$RefreshReg$(_c, \"GameClient\");\n$RefreshReg$(_c1, \"Lobby\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvaW5kZXgudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQTZEO0FBQ1o7QUFDakQsdURBQXVEO0FBQ1g7QUFDUDtBQUNTO0FBQzlDLGlEQUFpRDtBQUVqRCxJQUFNTyxVQUFVLEdBQUdILDBEQUFNLENBQUM7SUFDeEJJLElBQUksRUFBRUgsNkNBQVU7SUFDaEJJLEtBQUssRUFBRUgsK0RBQUs7SUFDWixpREFBaUQ7SUFDakRJLFdBQVcsRUFBRVAsK0RBQUssRUFBRTtDQUNyQixDQUFDO0FBTElJLEtBQUFBLFVBQVU7QUFPaEIsSUFBTUksS0FBSyxHQUFHLFdBQW1CO0lBQy9CLHFCQUNFLDhEQUFDVCxvREFBTTtRQUNMVSxPQUFPLGdCQUFFLDhEQUFDWCwwREFBWTtZQUFDWSxXQUFXLEVBQUMsTUFBTTt5Q0FBRztRQUM1Q0MsT0FBTyxFQUFFLENBQUM7UUFDVkMsS0FBSyxFQUFDLFNBQVM7OzBCQUVmLDhEQUFDZixpREFBRztnQkFBQ2dCLENBQUMsRUFBQyxPQUFPO2dCQUFDQyxDQUFDLEVBQUMsT0FBTzswQkFDdEIsNEVBQUNWLFVBQVU7b0JBQUNXLFFBQVEsRUFBQyxHQUFHOzs7Ozt5QkFBRzs7Ozs7cUJBQ3ZCOzBCQUNOLDhEQUFDbEIsaURBQUc7Z0JBQUNnQixDQUFDLEVBQUMsT0FBTztnQkFBQ0MsQ0FBQyxFQUFDLE9BQU87MEJBQ3RCLDRFQUFDVixVQUFVO29CQUFDVyxRQUFRLEVBQUMsR0FBRzs7Ozs7eUJBQUc7Ozs7O3FCQUN2Qjs7Ozs7O2FBQ0MsQ0FDVDtBQUNKLENBQUM7QUFmS1AsTUFBQUEsS0FBSztBQWlCWCwrREFBZUEsS0FBSyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9wYWdlcy9pbmRleC50c3g/MTlhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3gsIFN0YWNrRGl2aWRlciwgVlN0YWNrIH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdCc7XHJcbmltcG9ydCB7IExvY2FsIH0gZnJvbSAnYm9hcmRnYW1lLmlvL211bHRpcGxheWVyJztcclxuLy8gaW1wb3J0IHsgU29ja2V0SU8gfSBmcm9tICdib2FyZGdhbWUuaW8vbXVsdGlwbGF5ZXInO1xyXG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tICdib2FyZGdhbWUuaW8vcmVhY3QnO1xyXG5pbXBvcnQgeyBBaXJMYW5kU2VhIH0gZnJvbSAnLi4vZ2FtZSc7XHJcbmltcG9ydCBCb2FyZCBmcm9tICcuLi9jb21wb25lbnRzL2JvYXJkL0JvYXJkJztcclxuLy8gaW1wb3J0IHsgU0VSVkVSX1VSTCB9IGZyb20gJy4uL2NvbmZpZy9jbGllbnQnO1xyXG5cclxuY29uc3QgR2FtZUNsaWVudCA9IENsaWVudCh7XHJcbiAgZ2FtZTogQWlyTGFuZFNlYSxcclxuICBib2FyZDogQm9hcmQsXHJcbiAgLy8gbXVsdGlwbGF5ZXI6IFNvY2tldElPKHsgc2VydmVyOiBTRVJWRVJfVVJMIH0pLFxyXG4gIG11bHRpcGxheWVyOiBMb2NhbCgpLFxyXG59KTtcclxuXHJcbmNvbnN0IExvYmJ5ID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPFZTdGFja1xyXG4gICAgICBkaXZpZGVyPXs8U3RhY2tEaXZpZGVyIGJvcmRlckNvbG9yPVwiZ3JheVwiIC8+fVxyXG4gICAgICBzcGFjaW5nPXs0fVxyXG4gICAgICBhbGlnbj1cInN0cmV0Y2hcIlxyXG4gICAgPlxyXG4gICAgICA8Qm94IHc9XCIxMDB2d1wiIGg9XCIxMDB2aFwiPlxyXG4gICAgICAgIDxHYW1lQ2xpZW50IHBsYXllcklEPVwiMFwiIC8+XHJcbiAgICAgIDwvQm94PlxyXG4gICAgICA8Qm94IHc9XCIxMDB2d1wiIGg9XCIxMDB2aFwiPlxyXG4gICAgICAgIDxHYW1lQ2xpZW50IHBsYXllcklEPVwiMVwiIC8+XHJcbiAgICAgIDwvQm94PlxyXG4gICAgPC9WU3RhY2s+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvYmJ5O1xyXG4iXSwibmFtZXMiOlsiQm94IiwiU3RhY2tEaXZpZGVyIiwiVlN0YWNrIiwiTG9jYWwiLCJDbGllbnQiLCJBaXJMYW5kU2VhIiwiQm9hcmQiLCJHYW1lQ2xpZW50IiwiZ2FtZSIsImJvYXJkIiwibXVsdGlwbGF5ZXIiLCJMb2JieSIsImRpdmlkZXIiLCJib3JkZXJDb2xvciIsInNwYWNpbmciLCJhbGlnbiIsInciLCJoIiwicGxheWVySUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/index.tsx\n"));

/***/ }),

/***/ "./node_modules/next/dist/compiled/buffer/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/next/dist/compiled/buffer/index.js ***!
  \*********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){var e={675:function(e,r){\"use strict\";r.byteLength=byteLength;r.toByteArray=toByteArray;r.fromByteArray=fromByteArray;var t=[];var f=[];var n=typeof Uint8Array!==\"undefined\"?Uint8Array:Array;var i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(var o=0,u=i.length;o<u;++o){t[o]=i[o];f[i.charCodeAt(o)]=o}f[\"-\".charCodeAt(0)]=62;f[\"_\".charCodeAt(0)]=63;function getLens(e){var r=e.length;if(r%4>0){throw new Error(\"Invalid string. Length must be a multiple of 4\")}var t=e.indexOf(\"=\");if(t===-1)t=r;var f=t===r?0:4-t%4;return[t,f]}function byteLength(e){var r=getLens(e);var t=r[0];var f=r[1];return(t+f)*3/4-f}function _byteLength(e,r,t){return(r+t)*3/4-t}function toByteArray(e){var r;var t=getLens(e);var i=t[0];var o=t[1];var u=new n(_byteLength(e,i,o));var a=0;var s=o>0?i-4:i;var h;for(h=0;h<s;h+=4){r=f[e.charCodeAt(h)]<<18|f[e.charCodeAt(h+1)]<<12|f[e.charCodeAt(h+2)]<<6|f[e.charCodeAt(h+3)];u[a++]=r>>16&255;u[a++]=r>>8&255;u[a++]=r&255}if(o===2){r=f[e.charCodeAt(h)]<<2|f[e.charCodeAt(h+1)]>>4;u[a++]=r&255}if(o===1){r=f[e.charCodeAt(h)]<<10|f[e.charCodeAt(h+1)]<<4|f[e.charCodeAt(h+2)]>>2;u[a++]=r>>8&255;u[a++]=r&255}return u}function tripletToBase64(e){return t[e>>18&63]+t[e>>12&63]+t[e>>6&63]+t[e&63]}function encodeChunk(e,r,t){var f;var n=[];for(var i=r;i<t;i+=3){f=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255);n.push(tripletToBase64(f))}return n.join(\"\")}function fromByteArray(e){var r;var f=e.length;var n=f%3;var i=[];var o=16383;for(var u=0,a=f-n;u<a;u+=o){i.push(encodeChunk(e,u,u+o>a?a:u+o))}if(n===1){r=e[f-1];i.push(t[r>>2]+t[r<<4&63]+\"==\")}else if(n===2){r=(e[f-2]<<8)+e[f-1];i.push(t[r>>10]+t[r>>4&63]+t[r<<2&63]+\"=\")}return i.join(\"\")}},72:function(e,r,t){\"use strict\";\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */var f=t(675);var n=t(783);var i=typeof Symbol===\"function\"&&typeof Symbol.for===\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;r.Buffer=Buffer;r.SlowBuffer=SlowBuffer;r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!==\"undefined\"&&typeof console.error===\"function\"){console.error(\"This browser lacks typed array (Uint8Array) support which is required by \"+\"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.\")}function typedArraySupport(){try{var e=new Uint8Array(1);var r={foo:function(){return 42}};Object.setPrototypeOf(r,Uint8Array.prototype);Object.setPrototypeOf(e,r);return e.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,\"parent\",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,\"offset\",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(e){if(e>o){throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}var r=new Uint8Array(e);Object.setPrototypeOf(r,Buffer.prototype);return r}function Buffer(e,r,t){if(typeof e===\"number\"){if(typeof r===\"string\"){throw new TypeError('The \"string\" argument must be of type string. Received type number')}return allocUnsafe(e)}return from(e,r,t)}Buffer.poolSize=8192;function from(e,r,t){if(typeof e===\"string\"){return fromString(e,r)}if(ArrayBuffer.isView(e)){return fromArrayLike(e)}if(e==null){throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \"+\"or Array-like Object. Received type \"+typeof e)}if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer)){return fromArrayBuffer(e,r,t)}if(typeof SharedArrayBuffer!==\"undefined\"&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer))){return fromArrayBuffer(e,r,t)}if(typeof e===\"number\"){throw new TypeError('The \"value\" argument must not be of type number. Received type number')}var f=e.valueOf&&e.valueOf();if(f!=null&&f!==e){return Buffer.from(f,r,t)}var n=fromObject(e);if(n)return n;if(typeof Symbol!==\"undefined\"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]===\"function\"){return Buffer.from(e[Symbol.toPrimitive](\"string\"),r,t)}throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \"+\"or Array-like Object. Received type \"+typeof e)}Buffer.from=function(e,r,t){return from(e,r,t)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(e){if(typeof e!==\"number\"){throw new TypeError('\"size\" argument must be of type number')}else if(e<0){throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}}function alloc(e,r,t){assertSize(e);if(e<=0){return createBuffer(e)}if(r!==undefined){return typeof t===\"string\"?createBuffer(e).fill(r,t):createBuffer(e).fill(r)}return createBuffer(e)}Buffer.alloc=function(e,r,t){return alloc(e,r,t)};function allocUnsafe(e){assertSize(e);return createBuffer(e<0?0:checked(e)|0)}Buffer.allocUnsafe=function(e){return allocUnsafe(e)};Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)};function fromString(e,r){if(typeof r!==\"string\"||r===\"\"){r=\"utf8\"}if(!Buffer.isEncoding(r)){throw new TypeError(\"Unknown encoding: \"+r)}var t=byteLength(e,r)|0;var f=createBuffer(t);var n=f.write(e,r);if(n!==t){f=f.slice(0,n)}return f}function fromArrayLike(e){var r=e.length<0?0:checked(e.length)|0;var t=createBuffer(r);for(var f=0;f<r;f+=1){t[f]=e[f]&255}return t}function fromArrayBuffer(e,r,t){if(r<0||e.byteLength<r){throw new RangeError('\"offset\" is outside of buffer bounds')}if(e.byteLength<r+(t||0)){throw new RangeError('\"length\" is outside of buffer bounds')}var f;if(r===undefined&&t===undefined){f=new Uint8Array(e)}else if(t===undefined){f=new Uint8Array(e,r)}else{f=new Uint8Array(e,r,t)}Object.setPrototypeOf(f,Buffer.prototype);return f}function fromObject(e){if(Buffer.isBuffer(e)){var r=checked(e.length)|0;var t=createBuffer(r);if(t.length===0){return t}e.copy(t,0,0,r);return t}if(e.length!==undefined){if(typeof e.length!==\"number\"||numberIsNaN(e.length)){return createBuffer(0)}return fromArrayLike(e)}if(e.type===\"Buffer\"&&Array.isArray(e.data)){return fromArrayLike(e.data)}}function checked(e){if(e>=o){throw new RangeError(\"Attempt to allocate Buffer larger than maximum \"+\"size: 0x\"+o.toString(16)+\" bytes\")}return e|0}function SlowBuffer(e){if(+e!=e){e=0}return Buffer.alloc(+e)}Buffer.isBuffer=function isBuffer(e){return e!=null&&e._isBuffer===true&&e!==Buffer.prototype};Buffer.compare=function compare(e,r){if(isInstance(e,Uint8Array))e=Buffer.from(e,e.offset,e.byteLength);if(isInstance(r,Uint8Array))r=Buffer.from(r,r.offset,r.byteLength);if(!Buffer.isBuffer(e)||!Buffer.isBuffer(r)){throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array')}if(e===r)return 0;var t=e.length;var f=r.length;for(var n=0,i=Math.min(t,f);n<i;++n){if(e[n]!==r[n]){t=e[n];f=r[n];break}}if(t<f)return-1;if(f<t)return 1;return 0};Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return true;default:return false}};Buffer.concat=function concat(e,r){if(!Array.isArray(e)){throw new TypeError('\"list\" argument must be an Array of Buffers')}if(e.length===0){return Buffer.alloc(0)}var t;if(r===undefined){r=0;for(t=0;t<e.length;++t){r+=e[t].length}}var f=Buffer.allocUnsafe(r);var n=0;for(t=0;t<e.length;++t){var i=e[t];if(isInstance(i,Uint8Array)){i=Buffer.from(i)}if(!Buffer.isBuffer(i)){throw new TypeError('\"list\" argument must be an Array of Buffers')}i.copy(f,n);n+=i.length}return f};function byteLength(e,r){if(Buffer.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer)){return e.byteLength}if(typeof e!==\"string\"){throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. '+\"Received type \"+typeof e)}var t=e.length;var f=arguments.length>2&&arguments[2]===true;if(!f&&t===0)return 0;var n=false;for(;;){switch(r){case\"ascii\":case\"latin1\":case\"binary\":return t;case\"utf8\":case\"utf-8\":return utf8ToBytes(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return t*2;case\"hex\":return t>>>1;case\"base64\":return base64ToBytes(e).length;default:if(n){return f?-1:utf8ToBytes(e).length}r=(\"\"+r).toLowerCase();n=true}}}Buffer.byteLength=byteLength;function slowToString(e,r,t){var f=false;if(r===undefined||r<0){r=0}if(r>this.length){return\"\"}if(t===undefined||t>this.length){t=this.length}if(t<=0){return\"\"}t>>>=0;r>>>=0;if(t<=r){return\"\"}if(!e)e=\"utf8\";while(true){switch(e){case\"hex\":return hexSlice(this,r,t);case\"utf8\":case\"utf-8\":return utf8Slice(this,r,t);case\"ascii\":return asciiSlice(this,r,t);case\"latin1\":case\"binary\":return latin1Slice(this,r,t);case\"base64\":return base64Slice(this,r,t);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return utf16leSlice(this,r,t);default:if(f)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase();f=true}}}Buffer.prototype._isBuffer=true;function swap(e,r,t){var f=e[r];e[r]=e[t];e[t]=f}Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!==0){throw new RangeError(\"Buffer size must be a multiple of 16-bits\")}for(var r=0;r<e;r+=2){swap(this,r,r+1)}return this};Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!==0){throw new RangeError(\"Buffer size must be a multiple of 32-bits\")}for(var r=0;r<e;r+=4){swap(this,r,r+3);swap(this,r+1,r+2)}return this};Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!==0){throw new RangeError(\"Buffer size must be a multiple of 64-bits\")}for(var r=0;r<e;r+=8){swap(this,r,r+7);swap(this,r+1,r+6);swap(this,r+2,r+5);swap(this,r+3,r+4)}return this};Buffer.prototype.toString=function toString(){var e=this.length;if(e===0)return\"\";if(arguments.length===0)return utf8Slice(this,0,e);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(this===e)return true;return Buffer.compare(this,e)===0};Buffer.prototype.inspect=function inspect(){var e=\"\";var t=r.INSPECT_MAX_BYTES;e=this.toString(\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim();if(this.length>t)e+=\" ... \";return\"<Buffer \"+e+\">\"};if(i){Buffer.prototype[i]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(e,r,t,f,n){if(isInstance(e,Uint8Array)){e=Buffer.from(e,e.offset,e.byteLength)}if(!Buffer.isBuffer(e)){throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. '+\"Received type \"+typeof e)}if(r===undefined){r=0}if(t===undefined){t=e?e.length:0}if(f===undefined){f=0}if(n===undefined){n=this.length}if(r<0||t>e.length||f<0||n>this.length){throw new RangeError(\"out of range index\")}if(f>=n&&r>=t){return 0}if(f>=n){return-1}if(r>=t){return 1}r>>>=0;t>>>=0;f>>>=0;n>>>=0;if(this===e)return 0;var i=n-f;var o=t-r;var u=Math.min(i,o);var a=this.slice(f,n);var s=e.slice(r,t);for(var h=0;h<u;++h){if(a[h]!==s[h]){i=a[h];o=s[h];break}}if(i<o)return-1;if(o<i)return 1;return 0};function bidirectionalIndexOf(e,r,t,f,n){if(e.length===0)return-1;if(typeof t===\"string\"){f=t;t=0}else if(t>2147483647){t=2147483647}else if(t<-2147483648){t=-2147483648}t=+t;if(numberIsNaN(t)){t=n?0:e.length-1}if(t<0)t=e.length+t;if(t>=e.length){if(n)return-1;else t=e.length-1}else if(t<0){if(n)t=0;else return-1}if(typeof r===\"string\"){r=Buffer.from(r,f)}if(Buffer.isBuffer(r)){if(r.length===0){return-1}return arrayIndexOf(e,r,t,f,n)}else if(typeof r===\"number\"){r=r&255;if(typeof Uint8Array.prototype.indexOf===\"function\"){if(n){return Uint8Array.prototype.indexOf.call(e,r,t)}else{return Uint8Array.prototype.lastIndexOf.call(e,r,t)}}return arrayIndexOf(e,[r],t,f,n)}throw new TypeError(\"val must be string, number or Buffer\")}function arrayIndexOf(e,r,t,f,n){var i=1;var o=e.length;var u=r.length;if(f!==undefined){f=String(f).toLowerCase();if(f===\"ucs2\"||f===\"ucs-2\"||f===\"utf16le\"||f===\"utf-16le\"){if(e.length<2||r.length<2){return-1}i=2;o/=2;u/=2;t/=2}}function read(e,r){if(i===1){return e[r]}else{return e.readUInt16BE(r*i)}}var a;if(n){var s=-1;for(a=t;a<o;a++){if(read(e,a)===read(r,s===-1?0:a-s)){if(s===-1)s=a;if(a-s+1===u)return s*i}else{if(s!==-1)a-=a-s;s=-1}}}else{if(t+u>o)t=o-u;for(a=t;a>=0;a--){var h=true;for(var c=0;c<u;c++){if(read(e,a+c)!==read(r,c)){h=false;break}}if(h)return a}}return-1}Buffer.prototype.includes=function includes(e,r,t){return this.indexOf(e,r,t)!==-1};Buffer.prototype.indexOf=function indexOf(e,r,t){return bidirectionalIndexOf(this,e,r,t,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(e,r,t){return bidirectionalIndexOf(this,e,r,t,false)};function hexWrite(e,r,t,f){t=Number(t)||0;var n=e.length-t;if(!f){f=n}else{f=Number(f);if(f>n){f=n}}var i=r.length;if(f>i/2){f=i/2}for(var o=0;o<f;++o){var u=parseInt(r.substr(o*2,2),16);if(numberIsNaN(u))return o;e[t+o]=u}return o}function utf8Write(e,r,t,f){return blitBuffer(utf8ToBytes(r,e.length-t),e,t,f)}function asciiWrite(e,r,t,f){return blitBuffer(asciiToBytes(r),e,t,f)}function latin1Write(e,r,t,f){return asciiWrite(e,r,t,f)}function base64Write(e,r,t,f){return blitBuffer(base64ToBytes(r),e,t,f)}function ucs2Write(e,r,t,f){return blitBuffer(utf16leToBytes(r,e.length-t),e,t,f)}Buffer.prototype.write=function write(e,r,t,f){if(r===undefined){f=\"utf8\";t=this.length;r=0}else if(t===undefined&&typeof r===\"string\"){f=r;t=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(t)){t=t>>>0;if(f===undefined)f=\"utf8\"}else{f=t;t=undefined}}else{throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\")}var n=this.length-r;if(t===undefined||t>n)t=n;if(e.length>0&&(t<0||r<0)||r>this.length){throw new RangeError(\"Attempt to write outside buffer bounds\")}if(!f)f=\"utf8\";var i=false;for(;;){switch(f){case\"hex\":return hexWrite(this,e,r,t);case\"utf8\":case\"utf-8\":return utf8Write(this,e,r,t);case\"ascii\":return asciiWrite(this,e,r,t);case\"latin1\":case\"binary\":return latin1Write(this,e,r,t);case\"base64\":return base64Write(this,e,r,t);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ucs2Write(this,e,r,t);default:if(i)throw new TypeError(\"Unknown encoding: \"+f);f=(\"\"+f).toLowerCase();i=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(e,r,t){if(r===0&&t===e.length){return f.fromByteArray(e)}else{return f.fromByteArray(e.slice(r,t))}}function utf8Slice(e,r,t){t=Math.min(e.length,t);var f=[];var n=r;while(n<t){var i=e[n];var o=null;var u=i>239?4:i>223?3:i>191?2:1;if(n+u<=t){var a,s,h,c;switch(u){case 1:if(i<128){o=i}break;case 2:a=e[n+1];if((a&192)===128){c=(i&31)<<6|a&63;if(c>127){o=c}}break;case 3:a=e[n+1];s=e[n+2];if((a&192)===128&&(s&192)===128){c=(i&15)<<12|(a&63)<<6|s&63;if(c>2047&&(c<55296||c>57343)){o=c}}break;case 4:a=e[n+1];s=e[n+2];h=e[n+3];if((a&192)===128&&(s&192)===128&&(h&192)===128){c=(i&15)<<18|(a&63)<<12|(s&63)<<6|h&63;if(c>65535&&c<1114112){o=c}}}}if(o===null){o=65533;u=1}else if(o>65535){o-=65536;f.push(o>>>10&1023|55296);o=56320|o&1023}f.push(o);n+=u}return decodeCodePointsArray(f)}var u=4096;function decodeCodePointsArray(e){var r=e.length;if(r<=u){return String.fromCharCode.apply(String,e)}var t=\"\";var f=0;while(f<r){t+=String.fromCharCode.apply(String,e.slice(f,f+=u))}return t}function asciiSlice(e,r,t){var f=\"\";t=Math.min(e.length,t);for(var n=r;n<t;++n){f+=String.fromCharCode(e[n]&127)}return f}function latin1Slice(e,r,t){var f=\"\";t=Math.min(e.length,t);for(var n=r;n<t;++n){f+=String.fromCharCode(e[n])}return f}function hexSlice(e,r,t){var f=e.length;if(!r||r<0)r=0;if(!t||t<0||t>f)t=f;var n=\"\";for(var i=r;i<t;++i){n+=s[e[i]]}return n}function utf16leSlice(e,r,t){var f=e.slice(r,t);var n=\"\";for(var i=0;i<f.length;i+=2){n+=String.fromCharCode(f[i]+f[i+1]*256)}return n}Buffer.prototype.slice=function slice(e,r){var t=this.length;e=~~e;r=r===undefined?t:~~r;if(e<0){e+=t;if(e<0)e=0}else if(e>t){e=t}if(r<0){r+=t;if(r<0)r=0}else if(r>t){r=t}if(r<e)r=e;var f=this.subarray(e,r);Object.setPrototypeOf(f,Buffer.prototype);return f};function checkOffset(e,r,t){if(e%1!==0||e<0)throw new RangeError(\"offset is not uint\");if(e+r>t)throw new RangeError(\"Trying to access beyond buffer length\")}Buffer.prototype.readUIntLE=function readUIntLE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=this[e];var n=1;var i=0;while(++i<r&&(n*=256)){f+=this[e+i]*n}return f};Buffer.prototype.readUIntBE=function readUIntBE(e,r,t){e=e>>>0;r=r>>>0;if(!t){checkOffset(e,r,this.length)}var f=this[e+--r];var n=1;while(r>0&&(n*=256)){f+=this[e+--r]*n}return f};Buffer.prototype.readUInt8=function readUInt8(e,r){e=e>>>0;if(!r)checkOffset(e,1,this.length);return this[e]};Buffer.prototype.readUInt16LE=function readUInt16LE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);return this[e]|this[e+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);return this[e]<<8|this[e+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Buffer.prototype.readIntLE=function readIntLE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=this[e];var n=1;var i=0;while(++i<r&&(n*=256)){f+=this[e+i]*n}n*=128;if(f>=n)f-=Math.pow(2,8*r);return f};Buffer.prototype.readIntBE=function readIntBE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=r;var n=1;var i=this[e+--f];while(f>0&&(n*=256)){i+=this[e+--f]*n}n*=128;if(i>=n)i-=Math.pow(2,8*r);return i};Buffer.prototype.readInt8=function readInt8(e,r){e=e>>>0;if(!r)checkOffset(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);var t=this[e]|this[e+1]<<8;return t&32768?t|4294901760:t};Buffer.prototype.readInt16BE=function readInt16BE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);var t=this[e+1]|this[e]<<8;return t&32768?t|4294901760:t};Buffer.prototype.readInt32LE=function readInt32LE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Buffer.prototype.readFloatLE=function readFloatLE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return n.read(this,e,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return n.read(this,e,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(e,r){e=e>>>0;if(!r)checkOffset(e,8,this.length);return n.read(this,e,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(e,r){e=e>>>0;if(!r)checkOffset(e,8,this.length);return n.read(this,e,false,52,8)};function checkInt(e,r,t,f,n,i){if(!Buffer.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(r>n||r<i)throw new RangeError('\"value\" argument is out of bounds');if(t+f>e.length)throw new RangeError(\"Index out of range\")}Buffer.prototype.writeUIntLE=function writeUIntLE(e,r,t,f){e=+e;r=r>>>0;t=t>>>0;if(!f){var n=Math.pow(2,8*t)-1;checkInt(this,e,r,t,n,0)}var i=1;var o=0;this[r]=e&255;while(++o<t&&(i*=256)){this[r+o]=e/i&255}return r+t};Buffer.prototype.writeUIntBE=function writeUIntBE(e,r,t,f){e=+e;r=r>>>0;t=t>>>0;if(!f){var n=Math.pow(2,8*t)-1;checkInt(this,e,r,t,n,0)}var i=t-1;var o=1;this[r+i]=e&255;while(--i>=0&&(o*=256)){this[r+i]=e/o&255}return r+t};Buffer.prototype.writeUInt8=function writeUInt8(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,1,255,0);this[r]=e&255;return r+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,65535,0);this[r]=e&255;this[r+1]=e>>>8;return r+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,65535,0);this[r]=e>>>8;this[r+1]=e&255;return r+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,4294967295,0);this[r+3]=e>>>24;this[r+2]=e>>>16;this[r+1]=e>>>8;this[r]=e&255;return r+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,4294967295,0);this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};Buffer.prototype.writeIntLE=function writeIntLE(e,r,t,f){e=+e;r=r>>>0;if(!f){var n=Math.pow(2,8*t-1);checkInt(this,e,r,t,n-1,-n)}var i=0;var o=1;var u=0;this[r]=e&255;while(++i<t&&(o*=256)){if(e<0&&u===0&&this[r+i-1]!==0){u=1}this[r+i]=(e/o>>0)-u&255}return r+t};Buffer.prototype.writeIntBE=function writeIntBE(e,r,t,f){e=+e;r=r>>>0;if(!f){var n=Math.pow(2,8*t-1);checkInt(this,e,r,t,n-1,-n)}var i=t-1;var o=1;var u=0;this[r+i]=e&255;while(--i>=0&&(o*=256)){if(e<0&&u===0&&this[r+i+1]!==0){u=1}this[r+i]=(e/o>>0)-u&255}return r+t};Buffer.prototype.writeInt8=function writeInt8(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,1,127,-128);if(e<0)e=255+e+1;this[r]=e&255;return r+1};Buffer.prototype.writeInt16LE=function writeInt16LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,32767,-32768);this[r]=e&255;this[r+1]=e>>>8;return r+2};Buffer.prototype.writeInt16BE=function writeInt16BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,32767,-32768);this[r]=e>>>8;this[r+1]=e&255;return r+2};Buffer.prototype.writeInt32LE=function writeInt32LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,2147483647,-2147483648);this[r]=e&255;this[r+1]=e>>>8;this[r+2]=e>>>16;this[r+3]=e>>>24;return r+4};Buffer.prototype.writeInt32BE=function writeInt32BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};function checkIEEE754(e,r,t,f,n,i){if(t+f>e.length)throw new RangeError(\"Index out of range\");if(t<0)throw new RangeError(\"Index out of range\")}function writeFloat(e,r,t,f,i){r=+r;t=t>>>0;if(!i){checkIEEE754(e,r,t,4,34028234663852886e22,-34028234663852886e22)}n.write(e,r,t,f,23,4);return t+4}Buffer.prototype.writeFloatLE=function writeFloatLE(e,r,t){return writeFloat(this,e,r,true,t)};Buffer.prototype.writeFloatBE=function writeFloatBE(e,r,t){return writeFloat(this,e,r,false,t)};function writeDouble(e,r,t,f,i){r=+r;t=t>>>0;if(!i){checkIEEE754(e,r,t,8,17976931348623157e292,-17976931348623157e292)}n.write(e,r,t,f,52,8);return t+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,r,t){return writeDouble(this,e,r,true,t)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,r,t){return writeDouble(this,e,r,false,t)};Buffer.prototype.copy=function copy(e,r,t,f){if(!Buffer.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(!t)t=0;if(!f&&f!==0)f=this.length;if(r>=e.length)r=e.length;if(!r)r=0;if(f>0&&f<t)f=t;if(f===t)return 0;if(e.length===0||this.length===0)return 0;if(r<0){throw new RangeError(\"targetStart out of bounds\")}if(t<0||t>=this.length)throw new RangeError(\"Index out of range\");if(f<0)throw new RangeError(\"sourceEnd out of bounds\");if(f>this.length)f=this.length;if(e.length-r<f-t){f=e.length-r+t}var n=f-t;if(this===e&&typeof Uint8Array.prototype.copyWithin===\"function\"){this.copyWithin(r,t,f)}else if(this===e&&t<r&&r<f){for(var i=n-1;i>=0;--i){e[i+r]=this[i+t]}}else{Uint8Array.prototype.set.call(e,this.subarray(t,f),r)}return n};Buffer.prototype.fill=function fill(e,r,t,f){if(typeof e===\"string\"){if(typeof r===\"string\"){f=r;r=0;t=this.length}else if(typeof t===\"string\"){f=t;t=this.length}if(f!==undefined&&typeof f!==\"string\"){throw new TypeError(\"encoding must be a string\")}if(typeof f===\"string\"&&!Buffer.isEncoding(f)){throw new TypeError(\"Unknown encoding: \"+f)}if(e.length===1){var n=e.charCodeAt(0);if(f===\"utf8\"&&n<128||f===\"latin1\"){e=n}}}else if(typeof e===\"number\"){e=e&255}else if(typeof e===\"boolean\"){e=Number(e)}if(r<0||this.length<r||this.length<t){throw new RangeError(\"Out of range index\")}if(t<=r){return this}r=r>>>0;t=t===undefined?this.length:t>>>0;if(!e)e=0;var i;if(typeof e===\"number\"){for(i=r;i<t;++i){this[i]=e}}else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,f);var u=o.length;if(u===0){throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"')}for(i=0;i<t-r;++i){this[i+r]=o[i%u]}}return this};var a=/[^+/0-9A-Za-z-_]/g;function base64clean(e){e=e.split(\"=\")[0];e=e.trim().replace(a,\"\");if(e.length<2)return\"\";while(e.length%4!==0){e=e+\"=\"}return e}function utf8ToBytes(e,r){r=r||Infinity;var t;var f=e.length;var n=null;var i=[];for(var o=0;o<f;++o){t=e.charCodeAt(o);if(t>55295&&t<57344){if(!n){if(t>56319){if((r-=3)>-1)i.push(239,191,189);continue}else if(o+1===f){if((r-=3)>-1)i.push(239,191,189);continue}n=t;continue}if(t<56320){if((r-=3)>-1)i.push(239,191,189);n=t;continue}t=(n-55296<<10|t-56320)+65536}else if(n){if((r-=3)>-1)i.push(239,191,189)}n=null;if(t<128){if((r-=1)<0)break;i.push(t)}else if(t<2048){if((r-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else{throw new Error(\"Invalid code point\")}}return i}function asciiToBytes(e){var r=[];for(var t=0;t<e.length;++t){r.push(e.charCodeAt(t)&255)}return r}function utf16leToBytes(e,r){var t,f,n;var i=[];for(var o=0;o<e.length;++o){if((r-=2)<0)break;t=e.charCodeAt(o);f=t>>8;n=t%256;i.push(n);i.push(f)}return i}function base64ToBytes(e){return f.toByteArray(base64clean(e))}function blitBuffer(e,r,t,f){for(var n=0;n<f;++n){if(n+t>=r.length||n>=e.length)break;r[n+t]=e[n]}return n}function isInstance(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function numberIsNaN(e){return e!==e}var s=function(){var e=\"0123456789abcdef\";var r=new Array(256);for(var t=0;t<16;++t){var f=t*16;for(var n=0;n<16;++n){r[f+n]=e[t]+e[n]}}return r}()},783:function(e,r){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nr.read=function(e,r,t,f,n){var i,o;var u=n*8-f-1;var a=(1<<u)-1;var s=a>>1;var h=-7;var c=t?n-1:0;var l=t?-1:1;var p=e[r+c];c+=l;i=p&(1<<-h)-1;p>>=-h;h+=u;for(;h>0;i=i*256+e[r+c],c+=l,h-=8){}o=i&(1<<-h)-1;i>>=-h;h+=f;for(;h>0;o=o*256+e[r+c],c+=l,h-=8){}if(i===0){i=1-s}else if(i===a){return o?NaN:(p?-1:1)*Infinity}else{o=o+Math.pow(2,f);i=i-s}return(p?-1:1)*o*Math.pow(2,i-f)};r.write=function(e,r,t,f,n,i){var o,u,a;var s=i*8-n-1;var h=(1<<s)-1;var c=h>>1;var l=n===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=f?0:i-1;var y=f?1:-1;var g=r<0||r===0&&1/r<0?1:0;r=Math.abs(r);if(isNaN(r)||r===Infinity){u=isNaN(r)?1:0;o=h}else{o=Math.floor(Math.log(r)/Math.LN2);if(r*(a=Math.pow(2,-o))<1){o--;a*=2}if(o+c>=1){r+=l/a}else{r+=l*Math.pow(2,1-c)}if(r*a>=2){o++;a/=2}if(o+c>=h){u=0;o=h}else if(o+c>=1){u=(r*a-1)*Math.pow(2,n);o=o+c}else{u=r*Math.pow(2,c-1)*Math.pow(2,n);o=0}}for(;n>=8;e[t+p]=u&255,p+=y,u/=256,n-=8){}o=o<<n|u;s+=n;for(;s>0;e[t+p]=o&255,p+=y,o/=256,s-=8){}e[t+p-y]|=g*128}}};var r={};function __nccwpck_require__(t){var f=r[t];if(f!==undefined){return f.exports}var n=r[t]={exports:{}};var i=true;try{e[t](n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete r[t]}return n.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var t=__nccwpck_require__(72);module.exports=t})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL2J1ZmZlci9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxPQUFPLGtCQUFrQixhQUFhLHdCQUF3QiwwQkFBMEIsOEJBQThCLFNBQVMsU0FBUyx1REFBdUQseUVBQXlFLHVCQUF1QixJQUFJLEtBQUssVUFBVSxxQkFBcUIsd0JBQXdCLHdCQUF3QixvQkFBb0IsZUFBZSxVQUFVLGtFQUFrRSxxQkFBcUIsY0FBYyxvQkFBb0IsWUFBWSx1QkFBdUIsaUJBQWlCLFdBQVcsV0FBVyxrQkFBa0IsNEJBQTRCLGtCQUFrQix3QkFBd0IsTUFBTSxpQkFBaUIsV0FBVyxXQUFXLGdDQUFnQyxRQUFRLGdCQUFnQixNQUFNLFFBQVEsSUFBSSxNQUFNLCtGQUErRixpQkFBaUIsZ0JBQWdCLGFBQWEsVUFBVSxnREFBZ0QsYUFBYSxVQUFVLHlFQUF5RSxnQkFBZ0IsYUFBYSxTQUFTLDRCQUE0QixrREFBa0QsNEJBQTRCLE1BQU0sU0FBUyxZQUFZLElBQUksTUFBTSxxREFBcUQsMkJBQTJCLGtCQUFrQiwwQkFBMEIsTUFBTSxlQUFlLFVBQVUsU0FBUyxZQUFZLGtCQUFrQixJQUFJLE1BQU0scUNBQXFDLFVBQVUsU0FBUyxnQ0FBZ0MsZUFBZSxxQkFBcUIsMkNBQTJDLG1CQUFtQixvQkFBb0I7QUFDOXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYSwrR0FBK0csZ0JBQWdCLHdCQUF3Qix1QkFBdUIsaUJBQWlCLGVBQWUsK0NBQStDLGlHQUFpRyxrS0FBa0ssNkJBQTZCLElBQUksd0JBQXdCLE9BQU8sZUFBZSxZQUFZLDhDQUE4QywyQkFBMkIsb0JBQW9CLFNBQVMsY0FBYyxpREFBaUQsK0JBQStCLDJDQUEyQyxvQkFBb0IsRUFBRSxpREFBaUQsK0JBQStCLDJDQUEyQyx3QkFBd0IsRUFBRSx5QkFBeUIsUUFBUSx1RUFBdUUsd0JBQXdCLDBDQUEwQyxTQUFTLHVCQUF1Qix3QkFBd0Isd0JB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QkFBNEIsY0FBYywyQkFBMkIsZUFBZSxJQUFJLEtBQUssbUNBQW1DLDJCQUEyQixJQUFJLEtBQUssV0FBVyxPQUFPLEtBQUsscUJBQXFCLFdBQVcsSUFBSSxLQUFLLFdBQVcsSUFBSSxJQUFJLGdCQUFnQix3QkFBd0IsTUFBTSxLQUFLLGtDQUFrQyxLQUFLLEtBQUssS0FBSyxnQ0FBZ0MsU0FBUyxLQUFLLEtBQUssSUFBSSxnQ0FBZ0MsbUJBQW1CLFNBQVMsZ0NBQWdDLFdBQVcsa0JBQWtCLGlCQUFpQixZQUFZLFlBQVksV0FBVyxJQUFJLHNDQUFzQyxRQUFRLFFBQVEsaUJBQWlCLGlCQUFpQixtRUFBbUUsU0FBUyxLQUFLLDhCQUE4QixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9idWZmZXIvaW5kZXguanM/Mzc3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXt2YXIgZT17Njc1OmZ1bmN0aW9uKGUscil7XCJ1c2Ugc3RyaWN0XCI7ci5ieXRlTGVuZ3RoPWJ5dGVMZW5ndGg7ci50b0J5dGVBcnJheT10b0J5dGVBcnJheTtyLmZyb21CeXRlQXJyYXk9ZnJvbUJ5dGVBcnJheTt2YXIgdD1bXTt2YXIgZj1bXTt2YXIgbj10eXBlb2YgVWludDhBcnJheSE9PVwidW5kZWZpbmVkXCI/VWludDhBcnJheTpBcnJheTt2YXIgaT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtmb3IodmFyIG89MCx1PWkubGVuZ3RoO288dTsrK28pe3Rbb109aVtvXTtmW2kuY2hhckNvZGVBdChvKV09b31mW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyO2ZbXCJfXCIuY2hhckNvZGVBdCgwKV09NjM7ZnVuY3Rpb24gZ2V0TGVucyhlKXt2YXIgcj1lLmxlbmd0aDtpZihyJTQ+MCl7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKX12YXIgdD1lLmluZGV4T2YoXCI9XCIpO2lmKHQ9PT0tMSl0PXI7dmFyIGY9dD09PXI/MDo0LXQlNDtyZXR1cm5bdCxmXX1mdW5jdGlvbiBieXRlTGVuZ3RoKGUpe3ZhciByPWdldExlbnMoZSk7dmFyIHQ9clswXTt2YXIgZj1yWzFdO3JldHVybih0K2YpKjMvNC1mfWZ1bmN0aW9uIF9ieXRlTGVuZ3RoKGUscix0KXtyZXR1cm4ocit0KSozLzQtdH1mdW5jdGlvbiB0b0J5dGVBcnJheShlKXt2YXIgcjt2YXIgdD1nZXRMZW5zKGUpO3ZhciBpPXRbMF07dmFyIG89dFsxXTt2YXIgdT1uZXcgbihfYnl0ZUxlbmd0aChlLGksbykpO3ZhciBhPTA7dmFyIHM9bz4wP2ktNDppO3ZhciBoO2ZvcihoPTA7aDxzO2grPTQpe3I9ZltlLmNoYXJDb2RlQXQoaCldPDwxOHxmW2UuY2hhckNvZGVBdChoKzEpXTw8MTJ8ZltlLmNoYXJDb2RlQXQoaCsyKV08PDZ8ZltlLmNoYXJDb2RlQXQoaCszKV07dVthKytdPXI+PjE2JjI1NTt1W2ErK109cj4+OCYyNTU7dVthKytdPXImMjU1fWlmKG89PT0yKXtyPWZbZS5jaGFyQ29kZUF0KGgpXTw8MnxmW2UuY2hhckNvZGVBdChoKzEpXT4+NDt1W2ErK109ciYyNTV9aWYobz09PTEpe3I9ZltlLmNoYXJDb2RlQXQoaCldPDwxMHxmW2UuY2hhckNvZGVBdChoKzEpXTw8NHxmW2UuY2hhckNvZGVBdChoKzIpXT4+Mjt1W2ErK109cj4+OCYyNTU7dVthKytdPXImMjU1fXJldHVybiB1fWZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NChlKXtyZXR1cm4gdFtlPj4xOCY2M10rdFtlPj4xMiY2M10rdFtlPj42JjYzXSt0W2UmNjNdfWZ1bmN0aW9uIGVuY29kZUNodW5rKGUscix0KXt2YXIgZjt2YXIgbj1bXTtmb3IodmFyIGk9cjtpPHQ7aSs9Myl7Zj0oZVtpXTw8MTYmMTY3MTE2ODApKyhlW2krMV08PDgmNjUyODApKyhlW2krMl0mMjU1KTtuLnB1c2godHJpcGxldFRvQmFzZTY0KGYpKX1yZXR1cm4gbi5qb2luKFwiXCIpfWZ1bmN0aW9uIGZyb21CeXRlQXJyYXkoZSl7dmFyIHI7dmFyIGY9ZS5sZW5ndGg7dmFyIG49ZiUzO3ZhciBpPVtdO3ZhciBvPTE2MzgzO2Zvcih2YXIgdT0wLGE9Zi1uO3U8YTt1Kz1vKXtpLnB1c2goZW5jb2RlQ2h1bmsoZSx1LHUrbz5hP2E6dStvKSl9aWYobj09PTEpe3I9ZVtmLTFdO2kucHVzaCh0W3I+PjJdK3Rbcjw8NCY2M10rXCI9PVwiKX1lbHNlIGlmKG49PT0yKXtyPShlW2YtMl08PDgpK2VbZi0xXTtpLnB1c2godFtyPj4xMF0rdFtyPj40JjYzXSt0W3I8PDImNjNdK1wiPVwiKX1yZXR1cm4gaS5qb2luKFwiXCIpfX0sNzI6ZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovdmFyIGY9dCg2NzUpO3ZhciBuPXQoNzgzKTt2YXIgaT10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgU3ltYm9sLmZvcj09PVwiZnVuY3Rpb25cIj9TeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIik6bnVsbDtyLkJ1ZmZlcj1CdWZmZXI7ci5TbG93QnVmZmVyPVNsb3dCdWZmZXI7ci5JTlNQRUNUX01BWF9CWVRFUz01MDt2YXIgbz0yMTQ3NDgzNjQ3O3Iua01heExlbmd0aD1vO0J1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPXR5cGVkQXJyYXlTdXBwb3J0KCk7aWYoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiZ0eXBlb2YgY29uc29sZSE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBjb25zb2xlLmVycm9yPT09XCJmdW5jdGlvblwiKXtjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5IFwiK1wiYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC5cIil9ZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQoKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7dmFyIHI9e2ZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19O09iamVjdC5zZXRQcm90b3R5cGVPZihyLFVpbnQ4QXJyYXkucHJvdG90eXBlKTtPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxyKTtyZXR1cm4gZS5mb28oKT09PTQyfWNhdGNoKGUpe3JldHVybiBmYWxzZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsXCJwYXJlbnRcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe2lmKCFCdWZmZXIuaXNCdWZmZXIodGhpcykpcmV0dXJuIHVuZGVmaW5lZDtyZXR1cm4gdGhpcy5idWZmZXJ9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsXCJvZmZzZXRcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe2lmKCFCdWZmZXIuaXNCdWZmZXIodGhpcykpcmV0dXJuIHVuZGVmaW5lZDtyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pO2Z1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihlKXtpZihlPm8pe3Rocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK2UrJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpfXZhciByPW5ldyBVaW50OEFycmF5KGUpO09iamVjdC5zZXRQcm90b3R5cGVPZihyLEJ1ZmZlci5wcm90b3R5cGUpO3JldHVybiByfWZ1bmN0aW9uIEJ1ZmZlcihlLHIsdCl7aWYodHlwZW9mIGU9PT1cIm51bWJlclwiKXtpZih0eXBlb2Ygcj09PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyl9cmV0dXJuIGFsbG9jVW5zYWZlKGUpfXJldHVybiBmcm9tKGUscix0KX1CdWZmZXIucG9vbFNpemU9ODE5MjtmdW5jdGlvbiBmcm9tKGUscix0KXtpZih0eXBlb2YgZT09PVwic3RyaW5nXCIpe3JldHVybiBmcm9tU3RyaW5nKGUscil9aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXtyZXR1cm4gZnJvbUFycmF5TGlrZShlKX1pZihlPT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgXCIrXCJvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgZSl9aWYoaXNJbnN0YW5jZShlLEFycmF5QnVmZmVyKXx8ZSYmaXNJbnN0YW5jZShlLmJ1ZmZlcixBcnJheUJ1ZmZlcikpe3JldHVybiBmcm9tQXJyYXlCdWZmZXIoZSxyLHQpfWlmKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciE9PVwidW5kZWZpbmVkXCImJihpc0luc3RhbmNlKGUsU2hhcmVkQXJyYXlCdWZmZXIpfHxlJiZpc0luc3RhbmNlKGUuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpe3JldHVybiBmcm9tQXJyYXlCdWZmZXIoZSxyLHQpfWlmKHR5cGVvZiBlPT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKX12YXIgZj1lLnZhbHVlT2YmJmUudmFsdWVPZigpO2lmKGYhPW51bGwmJmYhPT1lKXtyZXR1cm4gQnVmZmVyLmZyb20oZixyLHQpfXZhciBuPWZyb21PYmplY3QoZSk7aWYobilyZXR1cm4gbjtpZih0eXBlb2YgU3ltYm9sIT09XCJ1bmRlZmluZWRcIiYmU3ltYm9sLnRvUHJpbWl0aXZlIT1udWxsJiZ0eXBlb2YgZVtTeW1ib2wudG9QcmltaXRpdmVdPT09XCJmdW5jdGlvblwiKXtyZXR1cm4gQnVmZmVyLmZyb20oZVtTeW1ib2wudG9QcmltaXRpdmVdKFwic3RyaW5nXCIpLHIsdCl9dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIFwiK1wib3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIGUpfUJ1ZmZlci5mcm9tPWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gZnJvbShlLHIsdCl9O09iamVjdC5zZXRQcm90b3R5cGVPZihCdWZmZXIucHJvdG90eXBlLFVpbnQ4QXJyYXkucHJvdG90eXBlKTtPYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLFVpbnQ4QXJyYXkpO2Z1bmN0aW9uIGFzc2VydFNpemUoZSl7aWYodHlwZW9mIGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJyl9ZWxzZSBpZihlPDApe3Rocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK2UrJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpfX1mdW5jdGlvbiBhbGxvYyhlLHIsdCl7YXNzZXJ0U2l6ZShlKTtpZihlPD0wKXtyZXR1cm4gY3JlYXRlQnVmZmVyKGUpfWlmKHIhPT11bmRlZmluZWQpe3JldHVybiB0eXBlb2YgdD09PVwic3RyaW5nXCI/Y3JlYXRlQnVmZmVyKGUpLmZpbGwocix0KTpjcmVhdGVCdWZmZXIoZSkuZmlsbChyKX1yZXR1cm4gY3JlYXRlQnVmZmVyKGUpfUJ1ZmZlci5hbGxvYz1mdW5jdGlvbihlLHIsdCl7cmV0dXJuIGFsbG9jKGUscix0KX07ZnVuY3Rpb24gYWxsb2NVbnNhZmUoZSl7YXNzZXJ0U2l6ZShlKTtyZXR1cm4gY3JlYXRlQnVmZmVyKGU8MD8wOmNoZWNrZWQoZSl8MCl9QnVmZmVyLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe3JldHVybiBhbGxvY1Vuc2FmZShlKX07QnVmZmVyLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtyZXR1cm4gYWxsb2NVbnNhZmUoZSl9O2Z1bmN0aW9uIGZyb21TdHJpbmcoZSxyKXtpZih0eXBlb2YgciE9PVwic3RyaW5nXCJ8fHI9PT1cIlwiKXtyPVwidXRmOFwifWlmKCFCdWZmZXIuaXNFbmNvZGluZyhyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3IpfXZhciB0PWJ5dGVMZW5ndGgoZSxyKXwwO3ZhciBmPWNyZWF0ZUJ1ZmZlcih0KTt2YXIgbj1mLndyaXRlKGUscik7aWYobiE9PXQpe2Y9Zi5zbGljZSgwLG4pfXJldHVybiBmfWZ1bmN0aW9uIGZyb21BcnJheUxpa2UoZSl7dmFyIHI9ZS5sZW5ndGg8MD8wOmNoZWNrZWQoZS5sZW5ndGgpfDA7dmFyIHQ9Y3JlYXRlQnVmZmVyKHIpO2Zvcih2YXIgZj0wO2Y8cjtmKz0xKXt0W2ZdPWVbZl0mMjU1fXJldHVybiB0fWZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlcihlLHIsdCl7aWYocjwwfHxlLmJ5dGVMZW5ndGg8cil7dGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyl9aWYoZS5ieXRlTGVuZ3RoPHIrKHR8fDApKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJsZW5ndGhcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKX12YXIgZjtpZihyPT09dW5kZWZpbmVkJiZ0PT09dW5kZWZpbmVkKXtmPW5ldyBVaW50OEFycmF5KGUpfWVsc2UgaWYodD09PXVuZGVmaW5lZCl7Zj1uZXcgVWludDhBcnJheShlLHIpfWVsc2V7Zj1uZXcgVWludDhBcnJheShlLHIsdCl9T2JqZWN0LnNldFByb3RvdHlwZU9mKGYsQnVmZmVyLnByb3RvdHlwZSk7cmV0dXJuIGZ9ZnVuY3Rpb24gZnJvbU9iamVjdChlKXtpZihCdWZmZXIuaXNCdWZmZXIoZSkpe3ZhciByPWNoZWNrZWQoZS5sZW5ndGgpfDA7dmFyIHQ9Y3JlYXRlQnVmZmVyKHIpO2lmKHQubGVuZ3RoPT09MCl7cmV0dXJuIHR9ZS5jb3B5KHQsMCwwLHIpO3JldHVybiB0fWlmKGUubGVuZ3RoIT09dW5kZWZpbmVkKXtpZih0eXBlb2YgZS5sZW5ndGghPT1cIm51bWJlclwifHxudW1iZXJJc05hTihlLmxlbmd0aCkpe3JldHVybiBjcmVhdGVCdWZmZXIoMCl9cmV0dXJuIGZyb21BcnJheUxpa2UoZSl9aWYoZS50eXBlPT09XCJCdWZmZXJcIiYmQXJyYXkuaXNBcnJheShlLmRhdGEpKXtyZXR1cm4gZnJvbUFycmF5TGlrZShlLmRhdGEpfX1mdW5jdGlvbiBjaGVja2VkKGUpe2lmKGU+PW8pe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBcIitcInNpemU6IDB4XCIrby50b1N0cmluZygxNikrXCIgYnl0ZXNcIil9cmV0dXJuIGV8MH1mdW5jdGlvbiBTbG93QnVmZmVyKGUpe2lmKCtlIT1lKXtlPTB9cmV0dXJuIEJ1ZmZlci5hbGxvYygrZSl9QnVmZmVyLmlzQnVmZmVyPWZ1bmN0aW9uIGlzQnVmZmVyKGUpe3JldHVybiBlIT1udWxsJiZlLl9pc0J1ZmZlcj09PXRydWUmJmUhPT1CdWZmZXIucHJvdG90eXBlfTtCdWZmZXIuY29tcGFyZT1mdW5jdGlvbiBjb21wYXJlKGUscil7aWYoaXNJbnN0YW5jZShlLFVpbnQ4QXJyYXkpKWU9QnVmZmVyLmZyb20oZSxlLm9mZnNldCxlLmJ5dGVMZW5ndGgpO2lmKGlzSW5zdGFuY2UocixVaW50OEFycmF5KSlyPUJ1ZmZlci5mcm9tKHIsci5vZmZzZXQsci5ieXRlTGVuZ3RoKTtpZighQnVmZmVyLmlzQnVmZmVyKGUpfHwhQnVmZmVyLmlzQnVmZmVyKHIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyl9aWYoZT09PXIpcmV0dXJuIDA7dmFyIHQ9ZS5sZW5ndGg7dmFyIGY9ci5sZW5ndGg7Zm9yKHZhciBuPTAsaT1NYXRoLm1pbih0LGYpO248aTsrK24pe2lmKGVbbl0hPT1yW25dKXt0PWVbbl07Zj1yW25dO2JyZWFrfX1pZih0PGYpcmV0dXJuLTE7aWYoZjx0KXJldHVybiAxO3JldHVybiAwfTtCdWZmZXIuaXNFbmNvZGluZz1mdW5jdGlvbiBpc0VuY29kaW5nKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdHJ1ZTtkZWZhdWx0OnJldHVybiBmYWxzZX19O0J1ZmZlci5jb25jYXQ9ZnVuY3Rpb24gY29uY2F0KGUscil7aWYoIUFycmF5LmlzQXJyYXkoZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpfWlmKGUubGVuZ3RoPT09MCl7cmV0dXJuIEJ1ZmZlci5hbGxvYygwKX12YXIgdDtpZihyPT09dW5kZWZpbmVkKXtyPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoOysrdCl7cis9ZVt0XS5sZW5ndGh9fXZhciBmPUJ1ZmZlci5hbGxvY1Vuc2FmZShyKTt2YXIgbj0wO2Zvcih0PTA7dDxlLmxlbmd0aDsrK3Qpe3ZhciBpPWVbdF07aWYoaXNJbnN0YW5jZShpLFVpbnQ4QXJyYXkpKXtpPUJ1ZmZlci5mcm9tKGkpfWlmKCFCdWZmZXIuaXNCdWZmZXIoaSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpfWkuY29weShmLG4pO24rPWkubGVuZ3RofXJldHVybiBmfTtmdW5jdGlvbiBieXRlTGVuZ3RoKGUscil7aWYoQnVmZmVyLmlzQnVmZmVyKGUpKXtyZXR1cm4gZS5sZW5ndGh9aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxpc0luc3RhbmNlKGUsQXJyYXlCdWZmZXIpKXtyZXR1cm4gZS5ieXRlTGVuZ3RofWlmKHR5cGVvZiBlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuICcrXCJSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKX12YXIgdD1lLmxlbmd0aDt2YXIgZj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXT09PXRydWU7aWYoIWYmJnQ9PT0wKXJldHVybiAwO3ZhciBuPWZhbHNlO2Zvcig7Oyl7c3dpdGNoKHIpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHQ7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHV0ZjhUb0J5dGVzKGUpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdCoyO2Nhc2VcImhleFwiOnJldHVybiB0Pj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0VG9CeXRlcyhlKS5sZW5ndGg7ZGVmYXVsdDppZihuKXtyZXR1cm4gZj8tMTp1dGY4VG9CeXRlcyhlKS5sZW5ndGh9cj0oXCJcIityKS50b0xvd2VyQ2FzZSgpO249dHJ1ZX19fUJ1ZmZlci5ieXRlTGVuZ3RoPWJ5dGVMZW5ndGg7ZnVuY3Rpb24gc2xvd1RvU3RyaW5nKGUscix0KXt2YXIgZj1mYWxzZTtpZihyPT09dW5kZWZpbmVkfHxyPDApe3I9MH1pZihyPnRoaXMubGVuZ3RoKXtyZXR1cm5cIlwifWlmKHQ9PT11bmRlZmluZWR8fHQ+dGhpcy5sZW5ndGgpe3Q9dGhpcy5sZW5ndGh9aWYodDw9MCl7cmV0dXJuXCJcIn10Pj4+PTA7cj4+Pj0wO2lmKHQ8PXIpe3JldHVyblwiXCJ9aWYoIWUpZT1cInV0ZjhcIjt3aGlsZSh0cnVlKXtzd2l0Y2goZSl7Y2FzZVwiaGV4XCI6cmV0dXJuIGhleFNsaWNlKHRoaXMscix0KTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gdXRmOFNsaWNlKHRoaXMscix0KTtjYXNlXCJhc2NpaVwiOnJldHVybiBhc2NpaVNsaWNlKHRoaXMscix0KTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbGF0aW4xU2xpY2UodGhpcyxyLHQpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRTbGljZSh0aGlzLHIsdCk7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLHIsdCk7ZGVmYXVsdDppZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlKTtlPShlK1wiXCIpLnRvTG93ZXJDYXNlKCk7Zj10cnVlfX19QnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXI9dHJ1ZTtmdW5jdGlvbiBzd2FwKGUscix0KXt2YXIgZj1lW3JdO2Vbcl09ZVt0XTtlW3RdPWZ9QnVmZmVyLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24gc3dhcDE2KCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSUyIT09MCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0c1wiKX1mb3IodmFyIHI9MDtyPGU7cis9Mil7c3dhcCh0aGlzLHIscisxKX1yZXR1cm4gdGhpc307QnVmZmVyLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24gc3dhcDMyKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT09MCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKX1mb3IodmFyIHI9MDtyPGU7cis9NCl7c3dhcCh0aGlzLHIsciszKTtzd2FwKHRoaXMscisxLHIrMil9cmV0dXJuIHRoaXN9O0J1ZmZlci5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uIHN3YXA2NCgpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9PTApe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHNcIil9Zm9yKHZhciByPTA7cjxlO3IrPTgpe3N3YXAodGhpcyxyLHIrNyk7c3dhcCh0aGlzLHIrMSxyKzYpO3N3YXAodGhpcyxyKzIscis1KTtzd2FwKHRoaXMsciszLHIrNCl9cmV0dXJuIHRoaXN9O0J1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24gdG9TdHJpbmcoKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlPT09MClyZXR1cm5cIlwiO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiB1dGY4U2xpY2UodGhpcywwLGUpO3JldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtCdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPUJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc7QnVmZmVyLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24gZXF1YWxzKGUpe2lmKCFCdWZmZXIuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7aWYodGhpcz09PWUpcmV0dXJuIHRydWU7cmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsZSk9PT0wfTtCdWZmZXIucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24gaW5zcGVjdCgpe3ZhciBlPVwiXCI7dmFyIHQ9ci5JTlNQRUNUX01BWF9CWVRFUztlPXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLHQpLnJlcGxhY2UoLyguezJ9KS9nLFwiJDEgXCIpLnRyaW0oKTtpZih0aGlzLmxlbmd0aD50KWUrPVwiIC4uLiBcIjtyZXR1cm5cIjxCdWZmZXIgXCIrZStcIj5cIn07aWYoaSl7QnVmZmVyLnByb3RvdHlwZVtpXT1CdWZmZXIucHJvdG90eXBlLmluc3BlY3R9QnVmZmVyLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uIGNvbXBhcmUoZSxyLHQsZixuKXtpZihpc0luc3RhbmNlKGUsVWludDhBcnJheSkpe2U9QnVmZmVyLmZyb20oZSxlLm9mZnNldCxlLmJ5dGVMZW5ndGgpfWlmKCFCdWZmZXIuaXNCdWZmZXIoZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInRhcmdldFwiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuICcrXCJSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKX1pZihyPT09dW5kZWZpbmVkKXtyPTB9aWYodD09PXVuZGVmaW5lZCl7dD1lP2UubGVuZ3RoOjB9aWYoZj09PXVuZGVmaW5lZCl7Zj0wfWlmKG49PT11bmRlZmluZWQpe249dGhpcy5sZW5ndGh9aWYocjwwfHx0PmUubGVuZ3RofHxmPDB8fG4+dGhpcy5sZW5ndGgpe3Rocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpfWlmKGY+PW4mJnI+PXQpe3JldHVybiAwfWlmKGY+PW4pe3JldHVybi0xfWlmKHI+PXQpe3JldHVybiAxfXI+Pj49MDt0Pj4+PTA7Zj4+Pj0wO24+Pj49MDtpZih0aGlzPT09ZSlyZXR1cm4gMDt2YXIgaT1uLWY7dmFyIG89dC1yO3ZhciB1PU1hdGgubWluKGksbyk7dmFyIGE9dGhpcy5zbGljZShmLG4pO3ZhciBzPWUuc2xpY2Uocix0KTtmb3IodmFyIGg9MDtoPHU7KytoKXtpZihhW2hdIT09c1toXSl7aT1hW2hdO289c1toXTticmVha319aWYoaTxvKXJldHVybi0xO2lmKG88aSlyZXR1cm4gMTtyZXR1cm4gMH07ZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YoZSxyLHQsZixuKXtpZihlLmxlbmd0aD09PTApcmV0dXJuLTE7aWYodHlwZW9mIHQ9PT1cInN0cmluZ1wiKXtmPXQ7dD0wfWVsc2UgaWYodD4yMTQ3NDgzNjQ3KXt0PTIxNDc0ODM2NDd9ZWxzZSBpZih0PC0yMTQ3NDgzNjQ4KXt0PS0yMTQ3NDgzNjQ4fXQ9K3Q7aWYobnVtYmVySXNOYU4odCkpe3Q9bj8wOmUubGVuZ3RoLTF9aWYodDwwKXQ9ZS5sZW5ndGgrdDtpZih0Pj1lLmxlbmd0aCl7aWYobilyZXR1cm4tMTtlbHNlIHQ9ZS5sZW5ndGgtMX1lbHNlIGlmKHQ8MCl7aWYobil0PTA7ZWxzZSByZXR1cm4tMX1pZih0eXBlb2Ygcj09PVwic3RyaW5nXCIpe3I9QnVmZmVyLmZyb20ocixmKX1pZihCdWZmZXIuaXNCdWZmZXIocikpe2lmKHIubGVuZ3RoPT09MCl7cmV0dXJuLTF9cmV0dXJuIGFycmF5SW5kZXhPZihlLHIsdCxmLG4pfWVsc2UgaWYodHlwZW9mIHI9PT1cIm51bWJlclwiKXtyPXImMjU1O2lmKHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mPT09XCJmdW5jdGlvblwiKXtpZihuKXtyZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUscix0KX1lbHNle3JldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUscix0KX19cmV0dXJuIGFycmF5SW5kZXhPZihlLFtyXSx0LGYsbil9dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBhcnJheUluZGV4T2YoZSxyLHQsZixuKXt2YXIgaT0xO3ZhciBvPWUubGVuZ3RoO3ZhciB1PXIubGVuZ3RoO2lmKGYhPT11bmRlZmluZWQpe2Y9U3RyaW5nKGYpLnRvTG93ZXJDYXNlKCk7aWYoZj09PVwidWNzMlwifHxmPT09XCJ1Y3MtMlwifHxmPT09XCJ1dGYxNmxlXCJ8fGY9PT1cInV0Zi0xNmxlXCIpe2lmKGUubGVuZ3RoPDJ8fHIubGVuZ3RoPDIpe3JldHVybi0xfWk9MjtvLz0yO3UvPTI7dC89Mn19ZnVuY3Rpb24gcmVhZChlLHIpe2lmKGk9PT0xKXtyZXR1cm4gZVtyXX1lbHNle3JldHVybiBlLnJlYWRVSW50MTZCRShyKmkpfX12YXIgYTtpZihuKXt2YXIgcz0tMTtmb3IoYT10O2E8bzthKyspe2lmKHJlYWQoZSxhKT09PXJlYWQocixzPT09LTE/MDphLXMpKXtpZihzPT09LTEpcz1hO2lmKGEtcysxPT09dSlyZXR1cm4gcyppfWVsc2V7aWYocyE9PS0xKWEtPWEtcztzPS0xfX19ZWxzZXtpZih0K3U+byl0PW8tdTtmb3IoYT10O2E+PTA7YS0tKXt2YXIgaD10cnVlO2Zvcih2YXIgYz0wO2M8dTtjKyspe2lmKHJlYWQoZSxhK2MpIT09cmVhZChyLGMpKXtoPWZhbHNlO2JyZWFrfX1pZihoKXJldHVybiBhfX1yZXR1cm4tMX1CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uIGluY2x1ZGVzKGUscix0KXtyZXR1cm4gdGhpcy5pbmRleE9mKGUscix0KSE9PS0xfTtCdWZmZXIucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24gaW5kZXhPZihlLHIsdCl7cmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsZSxyLHQsdHJ1ZSl9O0J1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24gbGFzdEluZGV4T2YoZSxyLHQpe3JldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLGUscix0LGZhbHNlKX07ZnVuY3Rpb24gaGV4V3JpdGUoZSxyLHQsZil7dD1OdW1iZXIodCl8fDA7dmFyIG49ZS5sZW5ndGgtdDtpZighZil7Zj1ufWVsc2V7Zj1OdW1iZXIoZik7aWYoZj5uKXtmPW59fXZhciBpPXIubGVuZ3RoO2lmKGY+aS8yKXtmPWkvMn1mb3IodmFyIG89MDtvPGY7KytvKXt2YXIgdT1wYXJzZUludChyLnN1YnN0cihvKjIsMiksMTYpO2lmKG51bWJlcklzTmFOKHUpKXJldHVybiBvO2VbdCtvXT11fXJldHVybiBvfWZ1bmN0aW9uIHV0ZjhXcml0ZShlLHIsdCxmKXtyZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhyLGUubGVuZ3RoLXQpLGUsdCxmKX1mdW5jdGlvbiBhc2NpaVdyaXRlKGUscix0LGYpe3JldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhyKSxlLHQsZil9ZnVuY3Rpb24gbGF0aW4xV3JpdGUoZSxyLHQsZil7cmV0dXJuIGFzY2lpV3JpdGUoZSxyLHQsZil9ZnVuY3Rpb24gYmFzZTY0V3JpdGUoZSxyLHQsZil7cmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhyKSxlLHQsZil9ZnVuY3Rpb24gdWNzMldyaXRlKGUscix0LGYpe3JldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHIsZS5sZW5ndGgtdCksZSx0LGYpfUJ1ZmZlci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24gd3JpdGUoZSxyLHQsZil7aWYocj09PXVuZGVmaW5lZCl7Zj1cInV0ZjhcIjt0PXRoaXMubGVuZ3RoO3I9MH1lbHNlIGlmKHQ9PT11bmRlZmluZWQmJnR5cGVvZiByPT09XCJzdHJpbmdcIil7Zj1yO3Q9dGhpcy5sZW5ndGg7cj0wfWVsc2UgaWYoaXNGaW5pdGUocikpe3I9cj4+PjA7aWYoaXNGaW5pdGUodCkpe3Q9dD4+PjA7aWYoZj09PXVuZGVmaW5lZClmPVwidXRmOFwifWVsc2V7Zj10O3Q9dW5kZWZpbmVkfX1lbHNle3Rocm93IG5ldyBFcnJvcihcIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkXCIpfXZhciBuPXRoaXMubGVuZ3RoLXI7aWYodD09PXVuZGVmaW5lZHx8dD5uKXQ9bjtpZihlLmxlbmd0aD4wJiYodDwwfHxyPDApfHxyPnRoaXMubGVuZ3RoKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpfWlmKCFmKWY9XCJ1dGY4XCI7dmFyIGk9ZmFsc2U7Zm9yKDs7KXtzd2l0Y2goZil7Y2FzZVwiaGV4XCI6cmV0dXJuIGhleFdyaXRlKHRoaXMsZSxyLHQpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4V3JpdGUodGhpcyxlLHIsdCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gYXNjaWlXcml0ZSh0aGlzLGUscix0KTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbGF0aW4xV3JpdGUodGhpcyxlLHIsdCk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsZSxyLHQpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB1Y3MyV3JpdGUodGhpcyxlLHIsdCk7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitmKTtmPShcIlwiK2YpLnRvTG93ZXJDYXNlKCk7aT10cnVlfX19O0J1ZmZlci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uIHRvSlNPTigpe3JldHVybnt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTtmdW5jdGlvbiBiYXNlNjRTbGljZShlLHIsdCl7aWYocj09PTAmJnQ9PT1lLmxlbmd0aCl7cmV0dXJuIGYuZnJvbUJ5dGVBcnJheShlKX1lbHNle3JldHVybiBmLmZyb21CeXRlQXJyYXkoZS5zbGljZShyLHQpKX19ZnVuY3Rpb24gdXRmOFNsaWNlKGUscix0KXt0PU1hdGgubWluKGUubGVuZ3RoLHQpO3ZhciBmPVtdO3ZhciBuPXI7d2hpbGUobjx0KXt2YXIgaT1lW25dO3ZhciBvPW51bGw7dmFyIHU9aT4yMzk/NDppPjIyMz8zOmk+MTkxPzI6MTtpZihuK3U8PXQpe3ZhciBhLHMsaCxjO3N3aXRjaCh1KXtjYXNlIDE6aWYoaTwxMjgpe289aX1icmVhaztjYXNlIDI6YT1lW24rMV07aWYoKGEmMTkyKT09PTEyOCl7Yz0oaSYzMSk8PDZ8YSY2MztpZihjPjEyNyl7bz1jfX1icmVhaztjYXNlIDM6YT1lW24rMV07cz1lW24rMl07aWYoKGEmMTkyKT09PTEyOCYmKHMmMTkyKT09PTEyOCl7Yz0oaSYxNSk8PDEyfChhJjYzKTw8NnxzJjYzO2lmKGM+MjA0NyYmKGM8NTUyOTZ8fGM+NTczNDMpKXtvPWN9fWJyZWFrO2Nhc2UgNDphPWVbbisxXTtzPWVbbisyXTtoPWVbbiszXTtpZigoYSYxOTIpPT09MTI4JiYocyYxOTIpPT09MTI4JiYoaCYxOTIpPT09MTI4KXtjPShpJjE1KTw8MTh8KGEmNjMpPDwxMnwocyY2Myk8PDZ8aCY2MztpZihjPjY1NTM1JiZjPDExMTQxMTIpe289Y319fX1pZihvPT09bnVsbCl7bz02NTUzMzt1PTF9ZWxzZSBpZihvPjY1NTM1KXtvLT02NTUzNjtmLnB1c2gobz4+PjEwJjEwMjN8NTUyOTYpO289NTYzMjB8byYxMDIzfWYucHVzaChvKTtuKz11fXJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkoZil9dmFyIHU9NDA5NjtmdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkoZSl7dmFyIHI9ZS5sZW5ndGg7aWYocjw9dSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpfXZhciB0PVwiXCI7dmFyIGY9MDt3aGlsZShmPHIpe3QrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUuc2xpY2UoZixmKz11KSl9cmV0dXJuIHR9ZnVuY3Rpb24gYXNjaWlTbGljZShlLHIsdCl7dmFyIGY9XCJcIjt0PU1hdGgubWluKGUubGVuZ3RoLHQpO2Zvcih2YXIgbj1yO248dDsrK24pe2YrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtuXSYxMjcpfXJldHVybiBmfWZ1bmN0aW9uIGxhdGluMVNsaWNlKGUscix0KXt2YXIgZj1cIlwiO3Q9TWF0aC5taW4oZS5sZW5ndGgsdCk7Zm9yKHZhciBuPXI7bjx0Oysrbil7Zis9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKX1yZXR1cm4gZn1mdW5jdGlvbiBoZXhTbGljZShlLHIsdCl7dmFyIGY9ZS5sZW5ndGg7aWYoIXJ8fHI8MClyPTA7aWYoIXR8fHQ8MHx8dD5mKXQ9Zjt2YXIgbj1cIlwiO2Zvcih2YXIgaT1yO2k8dDsrK2kpe24rPXNbZVtpXV19cmV0dXJuIG59ZnVuY3Rpb24gdXRmMTZsZVNsaWNlKGUscix0KXt2YXIgZj1lLnNsaWNlKHIsdCk7dmFyIG49XCJcIjtmb3IodmFyIGk9MDtpPGYubGVuZ3RoO2krPTIpe24rPVN0cmluZy5mcm9tQ2hhckNvZGUoZltpXStmW2krMV0qMjU2KX1yZXR1cm4gbn1CdWZmZXIucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uIHNsaWNlKGUscil7dmFyIHQ9dGhpcy5sZW5ndGg7ZT1+fmU7cj1yPT09dW5kZWZpbmVkP3Q6fn5yO2lmKGU8MCl7ZSs9dDtpZihlPDApZT0wfWVsc2UgaWYoZT50KXtlPXR9aWYocjwwKXtyKz10O2lmKHI8MClyPTB9ZWxzZSBpZihyPnQpe3I9dH1pZihyPGUpcj1lO3ZhciBmPXRoaXMuc3ViYXJyYXkoZSxyKTtPYmplY3Quc2V0UHJvdG90eXBlT2YoZixCdWZmZXIucHJvdG90eXBlKTtyZXR1cm4gZn07ZnVuY3Rpb24gY2hlY2tPZmZzZXQoZSxyLHQpe2lmKGUlMSE9PTB8fGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZihlK3I+dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uIHJlYWRVSW50TEUoZSxyLHQpe2U9ZT4+PjA7cj1yPj4+MDtpZighdCljaGVja09mZnNldChlLHIsdGhpcy5sZW5ndGgpO3ZhciBmPXRoaXNbZV07dmFyIG49MTt2YXIgaT0wO3doaWxlKCsraTxyJiYobio9MjU2KSl7Zis9dGhpc1tlK2ldKm59cmV0dXJuIGZ9O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbiByZWFkVUludEJFKGUscix0KXtlPWU+Pj4wO3I9cj4+PjA7aWYoIXQpe2NoZWNrT2Zmc2V0KGUscix0aGlzLmxlbmd0aCl9dmFyIGY9dGhpc1tlKy0tcl07dmFyIG49MTt3aGlsZShyPjAmJihuKj0yNTYpKXtmKz10aGlzW2UrLS1yXSpufXJldHVybiBmfTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbiByZWFkVUludDgoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsMSx0aGlzLmxlbmd0aCk7cmV0dXJuIHRoaXNbZV19O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uIHJlYWRVSW50MTZMRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSwyLHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tlXXx0aGlzW2UrMV08PDh9O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uIHJlYWRVSW50MTZCRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSwyLHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tlXTw8OHx0aGlzW2UrMV19O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uIHJlYWRVSW50MzJMRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKTtyZXR1cm4odGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrdGhpc1tlKzNdKjE2Nzc3MjE2fTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbiByZWFkVUludDMyQkUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCk7cmV0dXJuIHRoaXNbZV0qMTY3NzcyMTYrKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uIHJlYWRJbnRMRShlLHIsdCl7ZT1lPj4+MDtyPXI+Pj4wO2lmKCF0KWNoZWNrT2Zmc2V0KGUscix0aGlzLmxlbmd0aCk7dmFyIGY9dGhpc1tlXTt2YXIgbj0xO3ZhciBpPTA7d2hpbGUoKytpPHImJihuKj0yNTYpKXtmKz10aGlzW2UraV0qbn1uKj0xMjg7aWYoZj49bilmLT1NYXRoLnBvdygyLDgqcik7cmV0dXJuIGZ9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uIHJlYWRJbnRCRShlLHIsdCl7ZT1lPj4+MDtyPXI+Pj4wO2lmKCF0KWNoZWNrT2Zmc2V0KGUscix0aGlzLmxlbmd0aCk7dmFyIGY9cjt2YXIgbj0xO3ZhciBpPXRoaXNbZSstLWZdO3doaWxlKGY+MCYmKG4qPTI1Nikpe2krPXRoaXNbZSstLWZdKm59bio9MTI4O2lmKGk+PW4paS09TWF0aC5wb3coMiw4KnIpO3JldHVybiBpfTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uIHJlYWRJbnQ4KGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDEsdGhpcy5sZW5ndGgpO2lmKCEodGhpc1tlXSYxMjgpKXJldHVybiB0aGlzW2VdO3JldHVybigyNTUtdGhpc1tlXSsxKSotMX07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbiByZWFkSW50MTZMRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSwyLHRoaXMubGVuZ3RoKTt2YXIgdD10aGlzW2VdfHRoaXNbZSsxXTw8ODtyZXR1cm4gdCYzMjc2OD90fDQyOTQ5MDE3NjA6dH07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbiByZWFkSW50MTZCRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSwyLHRoaXMubGVuZ3RoKTt2YXIgdD10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gdCYzMjc2OD90fDQyOTQ5MDE3NjA6dH07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbiByZWFkSW50MzJMRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uIHJlYWRJbnQzMkJFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDQsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW2VdPDwyNHx0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM119O0J1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24gcmVhZEZsb2F0TEUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCk7cmV0dXJuIG4ucmVhZCh0aGlzLGUsdHJ1ZSwyMyw0KX07QnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbiByZWFkRmxvYXRCRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKTtyZXR1cm4gbi5yZWFkKHRoaXMsZSxmYWxzZSwyMyw0KX07QnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24gcmVhZERvdWJsZUxFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDgsdGhpcy5sZW5ndGgpO3JldHVybiBuLnJlYWQodGhpcyxlLHRydWUsNTIsOCl9O0J1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uIHJlYWREb3VibGVCRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw4LHRoaXMubGVuZ3RoKTtyZXR1cm4gbi5yZWFkKHRoaXMsZSxmYWxzZSw1Miw4KX07ZnVuY3Rpb24gY2hlY2tJbnQoZSxyLHQsZixuLGkpe2lmKCFCdWZmZXIuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYocj5ufHxyPGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYodCtmPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24gd3JpdGVVSW50TEUoZSxyLHQsZil7ZT0rZTtyPXI+Pj4wO3Q9dD4+PjA7aWYoIWYpe3ZhciBuPU1hdGgucG93KDIsOCp0KS0xO2NoZWNrSW50KHRoaXMsZSxyLHQsbiwwKX12YXIgaT0xO3ZhciBvPTA7dGhpc1tyXT1lJjI1NTt3aGlsZSgrK288dCYmKGkqPTI1Nikpe3RoaXNbcitvXT1lL2kmMjU1fXJldHVybiByK3R9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24gd3JpdGVVSW50QkUoZSxyLHQsZil7ZT0rZTtyPXI+Pj4wO3Q9dD4+PjA7aWYoIWYpe3ZhciBuPU1hdGgucG93KDIsOCp0KS0xO2NoZWNrSW50KHRoaXMsZSxyLHQsbiwwKX12YXIgaT10LTE7dmFyIG89MTt0aGlzW3IraV09ZSYyNTU7d2hpbGUoLS1pPj0wJiYobyo9MjU2KSl7dGhpc1tyK2ldPWUvbyYyNTV9cmV0dXJuIHIrdH07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uIHdyaXRlVUludDgoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciwxLDI1NSwwKTt0aGlzW3JdPWUmMjU1O3JldHVybiByKzF9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbiB3cml0ZVVJbnQxNkxFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsMiw2NTUzNSwwKTt0aGlzW3JdPWUmMjU1O3RoaXNbcisxXT1lPj4+ODtyZXR1cm4gcisyfTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24gd3JpdGVVSW50MTZCRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDIsNjU1MzUsMCk7dGhpc1tyXT1lPj4+ODt0aGlzW3IrMV09ZSYyNTU7cmV0dXJuIHIrMn07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uIHdyaXRlVUludDMyTEUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciw0LDQyOTQ5NjcyOTUsMCk7dGhpc1tyKzNdPWU+Pj4yNDt0aGlzW3IrMl09ZT4+PjE2O3RoaXNbcisxXT1lPj4+ODt0aGlzW3JdPWUmMjU1O3JldHVybiByKzR9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbiB3cml0ZVVJbnQzMkJFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsNCw0Mjk0OTY3Mjk1LDApO3RoaXNbcl09ZT4+PjI0O3RoaXNbcisxXT1lPj4+MTY7dGhpc1tyKzJdPWU+Pj44O3RoaXNbciszXT1lJjI1NTtyZXR1cm4gcis0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24gd3JpdGVJbnRMRShlLHIsdCxmKXtlPStlO3I9cj4+PjA7aWYoIWYpe3ZhciBuPU1hdGgucG93KDIsOCp0LTEpO2NoZWNrSW50KHRoaXMsZSxyLHQsbi0xLC1uKX12YXIgaT0wO3ZhciBvPTE7dmFyIHU9MDt0aGlzW3JdPWUmMjU1O3doaWxlKCsraTx0JiYobyo9MjU2KSl7aWYoZTwwJiZ1PT09MCYmdGhpc1tyK2ktMV0hPT0wKXt1PTF9dGhpc1tyK2ldPShlL28+PjApLXUmMjU1fXJldHVybiByK3R9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbiB3cml0ZUludEJFKGUscix0LGYpe2U9K2U7cj1yPj4+MDtpZighZil7dmFyIG49TWF0aC5wb3coMiw4KnQtMSk7Y2hlY2tJbnQodGhpcyxlLHIsdCxuLTEsLW4pfXZhciBpPXQtMTt2YXIgbz0xO3ZhciB1PTA7dGhpc1tyK2ldPWUmMjU1O3doaWxlKC0taT49MCYmKG8qPTI1Nikpe2lmKGU8MCYmdT09PTAmJnRoaXNbcitpKzFdIT09MCl7dT0xfXRoaXNbcitpXT0oZS9vPj4wKS11JjI1NX1yZXR1cm4gcit0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbiB3cml0ZUludDgoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciwxLDEyNywtMTI4KTtpZihlPDApZT0yNTUrZSsxO3RoaXNbcl09ZSYyNTU7cmV0dXJuIHIrMX07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24gd3JpdGVJbnQxNkxFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsMiwzMjc2NywtMzI3NjgpO3RoaXNbcl09ZSYyNTU7dGhpc1tyKzFdPWU+Pj44O3JldHVybiByKzJ9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uIHdyaXRlSW50MTZCRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDIsMzI3NjcsLTMyNzY4KTt0aGlzW3JdPWU+Pj44O3RoaXNbcisxXT1lJjI1NTtyZXR1cm4gcisyfTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbiB3cml0ZUludDMyTEUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpO3RoaXNbcl09ZSYyNTU7dGhpc1tyKzFdPWU+Pj44O3RoaXNbcisyXT1lPj4+MTY7dGhpc1tyKzNdPWU+Pj4yNDtyZXR1cm4gcis0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbiB3cml0ZUludDMyQkUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpO2lmKGU8MCllPTQyOTQ5NjcyOTUrZSsxO3RoaXNbcl09ZT4+PjI0O3RoaXNbcisxXT1lPj4+MTY7dGhpc1tyKzJdPWU+Pj44O3RoaXNbciszXT1lJjI1NTtyZXR1cm4gcis0fTtmdW5jdGlvbiBjaGVja0lFRUU3NTQoZSxyLHQsZixuLGkpe2lmKHQrZj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gd3JpdGVGbG9hdChlLHIsdCxmLGkpe3I9K3I7dD10Pj4+MDtpZighaSl7Y2hlY2tJRUVFNzU0KGUscix0LDQsMzQwMjgyMzQ2NjM4NTI4ODZlMjIsLTM0MDI4MjM0NjYzODUyODg2ZTIyKX1uLndyaXRlKGUscix0LGYsMjMsNCk7cmV0dXJuIHQrNH1CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbiB3cml0ZUZsb2F0TEUoZSxyLHQpe3JldHVybiB3cml0ZUZsb2F0KHRoaXMsZSxyLHRydWUsdCl9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uIHdyaXRlRmxvYXRCRShlLHIsdCl7cmV0dXJuIHdyaXRlRmxvYXQodGhpcyxlLHIsZmFsc2UsdCl9O2Z1bmN0aW9uIHdyaXRlRG91YmxlKGUscix0LGYsaSl7cj0rcjt0PXQ+Pj4wO2lmKCFpKXtjaGVja0lFRUU3NTQoZSxyLHQsOCwxNzk3NjkzMTM0ODYyMzE1N2UyOTIsLTE3OTc2OTMxMzQ4NjIzMTU3ZTI5Mil9bi53cml0ZShlLHIsdCxmLDUyLDgpO3JldHVybiB0Kzh9QnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uIHdyaXRlRG91YmxlTEUoZSxyLHQpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLGUscix0cnVlLHQpfTtCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24gd3JpdGVEb3VibGVCRShlLHIsdCl7cmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsZSxyLGZhbHNlLHQpfTtCdWZmZXIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24gY29weShlLHIsdCxmKXtpZighQnVmZmVyLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXJcIik7aWYoIXQpdD0wO2lmKCFmJiZmIT09MClmPXRoaXMubGVuZ3RoO2lmKHI+PWUubGVuZ3RoKXI9ZS5sZW5ndGg7aWYoIXIpcj0wO2lmKGY+MCYmZjx0KWY9dDtpZihmPT09dClyZXR1cm4gMDtpZihlLmxlbmd0aD09PTB8fHRoaXMubGVuZ3RoPT09MClyZXR1cm4gMDtpZihyPDApe3Rocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKX1pZih0PDB8fHQ+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKGY8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO2lmKGY+dGhpcy5sZW5ndGgpZj10aGlzLmxlbmd0aDtpZihlLmxlbmd0aC1yPGYtdCl7Zj1lLmxlbmd0aC1yK3R9dmFyIG49Zi10O2lmKHRoaXM9PT1lJiZ0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj09PVwiZnVuY3Rpb25cIil7dGhpcy5jb3B5V2l0aGluKHIsdCxmKX1lbHNlIGlmKHRoaXM9PT1lJiZ0PHImJnI8Zil7Zm9yKHZhciBpPW4tMTtpPj0wOy0taSl7ZVtpK3JdPXRoaXNbaSt0XX19ZWxzZXtVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkodCxmKSxyKX1yZXR1cm4gbn07QnVmZmVyLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uIGZpbGwoZSxyLHQsZil7aWYodHlwZW9mIGU9PT1cInN0cmluZ1wiKXtpZih0eXBlb2Ygcj09PVwic3RyaW5nXCIpe2Y9cjtyPTA7dD10aGlzLmxlbmd0aH1lbHNlIGlmKHR5cGVvZiB0PT09XCJzdHJpbmdcIil7Zj10O3Q9dGhpcy5sZW5ndGh9aWYoZiE9PXVuZGVmaW5lZCYmdHlwZW9mIGYhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKX1pZih0eXBlb2YgZj09PVwic3RyaW5nXCImJiFCdWZmZXIuaXNFbmNvZGluZyhmKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2YpfWlmKGUubGVuZ3RoPT09MSl7dmFyIG49ZS5jaGFyQ29kZUF0KDApO2lmKGY9PT1cInV0ZjhcIiYmbjwxMjh8fGY9PT1cImxhdGluMVwiKXtlPW59fX1lbHNlIGlmKHR5cGVvZiBlPT09XCJudW1iZXJcIil7ZT1lJjI1NX1lbHNlIGlmKHR5cGVvZiBlPT09XCJib29sZWFuXCIpe2U9TnVtYmVyKGUpfWlmKHI8MHx8dGhpcy5sZW5ndGg8cnx8dGhpcy5sZW5ndGg8dCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIil9aWYodDw9cil7cmV0dXJuIHRoaXN9cj1yPj4+MDt0PXQ9PT11bmRlZmluZWQ/dGhpcy5sZW5ndGg6dD4+PjA7aWYoIWUpZT0wO3ZhciBpO2lmKHR5cGVvZiBlPT09XCJudW1iZXJcIil7Zm9yKGk9cjtpPHQ7KytpKXt0aGlzW2ldPWV9fWVsc2V7dmFyIG89QnVmZmVyLmlzQnVmZmVyKGUpP2U6QnVmZmVyLmZyb20oZSxmKTt2YXIgdT1vLmxlbmd0aDtpZih1PT09MCl7dGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJytlKydcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKX1mb3IoaT0wO2k8dC1yOysraSl7dGhpc1tpK3JdPW9baSV1XX19cmV0dXJuIHRoaXN9O3ZhciBhPS9bXisvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gYmFzZTY0Y2xlYW4oZSl7ZT1lLnNwbGl0KFwiPVwiKVswXTtlPWUudHJpbSgpLnJlcGxhY2UoYSxcIlwiKTtpZihlLmxlbmd0aDwyKXJldHVyblwiXCI7d2hpbGUoZS5sZW5ndGglNCE9PTApe2U9ZStcIj1cIn1yZXR1cm4gZX1mdW5jdGlvbiB1dGY4VG9CeXRlcyhlLHIpe3I9cnx8SW5maW5pdHk7dmFyIHQ7dmFyIGY9ZS5sZW5ndGg7dmFyIG49bnVsbDt2YXIgaT1bXTtmb3IodmFyIG89MDtvPGY7KytvKXt0PWUuY2hhckNvZGVBdChvKTtpZih0PjU1Mjk1JiZ0PDU3MzQ0KXtpZighbil7aWYodD41NjMxOSl7aWYoKHItPTMpPi0xKWkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9ZWxzZSBpZihvKzE9PT1mKXtpZigoci09Myk+LTEpaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1uPXQ7Y29udGludWV9aWYodDw1NjMyMCl7aWYoKHItPTMpPi0xKWkucHVzaCgyMzksMTkxLDE4OSk7bj10O2NvbnRpbnVlfXQ9KG4tNTUyOTY8PDEwfHQtNTYzMjApKzY1NTM2fWVsc2UgaWYobil7aWYoKHItPTMpPi0xKWkucHVzaCgyMzksMTkxLDE4OSl9bj1udWxsO2lmKHQ8MTI4KXtpZigoci09MSk8MClicmVhaztpLnB1c2godCl9ZWxzZSBpZih0PDIwNDgpe2lmKChyLT0yKTwwKWJyZWFrO2kucHVzaCh0Pj42fDE5Mix0JjYzfDEyOCl9ZWxzZSBpZih0PDY1NTM2KXtpZigoci09Myk8MClicmVhaztpLnB1c2godD4+MTJ8MjI0LHQ+PjYmNjN8MTI4LHQmNjN8MTI4KX1lbHNlIGlmKHQ8MTExNDExMil7aWYoKHItPTQpPDApYnJlYWs7aS5wdXNoKHQ+PjE4fDI0MCx0Pj4xMiY2M3wxMjgsdD4+NiY2M3wxMjgsdCY2M3wxMjgpfWVsc2V7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpfX1yZXR1cm4gaX1mdW5jdGlvbiBhc2NpaVRvQnl0ZXMoZSl7dmFyIHI9W107Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3Qpe3IucHVzaChlLmNoYXJDb2RlQXQodCkmMjU1KX1yZXR1cm4gcn1mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyhlLHIpe3ZhciB0LGYsbjt2YXIgaT1bXTtmb3IodmFyIG89MDtvPGUubGVuZ3RoOysrbyl7aWYoKHItPTIpPDApYnJlYWs7dD1lLmNoYXJDb2RlQXQobyk7Zj10Pj44O249dCUyNTY7aS5wdXNoKG4pO2kucHVzaChmKX1yZXR1cm4gaX1mdW5jdGlvbiBiYXNlNjRUb0J5dGVzKGUpe3JldHVybiBmLnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKGUpKX1mdW5jdGlvbiBibGl0QnVmZmVyKGUscix0LGYpe2Zvcih2YXIgbj0wO248ZjsrK24pe2lmKG4rdD49ci5sZW5ndGh8fG4+PWUubGVuZ3RoKWJyZWFrO3Jbbit0XT1lW25dfXJldHVybiBufWZ1bmN0aW9uIGlzSW5zdGFuY2UoZSxyKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHJ8fGUhPW51bGwmJmUuY29uc3RydWN0b3IhPW51bGwmJmUuY29uc3RydWN0b3IubmFtZSE9bnVsbCYmZS5jb25zdHJ1Y3Rvci5uYW1lPT09ci5uYW1lfWZ1bmN0aW9uIG51bWJlcklzTmFOKGUpe3JldHVybiBlIT09ZX12YXIgcz1mdW5jdGlvbigpe3ZhciBlPVwiMDEyMzQ1Njc4OWFiY2RlZlwiO3ZhciByPW5ldyBBcnJheSgyNTYpO2Zvcih2YXIgdD0wO3Q8MTY7Kyt0KXt2YXIgZj10KjE2O2Zvcih2YXIgbj0wO248MTY7KytuKXtyW2Yrbl09ZVt0XStlW25dfX1yZXR1cm4gcn0oKX0sNzgzOmZ1bmN0aW9uKGUscil7XG4vKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuci5yZWFkPWZ1bmN0aW9uKGUscix0LGYsbil7dmFyIGksbzt2YXIgdT1uKjgtZi0xO3ZhciBhPSgxPDx1KS0xO3ZhciBzPWE+PjE7dmFyIGg9LTc7dmFyIGM9dD9uLTE6MDt2YXIgbD10Py0xOjE7dmFyIHA9ZVtyK2NdO2MrPWw7aT1wJigxPDwtaCktMTtwPj49LWg7aCs9dTtmb3IoO2g+MDtpPWkqMjU2K2VbcitjXSxjKz1sLGgtPTgpe31vPWkmKDE8PC1oKS0xO2k+Pj0taDtoKz1mO2Zvcig7aD4wO289byoyNTYrZVtyK2NdLGMrPWwsaC09OCl7fWlmKGk9PT0wKXtpPTEtc31lbHNlIGlmKGk9PT1hKXtyZXR1cm4gbz9OYU46KHA/LTE6MSkqSW5maW5pdHl9ZWxzZXtvPW8rTWF0aC5wb3coMixmKTtpPWktc31yZXR1cm4ocD8tMToxKSpvKk1hdGgucG93KDIsaS1mKX07ci53cml0ZT1mdW5jdGlvbihlLHIsdCxmLG4saSl7dmFyIG8sdSxhO3ZhciBzPWkqOC1uLTE7dmFyIGg9KDE8PHMpLTE7dmFyIGM9aD4+MTt2YXIgbD1uPT09MjM/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowO3ZhciBwPWY/MDppLTE7dmFyIHk9Zj8xOi0xO3ZhciBnPXI8MHx8cj09PTAmJjEvcjwwPzE6MDtyPU1hdGguYWJzKHIpO2lmKGlzTmFOKHIpfHxyPT09SW5maW5pdHkpe3U9aXNOYU4ocik/MTowO289aH1lbHNle289TWF0aC5mbG9vcihNYXRoLmxvZyhyKS9NYXRoLkxOMik7aWYociooYT1NYXRoLnBvdygyLC1vKSk8MSl7by0tO2EqPTJ9aWYobytjPj0xKXtyKz1sL2F9ZWxzZXtyKz1sKk1hdGgucG93KDIsMS1jKX1pZihyKmE+PTIpe28rKzthLz0yfWlmKG8rYz49aCl7dT0wO289aH1lbHNlIGlmKG8rYz49MSl7dT0ociphLTEpKk1hdGgucG93KDIsbik7bz1vK2N9ZWxzZXt1PXIqTWF0aC5wb3coMixjLTEpKk1hdGgucG93KDIsbik7bz0wfX1mb3IoO24+PTg7ZVt0K3BdPXUmMjU1LHArPXksdS89MjU2LG4tPTgpe31vPW88PG58dTtzKz1uO2Zvcig7cz4wO2VbdCtwXT1vJjI1NSxwKz15LG8vPTI1NixzLT04KXt9ZVt0K3AteV18PWcqMTI4fX19O3ZhciByPXt9O2Z1bmN0aW9uIF9fbmNjd3Bja19yZXF1aXJlX18odCl7dmFyIGY9clt0XTtpZihmIT09dW5kZWZpbmVkKXtyZXR1cm4gZi5leHBvcnRzfXZhciBuPXJbdF09e2V4cG9ydHM6e319O3ZhciBpPXRydWU7dHJ5e2VbdF0obixuLmV4cG9ydHMsX19uY2N3cGNrX3JlcXVpcmVfXyk7aT1mYWxzZX1maW5hbGx5e2lmKGkpZGVsZXRlIHJbdF19cmV0dXJuIG4uZXhwb3J0c31pZih0eXBlb2YgX19uY2N3cGNrX3JlcXVpcmVfXyE9PVwidW5kZWZpbmVkXCIpX19uY2N3cGNrX3JlcXVpcmVfXy5hYj1fX2Rpcm5hbWUrXCIvXCI7dmFyIHQ9X19uY2N3cGNrX3JlcXVpcmVfXyg3Mik7bW9kdWxlLmV4cG9ydHM9dH0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/buffer/index.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/compiled/setimmediate/setImmediate.js":
/*!**********************************************************************!*\
  !*** ./node_modules/next/dist/compiled/setimmediate/setImmediate.js ***!
  \**********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n(function(){var e={189:function(){(function(e,t){\"use strict\";if(e.setImmediate){return}var n=1;var a={};var s=false;var i=e.document;var r;function setImmediate(e){if(typeof e!==\"function\"){e=new Function(\"\"+e)}var t=new Array(arguments.length-1);for(var s=0;s<t.length;s++){t[s]=arguments[s+1]}var i={callback:e,args:t};a[n]=i;r(n);return n++}function clearImmediate(e){delete a[e]}function run(e){var n=e.callback;var a=e.args;switch(a.length){case 0:n();break;case 1:n(a[0]);break;case 2:n(a[0],a[1]);break;case 3:n(a[0],a[1],a[2]);break;default:n.apply(t,a);break}}function runIfPresent(e){if(s){setTimeout(runIfPresent,0,e)}else{var t=a[e];if(t){s=true;try{run(t)}finally{clearImmediate(e);s=false}}}}function installNextTickImplementation(){r=function(e){process.nextTick((function(){runIfPresent(e)}))}}function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=true;var n=e.onmessage;e.onmessage=function(){t=false};e.postMessage(\"\",\"*\");e.onmessage=n;return t}}function installPostMessageImplementation(){var t=\"setImmediate$\"+Math.random()+\"$\";var onGlobalMessage=function(n){if(n.source===e&&typeof n.data===\"string\"&&n.data.indexOf(t)===0){runIfPresent(+n.data.slice(t.length))}};if(e.addEventListener){e.addEventListener(\"message\",onGlobalMessage,false)}else{e.attachEvent(\"onmessage\",onGlobalMessage)}r=function(n){e.postMessage(t+n,\"*\")}}function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;runIfPresent(t)};r=function(t){e.port2.postMessage(t)}}function installReadyStateChangeImplementation(){var e=i.documentElement;r=function(t){var n=i.createElement(\"script\");n.onreadystatechange=function(){runIfPresent(t);n.onreadystatechange=null;e.removeChild(n);n=null};e.appendChild(n)}}function installSetTimeoutImplementation(){r=function(e){setTimeout(runIfPresent,0,e)}}var o=Object.getPrototypeOf&&Object.getPrototypeOf(e);o=o&&o.setTimeout?o:e;if({}.toString.call(e.process)===\"[object process]\"){installNextTickImplementation()}else if(canUsePostMessage()){installPostMessageImplementation()}else if(e.MessageChannel){installMessageChannelImplementation()}else if(i&&\"onreadystatechange\"in i.createElement(\"script\")){installReadyStateChangeImplementation()}else{installSetTimeoutImplementation()}o.setImmediate=setImmediate;o.clearImmediate=clearImmediate})(typeof self===\"undefined\"?typeof __webpack_require__.g===\"undefined\"?this:__webpack_require__.g:self)}};if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var t={};e[189]();module.exports=t})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQSxZQUFZLE9BQU8sZUFBZSxlQUFlLGFBQWEsbUJBQW1CLE9BQU8sUUFBUSxTQUFTLFlBQVksaUJBQWlCLE1BQU0seUJBQXlCLDBCQUEwQixxQkFBcUIsb0NBQW9DLFlBQVksV0FBVyxLQUFLLG9CQUFvQixPQUFPLG1CQUFtQixPQUFPLEtBQUssV0FBVywyQkFBMkIsWUFBWSxnQkFBZ0IsaUJBQWlCLGFBQWEsaUJBQWlCLFdBQVcsTUFBTSxlQUFlLE1BQU0sb0JBQW9CLE1BQU0seUJBQXlCLE1BQU0scUJBQXFCLE9BQU8seUJBQXlCLE1BQU0sNkJBQTZCLEtBQUssV0FBVyxNQUFNLE9BQU8sSUFBSSxPQUFPLFFBQVEsa0JBQWtCLFdBQVcseUNBQXlDLGNBQWMsT0FBTyxzQkFBc0IsZ0JBQWdCLElBQUksNkJBQTZCLG9DQUFvQyxXQUFXLGtCQUFrQix1QkFBdUIsU0FBUyxzQkFBc0IsY0FBYyxVQUFVLDRDQUE0Qyx3Q0FBd0MsZ0NBQWdDLGtFQUFrRSx3Q0FBd0MsdUJBQXVCLG9EQUFvRCxLQUFLLDJDQUEyQyxjQUFjLHdCQUF3QiwrQ0FBK0MseUJBQXlCLDhCQUE4QixhQUFhLGlCQUFpQixjQUFjLHdCQUF3QixpREFBaUQsd0JBQXdCLGNBQWMsZ0NBQWdDLGdDQUFnQyxnQkFBZ0IsMEJBQTBCLGlCQUFpQixRQUFRLGtCQUFrQiwyQ0FBMkMsY0FBYyw4QkFBOEIsc0RBQXNELHNCQUFzQixLQUFLLGdEQUFnRCxnQ0FBZ0MsNkJBQTZCLG1DQUFtQywwQkFBMEIsc0NBQXNDLDZEQUE2RCx3Q0FBd0MsS0FBSyxrQ0FBa0MsNEJBQTRCLGdDQUFnQyxtQ0FBbUMscUJBQU0sb0JBQW9CLHFCQUFNLFNBQVMsbUVBQW1FLFNBQVMsS0FBSyxTQUFTLFNBQVMsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcz83YTA0Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe3ZhciBlPXsxODk6ZnVuY3Rpb24oKXsoZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtpZihlLnNldEltbWVkaWF0ZSl7cmV0dXJufXZhciBuPTE7dmFyIGE9e307dmFyIHM9ZmFsc2U7dmFyIGk9ZS5kb2N1bWVudDt2YXIgcjtmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZSl7aWYodHlwZW9mIGUhPT1cImZ1bmN0aW9uXCIpe2U9bmV3IEZ1bmN0aW9uKFwiXCIrZSl9dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspe3Rbc109YXJndW1lbnRzW3MrMV19dmFyIGk9e2NhbGxiYWNrOmUsYXJnczp0fTthW25dPWk7cihuKTtyZXR1cm4gbisrfWZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGUpe2RlbGV0ZSBhW2VdfWZ1bmN0aW9uIHJ1bihlKXt2YXIgbj1lLmNhbGxiYWNrO3ZhciBhPWUuYXJncztzd2l0Y2goYS5sZW5ndGgpe2Nhc2UgMDpuKCk7YnJlYWs7Y2FzZSAxOm4oYVswXSk7YnJlYWs7Y2FzZSAyOm4oYVswXSxhWzFdKTticmVhaztjYXNlIDM6bihhWzBdLGFbMV0sYVsyXSk7YnJlYWs7ZGVmYXVsdDpuLmFwcGx5KHQsYSk7YnJlYWt9fWZ1bmN0aW9uIHJ1bklmUHJlc2VudChlKXtpZihzKXtzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwwLGUpfWVsc2V7dmFyIHQ9YVtlXTtpZih0KXtzPXRydWU7dHJ5e3J1bih0KX1maW5hbGx5e2NsZWFySW1tZWRpYXRlKGUpO3M9ZmFsc2V9fX19ZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKXtyPWZ1bmN0aW9uKGUpe3Byb2Nlc3MubmV4dFRpY2soKGZ1bmN0aW9uKCl7cnVuSWZQcmVzZW50KGUpfSkpfX1mdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpe2lmKGUucG9zdE1lc3NhZ2UmJiFlLmltcG9ydFNjcmlwdHMpe3ZhciB0PXRydWU7dmFyIG49ZS5vbm1lc3NhZ2U7ZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt0PWZhbHNlfTtlLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpO2Uub25tZXNzYWdlPW47cmV0dXJuIHR9fWZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCl7dmFyIHQ9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIjt2YXIgb25HbG9iYWxNZXNzYWdlPWZ1bmN0aW9uKG4pe2lmKG4uc291cmNlPT09ZSYmdHlwZW9mIG4uZGF0YT09PVwic3RyaW5nXCImJm4uZGF0YS5pbmRleE9mKHQpPT09MCl7cnVuSWZQcmVzZW50KCtuLmRhdGEuc2xpY2UodC5sZW5ndGgpKX19O2lmKGUuYWRkRXZlbnRMaXN0ZW5lcil7ZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG9uR2xvYmFsTWVzc2FnZSxmYWxzZSl9ZWxzZXtlLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsb25HbG9iYWxNZXNzYWdlKX1yPWZ1bmN0aW9uKG4pe2UucG9zdE1lc3NhZ2UodCtuLFwiKlwiKX19ZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKXt2YXIgZT1uZXcgTWVzc2FnZUNoYW5uZWw7ZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhO3J1bklmUHJlc2VudCh0KX07cj1mdW5jdGlvbih0KXtlLnBvcnQyLnBvc3RNZXNzYWdlKHQpfX1mdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCl7dmFyIGU9aS5kb2N1bWVudEVsZW1lbnQ7cj1mdW5jdGlvbih0KXt2YXIgbj1pLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtydW5JZlByZXNlbnQodCk7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtlLnJlbW92ZUNoaWxkKG4pO249bnVsbH07ZS5hcHBlbmRDaGlsZChuKX19ZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpe3I9ZnVuY3Rpb24oZSl7c2V0VGltZW91dChydW5JZlByZXNlbnQsMCxlKX19dmFyIG89T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7bz1vJiZvLnNldFRpbWVvdXQ/bzplO2lmKHt9LnRvU3RyaW5nLmNhbGwoZS5wcm9jZXNzKT09PVwiW29iamVjdCBwcm9jZXNzXVwiKXtpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpfWVsc2UgaWYoY2FuVXNlUG9zdE1lc3NhZ2UoKSl7aW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKX1lbHNlIGlmKGUuTWVzc2FnZUNoYW5uZWwpe2luc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCl9ZWxzZSBpZihpJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gaS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKXtpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCl9ZWxzZXtpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCl9by5zZXRJbW1lZGlhdGU9c2V0SW1tZWRpYXRlO28uY2xlYXJJbW1lZGlhdGU9Y2xlYXJJbW1lZGlhdGV9KSh0eXBlb2Ygc2VsZj09PVwidW5kZWZpbmVkXCI/dHlwZW9mIGdsb2JhbD09PVwidW5kZWZpbmVkXCI/dGhpczpnbG9iYWw6c2VsZil9fTtpZih0eXBlb2YgX19uY2N3cGNrX3JlcXVpcmVfXyE9PVwidW5kZWZpbmVkXCIpX19uY2N3cGNrX3JlcXVpcmVfXy5hYj1fX2Rpcm5hbWUrXCIvXCI7dmFyIHQ9e307ZVsxODldKCk7bW9kdWxlLmV4cG9ydHM9dH0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/setimmediate/setImmediate.js\n"));

/***/ }),

/***/ "./node_modules/react-cookies/build/cookie.js":
/*!****************************************************!*\
  !*** ./node_modules/react-cookies/build/cookie.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.load = load;\nexports.loadAll = loadAll;\nexports.select = select;\nexports.save = save;\nexports.remove = remove;\nexports.setRawCookie = setRawCookie;\nexports.plugToRequest = plugToRequest;\n\nvar _cookie = __webpack_require__(/*! cookie */ \"./node_modules/react-cookies/node_modules/cookie/index.js\");\n\nvar _cookie2 = _interopRequireDefault(_cookie);\n\nvar _objectAssign = __webpack_require__(/*! object-assign */ \"./node_modules/next/dist/build/polyfills/object-assign.js\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar IS_NODE = typeof document === 'undefined' || typeof process !== 'undefined' && process.env && \"development\" === 'test';\nvar _rawCookie = {};\nvar _res = void 0;\n\nfunction _isResWritable() {\n  return _res && !_res.headersSent;\n}\n\nfunction load(name, doNotParse) {\n  var cookies = IS_NODE ? _rawCookie : _cookie2.default.parse(document.cookie);\n  var cookieVal = cookies && cookies[name];\n\n  if (typeof doNotParse === 'undefined') {\n    doNotParse = !cookieVal || cookieVal[0] !== '{' && cookieVal[0] !== '[';\n  }\n\n  if (!doNotParse) {\n    try {\n      cookieVal = JSON.parse(cookieVal);\n    } catch (err) {\n      // Not serialized object\n    }\n  }\n\n  return cookieVal;\n}\n\nfunction loadAll(doNotParse) {\n  var cookies = IS_NODE ? _rawCookie : _cookie2.default.parse(document.cookie);\n  var cookieVal = cookies;\n\n  if (typeof doNotParse === 'undefined') {\n    doNotParse = !cookieVal || cookieVal[0] !== '{' && cookieVal[0] !== '[';\n  }\n\n  if (!doNotParse) {\n    try {\n      cookieVal = JSON.parse(cookieVal);\n    } catch (err) {\n      // Not serialized object\n    }\n  }\n\n  return cookieVal;\n}\n\nfunction select(regex) {\n  var cookies = IS_NODE ? _rawCookie : _cookie2.default.parse(document.cookie);\n\n  if (!cookies) {\n    return {};\n  }\n\n  if (!regex) {\n    return cookies;\n  }\n\n  return Object.keys(cookies).reduce(function (accumulator, name) {\n    if (!regex.test(name)) {\n      return accumulator;\n    }\n\n    var newCookie = {};\n    newCookie[name] = cookies[name];\n    return (0, _objectAssign2.default)({}, accumulator, newCookie);\n  }, {});\n}\n\nfunction save(name, val, opt) {\n  _rawCookie[name] = val;\n\n  // Allow you to work with cookies as objects.\n  if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object') {\n    _rawCookie[name] = JSON.stringify(val);\n  }\n\n  // Cookies only work in the browser\n  if (!IS_NODE) {\n    document.cookie = _cookie2.default.serialize(name, _rawCookie[name], opt);\n  }\n\n  if (_isResWritable() && _res.cookie) {\n    _res.cookie(name, val, opt);\n  }\n}\n\nfunction remove(name, opt) {\n  delete _rawCookie[name];\n\n  if (typeof opt === 'undefined') {\n    opt = {};\n  } else if (typeof opt === 'string') {\n    // Will be deprecated in future versions\n    opt = { path: opt };\n  } else {\n    // Prevent mutation of opt below\n    opt = (0, _objectAssign2.default)({}, opt);\n  }\n\n  if (typeof document !== 'undefined') {\n    opt.expires = new Date(1970, 1, 1, 0, 0, 1);\n    opt.maxAge = 0;\n    document.cookie = _cookie2.default.serialize(name, '', opt);\n  }\n\n  if (_isResWritable() && _res.clearCookie) {\n    _res.clearCookie(name, opt);\n  }\n}\n\nfunction setRawCookie(rawCookie) {\n  if (rawCookie) {\n    _rawCookie = _cookie2.default.parse(rawCookie);\n  } else {\n    _rawCookie = {};\n  }\n}\n\nfunction plugToRequest(req, res) {\n  if (req.cookie) {\n    _rawCookie = req.cookie;\n  } else if (req.cookies) {\n    _rawCookie = req.cookies;\n  } else if (req.headers && req.headers.cookie) {\n    setRawCookie(req.headers.cookie);\n  } else {\n    _rawCookie = {};\n  }\n\n  _res = res;\n\n  return function unplug() {\n    _res = null;\n    _rawCookie = {};\n  };\n}\n\nexports[\"default\"] = {\n  setRawCookie: setRawCookie,\n  load: load,\n  loadAll: loadAll,\n  select: select,\n  save: save,\n  remove: remove,\n  plugToRequest: plugToRequest\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtY29va2llcy9idWlsZC9jb29raWUuanMuanMiLCJtYXBwaW5ncyI6IjtBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQzs7QUFFRixxR0FBcUcscUJBQXFCLG1CQUFtQjs7QUFFN0ksWUFBWTtBQUNaLGVBQWU7QUFDZixjQUFjO0FBQ2QsWUFBWTtBQUNaLGNBQWM7QUFDZCxvQkFBb0I7QUFDcEIscUJBQXFCOztBQUVyQixjQUFjLG1CQUFPLENBQUMseUVBQVE7O0FBRTlCOztBQUVBLG9CQUFvQixtQkFBTyxDQUFDLGdGQUFlOztBQUUzQzs7QUFFQSx1Q0FBdUMsdUNBQXVDOztBQUU5RSx3REFBd0QsT0FBTyxvQkFBb0IsT0FBTyxRQUFRLGFBQW9CO0FBQ3RIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRDtBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0RBQWtEO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLFlBQVk7QUFDWixJQUFJO0FBQ0o7QUFDQSx3Q0FBd0M7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1jb29raWVzL2J1aWxkL2Nvb2tpZS5qcz9mODQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy5sb2FkQWxsID0gbG9hZEFsbDtcbmV4cG9ydHMuc2VsZWN0ID0gc2VsZWN0O1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMucmVtb3ZlID0gcmVtb3ZlO1xuZXhwb3J0cy5zZXRSYXdDb29raWUgPSBzZXRSYXdDb29raWU7XG5leHBvcnRzLnBsdWdUb1JlcXVlc3QgPSBwbHVnVG9SZXF1ZXN0O1xuXG52YXIgX2Nvb2tpZSA9IHJlcXVpcmUoJ2Nvb2tpZScpO1xuXG52YXIgX2Nvb2tpZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb29raWUpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIElTX05PREUgPSB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnO1xudmFyIF9yYXdDb29raWUgPSB7fTtcbnZhciBfcmVzID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBfaXNSZXNXcml0YWJsZSgpIHtcbiAgcmV0dXJuIF9yZXMgJiYgIV9yZXMuaGVhZGVyc1NlbnQ7XG59XG5cbmZ1bmN0aW9uIGxvYWQobmFtZSwgZG9Ob3RQYXJzZSkge1xuICB2YXIgY29va2llcyA9IElTX05PREUgPyBfcmF3Q29va2llIDogX2Nvb2tpZTIuZGVmYXVsdC5wYXJzZShkb2N1bWVudC5jb29raWUpO1xuICB2YXIgY29va2llVmFsID0gY29va2llcyAmJiBjb29raWVzW25hbWVdO1xuXG4gIGlmICh0eXBlb2YgZG9Ob3RQYXJzZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkb05vdFBhcnNlID0gIWNvb2tpZVZhbCB8fCBjb29raWVWYWxbMF0gIT09ICd7JyAmJiBjb29raWVWYWxbMF0gIT09ICdbJztcbiAgfVxuXG4gIGlmICghZG9Ob3RQYXJzZSkge1xuICAgIHRyeSB7XG4gICAgICBjb29raWVWYWwgPSBKU09OLnBhcnNlKGNvb2tpZVZhbCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBOb3Qgc2VyaWFsaXplZCBvYmplY3RcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29va2llVmFsO1xufVxuXG5mdW5jdGlvbiBsb2FkQWxsKGRvTm90UGFyc2UpIHtcbiAgdmFyIGNvb2tpZXMgPSBJU19OT0RFID8gX3Jhd0Nvb2tpZSA6IF9jb29raWUyLmRlZmF1bHQucGFyc2UoZG9jdW1lbnQuY29va2llKTtcbiAgdmFyIGNvb2tpZVZhbCA9IGNvb2tpZXM7XG5cbiAgaWYgKHR5cGVvZiBkb05vdFBhcnNlID09PSAndW5kZWZpbmVkJykge1xuICAgIGRvTm90UGFyc2UgPSAhY29va2llVmFsIHx8IGNvb2tpZVZhbFswXSAhPT0gJ3snICYmIGNvb2tpZVZhbFswXSAhPT0gJ1snO1xuICB9XG5cbiAgaWYgKCFkb05vdFBhcnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvb2tpZVZhbCA9IEpTT04ucGFyc2UoY29va2llVmFsKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIE5vdCBzZXJpYWxpemVkIG9iamVjdFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb29raWVWYWw7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdChyZWdleCkge1xuICB2YXIgY29va2llcyA9IElTX05PREUgPyBfcmF3Q29va2llIDogX2Nvb2tpZTIuZGVmYXVsdC5wYXJzZShkb2N1bWVudC5jb29raWUpO1xuXG4gIGlmICghY29va2llcykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGlmICghcmVnZXgpIHtcbiAgICByZXR1cm4gY29va2llcztcbiAgfVxuXG4gIHJldHVybiBPYmplY3Qua2V5cyhjb29raWVzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBuYW1lKSB7XG4gICAgaWYgKCFyZWdleC50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgdmFyIG5ld0Nvb2tpZSA9IHt9O1xuICAgIG5ld0Nvb2tpZVtuYW1lXSA9IGNvb2tpZXNbbmFtZV07XG4gICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMi5kZWZhdWx0KSh7fSwgYWNjdW11bGF0b3IsIG5ld0Nvb2tpZSk7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gc2F2ZShuYW1lLCB2YWwsIG9wdCkge1xuICBfcmF3Q29va2llW25hbWVdID0gdmFsO1xuXG4gIC8vIEFsbG93IHlvdSB0byB3b3JrIHdpdGggY29va2llcyBhcyBvYmplY3RzLlxuICBpZiAoKHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhbCkpID09PSAnb2JqZWN0Jykge1xuICAgIF9yYXdDb29raWVbbmFtZV0gPSBKU09OLnN0cmluZ2lmeSh2YWwpO1xuICB9XG5cbiAgLy8gQ29va2llcyBvbmx5IHdvcmsgaW4gdGhlIGJyb3dzZXJcbiAgaWYgKCFJU19OT0RFKSB7XG4gICAgZG9jdW1lbnQuY29va2llID0gX2Nvb2tpZTIuZGVmYXVsdC5zZXJpYWxpemUobmFtZSwgX3Jhd0Nvb2tpZVtuYW1lXSwgb3B0KTtcbiAgfVxuXG4gIGlmIChfaXNSZXNXcml0YWJsZSgpICYmIF9yZXMuY29va2llKSB7XG4gICAgX3Jlcy5jb29raWUobmFtZSwgdmFsLCBvcHQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShuYW1lLCBvcHQpIHtcbiAgZGVsZXRlIF9yYXdDb29raWVbbmFtZV07XG5cbiAgaWYgKHR5cGVvZiBvcHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0ID0ge307XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBXaWxsIGJlIGRlcHJlY2F0ZWQgaW4gZnV0dXJlIHZlcnNpb25zXG4gICAgb3B0ID0geyBwYXRoOiBvcHQgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBQcmV2ZW50IG11dGF0aW9uIG9mIG9wdCBiZWxvd1xuICAgIG9wdCA9ICgwLCBfb2JqZWN0QXNzaWduMi5kZWZhdWx0KSh7fSwgb3B0KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0LmV4cGlyZXMgPSBuZXcgRGF0ZSgxOTcwLCAxLCAxLCAwLCAwLCAxKTtcbiAgICBvcHQubWF4QWdlID0gMDtcbiAgICBkb2N1bWVudC5jb29raWUgPSBfY29va2llMi5kZWZhdWx0LnNlcmlhbGl6ZShuYW1lLCAnJywgb3B0KTtcbiAgfVxuXG4gIGlmIChfaXNSZXNXcml0YWJsZSgpICYmIF9yZXMuY2xlYXJDb29raWUpIHtcbiAgICBfcmVzLmNsZWFyQ29va2llKG5hbWUsIG9wdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UmF3Q29va2llKHJhd0Nvb2tpZSkge1xuICBpZiAocmF3Q29va2llKSB7XG4gICAgX3Jhd0Nvb2tpZSA9IF9jb29raWUyLmRlZmF1bHQucGFyc2UocmF3Q29va2llKTtcbiAgfSBlbHNlIHtcbiAgICBfcmF3Q29va2llID0ge307XG4gIH1cbn1cblxuZnVuY3Rpb24gcGx1Z1RvUmVxdWVzdChyZXEsIHJlcykge1xuICBpZiAocmVxLmNvb2tpZSkge1xuICAgIF9yYXdDb29raWUgPSByZXEuY29va2llO1xuICB9IGVsc2UgaWYgKHJlcS5jb29raWVzKSB7XG4gICAgX3Jhd0Nvb2tpZSA9IHJlcS5jb29raWVzO1xuICB9IGVsc2UgaWYgKHJlcS5oZWFkZXJzICYmIHJlcS5oZWFkZXJzLmNvb2tpZSkge1xuICAgIHNldFJhd0Nvb2tpZShyZXEuaGVhZGVycy5jb29raWUpO1xuICB9IGVsc2Uge1xuICAgIF9yYXdDb29raWUgPSB7fTtcbiAgfVxuXG4gIF9yZXMgPSByZXM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHVucGx1ZygpIHtcbiAgICBfcmVzID0gbnVsbDtcbiAgICBfcmF3Q29va2llID0ge307XG4gIH07XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgc2V0UmF3Q29va2llOiBzZXRSYXdDb29raWUsXG4gIGxvYWQ6IGxvYWQsXG4gIGxvYWRBbGw6IGxvYWRBbGwsXG4gIHNlbGVjdDogc2VsZWN0LFxuICBzYXZlOiBzYXZlLFxuICByZW1vdmU6IHJlbW92ZSxcbiAgcGx1Z1RvUmVxdWVzdDogcGx1Z1RvUmVxdWVzdFxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-cookies/build/cookie.js\n"));

/***/ }),

/***/ "./node_modules/react-cookies/node_modules/cookie/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-cookies/node_modules/cookie/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtY29va2llcy9ub2RlX21vZHVsZXMvY29va2llL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2IsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0JBQWdCO0FBQzdDLGtCQUFrQjtBQUNsQjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtY29va2llcy9ub2RlX21vZHVsZXMvY29va2llL2luZGV4LmpzP2ZlYTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBjb29raWVcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgUm9tYW4gU2h0eWxtYW5cbiAqIENvcHlyaWdodChjKSAyMDE1IERvdWdsYXMgQ2hyaXN0b3BoZXIgV2lsc29uXG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKiBAcHVibGljXG4gKi9cblxuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG5cbi8qKlxuICogTW9kdWxlIHZhcmlhYmxlcy5cbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIGRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcbnZhciBlbmNvZGUgPSBlbmNvZGVVUklDb21wb25lbnQ7XG52YXIgcGFpclNwbGl0UmVnRXhwID0gLzsgKi87XG5cbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGZpZWxkLWNvbnRlbnQgaW4gUkZDIDcyMzAgc2VjIDMuMlxuICpcbiAqIGZpZWxkLWNvbnRlbnQgPSBmaWVsZC12Y2hhciBbIDEqKCBTUCAvIEhUQUIgKSBmaWVsZC12Y2hhciBdXG4gKiBmaWVsZC12Y2hhciAgID0gVkNIQVIgLyBvYnMtdGV4dFxuICogb2JzLXRleHQgICAgICA9ICV4ODAtRkZcbiAqL1xuXG52YXIgZmllbGRDb250ZW50UmVnRXhwID0gL15bXFx1MDAwOVxcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1MDBmZl0rJC87XG5cbi8qKlxuICogUGFyc2UgYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFBhcnNlIHRoZSBnaXZlbiBjb29raWUgaGVhZGVyIHN0cmluZyBpbnRvIGFuIG9iamVjdFxuICogVGhlIG9iamVjdCBoYXMgdGhlIHZhcmlvdXMgY29va2llcyBhcyBrZXlzKG5hbWVzKSA9PiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHN0ciBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cblxuICB2YXIgb2JqID0ge31cbiAgdmFyIG9wdCA9IG9wdGlvbnMgfHwge307XG4gIHZhciBwYWlycyA9IHN0ci5zcGxpdChwYWlyU3BsaXRSZWdFeHApO1xuICB2YXIgZGVjID0gb3B0LmRlY29kZSB8fCBkZWNvZGU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgdmFyIGVxX2lkeCA9IHBhaXIuaW5kZXhPZignPScpO1xuXG4gICAgLy8gc2tpcCB0aGluZ3MgdGhhdCBkb24ndCBsb29rIGxpa2Uga2V5PXZhbHVlXG4gICAgaWYgKGVxX2lkeCA8IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBrZXkgPSBwYWlyLnN1YnN0cigwLCBlcV9pZHgpLnRyaW0oKVxuICAgIHZhciB2YWwgPSBwYWlyLnN1YnN0cigrK2VxX2lkeCwgcGFpci5sZW5ndGgpLnRyaW0oKTtcblxuICAgIC8vIHF1b3RlZCB2YWx1ZXNcbiAgICBpZiAoJ1wiJyA9PSB2YWxbMF0pIHtcbiAgICAgIHZhbCA9IHZhbC5zbGljZSgxLCAtMSk7XG4gICAgfVxuXG4gICAgLy8gb25seSBhc3NpZ24gb25jZVxuICAgIGlmICh1bmRlZmluZWQgPT0gb2JqW2tleV0pIHtcbiAgICAgIG9ialtrZXldID0gdHJ5RGVjb2RlKHZhbCwgZGVjKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIFNlcmlhbGl6ZSBkYXRhIGludG8gYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFNlcmlhbGl6ZSB0aGUgYSBuYW1lIHZhbHVlIHBhaXIgaW50byBhIGNvb2tpZSBzdHJpbmcgc3VpdGFibGUgZm9yXG4gKiBodHRwIGhlYWRlcnMuIEFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHNwZWNpZmllZCBjb29raWUgcGFyYW1ldGVycy5cbiAqXG4gKiBzZXJpYWxpemUoJ2ZvbycsICdiYXInLCB7IGh0dHBPbmx5OiB0cnVlIH0pXG4gKiAgID0+IFwiZm9vPWJhcjsgaHR0cE9ubHlcIlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplKG5hbWUsIHZhbCwgb3B0aW9ucykge1xuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIGVuYyA9IG9wdC5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGlmICh0eXBlb2YgZW5jICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGVuY29kZSBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgbmFtZSBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICB2YXIgdmFsdWUgPSBlbmModmFsKTtcblxuICBpZiAodmFsdWUgJiYgIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHZhbCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICB2YXIgc3RyID0gbmFtZSArICc9JyArIHZhbHVlO1xuXG4gIGlmIChudWxsICE9IG9wdC5tYXhBZ2UpIHtcbiAgICB2YXIgbWF4QWdlID0gb3B0Lm1heEFnZSAtIDA7XG4gICAgaWYgKGlzTmFOKG1heEFnZSkpIHRocm93IG5ldyBFcnJvcignbWF4QWdlIHNob3VsZCBiZSBhIE51bWJlcicpO1xuICAgIHN0ciArPSAnOyBNYXgtQWdlPScgKyBNYXRoLmZsb29yKG1heEFnZSk7XG4gIH1cblxuICBpZiAob3B0LmRvbWFpbikge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LmRvbWFpbikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBkb21haW4gaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBEb21haW49JyArIG9wdC5kb21haW47XG4gIH1cblxuICBpZiAob3B0LnBhdGgpIHtcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG9wdC5wYXRoKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHBhdGggaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBQYXRoPScgKyBvcHQucGF0aDtcbiAgfVxuXG4gIGlmIChvcHQuZXhwaXJlcykge1xuICAgIGlmICh0eXBlb2Ygb3B0LmV4cGlyZXMudG9VVENTdHJpbmcgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBleHBpcmVzIGlzIGludmFsaWQnKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJzsgRXhwaXJlcz0nICsgb3B0LmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChvcHQuaHR0cE9ubHkpIHtcbiAgICBzdHIgKz0gJzsgSHR0cE9ubHknO1xuICB9XG5cbiAgaWYgKG9wdC5zZWN1cmUpIHtcbiAgICBzdHIgKz0gJzsgU2VjdXJlJztcbiAgfVxuXG4gIGlmIChvcHQuc2FtZVNpdGUpIHtcbiAgICB2YXIgc2FtZVNpdGUgPSB0eXBlb2Ygb3B0LnNhbWVTaXRlID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHQuc2FtZVNpdGUudG9Mb3dlckNhc2UoKSA6IG9wdC5zYW1lU2l0ZTtcblxuICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGF4JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPUxheCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaWN0JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHNhbWVTaXRlIGlzIGludmFsaWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIFRyeSBkZWNvZGluZyBhIHN0cmluZyB1c2luZyBhIGRlY29kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlY29kZVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0cnlEZWNvZGUoc3RyLCBkZWNvZGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-cookies/node_modules/cookie/index.js\n"));

/***/ }),

/***/ "./node_modules/redux/es/redux.js":
/*!****************************************!*\
  !*** ./node_modules/redux/es/redux.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__DO_NOT_USE__ActionTypes\": function() { return /* binding */ ActionTypes; },\n/* harmony export */   \"applyMiddleware\": function() { return /* binding */ applyMiddleware; },\n/* harmony export */   \"bindActionCreators\": function() { return /* binding */ bindActionCreators; },\n/* harmony export */   \"combineReducers\": function() { return /* binding */ combineReducers; },\n/* harmony export */   \"compose\": function() { return /* binding */ compose; },\n/* harmony export */   \"createStore\": function() { return /* binding */ createStore; },\n/* harmony export */   \"legacy_createStore\": function() { return /* binding */ legacy_createStore; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\");\n\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (true) {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error( false ? 0 : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error( false ? 0 : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error( false ? 0 : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error( false ? 0 : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error( false ? 0 : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error( false ? 0 : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error( false ? 0 : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error( false ? 0 : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error( false ? 0 : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error( false ? 0 : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error( false ? 0 : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error( false ? 0 : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error( false ? 0 : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error( false ? 0 : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (true) {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (true) {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (true) {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error( false ? 0 : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error( false ? 0 : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error( false ? 0 : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif ( true && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUU7O0FBRXJFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLDhDQUE4QztBQUM5Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsS0FBSztBQUNoQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsTUFBTSxJQUFxQztBQUMzQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1DQUFtQztBQUNoRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsTUFBcUMsR0FBRyxDQUF5QjtBQUNyRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLE1BQXFDLEdBQUcsQ0FBeUI7QUFDdkY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFv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QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixNQUFxQyxHQUFHLENBQTBCO0FBQ3RGOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxhQUFhO0FBQ3BGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYSxVQUFVO0FBQ3ZCOztBQUVBO0FBQ0EsNkVBQTZFLGFBQWE7QUFDMUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsTUFBcUMsR0FBRyxDQUEwQjtBQUMxRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsYUFBYSxvRkFBYSxDQUFDLG9GQUFhLEdBQUcsWUFBWTtBQUN2RDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsSUFBSSxLQUFxQztBQUN6QztBQUNBOztBQUVvSiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanM/ZWJmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyJztcblxuLyoqXG4gKiBBZGFwdGVkIGZyb20gUmVhY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvZm9ybWF0UHJvZEVycm9yTWVzc2FnZS5qc1xuICpcbiAqIERvIG5vdCByZXF1aXJlIHRoaXMgbW9kdWxlIGRpcmVjdGx5ISBVc2Ugbm9ybWFsIHRocm93IGVycm9yIGNhbGxzLiBUaGVzZSBtZXNzYWdlcyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggZXJyb3IgY29kZXNcbiAqIGR1cmluZyBidWlsZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoY29kZSkge1xuICByZXR1cm4gXCJNaW5pZmllZCBSZWR1eCBlcnJvciAjXCIgKyBjb2RlICsgXCI7IHZpc2l0IGh0dHBzOi8vcmVkdXguanMub3JnL0Vycm9ycz9jb2RlPVwiICsgY29kZSArIFwiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIFwiICsgJ3VzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMuICc7XG59XG5cbi8vIElubGluZWQgdmVyc2lvbiBvZiB0aGUgYHN5bWJvbC1vYnNlcnZhYmxlYCBwb2x5ZmlsbFxudmFyICQkb2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8ICdAQG9ic2VydmFibGUnO1xufSkoKTtcblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciByYW5kb21TdHJpbmcgPSBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbn07XG5cbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogXCJAQHJlZHV4L0lOSVRcIiArIHJhbmRvbVN0cmluZygpLFxuICBSRVBMQUNFOiBcIkBAcmVkdXgvUkVQTEFDRVwiICsgcmFuZG9tU3RyaW5nKCksXG4gIFBST0JFX1VOS05PV05fQUNUSU9OOiBmdW5jdGlvbiBQUk9CRV9VTktOT1dOX0FDVElPTigpIHtcbiAgICByZXR1cm4gXCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXCIgKyByYW5kb21TdHJpbmcoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHZhciBwcm90byA9IG9iajtcblxuICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG87XG59XG5cbi8vIElubGluZWQgLyBzaG9ydGVuZWQgdmVyc2lvbiBvZiBga2luZE9mYCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2tpbmQtb2ZcbmZ1bmN0aW9uIG1pbmlLaW5kT2YodmFsKSB7XG4gIGlmICh2YWwgPT09IHZvaWQgMCkgcmV0dXJuICd1bmRlZmluZWQnO1xuICBpZiAodmFsID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAge1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHJldHVybiAnYXJyYXknO1xuICBpZiAoaXNEYXRlKHZhbCkpIHJldHVybiAnZGF0ZSc7XG4gIGlmIChpc0Vycm9yKHZhbCkpIHJldHVybiAnZXJyb3InO1xuICB2YXIgY29uc3RydWN0b3JOYW1lID0gY3Rvck5hbWUodmFsKTtcblxuICBzd2l0Y2ggKGNvbnN0cnVjdG9yTmFtZSkge1xuICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgY2FzZSAnV2Vha01hcCc6XG4gICAgY2FzZSAnV2Vha1NldCc6XG4gICAgY2FzZSAnTWFwJzpcbiAgICBjYXNlICdTZXQnOlxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yTmFtZTtcbiAgfSAvLyBvdGhlclxuXG5cbiAgcmV0dXJuIHR5cGUuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICcnKTtcbn1cblxuZnVuY3Rpb24gY3Rvck5hbWUodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nID8gdmFsLmNvbnN0cnVjdG9yLm5hbWUgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Vycm9yKHZhbCkge1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIHZhbC5tZXNzYWdlID09PSAnc3RyaW5nJyAmJiB2YWwuY29uc3RydWN0b3IgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5zdGFja1RyYWNlTGltaXQgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHR5cGVvZiB2YWwudG9EYXRlU3RyaW5nID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWwuZ2V0RGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsLnNldERhdGUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGtpbmRPZih2YWwpIHtcbiAgdmFyIHR5cGVPZlZhbCA9IHR5cGVvZiB2YWw7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB0eXBlT2ZWYWwgPSBtaW5pS2luZE9mKHZhbCk7XG4gIH1cblxuICByZXR1cm4gdHlwZU9mVmFsO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogKipXZSByZWNvbW1lbmQgdXNpbmcgdGhlIGBjb25maWd1cmVTdG9yZWAgbWV0aG9kXG4gKiBvZiB0aGUgYEByZWR1eGpzL3Rvb2xraXRgIHBhY2thZ2UqKiwgd2hpY2ggcmVwbGFjZXMgYGNyZWF0ZVN0b3JlYC5cbiAqXG4gKiBSZWR1eCBUb29sa2l0IGlzIG91ciByZWNvbW1lbmRlZCBhcHByb2FjaCBmb3Igd3JpdGluZyBSZWR1eCBsb2dpYyB0b2RheSxcbiAqIGluY2x1ZGluZyBzdG9yZSBzZXR1cCwgcmVkdWNlcnMsIGRhdGEgZmV0Y2hpbmcsIGFuZCBtb3JlLlxuICpcbiAqICoqRm9yIG1vcmUgZGV0YWlscywgcGxlYXNlIHJlYWQgdGhpcyBSZWR1eCBkb2NzIHBhZ2U6KipcbiAqICoqaHR0cHM6Ly9yZWR1eC5qcy5vcmcvaW50cm9kdWN0aW9uL3doeS1ydGstaXMtcmVkdXgtdG9kYXkqKlxuICpcbiAqIGBjb25maWd1cmVTdG9yZWAgZnJvbSBSZWR1eCBUb29sa2l0IGlzIGFuIGltcHJvdmVkIHZlcnNpb24gb2YgYGNyZWF0ZVN0b3JlYCB0aGF0XG4gKiBzaW1wbGlmaWVzIHNldHVwIGFuZCBoZWxwcyBhdm9pZCBjb21tb24gYnVncy5cbiAqXG4gKiBZb3Ugc2hvdWxkIG5vdCBiZSB1c2luZyB0aGUgYHJlZHV4YCBjb3JlIHBhY2thZ2UgYnkgaXRzZWxmIHRvZGF5LCBleGNlcHQgZm9yIGxlYXJuaW5nIHB1cnBvc2VzLlxuICogVGhlIGBjcmVhdGVTdG9yZWAgbWV0aG9kIGZyb20gdGhlIGNvcmUgYHJlZHV4YCBwYWNrYWdlIHdpbGwgbm90IGJlIHJlbW92ZWQsIGJ1dCB3ZSBlbmNvdXJhZ2VcbiAqIGFsbCB1c2VycyB0byBtaWdyYXRlIHRvIHVzaW5nIFJlZHV4IFRvb2xraXQgZm9yIGFsbCBSZWR1eCBjb2RlLlxuICpcbiAqIElmIHlvdSB3YW50IHRvIHVzZSBgY3JlYXRlU3RvcmVgIHdpdGhvdXQgdGhpcyB2aXN1YWwgZGVwcmVjYXRpb24gd2FybmluZywgdXNlXG4gKiB0aGUgYGxlZ2FjeV9jcmVhdGVTdG9yZWAgaW1wb3J0IGluc3RlYWQ6XG4gKlxuICogYGltcG9ydCB7IGxlZ2FjeV9jcmVhdGVTdG9yZSBhcyBjcmVhdGVTdG9yZX0gZnJvbSAncmVkdXgnYFxuICpcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgYXJndW1lbnRzWzNdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMCkgOiAnSXQgbG9va3MgbGlrZSB5b3UgYXJlIHBhc3Npbmcgc2V2ZXJhbCBzdG9yZSBlbmhhbmNlcnMgdG8gJyArICdjcmVhdGVTdG9yZSgpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQsIGNvbXBvc2UgdGhlbSAnICsgJ3RvZ2V0aGVyIHRvIGEgc2luZ2xlIGZ1bmN0aW9uLiBTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTQtc3RvcmUjY3JlYXRpbmctYS1zdG9yZS13aXRoLWVuaGFuY2VycyBmb3IgYW4gZXhhbXBsZS4nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEpIDogXCJFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihlbmhhbmNlcikgKyBcIidcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgyKSA6IFwiRXhwZWN0ZWQgdGhlIHJvb3QgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKHJlZHVjZXIpICsgXCInXCIpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IHByZWxvYWRlZFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gIC8qKlxuICAgKiBUaGlzIG1ha2VzIGEgc2hhbGxvdyBjb3B5IG9mIGN1cnJlbnRMaXN0ZW5lcnMgc28gd2UgY2FuIHVzZVxuICAgKiBuZXh0TGlzdGVuZXJzIGFzIGEgdGVtcG9yYXJ5IGxpc3Qgd2hpbGUgZGlzcGF0Y2hpbmcuXG4gICAqXG4gICAqIFRoaXMgcHJldmVudHMgYW55IGJ1Z3MgYXJvdW5kIGNvbnN1bWVycyBjYWxsaW5nXG4gICAqIHN1YnNjcmliZS91bnN1YnNjcmliZSBpbiB0aGUgbWlkZGxlIG9mIGEgZGlzcGF0Y2guXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgc3RhdGUgdHJlZSBtYW5hZ2VkIGJ5IHRoZSBzdG9yZS5cbiAgICpcbiAgICogQHJldHVybnMge2FueX0gVGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgzKSA6ICdZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLmdldFN0YXRlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1RoZSByZWR1Y2VyIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBzdGF0ZSBhcyBhbiBhcmd1bWVudC4gJyArICdQYXNzIGl0IGRvd24gZnJvbSB0aGUgdG9wIHJlZHVjZXIgaW5zdGVhZCBvZiByZWFkaW5nIGl0IGZyb20gdGhlIHN0b3JlLicpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDQpIDogXCJFeHBlY3RlZCB0aGUgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihsaXN0ZW5lcikgKyBcIidcIik7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDUpIDogJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuc3Vic2NyaWJlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ0lmIHlvdSB3b3VsZCBsaWtlIHRvIGJlIG5vdGlmaWVkIGFmdGVyIHRoZSBzdG9yZSBoYXMgYmVlbiB1cGRhdGVkLCBzdWJzY3JpYmUgZnJvbSBhICcgKyAnY29tcG9uZW50IGFuZCBpbnZva2Ugc3RvcmUuZ2V0U3RhdGUoKSBpbiB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIHRoZSBsYXRlc3Qgc3RhdGUuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNikgOiAnWW91IG1heSBub3QgdW5zdWJzY3JpYmUgZnJvbSBhIHN0b3JlIGxpc3RlbmVyIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpL3N0b3JlI3N1YnNjcmliZWxpc3RlbmVyIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGN1cnJlbnRMaXN0ZW5lcnMgPSBudWxsO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cbiAgICpcbiAgICogVGhlIGByZWR1Y2VyYCBmdW5jdGlvbiwgdXNlZCB0byBjcmVhdGUgdGhlIHN0b3JlLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG4gICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcbiAgICogd2lsbCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cbiAgICogZGlzcGF0Y2ggYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLCBhIHRodW5rLCBvciBzb21ldGhpbmcgZWxzZSwgeW91IG5lZWQgdG9cbiAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG4gICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcbiAgICogbWlkZGxld2FyZSB3aWxsIGV2ZW50dWFsbHkgZGlzcGF0Y2ggcGxhaW4gb2JqZWN0IGFjdGlvbnMgdXNpbmcgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcbiAgICogYSBnb29kIGlkZWEgdG8ga2VlcCBhY3Rpb25zIHNlcmlhbGl6YWJsZSBzbyB5b3UgY2FuIHJlY29yZCBhbmQgcmVwbGF5IHVzZXJcbiAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcbiAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG4gICAqIHN0cmluZyBjb25zdGFudHMgZm9yIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG4gICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNykgOiBcIkFjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBJbnN0ZWFkLCB0aGUgYWN0dWFsIHR5cGUgd2FzOiAnXCIgKyBraW5kT2YoYWN0aW9uKSArIFwiJy4gWW91IG1heSBuZWVkIHRvIGFkZCBtaWRkbGV3YXJlIHRvIHlvdXIgc3RvcmUgc2V0dXAgdG8gaGFuZGxlIGRpc3BhdGNoaW5nIG90aGVyIHZhbHVlcywgc3VjaCBhcyAncmVkdXgtdGh1bmsnIHRvIGhhbmRsZSBkaXNwYXRjaGluZyBmdW5jdGlvbnMuIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSNtaWRkbGV3YXJlIGFuZCBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNi1hc3luYy1sb2dpYyN1c2luZy10aGUtcmVkdXgtdGh1bmstbWlkZGxld2FyZSBmb3IgZXhhbXBsZXMuXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg4KSA6ICdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuIFlvdSBtYXkgaGF2ZSBtaXNzcGVsbGVkIGFuIGFjdGlvbiB0eXBlIHN0cmluZyBjb25zdGFudC4nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoOSkgOiAnUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcihuZXh0UmVkdWNlcikge1xuICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEwKSA6IFwiRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YobmV4dFJlZHVjZXIpKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyOyAvLyBUaGlzIGFjdGlvbiBoYXMgYSBzaW1pbGlhciBlZmZlY3QgdG8gQWN0aW9uVHlwZXMuSU5JVC5cbiAgICAvLyBBbnkgcmVkdWNlcnMgdGhhdCBleGlzdGVkIGluIGJvdGggdGhlIG5ldyBhbmQgb2xkIHJvb3RSZWR1Y2VyXG4gICAgLy8gd2lsbCByZWNlaXZlIHRoZSBwcmV2aW91cyBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgICAvLyB0aGUgbmV3IHN0YXRlIHRyZWUgd2l0aCBhbnkgcmVsZXZhbnQgZGF0YSBmcm9tIHRoZSBvbGQgb25lLlxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVQTEFDRVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9ic2VydmFibGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIG91dGVyU3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbWluaW1hbCBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbiBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG4gICAgICAgKiBAcmV0dXJucyB7c3Vic2NyaXB0aW9ufSBBbiBvYmplY3Qgd2l0aCBhbiBgdW5zdWJzY3JpYmVgIG1ldGhvZCB0aGF0IGNhblxuICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnIHx8IG9ic2VydmVyID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTEpIDogXCJFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKG9ic2VydmVyKSArIFwiJ1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCBfcmVmWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9IC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG4gIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAvLyB0aGUgaW5pdGlhbCBzdGF0ZSB0cmVlLlxuXG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgfSk7XG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMlskJG9ic2VydmFibGVdID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICpcbiAqICoqV2UgcmVjb21tZW5kIHVzaW5nIGBjb25maWd1cmVTdG9yZWAgZnJvbSB0aGVcbiAqIGBAcmVkdXhqcy90b29sa2l0YCBwYWNrYWdlKiosIHdoaWNoIHJlcGxhY2VzIGBjcmVhdGVTdG9yZWA6XG4gKiAqKmh0dHBzOi8vcmVkdXguanMub3JnL2ludHJvZHVjdGlvbi93aHktcnRrLWlzLXJlZHV4LXRvZGF5KipcbiAqXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtwcmVsb2FkZWRTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuICogcHJldmlvdXNseSBzZXJpYWxpemVkIHVzZXIgc2Vzc2lvbi5cbiAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcbiAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2VuaGFuY2VyXSBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cblxudmFyIGxlZ2FjeV9jcmVhdGVTdG9yZSA9IGNyZWF0ZVN0b3JlO1xuXG4vKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cblxuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG5cbn1cblxuZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5JTklUID8gJ3ByZWxvYWRlZFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KGlucHV0U3RhdGUpKSB7XG4gICAgcmV0dXJuIFwiVGhlIFwiICsgYXJndW1lbnROYW1lICsgXCIgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcXFwiXCIgKyBraW5kT2YoaW5wdXRTdGF0ZSkgKyBcIlxcXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgXCIgKyAoXCJrZXlzOiBcXFwiXCIgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XTtcbiAgfSk7XG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldID0gdHJ1ZTtcbiAgfSk7XG4gIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLlJFUExBQ0UpIHJldHVybjtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBcIlVuZXhwZWN0ZWQgXCIgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArIFwiIFwiICsgKFwiXFxcIlwiICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIgZm91bmQgaW4gXCIgKyBhcmd1bWVudE5hbWUgKyBcIi4gXCIpICsgXCJFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6IFwiICsgKFwiXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTaGFwZShyZWR1Y2Vycykge1xuICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgIHZhciBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxMikgOiBcIlRoZSBzbGljZSByZWR1Y2VyIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIFwiICsgXCJJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgXCIgKyBcImV4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgXCIgKyBcIm5vdCBiZSB1bmRlZmluZWQuIElmIHlvdSBkb24ndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsIFwiICsgXCJ5b3UgY2FuIHVzZSBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUk9CRV9VTktOT1dOX0FDVElPTigpXG4gICAgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxMykgOiBcIlRoZSBzbGljZSByZWR1Y2VyIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuIFwiICsgKFwiRG9uJ3QgdHJ5IHRvIGhhbmRsZSAnXCIgKyBBY3Rpb25UeXBlcy5JTklUICsgXCInIG9yIG90aGVyIGFjdGlvbnMgaW4gXFxcInJlZHV4LypcXFwiIFwiKSArIFwibmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgXCIgKyBcImN1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsIFwiICsgXCJpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgXCIgKyBcImFjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZCwgYnV0IGNhbiBiZSBudWxsLlwiKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5cblxuZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZyhcIk5vIHJlZHVjZXIgcHJvdmlkZWQgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7IC8vIFRoaXMgaXMgdXNlZCB0byBtYWtlIHN1cmUgd2UgZG9uJ3Qgd2FybiBhYm91dCB0aGUgc2FtZVxuICAvLyBrZXlzIG11bHRpcGxlIHRpbWVzLlxuXG4gIHZhciB1bmV4cGVjdGVkS2V5Q2FjaGU7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGUgPSB7fTtcbiAgfVxuXG4gIHZhciBzaGFwZUFzc2VydGlvbkVycm9yO1xuXG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIGlmIChzaGFwZUFzc2VydGlvbkVycm9yKSB7XG4gICAgICB0aHJvdyBzaGFwZUFzc2VydGlvbkVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSk7XG5cbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9rZXkgPSBmaW5hbFJlZHVjZXJLZXlzW19pXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1tfa2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVbX2tleV07XG4gICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuXG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDE0KSA6IFwiV2hlbiBjYWxsZWQgd2l0aCBhbiBhY3Rpb24gb2YgdHlwZSBcIiArIChhY3Rpb25UeXBlID8gXCJcXFwiXCIgKyBTdHJpbmcoYWN0aW9uVHlwZSkgKyBcIlxcXCJcIiA6ICcodW5rbm93biB0eXBlKScpICsgXCIsIHRoZSBzbGljZSByZWR1Y2VyIGZvciBrZXkgXFxcIlwiICsgX2tleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQuIFwiICsgXCJUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuIFwiICsgXCJJZiB5b3Ugd2FudCB0aGlzIHJlZHVjZXIgdG8gaG9sZCBubyB2YWx1ZSwgeW91IGNhbiByZXR1cm4gbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7XG4gICAgICB9XG5cbiAgICAgIG5leHRTdGF0ZVtfa2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG5cbiAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoc3RhdGUpLmxlbmd0aDtcbiAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhbiBhY3Rpb24gY3JlYXRvciBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZGlzcGF0Y2ggd3JhcHBlZCBmdW5jdGlvbiBpbiByZXR1cm4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuICogc3RvcmUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcbiAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcbiAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG4gKiBmdW5jdGlvbi5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxNikgOiBcImJpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgYnV0IGluc3RlYWQgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihhY3Rpb25DcmVhdG9ycykgKyBcIicuIFwiICsgXCJEaWQgeW91IHdyaXRlIFxcXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVxcXCIgaW5zdGVhZCBvZiBcXFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVxcXCI/XCIpO1xuICB9XG5cbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gYWN0aW9uQ3JlYXRvcnMpIHtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cblxuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmNzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmNzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYShiLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5cbmZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG5cbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTUpIDogJ0Rpc3BhdGNoaW5nIHdoaWxlIGNvbnN0cnVjdGluZyB5b3VyIG1pZGRsZXdhcmUgaXMgbm90IGFsbG93ZWQuICcgKyAnT3RoZXIgbWlkZGxld2FyZSB3b3VsZCBub3QgYmUgYXBwbGllZCB0byB0aGlzIGRpc3BhdGNoLicpO1xuICAgICAgfTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2guYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBjb21wb3NlLmFwcGx5KHZvaWQgMCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0b3JlKSwge30sIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn1cblxuLypcbiAqIFRoaXMgaXMgYSBkdW1teSBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgZnVuY3Rpb24gbmFtZSBoYXMgYmVlbiBhbHRlcmVkIGJ5IG1pbmlmaWNhdGlvbi5cbiAqIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cbiAqL1xuXG5mdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICB3YXJuaW5nKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3Igc2V0dGluZyBtb2RlIHRvIHByb2R1Y3Rpb24gaW4gd2VicGFjayAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25jZXB0cy9tb2RlLykgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xufVxuXG5leHBvcnQgeyBBY3Rpb25UeXBlcyBhcyBfX0RPX05PVF9VU0VfX0FjdGlvblR5cGVzLCBhcHBseU1pZGRsZXdhcmUsIGJpbmRBY3Rpb25DcmVhdG9ycywgY29tYmluZVJlZHVjZXJzLCBjb21wb3NlLCBjcmVhdGVTdG9yZSwgbGVnYWN5X2NyZWF0ZVN0b3JlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/redux/es/redux.js\n"));

/***/ }),

/***/ "./node_modules/rfc6902/diff.js":
/*!**************************************!*\
  !*** ./node_modules/rfc6902/diff.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.diffAny = exports.diffObjects = exports.diffArrays = exports.intersection = exports.subtract = exports.isDestructive = void 0;\nvar util_1 = __webpack_require__(/*! ./util */ \"./node_modules/rfc6902/util.js\");\nfunction isDestructive(_a) {\n    var op = _a.op;\n    return op === 'remove' || op === 'replace' || op === 'copy' || op === 'move';\n}\nexports.isDestructive = isDestructive;\n/**\nList the keys in `minuend` that are not in `subtrahend`.\n\nA key is only considered if it is both 1) an own-property (o.hasOwnProperty(k))\nof the object, and 2) has a value that is not undefined. This is to match JSON\nsemantics, where JSON object serialization drops keys with undefined values.\n\n@param minuend Object of interest\n@param subtrahend Object of comparison\n@returns Array of keys that are in `minuend` but not in `subtrahend`.\n*/\nfunction subtract(minuend, subtrahend) {\n    // initialize empty object; we only care about the keys, the values can be anything\n    var obj = {};\n    // build up obj with all the properties of minuend\n    for (var add_key in minuend) {\n        if (util_1.hasOwnProperty.call(minuend, add_key) && minuend[add_key] !== undefined) {\n            obj[add_key] = 1;\n        }\n    }\n    // now delete all the properties of subtrahend from obj\n    // (deleting a missing key has no effect)\n    for (var del_key in subtrahend) {\n        if (util_1.hasOwnProperty.call(subtrahend, del_key) && subtrahend[del_key] !== undefined) {\n            delete obj[del_key];\n        }\n    }\n    // finally, extract whatever keys remain in obj\n    return Object.keys(obj);\n}\nexports.subtract = subtract;\n/**\nList the keys that shared by all `objects`.\n\nThe semantics of what constitutes a \"key\" is described in {@link subtract}.\n\n@param objects Array of objects to compare\n@returns Array of keys that are in (\"own-properties\" of) every object in `objects`.\n*/\nfunction intersection(objects) {\n    var length = objects.length;\n    // prepare empty counter to keep track of how many objects each key occurred in\n    var counter = {};\n    // go through each object and increment the counter for each key in that object\n    for (var i = 0; i < length; i++) {\n        var object = objects[i];\n        for (var key in object) {\n            if (util_1.hasOwnProperty.call(object, key) && object[key] !== undefined) {\n                counter[key] = (counter[key] || 0) + 1;\n            }\n        }\n    }\n    // now delete all keys from the counter that were not seen in every object\n    for (var key in counter) {\n        if (counter[key] < length) {\n            delete counter[key];\n        }\n    }\n    // finally, extract whatever keys remain in the counter\n    return Object.keys(counter);\n}\nexports.intersection = intersection;\nfunction isArrayAdd(array_operation) {\n    return array_operation.op === 'add';\n}\nfunction isArrayRemove(array_operation) {\n    return array_operation.op === 'remove';\n}\nfunction appendArrayOperation(base, operation) {\n    return {\n        // the new operation must be pushed on the end\n        operations: base.operations.concat(operation),\n        cost: base.cost + 1,\n    };\n}\n/**\nCalculate the shortest sequence of operations to get from `input` to `output`,\nusing a dynamic programming implementation of the Levenshtein distance algorithm.\n\nTo get from the input ABC to the output AZ we could just delete all the input\nand say \"insert A, insert Z\" and be done with it. That's what we do if the\ninput is empty. But we can be smarter.\n\n          output\n               A   Z\n               -   -\n          [0]  1   2\ninput A |  1  [0]  1\n      B |  2  [1]  1\n      C |  3   2  [2]\n\n1) start at 0,0 (+0)\n2) keep A (+0)\n3) remove B (+1)\n4) replace C with Z (+1)\n\nIf the `input` (source) is empty, they'll all be in the top row, resulting in an\narray of 'add' operations.\nIf the `output` (target) is empty, everything will be in the left column,\nresulting in an array of 'remove' operations.\n\n@returns A list of add/remove/replace operations.\n*/\nfunction diffArrays(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // set up cost matrix (very simple initialization: just a map)\n    var memo = {\n        '0,0': { operations: [], cost: 0 },\n    };\n    /**\n    Calculate the cheapest sequence of operations required to get from\n    input.slice(0, i) to output.slice(0, j).\n    There may be other valid sequences with the same cost, but none cheaper.\n  \n    @param i The row in the layout above\n    @param j The column in the layout above\n    @returns An object containing a list of operations, along with the total cost\n             of applying them (+1 for each add/remove/replace operation)\n    */\n    function dist(i, j) {\n        // memoized\n        var memo_key = i + \",\" + j;\n        var memoized = memo[memo_key];\n        if (memoized === undefined) {\n            // TODO: this !diff(...).length usage could/should be lazy\n            if (i > 0 && j > 0 && !diff(input[i - 1], output[j - 1], ptr.add(String(i - 1))).length) {\n                // equal (no operations => no cost)\n                memoized = dist(i - 1, j - 1);\n            }\n            else {\n                var alternatives = [];\n                if (i > 0) {\n                    // NOT topmost row\n                    var remove_base = dist(i - 1, j);\n                    var remove_operation = {\n                        op: 'remove',\n                        index: i - 1,\n                    };\n                    alternatives.push(appendArrayOperation(remove_base, remove_operation));\n                }\n                if (j > 0) {\n                    // NOT leftmost column\n                    var add_base = dist(i, j - 1);\n                    var add_operation = {\n                        op: 'add',\n                        index: i - 1,\n                        value: output[j - 1],\n                    };\n                    alternatives.push(appendArrayOperation(add_base, add_operation));\n                }\n                if (i > 0 && j > 0) {\n                    // TABLE MIDDLE\n                    // supposing we replaced it, compute the rest of the costs:\n                    var replace_base = dist(i - 1, j - 1);\n                    // okay, the general plan is to replace it, but we can be smarter,\n                    // recursing into the structure and replacing only part of it if\n                    // possible, but to do so we'll need the original value\n                    var replace_operation = {\n                        op: 'replace',\n                        index: i - 1,\n                        original: input[i - 1],\n                        value: output[j - 1],\n                    };\n                    alternatives.push(appendArrayOperation(replace_base, replace_operation));\n                }\n                // the only other case, i === 0 && j === 0, has already been memoized\n                // the meat of the algorithm:\n                // sort by cost to find the lowest one (might be several ties for lowest)\n                // [4, 6, 7, 1, 2].sort((a, b) => a - b) -> [ 1, 2, 4, 6, 7 ]\n                var best = alternatives.sort(function (a, b) { return a.cost - b.cost; })[0];\n                memoized = best;\n            }\n            memo[memo_key] = memoized;\n        }\n        return memoized;\n    }\n    // handle weird objects masquerading as Arrays that don't have proper length\n    // properties by using 0 for everything but positive numbers\n    var input_length = (isNaN(input.length) || input.length <= 0) ? 0 : input.length;\n    var output_length = (isNaN(output.length) || output.length <= 0) ? 0 : output.length;\n    var array_operations = dist(input_length, output_length).operations;\n    var padded_operations = array_operations.reduce(function (_a, array_operation) {\n        var operations = _a[0], padding = _a[1];\n        if (isArrayAdd(array_operation)) {\n            var padded_index = array_operation.index + 1 + padding;\n            var index_token = padded_index < (input_length + padding) ? String(padded_index) : '-';\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(index_token).toString(),\n                value: array_operation.value,\n            };\n            // padding++ // maybe only if array_operation.index > -1 ?\n            return [operations.concat(operation), padding + 1];\n        }\n        else if (isArrayRemove(array_operation)) {\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(String(array_operation.index + padding)).toString(),\n            };\n            // padding--\n            return [operations.concat(operation), padding - 1];\n        }\n        else { // replace\n            var replace_ptr = ptr.add(String(array_operation.index + padding));\n            var replace_operations = diff(array_operation.original, array_operation.value, replace_ptr);\n            return [operations.concat.apply(operations, replace_operations), padding];\n        }\n    }, [[], 0])[0];\n    return padded_operations;\n}\nexports.diffArrays = diffArrays;\nfunction diffObjects(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // if a key is in input but not output -> remove it\n    var operations = [];\n    subtract(input, output).forEach(function (key) {\n        operations.push({ op: 'remove', path: ptr.add(key).toString() });\n    });\n    // if a key is in output but not input -> add it\n    subtract(output, input).forEach(function (key) {\n        operations.push({ op: 'add', path: ptr.add(key).toString(), value: output[key] });\n    });\n    // if a key is in both, diff it recursively\n    intersection([input, output]).forEach(function (key) {\n        operations.push.apply(operations, diff(input[key], output[key], ptr.add(key)));\n    });\n    return operations;\n}\nexports.diffObjects = diffObjects;\n/**\n`diffAny()` returns an empty array if `input` and `output` are materially equal\n(i.e., would produce equivalent JSON); otherwise it produces an array of patches\nthat would transform `input` into `output`.\n\n> Here, \"equal\" means that the value at the target location and the\n> value conveyed by \"value\" are of the same JSON type, and that they\n> are considered equal by the following rules for that type:\n> o  strings: are considered equal if they contain the same number of\n>    Unicode characters and their code points are byte-by-byte equal.\n> o  numbers: are considered equal if their values are numerically\n>    equal.\n> o  arrays: are considered equal if they contain the same number of\n>    values, and if each value can be considered equal to the value at\n>    the corresponding position in the other array, using this list of\n>    type-specific rules.\n> o  objects: are considered equal if they contain the same number of\n>    members, and if each member can be considered equal to a member in\n>    the other object, by comparing their keys (as strings) and their\n>    values (using this list of type-specific rules).\n> o  literals (false, true, and null): are considered equal if they are\n>    the same.\n*/\nfunction diffAny(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // strict equality handles literals, numbers, and strings (a sufficient but not necessary cause)\n    if (input === output) {\n        return [];\n    }\n    var input_type = util_1.objectType(input);\n    var output_type = util_1.objectType(output);\n    if (input_type == 'array' && output_type == 'array') {\n        return diffArrays(input, output, ptr, diff);\n    }\n    if (input_type == 'object' && output_type == 'object') {\n        return diffObjects(input, output, ptr, diff);\n    }\n    // at this point we know that input and output are materially different;\n    // could be array -> object, object -> array, boolean -> undefined,\n    // number -> string, or some other combination, but nothing that can be split\n    // up into multiple patches: so `output` must replace `input` wholesale.\n    return [{ op: 'replace', path: ptr.toString(), value: output }];\n}\nexports.diffAny = diffAny;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cy9yZmM2OTAyL2RpZmYuanM/ZjFjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGlmZkFueSA9IGV4cG9ydHMuZGlmZk9iamVjdHMgPSBleHBvcnRzLmRpZmZBcnJheXMgPSBleHBvcnRzLmludGVyc2VjdGlvbiA9IGV4cG9ydHMuc3VidHJhY3QgPSBleHBvcnRzLmlzRGVzdHJ1Y3RpdmUgPSB2b2lkIDA7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmZ1bmN0aW9uIGlzRGVzdHJ1Y3RpdmUoX2EpIHtcbiAgICB2YXIgb3AgPSBfYS5vcDtcbiAgICByZXR1cm4gb3AgPT09ICdyZW1vdmUnIHx8IG9wID09PSAncmVwbGFjZScgfHwgb3AgPT09ICdjb3B5JyB8fCBvcCA9PT0gJ21vdmUnO1xufVxuZXhwb3J0cy5pc0Rlc3RydWN0aXZlID0gaXNEZXN0cnVjdGl2ZTtcbi8qKlxuTGlzdCB0aGUga2V5cyBpbiBgbWludWVuZGAgdGhhdCBhcmUgbm90IGluIGBzdWJ0cmFoZW5kYC5cblxuQSBrZXkgaXMgb25seSBjb25zaWRlcmVkIGlmIGl0IGlzIGJvdGggMSkgYW4gb3duLXByb3BlcnR5IChvLmhhc093blByb3BlcnR5KGspKVxub2YgdGhlIG9iamVjdCwgYW5kIDIpIGhhcyBhIHZhbHVlIHRoYXQgaXMgbm90IHVuZGVmaW5lZC4gVGhpcyBpcyB0byBtYXRjaCBKU09OXG5zZW1hbnRpY3MsIHdoZXJlIEpTT04gb2JqZWN0IHNlcmlhbGl6YXRpb24gZHJvcHMga2V5cyB3aXRoIHVuZGVmaW5lZCB2YWx1ZXMuXG5cbkBwYXJhbSBtaW51ZW5kIE9iamVjdCBvZiBpbnRlcmVzdFxuQHBhcmFtIHN1YnRyYWhlbmQgT2JqZWN0IG9mIGNvbXBhcmlzb25cbkByZXR1cm5zIEFycmF5IG9mIGtleXMgdGhhdCBhcmUgaW4gYG1pbnVlbmRgIGJ1dCBub3QgaW4gYHN1YnRyYWhlbmRgLlxuKi9cbmZ1bmN0aW9uIHN1YnRyYWN0KG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAvLyBpbml0aWFsaXplIGVtcHR5IG9iamVjdDsgd2Ugb25seSBjYXJlIGFib3V0IHRoZSBrZXlzLCB0aGUgdmFsdWVzIGNhbiBiZSBhbnl0aGluZ1xuICAgIHZhciBvYmogPSB7fTtcbiAgICAvLyBidWlsZCB1cCBvYmogd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgb2YgbWludWVuZFxuICAgIGZvciAodmFyIGFkZF9rZXkgaW4gbWludWVuZCkge1xuICAgICAgICBpZiAodXRpbF8xLmhhc093blByb3BlcnR5LmNhbGwobWludWVuZCwgYWRkX2tleSkgJiYgbWludWVuZFthZGRfa2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvYmpbYWRkX2tleV0gPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG5vdyBkZWxldGUgYWxsIHRoZSBwcm9wZXJ0aWVzIG9mIHN1YnRyYWhlbmQgZnJvbSBvYmpcbiAgICAvLyAoZGVsZXRpbmcgYSBtaXNzaW5nIGtleSBoYXMgbm8gZWZmZWN0KVxuICAgIGZvciAodmFyIGRlbF9rZXkgaW4gc3VidHJhaGVuZCkge1xuICAgICAgICBpZiAodXRpbF8xLmhhc093blByb3BlcnR5LmNhbGwoc3VidHJhaGVuZCwgZGVsX2tleSkgJiYgc3VidHJhaGVuZFtkZWxfa2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgb2JqW2RlbF9rZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGZpbmFsbHksIGV4dHJhY3Qgd2hhdGV2ZXIga2V5cyByZW1haW4gaW4gb2JqXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG59XG5leHBvcnRzLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4vKipcbkxpc3QgdGhlIGtleXMgdGhhdCBzaGFyZWQgYnkgYWxsIGBvYmplY3RzYC5cblxuVGhlIHNlbWFudGljcyBvZiB3aGF0IGNvbnN0aXR1dGVzIGEgXCJrZXlcIiBpcyBkZXNjcmliZWQgaW4ge0BsaW5rIHN1YnRyYWN0fS5cblxuQHBhcmFtIG9iamVjdHMgQXJyYXkgb2Ygb2JqZWN0cyB0byBjb21wYXJlXG5AcmV0dXJucyBBcnJheSBvZiBrZXlzIHRoYXQgYXJlIGluIChcIm93bi1wcm9wZXJ0aWVzXCIgb2YpIGV2ZXJ5IG9iamVjdCBpbiBgb2JqZWN0c2AuXG4qL1xuZnVuY3Rpb24gaW50ZXJzZWN0aW9uKG9iamVjdHMpIHtcbiAgICB2YXIgbGVuZ3RoID0gb2JqZWN0cy5sZW5ndGg7XG4gICAgLy8gcHJlcGFyZSBlbXB0eSBjb3VudGVyIHRvIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgb2JqZWN0cyBlYWNoIGtleSBvY2N1cnJlZCBpblxuICAgIHZhciBjb3VudGVyID0ge307XG4gICAgLy8gZ28gdGhyb3VnaCBlYWNoIG9iamVjdCBhbmQgaW5jcmVtZW50IHRoZSBjb3VudGVyIGZvciBlYWNoIGtleSBpbiB0aGF0IG9iamVjdFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IG9iamVjdHNbaV07XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIGlmICh1dGlsXzEuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgb2JqZWN0W2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvdW50ZXJba2V5XSA9IChjb3VudGVyW2tleV0gfHwgMCkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG5vdyBkZWxldGUgYWxsIGtleXMgZnJvbSB0aGUgY291bnRlciB0aGF0IHdlcmUgbm90IHNlZW4gaW4gZXZlcnkgb2JqZWN0XG4gICAgZm9yICh2YXIga2V5IGluIGNvdW50ZXIpIHtcbiAgICAgICAgaWYgKGNvdW50ZXJba2V5XSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgZGVsZXRlIGNvdW50ZXJba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBmaW5hbGx5LCBleHRyYWN0IHdoYXRldmVyIGtleXMgcmVtYWluIGluIHRoZSBjb3VudGVyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGNvdW50ZXIpO1xufVxuZXhwb3J0cy5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XG5mdW5jdGlvbiBpc0FycmF5QWRkKGFycmF5X29wZXJhdGlvbikge1xuICAgIHJldHVybiBhcnJheV9vcGVyYXRpb24ub3AgPT09ICdhZGQnO1xufVxuZnVuY3Rpb24gaXNBcnJheVJlbW92ZShhcnJheV9vcGVyYXRpb24pIHtcbiAgICByZXR1cm4gYXJyYXlfb3BlcmF0aW9uLm9wID09PSAncmVtb3ZlJztcbn1cbmZ1bmN0aW9uIGFwcGVuZEFycmF5T3BlcmF0aW9uKGJhc2UsIG9wZXJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHRoZSBuZXcgb3BlcmF0aW9uIG11c3QgYmUgcHVzaGVkIG9uIHRoZSBlbmRcbiAgICAgICAgb3BlcmF0aW9uczogYmFzZS5vcGVyYXRpb25zLmNvbmNhdChvcGVyYXRpb24pLFxuICAgICAgICBjb3N0OiBiYXNlLmNvc3QgKyAxLFxuICAgIH07XG59XG4vKipcbkNhbGN1bGF0ZSB0aGUgc2hvcnRlc3Qgc2VxdWVuY2Ugb2Ygb3BlcmF0aW9ucyB0byBnZXQgZnJvbSBgaW5wdXRgIHRvIGBvdXRwdXRgLFxudXNpbmcgYSBkeW5hbWljIHByb2dyYW1taW5nIGltcGxlbWVudGF0aW9uIG9mIHRoZSBMZXZlbnNodGVpbiBkaXN0YW5jZSBhbGdvcml0aG0uXG5cblRvIGdldCBmcm9tIHRoZSBpbnB1dCBBQkMgdG8gdGhlIG91dHB1dCBBWiB3ZSBjb3VsZCBqdXN0IGRlbGV0ZSBhbGwgdGhlIGlucHV0XG5hbmQgc2F5IFwiaW5zZXJ0IEEsIGluc2VydCBaXCIgYW5kIGJlIGRvbmUgd2l0aCBpdC4gVGhhdCdzIHdoYXQgd2UgZG8gaWYgdGhlXG5pbnB1dCBpcyBlbXB0eS4gQnV0IHdlIGNhbiBiZSBzbWFydGVyLlxuXG4gICAgICAgICAgb3V0cHV0XG4gICAgICAgICAgICAgICBBICAgWlxuICAgICAgICAgICAgICAgLSAgIC1cbiAgICAgICAgICBbMF0gIDEgICAyXG5pbnB1dCBBIHwgIDEgIFswXSAgMVxuICAgICAgQiB8ICAyICBbMV0gIDFcbiAgICAgIEMgfCAgMyAgIDIgIFsyXVxuXG4xKSBzdGFydCBhdCAwLDAgKCswKVxuMikga2VlcCBBICgrMClcbjMpIHJlbW92ZSBCICgrMSlcbjQpIHJlcGxhY2UgQyB3aXRoIFogKCsxKVxuXG5JZiB0aGUgYGlucHV0YCAoc291cmNlKSBpcyBlbXB0eSwgdGhleSdsbCBhbGwgYmUgaW4gdGhlIHRvcCByb3csIHJlc3VsdGluZyBpbiBhblxuYXJyYXkgb2YgJ2FkZCcgb3BlcmF0aW9ucy5cbklmIHRoZSBgb3V0cHV0YCAodGFyZ2V0KSBpcyBlbXB0eSwgZXZlcnl0aGluZyB3aWxsIGJlIGluIHRoZSBsZWZ0IGNvbHVtbixcbnJlc3VsdGluZyBpbiBhbiBhcnJheSBvZiAncmVtb3ZlJyBvcGVyYXRpb25zLlxuXG5AcmV0dXJucyBBIGxpc3Qgb2YgYWRkL3JlbW92ZS9yZXBsYWNlIG9wZXJhdGlvbnMuXG4qL1xuZnVuY3Rpb24gZGlmZkFycmF5cyhpbnB1dCwgb3V0cHV0LCBwdHIsIGRpZmYpIHtcbiAgICBpZiAoZGlmZiA9PT0gdm9pZCAwKSB7IGRpZmYgPSBkaWZmQW55OyB9XG4gICAgLy8gc2V0IHVwIGNvc3QgbWF0cml4ICh2ZXJ5IHNpbXBsZSBpbml0aWFsaXphdGlvbjoganVzdCBhIG1hcClcbiAgICB2YXIgbWVtbyA9IHtcbiAgICAgICAgJzAsMCc6IHsgb3BlcmF0aW9uczogW10sIGNvc3Q6IDAgfSxcbiAgICB9O1xuICAgIC8qKlxuICAgIENhbGN1bGF0ZSB0aGUgY2hlYXBlc3Qgc2VxdWVuY2Ugb2Ygb3BlcmF0aW9ucyByZXF1aXJlZCB0byBnZXQgZnJvbVxuICAgIGlucHV0LnNsaWNlKDAsIGkpIHRvIG91dHB1dC5zbGljZSgwLCBqKS5cbiAgICBUaGVyZSBtYXkgYmUgb3RoZXIgdmFsaWQgc2VxdWVuY2VzIHdpdGggdGhlIHNhbWUgY29zdCwgYnV0IG5vbmUgY2hlYXBlci5cbiAgXG4gICAgQHBhcmFtIGkgVGhlIHJvdyBpbiB0aGUgbGF5b3V0IGFib3ZlXG4gICAgQHBhcmFtIGogVGhlIGNvbHVtbiBpbiB0aGUgbGF5b3V0IGFib3ZlXG4gICAgQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBsaXN0IG9mIG9wZXJhdGlvbnMsIGFsb25nIHdpdGggdGhlIHRvdGFsIGNvc3RcbiAgICAgICAgICAgICBvZiBhcHBseWluZyB0aGVtICgrMSBmb3IgZWFjaCBhZGQvcmVtb3ZlL3JlcGxhY2Ugb3BlcmF0aW9uKVxuICAgICovXG4gICAgZnVuY3Rpb24gZGlzdChpLCBqKSB7XG4gICAgICAgIC8vIG1lbW9pemVkXG4gICAgICAgIHZhciBtZW1vX2tleSA9IGkgKyBcIixcIiArIGo7XG4gICAgICAgIHZhciBtZW1vaXplZCA9IG1lbW9bbWVtb19rZXldO1xuICAgICAgICBpZiAobWVtb2l6ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gVE9ETzogdGhpcyAhZGlmZiguLi4pLmxlbmd0aCB1c2FnZSBjb3VsZC9zaG91bGQgYmUgbGF6eVxuICAgICAgICAgICAgaWYgKGkgPiAwICYmIGogPiAwICYmICFkaWZmKGlucHV0W2kgLSAxXSwgb3V0cHV0W2ogLSAxXSwgcHRyLmFkZChTdHJpbmcoaSAtIDEpKSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gZXF1YWwgKG5vIG9wZXJhdGlvbnMgPT4gbm8gY29zdClcbiAgICAgICAgICAgICAgICBtZW1vaXplZCA9IGRpc3QoaSAtIDEsIGogLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhbHRlcm5hdGl2ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9UIHRvcG1vc3Qgcm93XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVfYmFzZSA9IGRpc3QoaSAtIDEsIGopO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlX29wZXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wOiAncmVtb3ZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmVzLnB1c2goYXBwZW5kQXJyYXlPcGVyYXRpb24ocmVtb3ZlX2Jhc2UsIHJlbW92ZV9vcGVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVCBsZWZ0bW9zdCBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZF9iYXNlID0gZGlzdChpLCBqIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRfb3BlcmF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3A6ICdhZGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGkgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG91dHB1dFtqIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlcy5wdXNoKGFwcGVuZEFycmF5T3BlcmF0aW9uKGFkZF9iYXNlLCBhZGRfb3BlcmF0aW9uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUQUJMRSBNSURETEVcbiAgICAgICAgICAgICAgICAgICAgLy8gc3VwcG9zaW5nIHdlIHJlcGxhY2VkIGl0LCBjb21wdXRlIHRoZSByZXN0IG9mIHRoZSBjb3N0czpcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VfYmFzZSA9IGRpc3QoaSAtIDEsIGogLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gb2theSwgdGhlIGdlbmVyYWwgcGxhbiBpcyB0byByZXBsYWNlIGl0LCBidXQgd2UgY2FuIGJlIHNtYXJ0ZXIsXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2luZyBpbnRvIHRoZSBzdHJ1Y3R1cmUgYW5kIHJlcGxhY2luZyBvbmx5IHBhcnQgb2YgaXQgaWZcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9zc2libGUsIGJ1dCB0byBkbyBzbyB3ZSdsbCBuZWVkIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZV9vcGVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGkgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWw6IGlucHV0W2kgLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvdXRwdXRbaiAtIDFdLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZXMucHVzaChhcHBlbmRBcnJheU9wZXJhdGlvbihyZXBsYWNlX2Jhc2UsIHJlcGxhY2Vfb3BlcmF0aW9uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSBvbmx5IG90aGVyIGNhc2UsIGkgPT09IDAgJiYgaiA9PT0gMCwgaGFzIGFscmVhZHkgYmVlbiBtZW1vaXplZFxuICAgICAgICAgICAgICAgIC8vIHRoZSBtZWF0IG9mIHRoZSBhbGdvcml0aG06XG4gICAgICAgICAgICAgICAgLy8gc29ydCBieSBjb3N0IHRvIGZpbmQgdGhlIGxvd2VzdCBvbmUgKG1pZ2h0IGJlIHNldmVyYWwgdGllcyBmb3IgbG93ZXN0KVxuICAgICAgICAgICAgICAgIC8vIFs0LCA2LCA3LCAxLCAyXS5zb3J0KChhLCBiKSA9PiBhIC0gYikgLT4gWyAxLCAyLCA0LCA2LCA3IF1cbiAgICAgICAgICAgICAgICB2YXIgYmVzdCA9IGFsdGVybmF0aXZlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvc3QgLSBiLmNvc3Q7IH0pWzBdO1xuICAgICAgICAgICAgICAgIG1lbW9pemVkID0gYmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lbW9bbWVtb19rZXldID0gbWVtb2l6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cbiAgICAvLyBoYW5kbGUgd2VpcmQgb2JqZWN0cyBtYXNxdWVyYWRpbmcgYXMgQXJyYXlzIHRoYXQgZG9uJ3QgaGF2ZSBwcm9wZXIgbGVuZ3RoXG4gICAgLy8gcHJvcGVydGllcyBieSB1c2luZyAwIGZvciBldmVyeXRoaW5nIGJ1dCBwb3NpdGl2ZSBudW1iZXJzXG4gICAgdmFyIGlucHV0X2xlbmd0aCA9IChpc05hTihpbnB1dC5sZW5ndGgpIHx8IGlucHV0Lmxlbmd0aCA8PSAwKSA/IDAgOiBpbnB1dC5sZW5ndGg7XG4gICAgdmFyIG91dHB1dF9sZW5ndGggPSAoaXNOYU4ob3V0cHV0Lmxlbmd0aCkgfHwgb3V0cHV0Lmxlbmd0aCA8PSAwKSA/IDAgOiBvdXRwdXQubGVuZ3RoO1xuICAgIHZhciBhcnJheV9vcGVyYXRpb25zID0gZGlzdChpbnB1dF9sZW5ndGgsIG91dHB1dF9sZW5ndGgpLm9wZXJhdGlvbnM7XG4gICAgdmFyIHBhZGRlZF9vcGVyYXRpb25zID0gYXJyYXlfb3BlcmF0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKF9hLCBhcnJheV9vcGVyYXRpb24pIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBfYVswXSwgcGFkZGluZyA9IF9hWzFdO1xuICAgICAgICBpZiAoaXNBcnJheUFkZChhcnJheV9vcGVyYXRpb24pKSB7XG4gICAgICAgICAgICB2YXIgcGFkZGVkX2luZGV4ID0gYXJyYXlfb3BlcmF0aW9uLmluZGV4ICsgMSArIHBhZGRpbmc7XG4gICAgICAgICAgICB2YXIgaW5kZXhfdG9rZW4gPSBwYWRkZWRfaW5kZXggPCAoaW5wdXRfbGVuZ3RoICsgcGFkZGluZykgPyBTdHJpbmcocGFkZGVkX2luZGV4KSA6ICctJztcbiAgICAgICAgICAgIHZhciBvcGVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgb3A6IGFycmF5X29wZXJhdGlvbi5vcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBwdHIuYWRkKGluZGV4X3Rva2VuKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBhcnJheV9vcGVyYXRpb24udmFsdWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gcGFkZGluZysrIC8vIG1heWJlIG9ubHkgaWYgYXJyYXlfb3BlcmF0aW9uLmluZGV4ID4gLTEgP1xuICAgICAgICAgICAgcmV0dXJuIFtvcGVyYXRpb25zLmNvbmNhdChvcGVyYXRpb24pLCBwYWRkaW5nICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheVJlbW92ZShhcnJheV9vcGVyYXRpb24pKSB7XG4gICAgICAgICAgICB2YXIgb3BlcmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG9wOiBhcnJheV9vcGVyYXRpb24ub3AsXG4gICAgICAgICAgICAgICAgcGF0aDogcHRyLmFkZChTdHJpbmcoYXJyYXlfb3BlcmF0aW9uLmluZGV4ICsgcGFkZGluZykpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gcGFkZGluZy0tXG4gICAgICAgICAgICByZXR1cm4gW29wZXJhdGlvbnMuY29uY2F0KG9wZXJhdGlvbiksIHBhZGRpbmcgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gcmVwbGFjZVxuICAgICAgICAgICAgdmFyIHJlcGxhY2VfcHRyID0gcHRyLmFkZChTdHJpbmcoYXJyYXlfb3BlcmF0aW9uLmluZGV4ICsgcGFkZGluZykpO1xuICAgICAgICAgICAgdmFyIHJlcGxhY2Vfb3BlcmF0aW9ucyA9IGRpZmYoYXJyYXlfb3BlcmF0aW9uLm9yaWdpbmFsLCBhcnJheV9vcGVyYXRpb24udmFsdWUsIHJlcGxhY2VfcHRyKTtcbiAgICAgICAgICAgIHJldHVybiBbb3BlcmF0aW9ucy5jb25jYXQuYXBwbHkob3BlcmF0aW9ucywgcmVwbGFjZV9vcGVyYXRpb25zKSwgcGFkZGluZ107XG4gICAgICAgIH1cbiAgICB9LCBbW10sIDBdKVswXTtcbiAgICByZXR1cm4gcGFkZGVkX29wZXJhdGlvbnM7XG59XG5leHBvcnRzLmRpZmZBcnJheXMgPSBkaWZmQXJyYXlzO1xuZnVuY3Rpb24gZGlmZk9iamVjdHMoaW5wdXQsIG91dHB1dCwgcHRyLCBkaWZmKSB7XG4gICAgaWYgKGRpZmYgPT09IHZvaWQgMCkgeyBkaWZmID0gZGlmZkFueTsgfVxuICAgIC8vIGlmIGEga2V5IGlzIGluIGlucHV0IGJ1dCBub3Qgb3V0cHV0IC0+IHJlbW92ZSBpdFxuICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgc3VidHJhY3QoaW5wdXQsIG91dHB1dCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIG9wZXJhdGlvbnMucHVzaCh7IG9wOiAncmVtb3ZlJywgcGF0aDogcHRyLmFkZChrZXkpLnRvU3RyaW5nKCkgfSk7XG4gICAgfSk7XG4gICAgLy8gaWYgYSBrZXkgaXMgaW4gb3V0cHV0IGJ1dCBub3QgaW5wdXQgLT4gYWRkIGl0XG4gICAgc3VidHJhY3Qob3V0cHV0LCBpbnB1dCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIG9wZXJhdGlvbnMucHVzaCh7IG9wOiAnYWRkJywgcGF0aDogcHRyLmFkZChrZXkpLnRvU3RyaW5nKCksIHZhbHVlOiBvdXRwdXRba2V5XSB9KTtcbiAgICB9KTtcbiAgICAvLyBpZiBhIGtleSBpcyBpbiBib3RoLCBkaWZmIGl0IHJlY3Vyc2l2ZWx5XG4gICAgaW50ZXJzZWN0aW9uKFtpbnB1dCwgb3V0cHV0XSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIG9wZXJhdGlvbnMucHVzaC5hcHBseShvcGVyYXRpb25zLCBkaWZmKGlucHV0W2tleV0sIG91dHB1dFtrZXldLCBwdHIuYWRkKGtleSkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3BlcmF0aW9ucztcbn1cbmV4cG9ydHMuZGlmZk9iamVjdHMgPSBkaWZmT2JqZWN0cztcbi8qKlxuYGRpZmZBbnkoKWAgcmV0dXJucyBhbiBlbXB0eSBhcnJheSBpZiBgaW5wdXRgIGFuZCBgb3V0cHV0YCBhcmUgbWF0ZXJpYWxseSBlcXVhbFxuKGkuZS4sIHdvdWxkIHByb2R1Y2UgZXF1aXZhbGVudCBKU09OKTsgb3RoZXJ3aXNlIGl0IHByb2R1Y2VzIGFuIGFycmF5IG9mIHBhdGNoZXNcbnRoYXQgd291bGQgdHJhbnNmb3JtIGBpbnB1dGAgaW50byBgb3V0cHV0YC5cblxuPiBIZXJlLCBcImVxdWFsXCIgbWVhbnMgdGhhdCB0aGUgdmFsdWUgYXQgdGhlIHRhcmdldCBsb2NhdGlvbiBhbmQgdGhlXG4+IHZhbHVlIGNvbnZleWVkIGJ5IFwidmFsdWVcIiBhcmUgb2YgdGhlIHNhbWUgSlNPTiB0eXBlLCBhbmQgdGhhdCB0aGV5XG4+IGFyZSBjb25zaWRlcmVkIGVxdWFsIGJ5IHRoZSBmb2xsb3dpbmcgcnVsZXMgZm9yIHRoYXQgdHlwZTpcbj4gbyAgc3RyaW5nczogYXJlIGNvbnNpZGVyZWQgZXF1YWwgaWYgdGhleSBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZlxuPiAgICBVbmljb2RlIGNoYXJhY3RlcnMgYW5kIHRoZWlyIGNvZGUgcG9pbnRzIGFyZSBieXRlLWJ5LWJ5dGUgZXF1YWwuXG4+IG8gIG51bWJlcnM6IGFyZSBjb25zaWRlcmVkIGVxdWFsIGlmIHRoZWlyIHZhbHVlcyBhcmUgbnVtZXJpY2FsbHlcbj4gICAgZXF1YWwuXG4+IG8gIGFycmF5czogYXJlIGNvbnNpZGVyZWQgZXF1YWwgaWYgdGhleSBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZlxuPiAgICB2YWx1ZXMsIGFuZCBpZiBlYWNoIHZhbHVlIGNhbiBiZSBjb25zaWRlcmVkIGVxdWFsIHRvIHRoZSB2YWx1ZSBhdFxuPiAgICB0aGUgY29ycmVzcG9uZGluZyBwb3NpdGlvbiBpbiB0aGUgb3RoZXIgYXJyYXksIHVzaW5nIHRoaXMgbGlzdCBvZlxuPiAgICB0eXBlLXNwZWNpZmljIHJ1bGVzLlxuPiBvICBvYmplY3RzOiBhcmUgY29uc2lkZXJlZCBlcXVhbCBpZiB0aGV5IGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mXG4+ICAgIG1lbWJlcnMsIGFuZCBpZiBlYWNoIG1lbWJlciBjYW4gYmUgY29uc2lkZXJlZCBlcXVhbCB0byBhIG1lbWJlciBpblxuPiAgICB0aGUgb3RoZXIgb2JqZWN0LCBieSBjb21wYXJpbmcgdGhlaXIga2V5cyAoYXMgc3RyaW5ncykgYW5kIHRoZWlyXG4+ICAgIHZhbHVlcyAodXNpbmcgdGhpcyBsaXN0IG9mIHR5cGUtc3BlY2lmaWMgcnVsZXMpLlxuPiBvICBsaXRlcmFscyAoZmFsc2UsIHRydWUsIGFuZCBudWxsKTogYXJlIGNvbnNpZGVyZWQgZXF1YWwgaWYgdGhleSBhcmVcbj4gICAgdGhlIHNhbWUuXG4qL1xuZnVuY3Rpb24gZGlmZkFueShpbnB1dCwgb3V0cHV0LCBwdHIsIGRpZmYpIHtcbiAgICBpZiAoZGlmZiA9PT0gdm9pZCAwKSB7IGRpZmYgPSBkaWZmQW55OyB9XG4gICAgLy8gc3RyaWN0IGVxdWFsaXR5IGhhbmRsZXMgbGl0ZXJhbHMsIG51bWJlcnMsIGFuZCBzdHJpbmdzIChhIHN1ZmZpY2llbnQgYnV0IG5vdCBuZWNlc3NhcnkgY2F1c2UpXG4gICAgaWYgKGlucHV0ID09PSBvdXRwdXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICB2YXIgaW5wdXRfdHlwZSA9IHV0aWxfMS5vYmplY3RUeXBlKGlucHV0KTtcbiAgICB2YXIgb3V0cHV0X3R5cGUgPSB1dGlsXzEub2JqZWN0VHlwZShvdXRwdXQpO1xuICAgIGlmIChpbnB1dF90eXBlID09ICdhcnJheScgJiYgb3V0cHV0X3R5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICByZXR1cm4gZGlmZkFycmF5cyhpbnB1dCwgb3V0cHV0LCBwdHIsIGRpZmYpO1xuICAgIH1cbiAgICBpZiAoaW5wdXRfdHlwZSA9PSAnb2JqZWN0JyAmJiBvdXRwdXRfdHlwZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZGlmZk9iamVjdHMoaW5wdXQsIG91dHB1dCwgcHRyLCBkaWZmKTtcbiAgICB9XG4gICAgLy8gYXQgdGhpcyBwb2ludCB3ZSBrbm93IHRoYXQgaW5wdXQgYW5kIG91dHB1dCBhcmUgbWF0ZXJpYWxseSBkaWZmZXJlbnQ7XG4gICAgLy8gY291bGQgYmUgYXJyYXkgLT4gb2JqZWN0LCBvYmplY3QgLT4gYXJyYXksIGJvb2xlYW4gLT4gdW5kZWZpbmVkLFxuICAgIC8vIG51bWJlciAtPiBzdHJpbmcsIG9yIHNvbWUgb3RoZXIgY29tYmluYXRpb24sIGJ1dCBub3RoaW5nIHRoYXQgY2FuIGJlIHNwbGl0XG4gICAgLy8gdXAgaW50byBtdWx0aXBsZSBwYXRjaGVzOiBzbyBgb3V0cHV0YCBtdXN0IHJlcGxhY2UgYGlucHV0YCB3aG9sZXNhbGUuXG4gICAgcmV0dXJuIFt7IG9wOiAncmVwbGFjZScsIHBhdGg6IHB0ci50b1N0cmluZygpLCB2YWx1ZTogb3V0cHV0IH1dO1xufVxuZXhwb3J0cy5kaWZmQW55ID0gZGlmZkFueTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/rfc6902/diff.js\n"));

/***/ }),

/***/ "./node_modules/rfc6902/index.js":
/*!***************************************!*\
  !*** ./node_modules/rfc6902/index.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createTests = exports.createPatch = exports.applyPatch = void 0;\nvar pointer_1 = __webpack_require__(/*! ./pointer */ \"./node_modules/rfc6902/pointer.js\");\nvar patch_1 = __webpack_require__(/*! ./patch */ \"./node_modules/rfc6902/patch.js\");\nvar diff_1 = __webpack_require__(/*! ./diff */ \"./node_modules/rfc6902/diff.js\");\n/**\nApply a 'application/json-patch+json'-type patch to an object.\n\n`patch` *must* be an array of operations.\n\n> Operation objects MUST have exactly one \"op\" member, whose value\n> indicates the operation to perform.  Its value MUST be one of \"add\",\n> \"remove\", \"replace\", \"move\", \"copy\", or \"test\"; other values are\n> errors.\n\nThis method mutates the target object in-place.\n\n@returns list of results, one for each operation: `null` indicated success,\n         otherwise, the result will be an instance of one of the Error classes:\n         MissingError, InvalidOperationError, or TestError.\n*/\nfunction applyPatch(object, patch) {\n    return patch.map(function (operation) { return patch_1.apply(object, operation); });\n}\nexports.applyPatch = applyPatch;\nfunction wrapVoidableDiff(diff) {\n    function wrappedDiff(input, output, ptr) {\n        var custom_patch = diff(input, output, ptr);\n        // ensure an array is always returned\n        return Array.isArray(custom_patch) ? custom_patch : diff_1.diffAny(input, output, ptr, wrappedDiff);\n    }\n    return wrappedDiff;\n}\n/**\nProduce a 'application/json-patch+json'-type patch to get from one object to\nanother.\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\n`diff` is called on each pair of comparable non-primitive nodes in the\n`input`/`output` object trees, producing nested patches. Return `undefined`\nto fall back to default behaviour.\n\nReturns list of operations to perform on `input` to produce `output`.\n*/\nfunction createPatch(input, output, diff) {\n    var ptr = new pointer_1.Pointer();\n    // a new Pointer gets a default path of [''] if not specified\n    return (diff ? wrapVoidableDiff(diff) : diff_1.diffAny)(input, output, ptr);\n}\nexports.createPatch = createPatch;\n/**\nCreate a test operation based on `input`'s current evaluation of the JSON\nPointer `path`; if such a pointer cannot be resolved, returns undefined.\n*/\nfunction createTest(input, path) {\n    var endpoint = pointer_1.Pointer.fromJSON(path).evaluate(input);\n    if (endpoint !== undefined) {\n        return { op: 'test', path: path, value: endpoint.value };\n    }\n}\n/**\nProduce an 'application/json-patch+json'-type list of tests, to verify that\nexisting values in an object are identical to the those captured at some\ncheckpoint (whenever this function is called).\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\nReturns list of test operations.\n*/\nfunction createTests(input, patch) {\n    var tests = new Array();\n    patch.filter(diff_1.isDestructive).forEach(function (operation) {\n        var pathTest = createTest(input, operation.path);\n        if (pathTest)\n            tests.push(pathTest);\n        if ('from' in operation) {\n            var fromTest = createTest(input, operation.from);\n            if (fromTest)\n                tests.push(fromTest);\n        }\n    });\n    return tests;\n}\nexports.createTests = createTests;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmZjNjkwMi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0I7QUFDOUQsZ0JBQWdCLG1CQUFPLENBQUMsb0RBQVc7QUFDbkMsY0FBYyxtQkFBTyxDQUFDLGdEQUFTO0FBQy9CLGFBQWEsbUJBQU8sQ0FBQyw4Q0FBUTtBQUM3QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywwQ0FBMEM7QUFDdEY7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JmYzY5MDIvaW5kZXguanM/YmU2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlVGVzdHMgPSBleHBvcnRzLmNyZWF0ZVBhdGNoID0gZXhwb3J0cy5hcHBseVBhdGNoID0gdm9pZCAwO1xudmFyIHBvaW50ZXJfMSA9IHJlcXVpcmUoXCIuL3BvaW50ZXJcIik7XG52YXIgcGF0Y2hfMSA9IHJlcXVpcmUoXCIuL3BhdGNoXCIpO1xudmFyIGRpZmZfMSA9IHJlcXVpcmUoXCIuL2RpZmZcIik7XG4vKipcbkFwcGx5IGEgJ2FwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvbictdHlwZSBwYXRjaCB0byBhbiBvYmplY3QuXG5cbmBwYXRjaGAgKm11c3QqIGJlIGFuIGFycmF5IG9mIG9wZXJhdGlvbnMuXG5cbj4gT3BlcmF0aW9uIG9iamVjdHMgTVVTVCBoYXZlIGV4YWN0bHkgb25lIFwib3BcIiBtZW1iZXIsIHdob3NlIHZhbHVlXG4+IGluZGljYXRlcyB0aGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0uICBJdHMgdmFsdWUgTVVTVCBiZSBvbmUgb2YgXCJhZGRcIixcbj4gXCJyZW1vdmVcIiwgXCJyZXBsYWNlXCIsIFwibW92ZVwiLCBcImNvcHlcIiwgb3IgXCJ0ZXN0XCI7IG90aGVyIHZhbHVlcyBhcmVcbj4gZXJyb3JzLlxuXG5UaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB0YXJnZXQgb2JqZWN0IGluLXBsYWNlLlxuXG5AcmV0dXJucyBsaXN0IG9mIHJlc3VsdHMsIG9uZSBmb3IgZWFjaCBvcGVyYXRpb246IGBudWxsYCBpbmRpY2F0ZWQgc3VjY2VzcyxcbiAgICAgICAgIG90aGVyd2lzZSwgdGhlIHJlc3VsdCB3aWxsIGJlIGFuIGluc3RhbmNlIG9mIG9uZSBvZiB0aGUgRXJyb3IgY2xhc3NlczpcbiAgICAgICAgIE1pc3NpbmdFcnJvciwgSW52YWxpZE9wZXJhdGlvbkVycm9yLCBvciBUZXN0RXJyb3IuXG4qL1xuZnVuY3Rpb24gYXBwbHlQYXRjaChvYmplY3QsIHBhdGNoKSB7XG4gICAgcmV0dXJuIHBhdGNoLm1hcChmdW5jdGlvbiAob3BlcmF0aW9uKSB7IHJldHVybiBwYXRjaF8xLmFwcGx5KG9iamVjdCwgb3BlcmF0aW9uKTsgfSk7XG59XG5leHBvcnRzLmFwcGx5UGF0Y2ggPSBhcHBseVBhdGNoO1xuZnVuY3Rpb24gd3JhcFZvaWRhYmxlRGlmZihkaWZmKSB7XG4gICAgZnVuY3Rpb24gd3JhcHBlZERpZmYoaW5wdXQsIG91dHB1dCwgcHRyKSB7XG4gICAgICAgIHZhciBjdXN0b21fcGF0Y2ggPSBkaWZmKGlucHV0LCBvdXRwdXQsIHB0cik7XG4gICAgICAgIC8vIGVuc3VyZSBhbiBhcnJheSBpcyBhbHdheXMgcmV0dXJuZWRcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY3VzdG9tX3BhdGNoKSA/IGN1c3RvbV9wYXRjaCA6IGRpZmZfMS5kaWZmQW55KGlucHV0LCBvdXRwdXQsIHB0ciwgd3JhcHBlZERpZmYpO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcHBlZERpZmY7XG59XG4vKipcblByb2R1Y2UgYSAnYXBwbGljYXRpb24vanNvbi1wYXRjaCtqc29uJy10eXBlIHBhdGNoIHRvIGdldCBmcm9tIG9uZSBvYmplY3QgdG9cbmFub3RoZXIuXG5cblRoaXMgZG9lcyBub3QgYWx0ZXIgYGlucHV0YCBvciBgb3V0cHV0YCB1bmxlc3MgdGhleSBoYXZlIGEgcHJvcGVydHkgZ2V0dGVyIHdpdGhcbnNpZGUtZWZmZWN0cyAod2hpY2ggaXMgbm90IGEgZ29vZCBpZGVhIGFueXdheSkuXG5cbmBkaWZmYCBpcyBjYWxsZWQgb24gZWFjaCBwYWlyIG9mIGNvbXBhcmFibGUgbm9uLXByaW1pdGl2ZSBub2RlcyBpbiB0aGVcbmBpbnB1dGAvYG91dHB1dGAgb2JqZWN0IHRyZWVzLCBwcm9kdWNpbmcgbmVzdGVkIHBhdGNoZXMuIFJldHVybiBgdW5kZWZpbmVkYFxudG8gZmFsbCBiYWNrIHRvIGRlZmF1bHQgYmVoYXZpb3VyLlxuXG5SZXR1cm5zIGxpc3Qgb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtIG9uIGBpbnB1dGAgdG8gcHJvZHVjZSBgb3V0cHV0YC5cbiovXG5mdW5jdGlvbiBjcmVhdGVQYXRjaChpbnB1dCwgb3V0cHV0LCBkaWZmKSB7XG4gICAgdmFyIHB0ciA9IG5ldyBwb2ludGVyXzEuUG9pbnRlcigpO1xuICAgIC8vIGEgbmV3IFBvaW50ZXIgZ2V0cyBhIGRlZmF1bHQgcGF0aCBvZiBbJyddIGlmIG5vdCBzcGVjaWZpZWRcbiAgICByZXR1cm4gKGRpZmYgPyB3cmFwVm9pZGFibGVEaWZmKGRpZmYpIDogZGlmZl8xLmRpZmZBbnkpKGlucHV0LCBvdXRwdXQsIHB0cik7XG59XG5leHBvcnRzLmNyZWF0ZVBhdGNoID0gY3JlYXRlUGF0Y2g7XG4vKipcbkNyZWF0ZSBhIHRlc3Qgb3BlcmF0aW9uIGJhc2VkIG9uIGBpbnB1dGAncyBjdXJyZW50IGV2YWx1YXRpb24gb2YgdGhlIEpTT05cblBvaW50ZXIgYHBhdGhgOyBpZiBzdWNoIGEgcG9pbnRlciBjYW5ub3QgYmUgcmVzb2x2ZWQsIHJldHVybnMgdW5kZWZpbmVkLlxuKi9cbmZ1bmN0aW9uIGNyZWF0ZVRlc3QoaW5wdXQsIHBhdGgpIHtcbiAgICB2YXIgZW5kcG9pbnQgPSBwb2ludGVyXzEuUG9pbnRlci5mcm9tSlNPTihwYXRoKS5ldmFsdWF0ZShpbnB1dCk7XG4gICAgaWYgKGVuZHBvaW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgb3A6ICd0ZXN0JywgcGF0aDogcGF0aCwgdmFsdWU6IGVuZHBvaW50LnZhbHVlIH07XG4gICAgfVxufVxuLyoqXG5Qcm9kdWNlIGFuICdhcHBsaWNhdGlvbi9qc29uLXBhdGNoK2pzb24nLXR5cGUgbGlzdCBvZiB0ZXN0cywgdG8gdmVyaWZ5IHRoYXRcbmV4aXN0aW5nIHZhbHVlcyBpbiBhbiBvYmplY3QgYXJlIGlkZW50aWNhbCB0byB0aGUgdGhvc2UgY2FwdHVyZWQgYXQgc29tZVxuY2hlY2twb2ludCAod2hlbmV2ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQpLlxuXG5UaGlzIGRvZXMgbm90IGFsdGVyIGBpbnB1dGAgb3IgYG91dHB1dGAgdW5sZXNzIHRoZXkgaGF2ZSBhIHByb3BlcnR5IGdldHRlciB3aXRoXG5zaWRlLWVmZmVjdHMgKHdoaWNoIGlzIG5vdCBhIGdvb2QgaWRlYSBhbnl3YXkpLlxuXG5SZXR1cm5zIGxpc3Qgb2YgdGVzdCBvcGVyYXRpb25zLlxuKi9cbmZ1bmN0aW9uIGNyZWF0ZVRlc3RzKGlucHV0LCBwYXRjaCkge1xuICAgIHZhciB0ZXN0cyA9IG5ldyBBcnJheSgpO1xuICAgIHBhdGNoLmZpbHRlcihkaWZmXzEuaXNEZXN0cnVjdGl2ZSkuZm9yRWFjaChmdW5jdGlvbiAob3BlcmF0aW9uKSB7XG4gICAgICAgIHZhciBwYXRoVGVzdCA9IGNyZWF0ZVRlc3QoaW5wdXQsIG9wZXJhdGlvbi5wYXRoKTtcbiAgICAgICAgaWYgKHBhdGhUZXN0KVxuICAgICAgICAgICAgdGVzdHMucHVzaChwYXRoVGVzdCk7XG4gICAgICAgIGlmICgnZnJvbScgaW4gb3BlcmF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZnJvbVRlc3QgPSBjcmVhdGVUZXN0KGlucHV0LCBvcGVyYXRpb24uZnJvbSk7XG4gICAgICAgICAgICBpZiAoZnJvbVRlc3QpXG4gICAgICAgICAgICAgICAgdGVzdHMucHVzaChmcm9tVGVzdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGVzdHM7XG59XG5leHBvcnRzLmNyZWF0ZVRlc3RzID0gY3JlYXRlVGVzdHM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/rfc6902/index.js\n"));

/***/ }),

/***/ "./node_modules/rfc6902/patch.js":
/*!***************************************!*\
  !*** ./node_modules/rfc6902/patch.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.apply = exports.InvalidOperationError = exports.test = exports.copy = exports.move = exports.replace = exports.remove = exports.add = exports.TestError = exports.MissingError = void 0;\nvar pointer_1 = __webpack_require__(/*! ./pointer */ \"./node_modules/rfc6902/pointer.js\");\nvar util_1 = __webpack_require__(/*! ./util */ \"./node_modules/rfc6902/util.js\");\nvar diff_1 = __webpack_require__(/*! ./diff */ \"./node_modules/rfc6902/diff.js\");\nvar MissingError = /** @class */ (function (_super) {\n    __extends(MissingError, _super);\n    function MissingError(path) {\n        var _this = _super.call(this, \"Value required at path: \" + path) || this;\n        _this.path = path;\n        _this.name = 'MissingError';\n        return _this;\n    }\n    return MissingError;\n}(Error));\nexports.MissingError = MissingError;\nvar TestError = /** @class */ (function (_super) {\n    __extends(TestError, _super);\n    function TestError(actual, expected) {\n        var _this = _super.call(this, \"Test failed: \" + actual + \" != \" + expected) || this;\n        _this.actual = actual;\n        _this.expected = expected;\n        _this.name = 'TestError';\n        return _this;\n    }\n    return TestError;\n}(Error));\nexports.TestError = TestError;\nfunction _add(object, key, value) {\n    if (Array.isArray(object)) {\n        // `key` must be an index\n        if (key == '-') {\n            object.push(value);\n        }\n        else {\n            var index = parseInt(key, 10);\n            object.splice(index, 0, value);\n        }\n    }\n    else {\n        object[key] = value;\n    }\n}\nfunction _remove(object, key) {\n    if (Array.isArray(object)) {\n        // '-' syntax doesn't make sense when removing\n        var index = parseInt(key, 10);\n        object.splice(index, 1);\n    }\n    else {\n        // not sure what the proper behavior is when path = ''\n        delete object[key];\n    }\n}\n/**\n>  o  If the target location specifies an array index, a new value is\n>     inserted into the array at the specified index.\n>  o  If the target location specifies an object member that does not\n>     already exist, a new member is added to the object.\n>  o  If the target location specifies an object member that does exist,\n>     that member's value is replaced.\n*/\nfunction add(object, operation) {\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    // it's not exactly a \"MissingError\" in the same way that `remove` is -- more like a MissingParent, or something\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _add(endpoint.parent, endpoint.key, util_1.clone(operation.value));\n    return null;\n}\nexports.add = add;\n/**\n> The \"remove\" operation removes the value at the target location.\n> The target location MUST exist for the operation to be successful.\n*/\nfunction remove(object, operation) {\n    // endpoint has parent, key, and value properties\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }\n    // not sure what the proper behavior is when path = ''\n    _remove(endpoint.parent, endpoint.key);\n    return null;\n}\nexports.remove = remove;\n/**\n> The \"replace\" operation replaces the value at the target location\n> with a new value.  The operation object MUST contain a \"value\" member\n> whose content specifies the replacement value.\n> The target location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to a \"remove\" operation for\n> a value, followed immediately by an \"add\" operation at the same\n> location with the replacement value.\n\nEven more simply, it's like the add operation with an existence check.\n*/\nfunction replace(object, operation) {\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === null) {\n        return new MissingError(operation.path);\n    }\n    // this existence check treats arrays as a special case\n    if (Array.isArray(endpoint.parent)) {\n        if (parseInt(endpoint.key, 10) >= endpoint.parent.length) {\n            return new MissingError(operation.path);\n        }\n    }\n    else if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }\n    endpoint.parent[endpoint.key] = operation.value;\n    return null;\n}\nexports.replace = replace;\n/**\n> The \"move\" operation removes the value at a specified location and\n> adds it to the target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to move the value from.\n> This operation is functionally identical to a \"remove\" operation on\n> the \"from\" location, followed immediately by an \"add\" operation at\n> the target location with the value that was just removed.\n\n> The \"from\" location MUST NOT be a proper prefix of the \"path\"\n> location; i.e., a location cannot be moved into one of its children.\n\nTODO: throw if the check described in the previous paragraph fails.\n*/\nfunction move(object, operation) {\n    var from_endpoint = pointer_1.Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _remove(from_endpoint.parent, from_endpoint.key);\n    _add(endpoint.parent, endpoint.key, from_endpoint.value);\n    return null;\n}\nexports.move = move;\n/**\n> The \"copy\" operation copies the value at a specified location to the\n> target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to copy the value from.\n> The \"from\" location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to an \"add\" operation at the\n> target location using the value specified in the \"from\" member.\n\nAlternatively, it's like 'move' without the 'remove'.\n*/\nfunction copy(object, operation) {\n    var from_endpoint = pointer_1.Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _add(endpoint.parent, endpoint.key, util_1.clone(from_endpoint.value));\n    return null;\n}\nexports.copy = copy;\n/**\n> The \"test\" operation tests that a value at the target location is\n> equal to a specified value.\n> The operation object MUST contain a \"value\" member that conveys the\n> value to be compared to the target location's value.\n> The target location MUST be equal to the \"value\" value for the\n> operation to be considered successful.\n*/\nfunction test(object, operation) {\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    // TODO: this diffAny(...).length usage could/should be lazy\n    if (diff_1.diffAny(endpoint.value, operation.value, new pointer_1.Pointer()).length) {\n        return new TestError(endpoint.value, operation.value);\n    }\n    return null;\n}\nexports.test = test;\nvar InvalidOperationError = /** @class */ (function (_super) {\n    __extends(InvalidOperationError, _super);\n    function InvalidOperationError(operation) {\n        var _this = _super.call(this, \"Invalid operation: \" + operation.op) || this;\n        _this.operation = operation;\n        _this.name = 'InvalidOperationError';\n        return _this;\n    }\n    return InvalidOperationError;\n}(Error));\nexports.InvalidOperationError = InvalidOperationError;\n/**\nSwitch on `operation.op`, applying the corresponding patch function for each\ncase to `object`.\n*/\nfunction apply(object, operation) {\n    // not sure why TypeScript can't infer typesafety of:\n    //   {add, remove, replace, move, copy, test}[operation.op](object, operation)\n    // (seems like a bug)\n    switch (operation.op) {\n        case 'add': return add(object, operation);\n        case 'remove': return remove(object, operation);\n        case 'replace': return replace(object, operation);\n        case 'move': return move(object, operation);\n        case 'copy': return copy(object, operation);\n        case 'test': return test(object, operation);\n    }\n    return new InvalidOperationError(operation);\n}\nexports.apply = apply;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmZjNjkwMi9wYXRjaC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLEdBQUcsNkJBQTZCLEdBQUcsWUFBWSxHQUFHLFlBQVksR0FBRyxZQUFZLEdBQUcsZUFBZSxHQUFHLGNBQWMsR0FBRyxXQUFXLEdBQUcsaUJBQWlCLEdBQUcsb0JBQW9CO0FBQ3RMLGdCQUFnQixtQkFBTyxDQUFDLG9EQUFXO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyw4Q0FBUTtBQUM3QixhQUFhLG1CQUFPLENBQUMsOENBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVDQUF1QztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmZjNjkwMi9wYXRjaC5qcz9jY2IzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXBwbHkgPSBleHBvcnRzLkludmFsaWRPcGVyYXRpb25FcnJvciA9IGV4cG9ydHMudGVzdCA9IGV4cG9ydHMuY29weSA9IGV4cG9ydHMubW92ZSA9IGV4cG9ydHMucmVwbGFjZSA9IGV4cG9ydHMucmVtb3ZlID0gZXhwb3J0cy5hZGQgPSBleHBvcnRzLlRlc3RFcnJvciA9IGV4cG9ydHMuTWlzc2luZ0Vycm9yID0gdm9pZCAwO1xudmFyIHBvaW50ZXJfMSA9IHJlcXVpcmUoXCIuL3BvaW50ZXJcIik7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciBkaWZmXzEgPSByZXF1aXJlKFwiLi9kaWZmXCIpO1xudmFyIE1pc3NpbmdFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWlzc2luZ0Vycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1pc3NpbmdFcnJvcihwYXRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFwiVmFsdWUgcmVxdWlyZWQgYXQgcGF0aDogXCIgKyBwYXRoKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgX3RoaXMubmFtZSA9ICdNaXNzaW5nRXJyb3InO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBNaXNzaW5nRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnRzLk1pc3NpbmdFcnJvciA9IE1pc3NpbmdFcnJvcjtcbnZhciBUZXN0RXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRlc3RFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZXN0RXJyb3IoYWN0dWFsLCBleHBlY3RlZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcIlRlc3QgZmFpbGVkOiBcIiArIGFjdHVhbCArIFwiICE9IFwiICsgZXhwZWN0ZWQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdHVhbCA9IGFjdHVhbDtcbiAgICAgICAgX3RoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgICAgICAgX3RoaXMubmFtZSA9ICdUZXN0RXJyb3InO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBUZXN0RXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnRzLlRlc3RFcnJvciA9IFRlc3RFcnJvcjtcbmZ1bmN0aW9uIF9hZGQob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAvLyBga2V5YCBtdXN0IGJlIGFuIGluZGV4XG4gICAgICAgIGlmIChrZXkgPT0gJy0nKSB7XG4gICAgICAgICAgICBvYmplY3QucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChrZXksIDEwKTtcbiAgICAgICAgICAgIG9iamVjdC5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBfcmVtb3ZlKG9iamVjdCwga2V5KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAvLyAnLScgc3ludGF4IGRvZXNuJ3QgbWFrZSBzZW5zZSB3aGVuIHJlbW92aW5nXG4gICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGtleSwgMTApO1xuICAgICAgICBvYmplY3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG5vdCBzdXJlIHdoYXQgdGhlIHByb3BlciBiZWhhdmlvciBpcyB3aGVuIHBhdGggPSAnJ1xuICAgICAgICBkZWxldGUgb2JqZWN0W2tleV07XG4gICAgfVxufVxuLyoqXG4+ICBvICBJZiB0aGUgdGFyZ2V0IGxvY2F0aW9uIHNwZWNpZmllcyBhbiBhcnJheSBpbmRleCwgYSBuZXcgdmFsdWUgaXNcbj4gICAgIGluc2VydGVkIGludG8gdGhlIGFycmF5IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4+ICBvICBJZiB0aGUgdGFyZ2V0IGxvY2F0aW9uIHNwZWNpZmllcyBhbiBvYmplY3QgbWVtYmVyIHRoYXQgZG9lcyBub3Rcbj4gICAgIGFscmVhZHkgZXhpc3QsIGEgbmV3IG1lbWJlciBpcyBhZGRlZCB0byB0aGUgb2JqZWN0LlxuPiAgbyAgSWYgdGhlIHRhcmdldCBsb2NhdGlvbiBzcGVjaWZpZXMgYW4gb2JqZWN0IG1lbWJlciB0aGF0IGRvZXMgZXhpc3QsXG4+ICAgICB0aGF0IG1lbWJlcidzIHZhbHVlIGlzIHJlcGxhY2VkLlxuKi9cbmZ1bmN0aW9uIGFkZChvYmplY3QsIG9wZXJhdGlvbikge1xuICAgIHZhciBlbmRwb2ludCA9IHBvaW50ZXJfMS5Qb2ludGVyLmZyb21KU09OKG9wZXJhdGlvbi5wYXRoKS5ldmFsdWF0ZShvYmplY3QpO1xuICAgIC8vIGl0J3Mgbm90IGV4YWN0bHkgYSBcIk1pc3NpbmdFcnJvclwiIGluIHRoZSBzYW1lIHdheSB0aGF0IGByZW1vdmVgIGlzIC0tIG1vcmUgbGlrZSBhIE1pc3NpbmdQYXJlbnQsIG9yIHNvbWV0aGluZ1xuICAgIGlmIChlbmRwb2ludC5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdFcnJvcihvcGVyYXRpb24ucGF0aCk7XG4gICAgfVxuICAgIF9hZGQoZW5kcG9pbnQucGFyZW50LCBlbmRwb2ludC5rZXksIHV0aWxfMS5jbG9uZShvcGVyYXRpb24udmFsdWUpKTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMuYWRkID0gYWRkO1xuLyoqXG4+IFRoZSBcInJlbW92ZVwiIG9wZXJhdGlvbiByZW1vdmVzIHRoZSB2YWx1ZSBhdCB0aGUgdGFyZ2V0IGxvY2F0aW9uLlxuPiBUaGUgdGFyZ2V0IGxvY2F0aW9uIE1VU1QgZXhpc3QgZm9yIHRoZSBvcGVyYXRpb24gdG8gYmUgc3VjY2Vzc2Z1bC5cbiovXG5mdW5jdGlvbiByZW1vdmUob2JqZWN0LCBvcGVyYXRpb24pIHtcbiAgICAvLyBlbmRwb2ludCBoYXMgcGFyZW50LCBrZXksIGFuZCB2YWx1ZSBwcm9wZXJ0aWVzXG4gICAgdmFyIGVuZHBvaW50ID0gcG9pbnRlcl8xLlBvaW50ZXIuZnJvbUpTT04ob3BlcmF0aW9uLnBhdGgpLmV2YWx1YXRlKG9iamVjdCk7XG4gICAgaWYgKGVuZHBvaW50LnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nRXJyb3Iob3BlcmF0aW9uLnBhdGgpO1xuICAgIH1cbiAgICAvLyBub3Qgc3VyZSB3aGF0IHRoZSBwcm9wZXIgYmVoYXZpb3IgaXMgd2hlbiBwYXRoID0gJydcbiAgICBfcmVtb3ZlKGVuZHBvaW50LnBhcmVudCwgZW5kcG9pbnQua2V5KTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMucmVtb3ZlID0gcmVtb3ZlO1xuLyoqXG4+IFRoZSBcInJlcGxhY2VcIiBvcGVyYXRpb24gcmVwbGFjZXMgdGhlIHZhbHVlIGF0IHRoZSB0YXJnZXQgbG9jYXRpb25cbj4gd2l0aCBhIG5ldyB2YWx1ZS4gIFRoZSBvcGVyYXRpb24gb2JqZWN0IE1VU1QgY29udGFpbiBhIFwidmFsdWVcIiBtZW1iZXJcbj4gd2hvc2UgY29udGVudCBzcGVjaWZpZXMgdGhlIHJlcGxhY2VtZW50IHZhbHVlLlxuPiBUaGUgdGFyZ2V0IGxvY2F0aW9uIE1VU1QgZXhpc3QgZm9yIHRoZSBvcGVyYXRpb24gdG8gYmUgc3VjY2Vzc2Z1bC5cblxuPiBUaGlzIG9wZXJhdGlvbiBpcyBmdW5jdGlvbmFsbHkgaWRlbnRpY2FsIHRvIGEgXCJyZW1vdmVcIiBvcGVyYXRpb24gZm9yXG4+IGEgdmFsdWUsIGZvbGxvd2VkIGltbWVkaWF0ZWx5IGJ5IGFuIFwiYWRkXCIgb3BlcmF0aW9uIGF0IHRoZSBzYW1lXG4+IGxvY2F0aW9uIHdpdGggdGhlIHJlcGxhY2VtZW50IHZhbHVlLlxuXG5FdmVuIG1vcmUgc2ltcGx5LCBpdCdzIGxpa2UgdGhlIGFkZCBvcGVyYXRpb24gd2l0aCBhbiBleGlzdGVuY2UgY2hlY2suXG4qL1xuZnVuY3Rpb24gcmVwbGFjZShvYmplY3QsIG9wZXJhdGlvbikge1xuICAgIHZhciBlbmRwb2ludCA9IHBvaW50ZXJfMS5Qb2ludGVyLmZyb21KU09OKG9wZXJhdGlvbi5wYXRoKS5ldmFsdWF0ZShvYmplY3QpO1xuICAgIGlmIChlbmRwb2ludC5wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nRXJyb3Iob3BlcmF0aW9uLnBhdGgpO1xuICAgIH1cbiAgICAvLyB0aGlzIGV4aXN0ZW5jZSBjaGVjayB0cmVhdHMgYXJyYXlzIGFzIGEgc3BlY2lhbCBjYXNlXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZW5kcG9pbnQucGFyZW50KSkge1xuICAgICAgICBpZiAocGFyc2VJbnQoZW5kcG9pbnQua2V5LCAxMCkgPj0gZW5kcG9pbnQucGFyZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nRXJyb3Iob3BlcmF0aW9uLnBhdGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGVuZHBvaW50LnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nRXJyb3Iob3BlcmF0aW9uLnBhdGgpO1xuICAgIH1cbiAgICBlbmRwb2ludC5wYXJlbnRbZW5kcG9pbnQua2V5XSA9IG9wZXJhdGlvbi52YWx1ZTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMucmVwbGFjZSA9IHJlcGxhY2U7XG4vKipcbj4gVGhlIFwibW92ZVwiIG9wZXJhdGlvbiByZW1vdmVzIHRoZSB2YWx1ZSBhdCBhIHNwZWNpZmllZCBsb2NhdGlvbiBhbmRcbj4gYWRkcyBpdCB0byB0aGUgdGFyZ2V0IGxvY2F0aW9uLlxuPiBUaGUgb3BlcmF0aW9uIG9iamVjdCBNVVNUIGNvbnRhaW4gYSBcImZyb21cIiBtZW1iZXIsIHdoaWNoIGlzIGEgc3RyaW5nXG4+IGNvbnRhaW5pbmcgYSBKU09OIFBvaW50ZXIgdmFsdWUgdGhhdCByZWZlcmVuY2VzIHRoZSBsb2NhdGlvbiBpbiB0aGVcbj4gdGFyZ2V0IGRvY3VtZW50IHRvIG1vdmUgdGhlIHZhbHVlIGZyb20uXG4+IFRoaXMgb3BlcmF0aW9uIGlzIGZ1bmN0aW9uYWxseSBpZGVudGljYWwgdG8gYSBcInJlbW92ZVwiIG9wZXJhdGlvbiBvblxuPiB0aGUgXCJmcm9tXCIgbG9jYXRpb24sIGZvbGxvd2VkIGltbWVkaWF0ZWx5IGJ5IGFuIFwiYWRkXCIgb3BlcmF0aW9uIGF0XG4+IHRoZSB0YXJnZXQgbG9jYXRpb24gd2l0aCB0aGUgdmFsdWUgdGhhdCB3YXMganVzdCByZW1vdmVkLlxuXG4+IFRoZSBcImZyb21cIiBsb2NhdGlvbiBNVVNUIE5PVCBiZSBhIHByb3BlciBwcmVmaXggb2YgdGhlIFwicGF0aFwiXG4+IGxvY2F0aW9uOyBpLmUuLCBhIGxvY2F0aW9uIGNhbm5vdCBiZSBtb3ZlZCBpbnRvIG9uZSBvZiBpdHMgY2hpbGRyZW4uXG5cblRPRE86IHRocm93IGlmIHRoZSBjaGVjayBkZXNjcmliZWQgaW4gdGhlIHByZXZpb3VzIHBhcmFncmFwaCBmYWlscy5cbiovXG5mdW5jdGlvbiBtb3ZlKG9iamVjdCwgb3BlcmF0aW9uKSB7XG4gICAgdmFyIGZyb21fZW5kcG9pbnQgPSBwb2ludGVyXzEuUG9pbnRlci5mcm9tSlNPTihvcGVyYXRpb24uZnJvbSkuZXZhbHVhdGUob2JqZWN0KTtcbiAgICBpZiAoZnJvbV9lbmRwb2ludC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWlzc2luZ0Vycm9yKG9wZXJhdGlvbi5mcm9tKTtcbiAgICB9XG4gICAgdmFyIGVuZHBvaW50ID0gcG9pbnRlcl8xLlBvaW50ZXIuZnJvbUpTT04ob3BlcmF0aW9uLnBhdGgpLmV2YWx1YXRlKG9iamVjdCk7XG4gICAgaWYgKGVuZHBvaW50LnBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWlzc2luZ0Vycm9yKG9wZXJhdGlvbi5wYXRoKTtcbiAgICB9XG4gICAgX3JlbW92ZShmcm9tX2VuZHBvaW50LnBhcmVudCwgZnJvbV9lbmRwb2ludC5rZXkpO1xuICAgIF9hZGQoZW5kcG9pbnQucGFyZW50LCBlbmRwb2ludC5rZXksIGZyb21fZW5kcG9pbnQudmFsdWUpO1xuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0cy5tb3ZlID0gbW92ZTtcbi8qKlxuPiBUaGUgXCJjb3B5XCIgb3BlcmF0aW9uIGNvcGllcyB0aGUgdmFsdWUgYXQgYSBzcGVjaWZpZWQgbG9jYXRpb24gdG8gdGhlXG4+IHRhcmdldCBsb2NhdGlvbi5cbj4gVGhlIG9wZXJhdGlvbiBvYmplY3QgTVVTVCBjb250YWluIGEgXCJmcm9tXCIgbWVtYmVyLCB3aGljaCBpcyBhIHN0cmluZ1xuPiBjb250YWluaW5nIGEgSlNPTiBQb2ludGVyIHZhbHVlIHRoYXQgcmVmZXJlbmNlcyB0aGUgbG9jYXRpb24gaW4gdGhlXG4+IHRhcmdldCBkb2N1bWVudCB0byBjb3B5IHRoZSB2YWx1ZSBmcm9tLlxuPiBUaGUgXCJmcm9tXCIgbG9jYXRpb24gTVVTVCBleGlzdCBmb3IgdGhlIG9wZXJhdGlvbiB0byBiZSBzdWNjZXNzZnVsLlxuXG4+IFRoaXMgb3BlcmF0aW9uIGlzIGZ1bmN0aW9uYWxseSBpZGVudGljYWwgdG8gYW4gXCJhZGRcIiBvcGVyYXRpb24gYXQgdGhlXG4+IHRhcmdldCBsb2NhdGlvbiB1c2luZyB0aGUgdmFsdWUgc3BlY2lmaWVkIGluIHRoZSBcImZyb21cIiBtZW1iZXIuXG5cbkFsdGVybmF0aXZlbHksIGl0J3MgbGlrZSAnbW92ZScgd2l0aG91dCB0aGUgJ3JlbW92ZScuXG4qL1xuZnVuY3Rpb24gY29weShvYmplY3QsIG9wZXJhdGlvbikge1xuICAgIHZhciBmcm9tX2VuZHBvaW50ID0gcG9pbnRlcl8xLlBvaW50ZXIuZnJvbUpTT04ob3BlcmF0aW9uLmZyb20pLmV2YWx1YXRlKG9iamVjdCk7XG4gICAgaWYgKGZyb21fZW5kcG9pbnQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdFcnJvcihvcGVyYXRpb24uZnJvbSk7XG4gICAgfVxuICAgIHZhciBlbmRwb2ludCA9IHBvaW50ZXJfMS5Qb2ludGVyLmZyb21KU09OKG9wZXJhdGlvbi5wYXRoKS5ldmFsdWF0ZShvYmplY3QpO1xuICAgIGlmIChlbmRwb2ludC5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdFcnJvcihvcGVyYXRpb24ucGF0aCk7XG4gICAgfVxuICAgIF9hZGQoZW5kcG9pbnQucGFyZW50LCBlbmRwb2ludC5rZXksIHV0aWxfMS5jbG9uZShmcm9tX2VuZHBvaW50LnZhbHVlKSk7XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnRzLmNvcHkgPSBjb3B5O1xuLyoqXG4+IFRoZSBcInRlc3RcIiBvcGVyYXRpb24gdGVzdHMgdGhhdCBhIHZhbHVlIGF0IHRoZSB0YXJnZXQgbG9jYXRpb24gaXNcbj4gZXF1YWwgdG8gYSBzcGVjaWZpZWQgdmFsdWUuXG4+IFRoZSBvcGVyYXRpb24gb2JqZWN0IE1VU1QgY29udGFpbiBhIFwidmFsdWVcIiBtZW1iZXIgdGhhdCBjb252ZXlzIHRoZVxuPiB2YWx1ZSB0byBiZSBjb21wYXJlZCB0byB0aGUgdGFyZ2V0IGxvY2F0aW9uJ3MgdmFsdWUuXG4+IFRoZSB0YXJnZXQgbG9jYXRpb24gTVVTVCBiZSBlcXVhbCB0byB0aGUgXCJ2YWx1ZVwiIHZhbHVlIGZvciB0aGVcbj4gb3BlcmF0aW9uIHRvIGJlIGNvbnNpZGVyZWQgc3VjY2Vzc2Z1bC5cbiovXG5mdW5jdGlvbiB0ZXN0KG9iamVjdCwgb3BlcmF0aW9uKSB7XG4gICAgdmFyIGVuZHBvaW50ID0gcG9pbnRlcl8xLlBvaW50ZXIuZnJvbUpTT04ob3BlcmF0aW9uLnBhdGgpLmV2YWx1YXRlKG9iamVjdCk7XG4gICAgLy8gVE9ETzogdGhpcyBkaWZmQW55KC4uLikubGVuZ3RoIHVzYWdlIGNvdWxkL3Nob3VsZCBiZSBsYXp5XG4gICAgaWYgKGRpZmZfMS5kaWZmQW55KGVuZHBvaW50LnZhbHVlLCBvcGVyYXRpb24udmFsdWUsIG5ldyBwb2ludGVyXzEuUG9pbnRlcigpKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXN0RXJyb3IoZW5kcG9pbnQudmFsdWUsIG9wZXJhdGlvbi52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0cy50ZXN0ID0gdGVzdDtcbnZhciBJbnZhbGlkT3BlcmF0aW9uRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEludmFsaWRPcGVyYXRpb25FcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbnZhbGlkT3BlcmF0aW9uRXJyb3Iob3BlcmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFwiSW52YWxpZCBvcGVyYXRpb246IFwiICsgb3BlcmF0aW9uLm9wKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XG4gICAgICAgIF90aGlzLm5hbWUgPSAnSW52YWxpZE9wZXJhdGlvbkVycm9yJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gSW52YWxpZE9wZXJhdGlvbkVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0cy5JbnZhbGlkT3BlcmF0aW9uRXJyb3IgPSBJbnZhbGlkT3BlcmF0aW9uRXJyb3I7XG4vKipcblN3aXRjaCBvbiBgb3BlcmF0aW9uLm9wYCwgYXBwbHlpbmcgdGhlIGNvcnJlc3BvbmRpbmcgcGF0Y2ggZnVuY3Rpb24gZm9yIGVhY2hcbmNhc2UgdG8gYG9iamVjdGAuXG4qL1xuZnVuY3Rpb24gYXBwbHkob2JqZWN0LCBvcGVyYXRpb24pIHtcbiAgICAvLyBub3Qgc3VyZSB3aHkgVHlwZVNjcmlwdCBjYW4ndCBpbmZlciB0eXBlc2FmZXR5IG9mOlxuICAgIC8vICAge2FkZCwgcmVtb3ZlLCByZXBsYWNlLCBtb3ZlLCBjb3B5LCB0ZXN0fVtvcGVyYXRpb24ub3BdKG9iamVjdCwgb3BlcmF0aW9uKVxuICAgIC8vIChzZWVtcyBsaWtlIGEgYnVnKVxuICAgIHN3aXRjaCAob3BlcmF0aW9uLm9wKSB7XG4gICAgICAgIGNhc2UgJ2FkZCc6IHJldHVybiBhZGQob2JqZWN0LCBvcGVyYXRpb24pO1xuICAgICAgICBjYXNlICdyZW1vdmUnOiByZXR1cm4gcmVtb3ZlKG9iamVjdCwgb3BlcmF0aW9uKTtcbiAgICAgICAgY2FzZSAncmVwbGFjZSc6IHJldHVybiByZXBsYWNlKG9iamVjdCwgb3BlcmF0aW9uKTtcbiAgICAgICAgY2FzZSAnbW92ZSc6IHJldHVybiBtb3ZlKG9iamVjdCwgb3BlcmF0aW9uKTtcbiAgICAgICAgY2FzZSAnY29weSc6IHJldHVybiBjb3B5KG9iamVjdCwgb3BlcmF0aW9uKTtcbiAgICAgICAgY2FzZSAndGVzdCc6IHJldHVybiB0ZXN0KG9iamVjdCwgb3BlcmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBJbnZhbGlkT3BlcmF0aW9uRXJyb3Iob3BlcmF0aW9uKTtcbn1cbmV4cG9ydHMuYXBwbHkgPSBhcHBseTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/rfc6902/patch.js\n"));

/***/ }),

/***/ "./node_modules/rfc6902/pointer.js":
/*!*****************************************!*\
  !*** ./node_modules/rfc6902/pointer.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pointer = void 0;\n/**\nUnescape token part of a JSON Pointer string\n\n`token` should *not* contain any '/' characters.\n\n> Evaluation of each reference token begins by decoding any escaped\n> character sequence.  This is performed by first transforming any\n> occurrence of the sequence '~1' to '/', and then transforming any\n> occurrence of the sequence '~0' to '~'.  By performing the\n> substitutions in this order, an implementation avoids the error of\n> turning '~01' first into '~1' and then into '/', which would be\n> incorrect (the string '~01' correctly becomes '~1' after\n> transformation).\n\nHere's my take:\n\n~1 is unescaped with higher priority than ~0 because it is a lower-order escape character.\nI say \"lower order\" because '/' needs escaping due to the JSON Pointer serialization technique.\nWhereas, '~' is escaped because escaping '/' uses the '~' character.\n*/\nfunction unescape(token) {\n    return token.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n/** Escape token part of a JSON Pointer string\n\n> '~' needs to be encoded as '~0' and '/'\n> needs to be encoded as '~1' when these characters appear in a\n> reference token.\n\nThis is the exact inverse of `unescape()`, so the reverse replacements must take place in reverse order.\n*/\nfunction escape(token) {\n    return token.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n/**\nJSON Pointer representation\n*/\nvar Pointer = /** @class */ (function () {\n    function Pointer(tokens) {\n        if (tokens === void 0) { tokens = ['']; }\n        this.tokens = tokens;\n    }\n    /**\n    `path` *must* be a properly escaped string.\n    */\n    Pointer.fromJSON = function (path) {\n        var tokens = path.split('/').map(unescape);\n        if (tokens[0] !== '')\n            throw new Error(\"Invalid JSON Pointer: \" + path);\n        return new Pointer(tokens);\n    };\n    Pointer.prototype.toString = function () {\n        return this.tokens.map(escape).join('/');\n    };\n    /**\n    Returns an object with 'parent', 'key', and 'value' properties.\n    In the special case that this Pointer's path == \"\",\n    this object will be {parent: null, key: '', value: object}.\n    Otherwise, parent and key will have the property such that parent[key] == value.\n    */\n    Pointer.prototype.evaluate = function (object) {\n        var parent = null;\n        var key = '';\n        var value = object;\n        for (var i = 1, l = this.tokens.length; i < l; i++) {\n            parent = value;\n            key = this.tokens[i];\n            if (key == '__proto__' || key == 'constructor' || key == 'prototype') {\n                continue;\n            }\n            // not sure if this the best way to handle non-existant paths...\n            value = (parent || {})[key];\n        }\n        return { parent: parent, key: key, value: value };\n    };\n    Pointer.prototype.get = function (object) {\n        return this.evaluate(object).value;\n    };\n    Pointer.prototype.set = function (object, value) {\n        var cursor = object;\n        for (var i = 1, l = this.tokens.length - 1, token = this.tokens[i]; i < l; i++) {\n            // not sure if this the best way to handle non-existant paths...\n            cursor = (cursor || {})[token];\n        }\n        if (cursor) {\n            cursor[this.tokens[this.tokens.length - 1]] = value;\n        }\n    };\n    Pointer.prototype.push = function (token) {\n        // mutable\n        this.tokens.push(token);\n    };\n    /**\n    `token` should be a String. It'll be coerced to one anyway.\n  \n    immutable (shallowly)\n    */\n    Pointer.prototype.add = function (token) {\n        var tokens = this.tokens.concat(String(token));\n        return new Pointer(tokens);\n    };\n    return Pointer;\n}());\nexports.Pointer = Pointer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmZjNjkwMi9wb2ludGVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxQ0FBcUM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxPQUFPO0FBQ25GO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JmYzY5MDIvcG9pbnRlci5qcz9iNzQ2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb2ludGVyID0gdm9pZCAwO1xuLyoqXG5VbmVzY2FwZSB0b2tlbiBwYXJ0IG9mIGEgSlNPTiBQb2ludGVyIHN0cmluZ1xuXG5gdG9rZW5gIHNob3VsZCAqbm90KiBjb250YWluIGFueSAnLycgY2hhcmFjdGVycy5cblxuPiBFdmFsdWF0aW9uIG9mIGVhY2ggcmVmZXJlbmNlIHRva2VuIGJlZ2lucyBieSBkZWNvZGluZyBhbnkgZXNjYXBlZFxuPiBjaGFyYWN0ZXIgc2VxdWVuY2UuICBUaGlzIGlzIHBlcmZvcm1lZCBieSBmaXJzdCB0cmFuc2Zvcm1pbmcgYW55XG4+IG9jY3VycmVuY2Ugb2YgdGhlIHNlcXVlbmNlICd+MScgdG8gJy8nLCBhbmQgdGhlbiB0cmFuc2Zvcm1pbmcgYW55XG4+IG9jY3VycmVuY2Ugb2YgdGhlIHNlcXVlbmNlICd+MCcgdG8gJ34nLiAgQnkgcGVyZm9ybWluZyB0aGVcbj4gc3Vic3RpdHV0aW9ucyBpbiB0aGlzIG9yZGVyLCBhbiBpbXBsZW1lbnRhdGlvbiBhdm9pZHMgdGhlIGVycm9yIG9mXG4+IHR1cm5pbmcgJ34wMScgZmlyc3QgaW50byAnfjEnIGFuZCB0aGVuIGludG8gJy8nLCB3aGljaCB3b3VsZCBiZVxuPiBpbmNvcnJlY3QgKHRoZSBzdHJpbmcgJ34wMScgY29ycmVjdGx5IGJlY29tZXMgJ34xJyBhZnRlclxuPiB0cmFuc2Zvcm1hdGlvbikuXG5cbkhlcmUncyBteSB0YWtlOlxuXG5+MSBpcyB1bmVzY2FwZWQgd2l0aCBoaWdoZXIgcHJpb3JpdHkgdGhhbiB+MCBiZWNhdXNlIGl0IGlzIGEgbG93ZXItb3JkZXIgZXNjYXBlIGNoYXJhY3Rlci5cbkkgc2F5IFwibG93ZXIgb3JkZXJcIiBiZWNhdXNlICcvJyBuZWVkcyBlc2NhcGluZyBkdWUgdG8gdGhlIEpTT04gUG9pbnRlciBzZXJpYWxpemF0aW9uIHRlY2huaXF1ZS5cbldoZXJlYXMsICd+JyBpcyBlc2NhcGVkIGJlY2F1c2UgZXNjYXBpbmcgJy8nIHVzZXMgdGhlICd+JyBjaGFyYWN0ZXIuXG4qL1xuZnVuY3Rpb24gdW5lc2NhcGUodG9rZW4pIHtcbiAgICByZXR1cm4gdG9rZW4ucmVwbGFjZSgvfjEvZywgJy8nKS5yZXBsYWNlKC9+MC9nLCAnficpO1xufVxuLyoqIEVzY2FwZSB0b2tlbiBwYXJ0IG9mIGEgSlNPTiBQb2ludGVyIHN0cmluZ1xuXG4+ICd+JyBuZWVkcyB0byBiZSBlbmNvZGVkIGFzICd+MCcgYW5kICcvJ1xuPiBuZWVkcyB0byBiZSBlbmNvZGVkIGFzICd+MScgd2hlbiB0aGVzZSBjaGFyYWN0ZXJzIGFwcGVhciBpbiBhXG4+IHJlZmVyZW5jZSB0b2tlbi5cblxuVGhpcyBpcyB0aGUgZXhhY3QgaW52ZXJzZSBvZiBgdW5lc2NhcGUoKWAsIHNvIHRoZSByZXZlcnNlIHJlcGxhY2VtZW50cyBtdXN0IHRha2UgcGxhY2UgaW4gcmV2ZXJzZSBvcmRlci5cbiovXG5mdW5jdGlvbiBlc2NhcGUodG9rZW4pIHtcbiAgICByZXR1cm4gdG9rZW4ucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJyk7XG59XG4vKipcbkpTT04gUG9pbnRlciByZXByZXNlbnRhdGlvblxuKi9cbnZhciBQb2ludGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBvaW50ZXIodG9rZW5zKSB7XG4gICAgICAgIGlmICh0b2tlbnMgPT09IHZvaWQgMCkgeyB0b2tlbnMgPSBbJyddOyB9XG4gICAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xuICAgIH1cbiAgICAvKipcbiAgICBgcGF0aGAgKm11c3QqIGJlIGEgcHJvcGVybHkgZXNjYXBlZCBzdHJpbmcuXG4gICAgKi9cbiAgICBQb2ludGVyLmZyb21KU09OID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIHRva2VucyA9IHBhdGguc3BsaXQoJy8nKS5tYXAodW5lc2NhcGUpO1xuICAgICAgICBpZiAodG9rZW5zWzBdICE9PSAnJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSlNPTiBQb2ludGVyOiBcIiArIHBhdGgpO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50ZXIodG9rZW5zKTtcbiAgICB9O1xuICAgIFBvaW50ZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbnMubWFwKGVzY2FwZSkuam9pbignLycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgUmV0dXJucyBhbiBvYmplY3Qgd2l0aCAncGFyZW50JywgJ2tleScsIGFuZCAndmFsdWUnIHByb3BlcnRpZXMuXG4gICAgSW4gdGhlIHNwZWNpYWwgY2FzZSB0aGF0IHRoaXMgUG9pbnRlcidzIHBhdGggPT0gXCJcIixcbiAgICB0aGlzIG9iamVjdCB3aWxsIGJlIHtwYXJlbnQ6IG51bGwsIGtleTogJycsIHZhbHVlOiBvYmplY3R9LlxuICAgIE90aGVyd2lzZSwgcGFyZW50IGFuZCBrZXkgd2lsbCBoYXZlIHRoZSBwcm9wZXJ0eSBzdWNoIHRoYXQgcGFyZW50W2tleV0gPT0gdmFsdWUuXG4gICAgKi9cbiAgICBQb2ludGVyLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IG51bGw7XG4gICAgICAgIHZhciBrZXkgPSAnJztcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0O1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgbCA9IHRoaXMudG9rZW5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgcGFyZW50ID0gdmFsdWU7XG4gICAgICAgICAgICBrZXkgPSB0aGlzLnRva2Vuc1tpXTtcbiAgICAgICAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgfHwga2V5ID09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09ICdwcm90b3R5cGUnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub3Qgc3VyZSBpZiB0aGlzIHRoZSBiZXN0IHdheSB0byBoYW5kbGUgbm9uLWV4aXN0YW50IHBhdGhzLi4uXG4gICAgICAgICAgICB2YWx1ZSA9IChwYXJlbnQgfHwge30pW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcGFyZW50OiBwYXJlbnQsIGtleToga2V5LCB2YWx1ZTogdmFsdWUgfTtcbiAgICB9O1xuICAgIFBvaW50ZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZhbHVhdGUob2JqZWN0KS52YWx1ZTtcbiAgICB9O1xuICAgIFBvaW50ZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChvYmplY3QsIHZhbHVlKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBvYmplY3Q7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBsID0gdGhpcy50b2tlbnMubGVuZ3RoIC0gMSwgdG9rZW4gPSB0aGlzLnRva2Vuc1tpXTsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgLy8gbm90IHN1cmUgaWYgdGhpcyB0aGUgYmVzdCB3YXkgdG8gaGFuZGxlIG5vbi1leGlzdGFudCBwYXRocy4uLlxuICAgICAgICAgICAgY3Vyc29yID0gKGN1cnNvciB8fCB7fSlbdG9rZW5dO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGN1cnNvclt0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGggLSAxXV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUG9pbnRlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAvLyBtdXRhYmxlXG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2godG9rZW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgYHRva2VuYCBzaG91bGQgYmUgYSBTdHJpbmcuIEl0J2xsIGJlIGNvZXJjZWQgdG8gb25lIGFueXdheS5cbiAgXG4gICAgaW1tdXRhYmxlIChzaGFsbG93bHkpXG4gICAgKi9cbiAgICBQb2ludGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIHRva2VucyA9IHRoaXMudG9rZW5zLmNvbmNhdChTdHJpbmcodG9rZW4pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludGVyKHRva2Vucyk7XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnRlcjtcbn0oKSk7XG5leHBvcnRzLlBvaW50ZXIgPSBQb2ludGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/rfc6902/pointer.js\n"));

/***/ }),

/***/ "./node_modules/rfc6902/util.js":
/*!**************************************!*\
  !*** ./node_modules/rfc6902/util.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.clone = exports.objectType = exports.hasOwnProperty = void 0;\nexports.hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction objectType(object) {\n    if (object === undefined) {\n        return 'undefined';\n    }\n    if (object === null) {\n        return 'null';\n    }\n    if (Array.isArray(object)) {\n        return 'array';\n    }\n    return typeof object;\n}\nexports.objectType = objectType;\nfunction isNonPrimitive(value) {\n    // loose-equality checking for null is faster than strict checking for each of null/undefined/true/false\n    // checking null first, then calling typeof, is faster than vice-versa\n    return value != null && typeof value == 'object';\n}\n/**\nRecursively copy a value.\n\n@param source - should be a JavaScript primitive, Array, Date, or (plain old) Object.\n@returns copy of source where every Array and Object have been recursively\n         reconstructed from their constituent elements\n*/\nfunction clone(source) {\n    if (!isNonPrimitive(source)) {\n        // short-circuiting is faster than a single return\n        return source;\n    }\n    // x.constructor == Array is the fastest way to check if x is an Array\n    if (source.constructor == Array) {\n        // construction via imperative for-loop is faster than source.map(arrayVsObject)\n        var length_1 = source.length;\n        // setting the Array length during construction is faster than just `[]` or `new Array()`\n        var arrayTarget = new Array(length_1);\n        for (var i = 0; i < length_1; i++) {\n            arrayTarget[i] = clone(source[i]);\n        }\n        return arrayTarget;\n    }\n    // Date\n    if (source.constructor == Date) {\n        var dateTarget = new Date(+source);\n        return dateTarget;\n    }\n    // Object\n    var objectTarget = {};\n    // declaring the variable (with const) inside the loop is faster\n    for (var key in source) {\n        // hasOwnProperty costs a bit of performance, but it's semantically necessary\n        // using a global helper is MUCH faster than calling source.hasOwnProperty(key)\n        if (exports.hasOwnProperty.call(source, key)) {\n            objectTarget[key] = clone(source[key]);\n        }\n    }\n    return objectTarget;\n}\nexports.clone = clone;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmZjNjkwMi91dGlsLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWEsR0FBRyxrQkFBa0IsR0FBRyxzQkFBc0I7QUFDM0Qsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZmM2OTAyL3V0aWwuanM/MjdiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2xvbmUgPSBleHBvcnRzLm9iamVjdFR5cGUgPSBleHBvcnRzLmhhc093blByb3BlcnR5ID0gdm9pZCAwO1xuZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBvYmplY3RUeXBlKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgfVxuICAgIGlmIChvYmplY3QgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3Q7XG59XG5leHBvcnRzLm9iamVjdFR5cGUgPSBvYmplY3RUeXBlO1xuZnVuY3Rpb24gaXNOb25QcmltaXRpdmUodmFsdWUpIHtcbiAgICAvLyBsb29zZS1lcXVhbGl0eSBjaGVja2luZyBmb3IgbnVsbCBpcyBmYXN0ZXIgdGhhbiBzdHJpY3QgY2hlY2tpbmcgZm9yIGVhY2ggb2YgbnVsbC91bmRlZmluZWQvdHJ1ZS9mYWxzZVxuICAgIC8vIGNoZWNraW5nIG51bGwgZmlyc3QsIHRoZW4gY2FsbGluZyB0eXBlb2YsIGlzIGZhc3RlciB0aGFuIHZpY2UtdmVyc2FcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG4vKipcblJlY3Vyc2l2ZWx5IGNvcHkgYSB2YWx1ZS5cblxuQHBhcmFtIHNvdXJjZSAtIHNob3VsZCBiZSBhIEphdmFTY3JpcHQgcHJpbWl0aXZlLCBBcnJheSwgRGF0ZSwgb3IgKHBsYWluIG9sZCkgT2JqZWN0LlxuQHJldHVybnMgY29weSBvZiBzb3VyY2Ugd2hlcmUgZXZlcnkgQXJyYXkgYW5kIE9iamVjdCBoYXZlIGJlZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgIHJlY29uc3RydWN0ZWQgZnJvbSB0aGVpciBjb25zdGl0dWVudCBlbGVtZW50c1xuKi9cbmZ1bmN0aW9uIGNsb25lKHNvdXJjZSkge1xuICAgIGlmICghaXNOb25QcmltaXRpdmUoc291cmNlKSkge1xuICAgICAgICAvLyBzaG9ydC1jaXJjdWl0aW5nIGlzIGZhc3RlciB0aGFuIGEgc2luZ2xlIHJldHVyblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cbiAgICAvLyB4LmNvbnN0cnVjdG9yID09IEFycmF5IGlzIHRoZSBmYXN0ZXN0IHdheSB0byBjaGVjayBpZiB4IGlzIGFuIEFycmF5XG4gICAgaWYgKHNvdXJjZS5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xuICAgICAgICAvLyBjb25zdHJ1Y3Rpb24gdmlhIGltcGVyYXRpdmUgZm9yLWxvb3AgaXMgZmFzdGVyIHRoYW4gc291cmNlLm1hcChhcnJheVZzT2JqZWN0KVxuICAgICAgICB2YXIgbGVuZ3RoXzEgPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICAvLyBzZXR0aW5nIHRoZSBBcnJheSBsZW5ndGggZHVyaW5nIGNvbnN0cnVjdGlvbiBpcyBmYXN0ZXIgdGhhbiBqdXN0IGBbXWAgb3IgYG5ldyBBcnJheSgpYFxuICAgICAgICB2YXIgYXJyYXlUYXJnZXQgPSBuZXcgQXJyYXkobGVuZ3RoXzEpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aF8xOyBpKyspIHtcbiAgICAgICAgICAgIGFycmF5VGFyZ2V0W2ldID0gY2xvbmUoc291cmNlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlUYXJnZXQ7XG4gICAgfVxuICAgIC8vIERhdGVcbiAgICBpZiAoc291cmNlLmNvbnN0cnVjdG9yID09IERhdGUpIHtcbiAgICAgICAgdmFyIGRhdGVUYXJnZXQgPSBuZXcgRGF0ZSgrc291cmNlKTtcbiAgICAgICAgcmV0dXJuIGRhdGVUYXJnZXQ7XG4gICAgfVxuICAgIC8vIE9iamVjdFxuICAgIHZhciBvYmplY3RUYXJnZXQgPSB7fTtcbiAgICAvLyBkZWNsYXJpbmcgdGhlIHZhcmlhYmxlICh3aXRoIGNvbnN0KSBpbnNpZGUgdGhlIGxvb3AgaXMgZmFzdGVyXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAvLyBoYXNPd25Qcm9wZXJ0eSBjb3N0cyBhIGJpdCBvZiBwZXJmb3JtYW5jZSwgYnV0IGl0J3Mgc2VtYW50aWNhbGx5IG5lY2Vzc2FyeVxuICAgICAgICAvLyB1c2luZyBhIGdsb2JhbCBoZWxwZXIgaXMgTVVDSCBmYXN0ZXIgdGhhbiBjYWxsaW5nIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpXG4gICAgICAgIGlmIChleHBvcnRzLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICBvYmplY3RUYXJnZXRba2V5XSA9IGNsb25lKHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0VGFyZ2V0O1xufVxuZXhwb3J0cy5jbG9uZSA9IGNsb25lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/rfc6902/util.js\n"));

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/objectSpread2.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _objectSpread2; }\n/* harmony export */ });\n/* harmony import */ var _defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defineProperty.js */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0,_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDs7QUFFakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVlO0FBQ2Ysa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0EsTUFBTSw4REFBYztBQUNwQixLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcz9lNWNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZpbmVQcm9wZXJ0eSBmcm9tIFwiLi9kZWZpbmVQcm9wZXJ0eS5qc1wiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgfVxuXG4gIHJldHVybiBrZXlzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n"));

/***/ }),

/***/ "./node_modules/@socket.io/component-emitter/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@socket.io/component-emitter/index.mjs ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Emitter\": function() { return /* binding */ Emitter; }\n/* harmony export */ });\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlci9pbmRleC5tanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQixZQUFZO0FBQ1o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlci9pbmRleC5tanM/N2JkNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub24gPVxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxuICAgIC5wdXNoKGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgb24uZm4gPSBmbjtcbiAgdGhpcy5vbihldmVudCwgb24pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICAvLyBhbGxcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcblxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXG4gIHZhciBjYjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBldmVudCBzcGVjaWZpYyBhcnJheXMgZm9yIGV2ZW50IHR5cGVzIHRoYXQgbm9cbiAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxuICBpZiAoY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtNaXhlZH0gLi4uXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSlcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIGlmIChjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gYWxpYXMgdXNlZCBmb3IgcmVzZXJ2ZWQgZXZlbnRzIChwcm90ZWN0ZWQgbWV0aG9kKVxuRW1pdHRlci5wcm90b3R5cGUuZW1pdFJlc2VydmVkID0gRW1pdHRlci5wcm90b3R5cGUuZW1pdDtcblxuLyoqXG4gKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xuICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@socket.io/component-emitter/index.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_array_like_to_array.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_array_like_to_array.mjs ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _arrayLikeToArray; }\n/* harmony export */ });\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fYXJyYXlfbGlrZV90b19hcnJheS5tanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Ac3djL2hlbHBlcnMvc3JjL19hcnJheV9saWtlX3RvX2FycmF5Lm1qcz83Y2E2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_array_like_to_array.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_array_without_holes.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_array_without_holes.mjs ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _arrayWithoutHoles; }\n/* harmony export */ });\n/* harmony import */ var _array_like_to_array_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_array_like_to_array.mjs */ \"./node_modules/@swc/helpers/src/_array_like_to_array.mjs\");\n\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return (0,_array_like_to_array_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arr);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fYXJyYXlfd2l0aG91dF9ob2xlcy5tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkQ7O0FBRTVDO0FBQ2YsaUNBQWlDLG9FQUFpQjtBQUNsRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fYXJyYXlfd2l0aG91dF9ob2xlcy5tanM/NDA5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2FycmF5TGlrZVRvQXJyYXkgZnJvbSAnLi9fYXJyYXlfbGlrZV90b19hcnJheS5tanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_array_without_holes.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_iterable_to_array.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_iterable_to_array.mjs ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _iterableToArray; }\n/* harmony export */ });\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9faXRlcmFibGVfdG9fYXJyYXkubWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX2l0ZXJhYmxlX3RvX2FycmF5Lm1qcz8xYzY0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_iterable_to_array.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_non_iterable_spread.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_non_iterable_spread.mjs ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _nonIterableSpread; }\n/* harmony export */ });\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fbm9uX2l0ZXJhYmxlX3NwcmVhZC5tanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fbm9uX2l0ZXJhYmxlX3NwcmVhZC5tanM/MWNhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXFxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_non_iterable_spread.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_object_spread_props.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_object_spread_props.mjs ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _objectSpreadProps; }\n/* harmony export */ });\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nfunction _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fb2JqZWN0X3NwcmVhZF9wcm9wcy5tanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX29iamVjdF9zcHJlYWRfcHJvcHMubWpzPzRlMDUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHtcbiAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFNwcmVhZFByb3BzKHRhcmdldCwgc291cmNlKSB7XG4gIHNvdXJjZSA9IHNvdXJjZSAhPSBudWxsID8gc291cmNlIDoge31cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgfSBlbHNlIHtcbiAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBrZXksXG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_object_spread_props.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_tagged_template_literal.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_tagged_template_literal.mjs ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _taggedTemplateLiteral; }\n/* harmony export */ });\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fdGFnZ2VkX3RlbXBsYXRlX2xpdGVyYWwubWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fdGFnZ2VkX3RlbXBsYXRlX2xpdGVyYWwubWpzPzg0MWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChzdHJpbmdzLCByYXcpIHtcbiAgaWYgKCFyYXcpIHtcbiAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywge1xuICAgIHJhdzoge1xuICAgICAgdmFsdWU6IE9iamVjdC5mcmVlemUocmF3KVxuICAgIH1cbiAgfSkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_tagged_template_literal.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_to_consumable_array.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_to_consumable_array.mjs ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _toConsumableArray; }\n/* harmony export */ });\n/* harmony import */ var _array_without_holes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_array_without_holes.mjs */ \"./node_modules/@swc/helpers/src/_array_without_holes.mjs\");\n/* harmony import */ var _iterable_to_array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_iterable_to_array.mjs */ \"./node_modules/@swc/helpers/src/_iterable_to_array.mjs\");\n/* harmony import */ var _non_iterable_spread_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_non_iterable_spread.mjs */ \"./node_modules/@swc/helpers/src/_non_iterable_spread.mjs\");\n/* harmony import */ var _unsupported_iterable_to_array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_unsupported_iterable_to_array.mjs */ \"./node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs\");\n\n\n\n\n\nfunction _toConsumableArray(arr) {\n  return (0,_array_without_holes_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arr) || (0,_iterable_to_array_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(arr) || (0,_unsupported_iterable_to_array_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(arr) || (0,_non_iterable_spread_mjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fdG9fY29uc3VtYWJsZV9hcnJheS5tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkQ7QUFDSjtBQUNJO0FBQ21COztBQUUvRDtBQUNmLFNBQVMsb0VBQWlCLFNBQVMsa0VBQWUsU0FBUyw4RUFBMEIsU0FBUyxvRUFBaUI7QUFDL0ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX3RvX2NvbnN1bWFibGVfYXJyYXkubWpzP2IwYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gJy4vX2FycmF5X3dpdGhvdXRfaG9sZXMubWpzJztcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSAnLi9faXRlcmFibGVfdG9fYXJyYXkubWpzJztcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tICcuL19ub25faXRlcmFibGVfc3ByZWFkLm1qcyc7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSAnLi9fdW5zdXBwb3J0ZWRfaXRlcmFibGVfdG9fYXJyYXkubWpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_to_consumable_array.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _unsupportedIterableToArray; }\n/* harmony export */ });\n/* harmony import */ var _array_like_to_array_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_array_like_to_array.mjs */ \"./node_modules/@swc/helpers/src/_array_like_to_array.mjs\");\n\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return (0,_array_like_to_array_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return (0,_array_like_to_array_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(o, minLen);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fdW5zdXBwb3J0ZWRfaXRlcmFibGVfdG9fYXJyYXkubWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJEOztBQUU1QztBQUNmO0FBQ0Esb0NBQW9DLG9FQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0VBQWlCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Ac3djL2hlbHBlcnMvc3JjL191bnN1cHBvcnRlZF9pdGVyYWJsZV90b19hcnJheS5tanM/YWI1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2FycmF5TGlrZVRvQXJyYXkgZnJvbSAnLi9fYXJyYXlfbGlrZV90b19hcnJheS5tanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG4pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlcbiAgICByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/contrib/has-cors.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/contrib/has-cors.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasCORS\": function() { return /* binding */ hasCORS; }\n/* harmony export */ });\n// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nconst hasCORS = value;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9oYXMtY29ycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9oYXMtY29ycy5qcz9lMGEyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvbmVudC9oYXMtY29yc1xubGV0IHZhbHVlID0gZmFsc2U7XG50cnkge1xuICAgIHZhbHVlID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbn1cbmNhdGNoIChlcnIpIHtcbiAgICAvLyBpZiBYTUxIdHRwIHN1cHBvcnQgaXMgZGlzYWJsZWQgaW4gSUUgdGhlbiBpdCB3aWxsIHRocm93XG4gICAgLy8gd2hlbiB0cnlpbmcgdG8gY3JlYXRlXG59XG5leHBvcnQgY29uc3QgaGFzQ09SUyA9IHZhbHVlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/contrib/has-cors.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/contrib/parseqs.js":
/*!********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/contrib/parseqs.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"decode\": function() { return /* binding */ decode; },\n/* harmony export */   \"encode\": function() { return /* binding */ encode; }\n/* harmony export */ });\n// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nfunction encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nfunction decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXFzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esc0NBQXNDLE9BQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXFzLmpzP2EwNWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2Fsa24vcXVlcnlzdHJpbmdcbi8qKlxuICogQ29tcGlsZXMgYSBxdWVyeXN0cmluZ1xuICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGUob2JqKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHN0ciArPSAnJic7XG4gICAgICAgICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogUGFyc2VzIGEgc2ltcGxlIHF1ZXJ5c3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHFzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShxcykge1xuICAgIGxldCBxcnkgPSB7fTtcbiAgICBsZXQgcGFpcnMgPSBxcy5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcGFpcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGxldCBwYWlyID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgcXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgfVxuICAgIHJldHVybiBxcnk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/contrib/parseqs.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/contrib/parseuri.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/contrib/parseuri.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"parse\": function() { return /* binding */ parse; }\n/* harmony export */ });\n// imported from https://github.com/galkn/parseuri\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nfunction parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXVyaS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsSUFBSSxHQUFHLElBQUksU0FBUyxJQUFJO0FBQ25JO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFLGtGQUFrRjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixJQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXVyaS5qcz9mZmNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhbGtuL3BhcnNldXJpXG4vKipcbiAqIFBhcnNlcyBhbiBVUklcbiAqXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuY29uc3QgcmUgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcbmNvbnN0IHBhcnRzID0gW1xuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xuXTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgICBjb25zdCBzcmMgPSBzdHIsIGIgPSBzdHIuaW5kZXhPZignWycpLCBlID0gc3RyLmluZGV4T2YoJ10nKTtcbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgYikgKyBzdHIuc3Vic3RyaW5nKGIsIGUpLnJlcGxhY2UoLzovZywgJzsnKSArIHN0ci5zdWJzdHJpbmcoZSwgc3RyLmxlbmd0aCk7XG4gICAgfVxuICAgIGxldCBtID0gcmUuZXhlYyhzdHIgfHwgJycpLCB1cmkgPSB7fSwgaSA9IDE0O1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdXJpW3BhcnRzW2ldXSA9IG1baV0gfHwgJyc7XG4gICAgfVxuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgdXJpLnNvdXJjZSA9IHNyYztcbiAgICAgICAgdXJpLmhvc3QgPSB1cmkuaG9zdC5zdWJzdHJpbmcoMSwgdXJpLmhvc3QubGVuZ3RoIC0gMSkucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eS5yZXBsYWNlKCdbJywgJycpLnJlcGxhY2UoJ10nLCAnJykucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuaXB2NnVyaSA9IHRydWU7XG4gICAgfVxuICAgIHVyaS5wYXRoTmFtZXMgPSBwYXRoTmFtZXModXJpLCB1cmlbJ3BhdGgnXSk7XG4gICAgdXJpLnF1ZXJ5S2V5ID0gcXVlcnlLZXkodXJpLCB1cmlbJ3F1ZXJ5J10pO1xuICAgIHJldHVybiB1cmk7XG59XG5mdW5jdGlvbiBwYXRoTmFtZXMob2JqLCBwYXRoKSB7XG4gICAgY29uc3QgcmVneCA9IC9cXC97Miw5fS9nLCBuYW1lcyA9IHBhdGgucmVwbGFjZShyZWd4LCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXRoLnN1YnN0cigwLCAxKSA9PSAnLycgfHwgcGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmFtZXMuc3BsaWNlKDAsIDEpO1xuICAgIH1cbiAgICBpZiAocGF0aC5zdWJzdHIocGF0aC5sZW5ndGggLSAxLCAxKSA9PSAnLycpIHtcbiAgICAgICAgbmFtZXMuc3BsaWNlKG5hbWVzLmxlbmd0aCAtIDEsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXM7XG59XG5mdW5jdGlvbiBxdWVyeUtleSh1cmksIHF1ZXJ5KSB7XG4gICAgY29uc3QgZGF0YSA9IHt9O1xuICAgIHF1ZXJ5LnJlcGxhY2UoLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICBpZiAoJDEpIHtcbiAgICAgICAgICAgIGRhdGFbJDFdID0gJDI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/contrib/parseuri.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/contrib/yeast.js":
/*!******************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/contrib/yeast.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"decode\": function() { return /* binding */ decode; },\n/* harmony export */   \"encode\": function() { return /* binding */ encode; },\n/* harmony export */   \"yeast\": function() { return /* binding */ yeast; }\n/* harmony export */ });\n// imported from https://github.com/unshiftio/yeast\n\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi95ZWFzdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFlBQVk7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIveWVhc3QuanM/OGVjNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS91bnNoaWZ0aW8veWVhc3Rcbid1c2Ugc3RyaWN0JztcbmNvbnN0IGFscGhhYmV0ID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6LV8nLnNwbGl0KCcnKSwgbGVuZ3RoID0gNjQsIG1hcCA9IHt9O1xubGV0IHNlZWQgPSAwLCBpID0gMCwgcHJldjtcbi8qKlxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWVkIG51bWJlci5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtIFRoZSBudW1iZXIgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG51bWJlci5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGUobnVtKSB7XG4gICAgbGV0IGVuY29kZWQgPSAnJztcbiAgICBkbyB7XG4gICAgICAgIGVuY29kZWQgPSBhbHBoYWJldFtudW0gJSBsZW5ndGhdICsgZW5jb2RlZDtcbiAgICAgICAgbnVtID0gTWF0aC5mbG9vcihudW0gLyBsZW5ndGgpO1xuICAgIH0gd2hpbGUgKG51bSA+IDApO1xuICAgIHJldHVybiBlbmNvZGVkO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGludGVnZXIgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBnaXZlbiBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgaW50ZWdlciB2YWx1ZSByZXByZXNlbnRlZCBieSB0aGUgc3RyaW5nLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShzdHIpIHtcbiAgICBsZXQgZGVjb2RlZCA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBkZWNvZGVkID0gZGVjb2RlZCAqIGxlbmd0aCArIG1hcFtzdHIuY2hhckF0KGkpXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZWQ7XG59XG4vKipcbiAqIFllYXN0OiBBIHRpbnkgZ3Jvd2luZyBpZCBnZW5lcmF0b3IuXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gQSB1bmlxdWUgaWQuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24geWVhc3QoKSB7XG4gICAgY29uc3Qgbm93ID0gZW5jb2RlKCtuZXcgRGF0ZSgpKTtcbiAgICBpZiAobm93ICE9PSBwcmV2KVxuICAgICAgICByZXR1cm4gc2VlZCA9IDAsIHByZXYgPSBub3c7XG4gICAgcmV0dXJuIG5vdyArICcuJyArIGVuY29kZShzZWVkKyspO1xufVxuLy9cbi8vIE1hcCBlYWNoIGNoYXJhY3RlciB0byBpdHMgaW5kZXguXG4vL1xuZm9yICg7IGkgPCBsZW5ndGg7IGkrKylcbiAgICBtYXBbYWxwaGFiZXRbaV1dID0gaTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/contrib/yeast.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/globalThis.browser.js":
/*!***********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/globalThis.browser.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"globalThisShim\": function() { return /* binding */ globalThisShim; }\n/* harmony export */ });\nconst globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vZ2xvYmFsVGhpcy5icm93c2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2dsb2JhbFRoaXMuYnJvd3Nlci5qcz9lODM3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBnbG9iYWxUaGlzU2hpbSA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIH1cbn0pKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/globalThis.browser.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Socket\": function() { return /* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_0__.Socket; },\n/* harmony export */   \"Transport\": function() { return /* reexport safe */ _transport_js__WEBPACK_IMPORTED_MODULE_1__.Transport; },\n/* harmony export */   \"installTimerFunctions\": function() { return /* reexport safe */ _util_js__WEBPACK_IMPORTED_MODULE_3__.installTimerFunctions; },\n/* harmony export */   \"parse\": function() { return /* reexport safe */ _contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_4__.parse; },\n/* harmony export */   \"protocol\": function() { return /* binding */ protocol; },\n/* harmony export */   \"transports\": function() { return /* reexport safe */ _transports_index_js__WEBPACK_IMPORTED_MODULE_2__.transports; }\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/engine.io-client/build/esm/socket.js\");\n/* harmony import */ var _transport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transport.js */ \"./node_modules/engine.io-client/build/esm/transport.js\");\n/* harmony import */ var _transports_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transports/index.js */ \"./node_modules/engine.io-client/build/esm/transports/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contrib/parseuri.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseuri.js\");\n\n\nconst protocol = _socket_js__WEBPACK_IMPORTED_MODULE_0__.Socket.protocol;\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBcUM7QUFDbkI7QUFDWCxpQkFBaUIsdURBQWU7QUFDSTtBQUNRO0FBQ0Q7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vaW5kZXguanM/OTViYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmV4cG9ydCB7IFNvY2tldCB9O1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gU29ja2V0LnByb3RvY29sO1xuZXhwb3J0IHsgVHJhbnNwb3J0IH0gZnJvbSBcIi4vdHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgeyB0cmFuc3BvcnRzIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9pbmRleC5qc1wiO1xuZXhwb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/socket.js":
/*!***********************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/socket.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Socket\": function() { return /* binding */ Socket; }\n/* harmony export */ });\n/* harmony import */ var _transports_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transports/index.js */ \"./node_modules/engine.io-client/build/esm/transports/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contrib/parseqs.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseqs.js\");\n/* harmony import */ var _contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contrib/parseuri.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseuri.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/index.mjs\");\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n\n\n\n\n\n\nclass Socket extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_4__.Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = (0,_contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_3__.parse)(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = (0,_contrib_parseuri_js__WEBPACK_IMPORTED_MODULE_3__.parse)(opts.host).host;\n        }\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.installTimerFunctions)(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = (0,_contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_2__.decode)(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                addEventListener(\"beforeunload\", () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                }, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\"\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = engine_io_parser__WEBPACK_IMPORTED_MODULE_5__.protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        return new _transports_index_js__WEBPACK_IMPORTED_MODULE_0__.transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", reason => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.byteLength)(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = engine_io_parser__WEBPACK_IMPORTED_MODULE_5__.protocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vc29ja2V0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUQ7QUFDVztBQUNoQjtBQUNBO0FBQ1M7QUFDWDtBQUNyQyxxQkFBcUIsaUVBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwyREFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyREFBSztBQUNqQztBQUNBLFFBQVEsK0RBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDO0FBQ2hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw4QkFBOEIsMkRBQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLG9CQUFvQixzREFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzREFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vc29ja2V0LmpzP2IwZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHJhbnNwb3J0cyB9IGZyb20gXCIuL3RyYW5zcG9ydHMvaW5kZXguanNcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgYnl0ZUxlbmd0aCB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCIuL2NvbnRyaWIvcGFyc2Vxcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IHByb3RvY29sIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmV4cG9ydCBjbGFzcyBTb2NrZXQgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBTb2NrZXQgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHVyaSBvciBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAodXJpICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiB1cmkpIHtcbiAgICAgICAgICAgIG9wdHMgPSB1cmk7XG4gICAgICAgICAgICB1cmkgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmkpIHtcbiAgICAgICAgICAgIHVyaSA9IHBhcnNlKHVyaSk7XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lID0gdXJpLmhvc3Q7XG4gICAgICAgICAgICBvcHRzLnNlY3VyZSA9IHVyaS5wcm90b2NvbCA9PT0gXCJodHRwc1wiIHx8IHVyaS5wcm90b2NvbCA9PT0gXCJ3c3NcIjtcbiAgICAgICAgICAgIG9wdHMucG9ydCA9IHVyaS5wb3J0O1xuICAgICAgICAgICAgaWYgKHVyaS5xdWVyeSlcbiAgICAgICAgICAgICAgICBvcHRzLnF1ZXJ5ID0gdXJpLnF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdHMuaG9zdCkge1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHBhcnNlKG9wdHMuaG9zdCkuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMuc2VjdXJlID1cbiAgICAgICAgICAgIG51bGwgIT0gb3B0cy5zZWN1cmVcbiAgICAgICAgICAgICAgICA/IG9wdHMuc2VjdXJlXG4gICAgICAgICAgICAgICAgOiB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgXCJodHRwczpcIiA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgIGlmIChvcHRzLmhvc3RuYW1lICYmICFvcHRzLnBvcnQpIHtcbiAgICAgICAgICAgIC8vIGlmIG5vIHBvcnQgaXMgc3BlY2lmaWVkIG1hbnVhbGx5LCB1c2UgdGhlIHByb3RvY29sIGRlZmF1bHRcbiAgICAgICAgICAgIG9wdHMucG9ydCA9IHRoaXMuc2VjdXJlID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3RuYW1lID1cbiAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiID8gbG9jYXRpb24uaG9zdG5hbWUgOiBcImxvY2FsaG9zdFwiKTtcbiAgICAgICAgdGhpcy5wb3J0ID1cbiAgICAgICAgICAgIG9wdHMucG9ydCB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24ucG9ydFxuICAgICAgICAgICAgICAgICAgICA/IGxvY2F0aW9uLnBvcnRcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnNlY3VyZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjQ0M1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiODBcIik7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0cyA9IG9wdHMudHJhbnNwb3J0cyB8fCBbXCJwb2xsaW5nXCIsIFwid2Vic29ja2V0XCJdO1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIlwiO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgcGF0aDogXCIvZW5naW5lLmlvXCIsXG4gICAgICAgICAgICBhZ2VudDogZmFsc2UsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgdXBncmFkZTogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcmFtOiBcInRcIixcbiAgICAgICAgICAgIHJlbWVtYmVyVXBncmFkZTogZmFsc2UsXG4gICAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICAgICAgICBwZXJNZXNzYWdlRGVmbGF0ZToge1xuICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMTAyNFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHt9LFxuICAgICAgICAgICAgY2xvc2VPbkJlZm9yZXVubG9hZDogdHJ1ZVxuICAgICAgICB9LCBvcHRzKTtcbiAgICAgICAgdGhpcy5vcHRzLnBhdGggPSB0aGlzLm9wdHMucGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIikgKyBcIi9cIjtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMucXVlcnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0cy5xdWVyeSA9IGRlY29kZSh0aGlzLm9wdHMucXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBvbiBoYW5kc2hha2VcbiAgICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICAgIHRoaXMudXBncmFkZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnBpbmdJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBudWxsO1xuICAgICAgICAvLyBzZXQgb24gaGVhcnRiZWF0XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXRUaW1lciA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsb3NlT25CZWZvcmV1bmxvYWQpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94IGNsb3NlcyB0aGUgY29ubmVjdGlvbiB3aGVuIHRoZSBcImJlZm9yZXVubG9hZFwiIGV2ZW50IGlzIGVtaXR0ZWQgYnV0IG5vdCBDaHJvbWUuIFRoaXMgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmVzIGV2ZXJ5IGJyb3dzZXIgYmVoYXZlcyB0aGUgc2FtZSAobm8gXCJkaXNjb25uZWN0XCIgZXZlbnQgYXQgdGhlIFNvY2tldC5JTyBsZXZlbCB3aGVuIHRoZSBwYWdlIGlzXG4gICAgICAgICAgICAgICAgLy8gY2xvc2VkL3JlbG9hZGVkKVxuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbGVudGx5IGNsb3NlIHRoZSB0cmFuc3BvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhvc3RuYW1lICE9PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZsaW5lRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIm5ldHdvcmsgY29ubmVjdGlvbiBsb3N0XCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdHJhbnNwb3J0IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zcG9ydCBuYW1lXG4gICAgICogQHJldHVybiB7VHJhbnNwb3J0fVxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZVRyYW5zcG9ydChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgLy8gYXBwZW5kIGVuZ2luZS5pbyBwcm90b2NvbCBpZGVudGlmaWVyXG4gICAgICAgIHF1ZXJ5LkVJTyA9IHByb3RvY29sO1xuICAgICAgICAvLyB0cmFuc3BvcnQgbmFtZVxuICAgICAgICBxdWVyeS50cmFuc3BvcnQgPSBuYW1lO1xuICAgICAgICAvLyBzZXNzaW9uIGlkIGlmIHdlIGFscmVhZHkgaGF2ZSBvbmVcbiAgICAgICAgaWYgKHRoaXMuaWQpXG4gICAgICAgICAgICBxdWVyeS5zaWQgPSB0aGlzLmlkO1xuICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbbmFtZV0sIHRoaXMub3B0cywge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICBzb2NrZXQ6IHRoaXMsXG4gICAgICAgICAgICBob3N0bmFtZTogdGhpcy5ob3N0bmFtZSxcbiAgICAgICAgICAgIHNlY3VyZTogdGhpcy5zZWN1cmUsXG4gICAgICAgICAgICBwb3J0OiB0aGlzLnBvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgdHJhbnNwb3J0c1tuYW1lXShvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdHJhbnNwb3J0IHRvIHVzZSBhbmQgc3RhcnRzIHByb2JlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgbGV0IHRyYW5zcG9ydDtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5yZW1lbWJlclVwZ3JhZGUgJiZcbiAgICAgICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gXCJ3ZWJzb2NrZXRcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgwID09PSB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBFbWl0IGVycm9yIG9uIG5leHQgdGljayBzbyBpdCBjYW4gYmUgbGlzdGVuZWQgdG9cbiAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IHRoaXMudHJhbnNwb3J0c1swXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjtcbiAgICAgICAgLy8gUmV0cnkgd2l0aCB0aGUgbmV4dCB0cmFuc3BvcnQgaWYgdGhlIHRyYW5zcG9ydCBpcyBkaXNhYmxlZCAoanNvbnA6IGZhbHNlKVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydC4gRGlzYWJsZXMgdGhlIGV4aXN0aW5nIG9uZSAoaWYgYW55KS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldFRyYW5zcG9ydCh0cmFuc3BvcnQpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdXAgdHJhbnNwb3J0XG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICAvLyBzZXQgdXAgdHJhbnNwb3J0IGxpc3RlbmVyc1xuICAgICAgICB0cmFuc3BvcnRcbiAgICAgICAgICAgIC5vbihcImRyYWluXCIsIHRoaXMub25EcmFpbi5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwicGFja2V0XCIsIHRoaXMub25QYWNrZXQuYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5vbihcImVycm9yXCIsIHRoaXMub25FcnJvci5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwiY2xvc2VcIiwgcmVhc29uID0+IHRoaXMub25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiLCByZWFzb24pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvYmVzIGEgdHJhbnNwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zcG9ydCBuYW1lXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcHJvYmUobmFtZSkge1xuICAgICAgICBsZXQgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQobmFtZSk7XG4gICAgICAgIGxldCBmYWlsZWQgPSBmYWxzZTtcbiAgICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBvblRyYW5zcG9ydE9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5zZW5kKFt7IHR5cGU6IFwicGluZ1wiLCBkYXRhOiBcInByb2JlXCIgfV0pO1xuICAgICAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJwYWNrZXRcIiwgbXNnID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKFwicG9uZ1wiID09PSBtc2cudHlwZSAmJiBcInByb2JlXCIgPT09IG1zZy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBncmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRpbmdcIiwgdHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc3BvcnQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBcIndlYnNvY2tldFwiID09PSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucGF1c2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiBcInVwZ3JhZGVcIiB9XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVcIiwgdHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZ3JhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcInByb2JlIGVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGVyci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlRXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZnJlZXplVHJhbnNwb3J0KCkge1xuICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBBbnkgY2FsbGJhY2sgY2FsbGVkIGJ5IHRyYW5zcG9ydCBzaG91bGQgYmUgaWdub3JlZCBzaW5jZSBub3dcbiAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICB0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGFueSBlcnJvciB0aGF0IGhhcHBlbnMgd2hpbGUgcHJvYmluZ1xuICAgICAgICBjb25zdCBvbmVycm9yID0gZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3I6IFwiICsgZXJyKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGVycm9yLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVFcnJvclwiLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIG9uVHJhbnNwb3J0Q2xvc2UoKSB7XG4gICAgICAgICAgICBvbmVycm9yKFwidHJhbnNwb3J0IGNsb3NlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBzb2NrZXQgaXMgY2xvc2VkIHdoaWxlIHdlJ3JlIHByb2JpbmdcbiAgICAgICAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICAgICAgICAgIG9uZXJyb3IoXCJzb2NrZXQgY2xvc2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNvY2tldCBpcyB1cGdyYWRlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gICAgICAgIGZ1bmN0aW9uIG9udXBncmFkZSh0bykge1xuICAgICAgICAgICAgaWYgKHRyYW5zcG9ydCAmJiB0by5uYW1lICE9PSB0cmFuc3BvcnQubmFtZSkge1xuICAgICAgICAgICAgICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIG9uIHRoZSB0cmFuc3BvcnQgYW5kIG9uIHNlbGZcbiAgICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcIm9wZW5cIiwgb25UcmFuc3BvcnRPcGVuKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIG9uZXJyb3IpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9mZihcImNsb3NlXCIsIG9uY2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJ1cGdyYWRpbmdcIiwgb251cGdyYWRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJvcGVuXCIsIG9uVHJhbnNwb3J0T3Blbik7XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKFwiZXJyb3JcIiwgb25lcnJvcik7XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKFwiY2xvc2VcIiwgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgICAgIHRoaXMub25jZShcImNsb3NlXCIsIG9uY2xvc2UpO1xuICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRpbmdcIiwgb251cGdyYWRlKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBkZWVtZWQgb3Blbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uT3BlbigpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBcIndlYnNvY2tldFwiID09PSB0aGlzLnRyYW5zcG9ydC5uYW1lO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgLy8gd2UgY2hlY2sgZm9yIGByZWFkeVN0YXRlYCBpbiBjYXNlIGFuIGBvcGVuYFxuICAgICAgICAvLyBsaXN0ZW5lciBhbHJlYWR5IGNsb3NlZCB0aGUgc29ja2V0XG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlICYmXG4gICAgICAgICAgICB0aGlzLm9wdHMudXBncmFkZSAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucGF1c2UpIHtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGwgPSB0aGlzLnVwZ3JhZGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9iZSh0aGlzLnVwZ3JhZGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25QYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgLy8gU29ja2V0IGlzIGxpdmUgLSBhbnkgcGFja2V0IGNvdW50c1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJoZWFydGJlYXRcIik7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkhhbmRzaGFrZShKU09OLnBhcnNlKHBhY2tldC5kYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQaW5nVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRQYWNrZXQoXCJwb25nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicG9uZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcInNlcnZlciBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBlcnIuY29kZSA9IHBhY2tldC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkYXRhXCIsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJtZXNzYWdlXCIsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gaGFuZHNoYWtlIGNvbXBsZXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIGhhbmRzaGFrZSBvYmpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkhhbmRzaGFrZShkYXRhKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGFuZHNoYWtlXCIsIGRhdGEpO1xuICAgICAgICB0aGlzLmlkID0gZGF0YS5zaWQ7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICAgICAgICB0aGlzLnVwZ3JhZGVzID0gdGhpcy5maWx0ZXJVcGdyYWRlcyhkYXRhLnVwZ3JhZGVzKTtcbiAgICAgICAgdGhpcy5waW5nSW50ZXJ2YWwgPSBkYXRhLnBpbmdJbnRlcnZhbDtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IGRhdGEucGluZ1RpbWVvdXQ7XG4gICAgICAgIHRoaXMubWF4UGF5bG9hZCA9IGRhdGEubWF4UGF5bG9hZDtcbiAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgLy8gSW4gY2FzZSBvcGVuIGhhbmRsZXIgY2xvc2VzIHNvY2tldFxuICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhbmQgcmVzZXRzIHBpbmcgdGltZW91dCB0aW1lciBiYXNlZCBvbiBzZXJ2ZXIgcGluZ3MuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICByZXNldFBpbmdUaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRoaXMucGluZ1RpbWVvdXRUaW1lcik7XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXRUaW1lciA9IHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZShcInBpbmcgdGltZW91dFwiKTtcbiAgICAgICAgfSwgdGhpcy5waW5nSW50ZXJ2YWwgKyB0aGlzLnBpbmdUaW1lb3V0KTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgIHRoaXMucGluZ1RpbWVvdXRUaW1lci51bnJlZigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbiBgZHJhaW5gIGV2ZW50XG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkRyYWluKCkge1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnNwbGljZSgwLCB0aGlzLnByZXZCdWZmZXJMZW4pO1xuICAgICAgICAvLyBzZXR0aW5nIHByZXZCdWZmZXJMZW4gPSAwIGlzIHZlcnkgaW1wb3J0YW50XG4gICAgICAgIC8vIGZvciBleGFtcGxlLCB3aGVuIHVwZ3JhZGluZywgdXBncmFkZSBwYWNrZXQgaXMgc2VudCBvdmVyLFxuICAgICAgICAvLyBhbmQgYSBub256ZXJvIHByZXZCdWZmZXJMZW4gY291bGQgY2F1c2UgcHJvYmxlbXMgb24gYGRyYWluYFxuICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICBpZiAoMCA9PT0gdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRmx1c2ggd3JpdGUgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC53cml0YWJsZSAmJlxuICAgICAgICAgICAgIXRoaXMudXBncmFkaW5nICYmXG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFja2V0cyA9IHRoaXMuZ2V0V3JpdGFibGVQYWNrZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHBhY2tldHMpO1xuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGxlbmd0aCBvZiB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgLy8gc3BsaWNlIHdyaXRlQnVmZmVyIGFuZCBjYWxsYmFja0J1ZmZlciBvbiBgZHJhaW5gXG4gICAgICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSBwYWNrZXRzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZmx1c2hcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlIHRoZSBlbmNvZGVkIHNpemUgb2YgdGhlIHdyaXRlQnVmZmVyIGlzIGJlbG93IHRoZSBtYXhQYXlsb2FkIHZhbHVlIHNlbnQgYnkgdGhlIHNlcnZlciAob25seSBmb3IgSFRUUFxuICAgICAqIGxvbmctcG9sbGluZylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0V3JpdGFibGVQYWNrZXRzKCkge1xuICAgICAgICBjb25zdCBzaG91bGRDaGVja1BheWxvYWRTaXplID0gdGhpcy5tYXhQYXlsb2FkICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5uYW1lID09PSBcInBvbGxpbmdcIiAmJlxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGggPiAxO1xuICAgICAgICBpZiAoIXNob3VsZENoZWNrUGF5bG9hZFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXlsb2FkU2l6ZSA9IDE7IC8vIGZpcnN0IHBhY2tldCB0eXBlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMud3JpdGVCdWZmZXJbaV0uZGF0YTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYnl0ZUxlbmd0aChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID4gMCAmJiBwYXlsb2FkU2l6ZSA+IHRoaXMubWF4UGF5bG9hZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gMjsgLy8gc2VwYXJhdG9yICsgcGFja2V0IHR5cGVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7U29ja2V0fSBmb3IgY2hhaW5pbmcuXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICB3cml0ZShtc2csIG9wdGlvbnMsIGZuKSB7XG4gICAgICAgIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZW5kKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgdGhpcy5zZW5kUGFja2V0KFwibWVzc2FnZVwiLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhY2tldCB0eXBlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHNlbmRQYWNrZXQodHlwZSwgZGF0YSwgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGRhdGEpIHtcbiAgICAgICAgICAgIGZuID0gZGF0YTtcbiAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGZuID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLmNvbXByZXNzID0gZmFsc2UgIT09IG9wdGlvbnMuY29tcHJlc3M7XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldENyZWF0ZVwiLCBwYWNrZXQpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgaWYgKGZuKVxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiZmx1c2hcIiwgZm4pO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpO1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2xlYW51cEFuZENsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGVFcnJvclwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd2FpdEZvclVwZ3JhZGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciB1cGdyYWRlIHRvIGZpbmlzaCBzaW5jZSB3ZSBjYW4ndCBzZW5kIHBhY2tldHMgd2hpbGUgcGF1c2luZyBhIHRyYW5zcG9ydFxuICAgICAgICAgICAgdGhpcy5vbmNlKFwidXBncmFkZVwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vbmNlKFwidXBncmFkZUVycm9yXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2luZ1wiO1xuICAgICAgICAgICAgaWYgKHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwiZHJhaW5cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGdyYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRGb3JVcGdyYWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnVwZ3JhZGluZykge1xuICAgICAgICAgICAgICAgIHdhaXRGb3JVcGdyYWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgZXJyb3JcbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uRXJyb3IoZXJyKSB7XG4gICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IGNsb3NlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25DbG9zZShyZWFzb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBjbGVhciB0aW1lcnNcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgIC8vIHN0b3AgZXZlbnQgZnJvbSBmaXJpbmcgYWdhaW4gZm9yIHRyYW5zcG9ydFxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIik7XG4gICAgICAgICAgICAvLyBlbnN1cmUgdHJhbnNwb3J0IHdvbid0IHN0YXkgb3BlblxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBmdXJ0aGVyIHRyYW5zcG9ydCBjb21tdW5pY2F0aW9uXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5vZmZsaW5lRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IHJlYWR5IHN0YXRlXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgLy8gY2xlYXIgc2Vzc2lvbiBpZFxuICAgICAgICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbWl0IGNsb3NlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgLy8gY2xlYW4gYnVmZmVycyBhZnRlciwgc28gdXNlcnMgY2FuIHN0aWxsXG4gICAgICAgICAgICAvLyBncmFiIHRoZSBidWZmZXJzIG9uIGBjbG9zZWAgZXZlbnRcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlsdGVycyB1cGdyYWRlcywgcmV0dXJuaW5nIG9ubHkgdGhvc2UgbWF0Y2hpbmcgY2xpZW50IHRyYW5zcG9ydHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzZXJ2ZXIgdXBncmFkZXNcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIGZpbHRlclVwZ3JhZGVzKHVwZ3JhZGVzKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkVXBncmFkZXMgPSBbXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCBqID0gdXBncmFkZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgaWYgKH50aGlzLnRyYW5zcG9ydHMuaW5kZXhPZih1cGdyYWRlc1tpXSkpXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRVcGdyYWRlcy5wdXNoKHVwZ3JhZGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsdGVyZWRVcGdyYWRlcztcbiAgICB9XG59XG5Tb2NrZXQucHJvdG9jb2wgPSBwcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/socket.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/transport.js":
/*!**************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transport.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Transport\": function() { return /* binding */ Transport; }\n/* harmony export */ });\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/index.mjs\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n\n\n\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nclass Transport extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_2__.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_0__.decodePacket)(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0Q7QUFDTztBQUNMO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsaUVBQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtEQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOERBQVk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0LmpzP2ZmNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb2RlUGFja2V0IH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuY2xhc3MgVHJhbnNwb3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlcihyZWFzb24pO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogVHJhbnNwb3J0IGFic3RyYWN0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5xdWVyeSA9IG9wdHMucXVlcnk7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuc29ja2V0ID0gb3B0cy5zb2NrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJlYXNvblxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gdGhlIGVycm9yIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtUcmFuc3BvcnR9IGZvciBjaGFpbmluZ1xuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25FcnJvcihyZWFzb24sIGRlc2NyaXB0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIG5ldyBUcmFuc3BvcnRFcnJvcihyZWFzb24sIGRlc2NyaXB0aW9uLCBjb250ZXh0KSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgdHJhbnNwb3J0LlxuICAgICAqXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwiXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuaW5nXCI7XG4gICAgICAgICAgICB0aGlzLmRvT3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9DbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIG11bHRpcGxlIHBhY2tldHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWNrZXRzXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBzZW5kKHBhY2tldHMpIHtcbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUocGFja2V0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgdHJhbnNwb3J0IHdhcyBzaWxlbnRseSBjbG9zZWQgaW4gdGhlIGJlZm9yZXVubG9hZCBldmVudCBoYW5kbGVyXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gb3BlblxuICAgICAqXG4gICAgICogQGFwaSBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhXG4gICAgICogQGFwaSBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBwYWNrZXQgPSBkZWNvZGVQYWNrZXQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gICAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25QYWNrZXQocGFja2V0KSB7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLCBwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25DbG9zZShkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsIGRldGFpbHMpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transport.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/transports/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"transports\": function() { return /* binding */ transports; }\n/* harmony export */ });\n/* harmony import */ var _polling_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polling.js */ \"./node_modules/engine.io-client/build/esm/transports/polling.js\");\n/* harmony import */ var _websocket_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./websocket.js */ \"./node_modules/engine.io-client/build/esm/transports/websocket.js\");\n\n\nconst transports = {\n    websocket: _websocket_js__WEBPACK_IMPORTED_MODULE_1__.WS,\n    polling: _polling_js__WEBPACK_IMPORTED_MODULE_0__.Polling\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUM7QUFDSDtBQUM3QjtBQUNQLGVBQWUsNkNBQUU7QUFDakIsYUFBYSxnREFBTztBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9pbmRleC5qcz83OGQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvbGxpbmcgfSBmcm9tIFwiLi9wb2xsaW5nLmpzXCI7XG5pbXBvcnQgeyBXUyB9IGZyb20gXCIuL3dlYnNvY2tldC5qc1wiO1xuZXhwb3J0IGNvbnN0IHRyYW5zcG9ydHMgPSB7XG4gICAgd2Vic29ja2V0OiBXUyxcbiAgICBwb2xsaW5nOiBQb2xsaW5nXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/index.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/transports/polling.js":
/*!***********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/polling.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Polling\": function() { return /* binding */ Polling; },\n/* harmony export */   \"Request\": function() { return /* binding */ Request; }\n/* harmony export */ });\n/* harmony import */ var _transport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../transport.js */ \"./node_modules/engine.io-client/build/esm/transport.js\");\n/* harmony import */ var _contrib_yeast_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contrib/yeast.js */ \"./node_modules/engine.io-client/build/esm/contrib/yeast.js\");\n/* harmony import */ var _contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contrib/parseqs.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseqs.js\");\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n/* harmony import */ var _xmlhttprequest_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./xmlhttprequest.js */ \"./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/index.mjs\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _globalThis_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../globalThis.js */ \"./node_modules/engine.io-client/build/esm/globalThis.browser.js\");\n\n\n\n\n\n\n\n\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new _xmlhttprequest_js__WEBPACK_IMPORTED_MODULE_4__.XHR({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nclass Polling extends _transport_js__WEBPACK_IMPORTED_MODULE_0__.Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_3__.decodePayload)(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_3__.encodePayload)(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0,_contrib_yeast_js__WEBPACK_IMPORTED_MODULE_1__.yeast)();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = (0,_contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_2__.encode)(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nclass Request extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_5__.Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_6__.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = (0,_util_js__WEBPACK_IMPORTED_MODULE_6__.pick)(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new _xmlhttprequest_js__WEBPACK_IMPORTED_MODULE_4__.XHR(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in _globalThis_js__WEBPACK_IMPORTED_MODULE_7__.globalThisShim ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9wb2xsaW5nLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDQTtBQUNHO0FBQ2lCO0FBQ0o7QUFDTDtBQUNFO0FBQ087QUFDaEU7QUFDQTtBQUNBLG9CQUFvQixtREFBYztBQUNsQztBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDTSxzQkFBc0Isb0RBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrQ0FBK0M7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixlQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0RBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsd0RBQUs7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkRBQU07QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLDhCQUE4QiwwQkFBMEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQixpRUFBTztBQUNwQztBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtEQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4Q0FBSTtBQUN6QjtBQUNBO0FBQ0Esb0NBQW9DLG1EQUFjO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwRUFBMEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvcG9sbGluZy5qcz9kY2I0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYW5zcG9ydCB9IGZyb20gXCIuLi90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB7IHllYXN0IH0gZnJvbSBcIi4uL2NvbnRyaWIveWVhc3QuanNcIjtcbmltcG9ydCB7IGVuY29kZSB9IGZyb20gXCIuLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmltcG9ydCB7IGVuY29kZVBheWxvYWQsIGRlY29kZVBheWxvYWQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgWEhSIGFzIFhNTEh0dHBSZXF1ZXN0IH0gZnJvbSBcIi4veG1saHR0cHJlcXVlc3QuanNcIjtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zLCBwaWNrIH0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbmltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi4vZ2xvYmFsVGhpcy5qc1wiO1xuZnVuY3Rpb24gZW1wdHkoKSB7IH1cbmNvbnN0IGhhc1hIUjIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCh7XG4gICAgICAgIHhkb21haW46IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIG51bGwgIT0geGhyLnJlc3BvbnNlVHlwZTtcbn0pKCk7XG5leHBvcnQgY2xhc3MgUG9sbGluZyBleHRlbmRzIFRyYW5zcG9ydCB7XG4gICAgLyoqXG4gICAgICogWEhSIFBvbGxpbmcgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihvcHRzKTtcbiAgICAgICAgdGhpcy5wb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzU1NMID0gXCJodHRwczpcIiA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgICAgICBsZXQgcG9ydCA9IGxvY2F0aW9uLnBvcnQ7XG4gICAgICAgICAgICAvLyBzb21lIHVzZXIgYWdlbnRzIGhhdmUgZW1wdHkgYGxvY2F0aW9uLnBvcnRgXG4gICAgICAgICAgICBpZiAoIXBvcnQpIHtcbiAgICAgICAgICAgICAgICBwb3J0ID0gaXNTU0wgPyBcIjQ0M1wiIDogXCI4MFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy54ZCA9XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICBvcHRzLmhvc3RuYW1lICE9PSBsb2NhdGlvbi5ob3N0bmFtZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgcG9ydCAhPT0gb3B0cy5wb3J0O1xuICAgICAgICAgICAgdGhpcy54cyA9IG9wdHMuc2VjdXJlICE9PSBpc1NTTDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogWEhSIHN1cHBvcnRzIGJpbmFyeVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZm9yY2VCYXNlNjQgPSBvcHRzICYmIG9wdHMuZm9yY2VCYXNlNjQ7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBoYXNYSFIyICYmICFmb3JjZUJhc2U2NDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNwb3J0IG5hbWUuXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcInBvbGxpbmdcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIHNvY2tldCAodHJpZ2dlcnMgcG9sbGluZykuIFdlIHdyaXRlIGEgUElORyBtZXNzYWdlIHRvIGRldGVybWluZVxuICAgICAqIHdoZW4gdGhlIHRyYW5zcG9ydCBpcyBvcGVuLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZG9PcGVuKCkge1xuICAgICAgICB0aGlzLnBvbGwoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2VzIHBvbGxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB1cG9uIGJ1ZmZlcnMgYXJlIGZsdXNoZWQgYW5kIHRyYW5zcG9ydCBpcyBwYXVzZWRcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBwYXVzZShvblBhdXNlKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwicGF1c2luZ1wiO1xuICAgICAgICBjb25zdCBwYXVzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwicGF1c2VkXCI7XG4gICAgICAgICAgICBvblBhdXNlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnBvbGxpbmcgfHwgIXRoaXMud3JpdGFibGUpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5wb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgdG90YWwrKztcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoXCJwb2xsQ29tcGxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMud3JpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCsrO1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcImRyYWluXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgcG9sbGluZyBjeWNsZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgcG9sbCgpIHtcbiAgICAgICAgdGhpcy5wb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kb1BvbGwoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVybG9hZHMgb25EYXRhIHRvIGRldGVjdCBwYXlsb2Fkcy5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcGFja2V0ID0+IHtcbiAgICAgICAgICAgIC8vIGlmIGl0cyB0aGUgZmlyc3QgbWVzc2FnZSB3ZSBjb25zaWRlciB0aGUgdHJhbnNwb3J0IG9wZW5cbiAgICAgICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlICYmIHBhY2tldC50eXBlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBpdHMgYSBjbG9zZSBwYWNrZXQsIHdlIGNsb3NlIHRoZSBvbmdvaW5nIHJlcXVlc3RzXG4gICAgICAgICAgICBpZiAoXCJjbG9zZVwiID09PSBwYWNrZXQudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25DbG9zZSh7IGRlc2NyaXB0aW9uOiBcInRyYW5zcG9ydCBjbG9zZWQgYnkgdGhlIHNlcnZlclwiIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBieXBhc3Mgb25EYXRhIGFuZCBoYW5kbGUgdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZGVjb2RlIHBheWxvYWRcbiAgICAgICAgZGVjb2RlUGF5bG9hZChkYXRhLCB0aGlzLnNvY2tldC5iaW5hcnlUeXBlKS5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICAgICAgLy8gaWYgYW4gZXZlbnQgZGlkIG5vdCB0cmlnZ2VyIGNsb3NpbmdcbiAgICAgICAgaWYgKFwiY2xvc2VkXCIgIT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ290IGRhdGEgd2UncmUgbm90IHBvbGxpbmdcbiAgICAgICAgICAgIHRoaXMucG9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsQ29tcGxldGVcIik7XG4gICAgICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9sbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yIHBvbGxpbmcsIHNlbmQgYSBjbG9zZSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBkb0Nsb3NlKCkge1xuICAgICAgICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUoW3sgdHlwZTogXCJjbG9zZVwiIH1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbiBjYXNlIHdlJ3JlIHRyeWluZyB0byBjbG9zZSB3aGlsZVxuICAgICAgICAgICAgLy8gaGFuZHNoYWtpbmcgaXMgaW4gcHJvZ3Jlc3MgKEdILTE2NClcbiAgICAgICAgICAgIHRoaXMub25jZShcIm9wZW5cIiwgY2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldHMgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgcGFja2V0c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRyYWluIGNhbGxiYWNrXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgd3JpdGUocGFja2V0cykge1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIGVuY29kZVBheWxvYWQocGFja2V0cywgZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRvV3JpdGUoZGF0YSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICB1cmkoKSB7XG4gICAgICAgIGxldCBxdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMub3B0cy5zZWN1cmUgPyBcImh0dHBzXCIgOiBcImh0dHBcIjtcbiAgICAgICAgbGV0IHBvcnQgPSBcIlwiO1xuICAgICAgICAvLyBjYWNoZSBidXN0aW5nIGlzIGZvcmNlZFxuICAgICAgICBpZiAoZmFsc2UgIT09IHRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgICAgICAgICAgcXVlcnlbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXSA9IHllYXN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN1cHBvcnRzQmluYXJ5ICYmICFxdWVyeS5zaWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5LmI2NCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgICAgICAgaWYgKHRoaXMub3B0cy5wb3J0ICYmXG4gICAgICAgICAgICAoKFwiaHR0cHNcIiA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDQ0MykgfHxcbiAgICAgICAgICAgICAgICAoXCJodHRwXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgICAgICAgICBwb3J0ID0gXCI6XCIgKyB0aGlzLm9wdHMucG9ydDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVkUXVlcnkgPSBlbmNvZGUocXVlcnkpO1xuICAgICAgICBjb25zdCBpcHY2ID0gdGhpcy5vcHRzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgICAgICAgcmV0dXJuIChzY2hlbWEgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICAoaXB2NiA/IFwiW1wiICsgdGhpcy5vcHRzLmhvc3RuYW1lICsgXCJdXCIgOiB0aGlzLm9wdHMuaG9zdG5hbWUpICtcbiAgICAgICAgICAgIHBvcnQgK1xuICAgICAgICAgICAgdGhpcy5vcHRzLnBhdGggK1xuICAgICAgICAgICAgKGVuY29kZWRRdWVyeS5sZW5ndGggPyBcIj9cIiArIGVuY29kZWRRdWVyeSA6IFwiXCIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcmVxdWVzdChvcHRzID0ge30pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCB7IHhkOiB0aGlzLnhkLCB4czogdGhpcy54cyB9LCB0aGlzLm9wdHMpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcy51cmkoKSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSB0byBzZW5kLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxlZCB1cG9uIGZsdXNoLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvV3JpdGUoZGF0YSwgZm4pIHtcbiAgICAgICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgIH0pO1xuICAgICAgICByZXEub24oXCJzdWNjZXNzXCIsIGZuKTtcbiAgICAgICAgcmVxLm9uKFwiZXJyb3JcIiwgKHhoclN0YXR1cywgY29udGV4dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKFwieGhyIHBvc3QgZXJyb3JcIiwgeGhyU3RhdHVzLCBjb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIHBvbGwgY3ljbGUuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgICAgICByZXEub24oXCJkYXRhXCIsIHRoaXMub25EYXRhLmJpbmQodGhpcykpO1xuICAgICAgICByZXEub24oXCJlcnJvclwiLCAoeGhyU3RhdHVzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLCB4aHJTdGF0dXMsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb2xsWGhyID0gcmVxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIHRoaXMubWV0aG9kID0gb3B0cy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuYXN5bmMgPSBmYWxzZSAhPT0gb3B0cy5hc3luYztcbiAgICAgICAgdGhpcy5kYXRhID0gdW5kZWZpbmVkICE9PSBvcHRzLmRhdGEgPyBvcHRzLmRhdGEgOiBudWxsO1xuICAgICAgICB0aGlzLmNyZWF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBYSFIgb2JqZWN0IGFuZCBzZW5kcyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHBpY2sodGhpcy5vcHRzLCBcImFnZW50XCIsIFwicGZ4XCIsIFwia2V5XCIsIFwicGFzc3BocmFzZVwiLCBcImNlcnRcIiwgXCJjYVwiLCBcImNpcGhlcnNcIiwgXCJyZWplY3RVbmF1dGhvcml6ZWRcIiwgXCJhdXRvVW5yZWZcIik7XG4gICAgICAgIG9wdHMueGRvbWFpbiA9ICEhdGhpcy5vcHRzLnhkO1xuICAgICAgICBvcHRzLnhzY2hlbWUgPSAhIXRoaXMub3B0cy54cztcbiAgICAgICAgY29uc3QgeGhyID0gKHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KG9wdHMpKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVyaSwgdGhpcy5hc3luYyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sgJiYgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGksIHRoaXMub3B0cy5leHRyYUhlYWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgaWYgKFwiUE9TVFwiID09PSB0aGlzLm1ldGhvZCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiKi8qXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgLy8gaWU2IGNoZWNrXG4gICAgICAgICAgICBpZiAoXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHIpIHtcbiAgICAgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdGhpcy5vcHRzLndpdGhDcmVkZW50aWFscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMucmVxdWVzdFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB4aHIudGltZW91dCA9IHRoaXMub3B0cy5yZXF1ZXN0VGltZW91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKDQgIT09IHhoci5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKDIwMCA9PT0geGhyLnN0YXR1cyB8fCAxMjIzID09PSB4aHIuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIGBlcnJvcmAgZXZlbnQgaGFuZGxlciB0aGF0J3MgdXNlci1zZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBub3QgdGhyb3cgaW4gdGhlIHNhbWUgdGljayBhbmQgZ2V0cyBjYXVnaHQgaGVyZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IodHlwZW9mIHhoci5zdGF0dXMgPT09IFwibnVtYmVyXCIgPyB4aHIuc3RhdHVzIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4aHIuc2VuZCh0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgIC8vIGFuZCB0aHVzIHRoZSAnZXJyb3InIGV2ZW50IGNhbiBvbmx5IGJlIG9ubHkgYm91bmQgKmFmdGVyKiB0aGlzIGV4Y2VwdGlvblxuICAgICAgICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9IFJlcXVlc3QucmVxdWVzdHNDb3VudCsrO1xuICAgICAgICAgICAgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkVycm9yKGVycikge1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVyciwgdGhpcy54aHIpO1xuICAgICAgICB0aGlzLmNsZWFudXAodHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFucyB1cCBob3VzZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGNsZWFudXAoZnJvbUVycm9yKSB7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgdGhpcy54aHIgfHwgbnVsbCA9PT0gdGhpcy54aHIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlbXB0eTtcbiAgICAgICAgaWYgKGZyb21FcnJvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gbG9hZC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMueGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIH1cbn1cblJlcXVlc3QucmVxdWVzdHNDb3VudCA9IDA7XG5SZXF1ZXN0LnJlcXVlc3RzID0ge307XG4vKipcbiAqIEFib3J0cyBwZW5kaW5nIHJlcXVlc3RzIHdoZW4gdW5sb2FkaW5nIHRoZSB3aW5kb3cuIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnRcbiAqIG1lbW9yeSBsZWFrcyAoZS5nLiB3aGVuIHVzaW5nIElFKSBhbmQgdG8gZW5zdXJlIHRoYXQgbm8gc3B1cmlvdXMgZXJyb3IgaXNcbiAqIGVtaXR0ZWQuXG4gKi9cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBhdHRhY2hFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCB0ZXJtaW5hdGlvbkV2ZW50ID0gXCJvbnBhZ2VoaWRlXCIgaW4gZ2xvYmFsVGhpcyA/IFwicGFnZWhpZGVcIiA6IFwidW5sb2FkXCI7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIodGVybWluYXRpb25FdmVudCwgdW5sb2FkSGFuZGxlciwgZmFsc2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVubG9hZEhhbmRsZXIoKSB7XG4gICAgZm9yIChsZXQgaSBpbiBSZXF1ZXN0LnJlcXVlc3RzKSB7XG4gICAgICAgIGlmIChSZXF1ZXN0LnJlcXVlc3RzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBSZXF1ZXN0LnJlcXVlc3RzW2ldLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/polling.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WebSocket\": function() { return /* binding */ WebSocket; },\n/* harmony export */   \"defaultBinaryType\": function() { return /* binding */ defaultBinaryType; },\n/* harmony export */   \"nextTick\": function() { return /* binding */ nextTick; },\n/* harmony export */   \"usingBrowserWebSocket\": function() { return /* binding */ usingBrowserWebSocket; }\n/* harmony export */ });\n/* harmony import */ var _globalThis_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globalThis.js */ \"./node_modules/engine.io-client/build/esm/globalThis.browser.js\");\n\nconst nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return cb => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nconst WebSocket = _globalThis_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim.WebSocket || _globalThis_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim.MozWebSocket;\nconst usingBrowserWebSocket = true;\nconst defaultBinaryType = \"arraybuffer\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQtY29uc3RydWN0b3IuYnJvd3Nlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRTtBQUN6RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNNLGtCQUFrQixvRUFBb0IsSUFBSSx1RUFBdUI7QUFDakU7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQtY29uc3RydWN0b3IuYnJvd3Nlci5qcz84YmZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi4vZ2xvYmFsVGhpcy5qc1wiO1xuZXhwb3J0IGNvbnN0IG5leHRUaWNrID0gKCgpID0+IHtcbiAgICBjb25zdCBpc1Byb21pc2VBdmFpbGFibGUgPSB0eXBlb2YgUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBQcm9taXNlLnJlc29sdmUgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAoaXNQcm9taXNlQXZhaWxhYmxlKSB7XG4gICAgICAgIHJldHVybiBjYiA9PiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGNiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAoY2IsIHNldFRpbWVvdXRGbikgPT4gc2V0VGltZW91dEZuKGNiLCAwKTtcbiAgICB9XG59KSgpO1xuZXhwb3J0IGNvbnN0IFdlYlNvY2tldCA9IGdsb2JhbFRoaXMuV2ViU29ja2V0IHx8IGdsb2JhbFRoaXMuTW96V2ViU29ja2V0O1xuZXhwb3J0IGNvbnN0IHVzaW5nQnJvd3NlcldlYlNvY2tldCA9IHRydWU7XG5leHBvcnQgY29uc3QgZGVmYXVsdEJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/transports/websocket.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/websocket.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WS\": function() { return /* binding */ WS; }\n/* harmony export */ });\n/* harmony import */ var _transport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../transport.js */ \"./node_modules/engine.io-client/build/esm/transport.js\");\n/* harmony import */ var _contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contrib/parseqs.js */ \"./node_modules/engine.io-client/build/esm/contrib/parseqs.js\");\n/* harmony import */ var _contrib_yeast_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contrib/yeast.js */ \"./node_modules/engine.io-client/build/esm/contrib/yeast.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util.js */ \"./node_modules/engine.io-client/build/esm/util.js\");\n/* harmony import */ var _websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./websocket-constructor.js */ \"./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js\");\n/* harmony import */ var engine_io_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-parser/build/esm/index.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n\n\n\n\n\n\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nclass WS extends _transport_js__WEBPACK_IMPORTED_MODULE_0__.Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : (0,_util_js__WEBPACK_IMPORTED_MODULE_3__.pick)(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                _websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new _websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.WebSocket(uri, protocols)\n                        : new _websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.WebSocket(uri)\n                    : new _websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || _websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = closeEvent => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent\n        });\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            (0,engine_io_parser__WEBPACK_IMPORTED_MODULE_5__.encodePacket)(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!_websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (_websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    (0,_websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.nextTick)(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0,_contrib_yeast_js__WEBPACK_IMPORTED_MODULE_2__.yeast)();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = (0,_contrib_parseqs_js__WEBPACK_IMPORTED_MODULE_1__.encode)(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return !!_websocket_constructor_js__WEBPACK_IMPORTED_MODULE_4__.WebSocket;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNEM7QUFDRztBQUNIO0FBQ1Y7QUFDeUU7QUFDM0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxpQkFBaUIsb0RBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDhDQUFJO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNEVBQXFCO0FBQ3JDO0FBQ0EsOEJBQThCLGdFQUFTO0FBQ3ZDLDhCQUE4QixnRUFBUztBQUN2QywwQkFBMEIsZ0VBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsd0VBQWlCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBLFlBQVksOERBQVk7QUFDeEI7QUFDQTtBQUNBLHFCQUFxQiw0RUFBcUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELE1BQU07QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDRFQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUVBQVE7QUFDNUI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsd0RBQUs7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyREFBTTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdFQUFTO0FBQzFCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvd2Vic29ja2V0LmpzP2Y3M2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhbnNwb3J0IH0gZnJvbSBcIi4uL3RyYW5zcG9ydC5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlIH0gZnJvbSBcIi4uL2NvbnRyaWIvcGFyc2Vxcy5qc1wiO1xuaW1wb3J0IHsgeWVhc3QgfSBmcm9tIFwiLi4vY29udHJpYi95ZWFzdC5qc1wiO1xuaW1wb3J0IHsgcGljayB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0QmluYXJ5VHlwZSwgbmV4dFRpY2ssIHVzaW5nQnJvd3NlcldlYlNvY2tldCwgV2ViU29ja2V0IH0gZnJvbSBcIi4vd2Vic29ja2V0LWNvbnN0cnVjdG9yLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYWNrZXQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuLy8gZGV0ZWN0IFJlYWN0TmF0aXZlIGVudmlyb25tZW50XG5jb25zdCBpc1JlYWN0TmF0aXZlID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIG5hdmlnYXRvci5wcm9kdWN0LnRvTG93ZXJDYXNlKCkgPT09IFwicmVhY3RuYXRpdmVcIjtcbmV4cG9ydCBjbGFzcyBXUyBleHRlbmRzIFRyYW5zcG9ydCB7XG4gICAgLyoqXG4gICAgICogV2ViU29ja2V0IHRyYW5zcG9ydCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBhcGkge09iamVjdH0gY29ubmVjdGlvbiBvcHRpb25zXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gIW9wdHMuZm9yY2VCYXNlNjQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zcG9ydCBuYW1lLlxuICAgICAqXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwid2Vic29ja2V0XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvT3BlbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrKCkpIHtcbiAgICAgICAgICAgIC8vIGxldCBwcm9iZSB0aW1lb3V0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJpID0gdGhpcy51cmkoKTtcbiAgICAgICAgY29uc3QgcHJvdG9jb2xzID0gdGhpcy5vcHRzLnByb3RvY29scztcbiAgICAgICAgLy8gUmVhY3QgTmF0aXZlIG9ubHkgc3VwcG9ydHMgdGhlICdoZWFkZXJzJyBvcHRpb24sIGFuZCB3aWxsIHByaW50IGEgd2FybmluZyBpZiBhbnl0aGluZyBlbHNlIGlzIHBhc3NlZFxuICAgICAgICBjb25zdCBvcHRzID0gaXNSZWFjdE5hdGl2ZVxuICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgOiBwaWNrKHRoaXMub3B0cywgXCJhZ2VudFwiLCBcInBlck1lc3NhZ2VEZWZsYXRlXCIsIFwicGZ4XCIsIFwia2V5XCIsIFwicGFzc3BocmFzZVwiLCBcImNlcnRcIiwgXCJjYVwiLCBcImNpcGhlcnNcIiwgXCJyZWplY3RVbmF1dGhvcml6ZWRcIiwgXCJsb2NhbEFkZHJlc3NcIiwgXCJwcm90b2NvbFZlcnNpb25cIiwgXCJvcmlnaW5cIiwgXCJtYXhQYXlsb2FkXCIsIFwiZmFtaWx5XCIsIFwiY2hlY2tTZXJ2ZXJJZGVudGl0eVwiKTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgICAgIG9wdHMuaGVhZGVycyA9IHRoaXMub3B0cy5leHRyYUhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud3MgPVxuICAgICAgICAgICAgICAgIHVzaW5nQnJvd3NlcldlYlNvY2tldCAmJiAhaXNSZWFjdE5hdGl2ZVxuICAgICAgICAgICAgICAgICAgICA/IHByb3RvY29sc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgV2ViU29ja2V0KHVyaSlcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9IHRoaXMuc29ja2V0LmJpbmFyeVR5cGUgfHwgZGVmYXVsdEJpbmFyeVR5cGU7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHNvY2tldFxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndzLl9zb2NrZXQudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9IGNsb3NlRXZlbnQgPT4gdGhpcy5vbkNsb3NlKHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIndlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlZFwiLFxuICAgICAgICAgICAgY29udGV4dDogY2xvc2VFdmVudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBldiA9PiB0aGlzLm9uRGF0YShldi5kYXRhKTtcbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gZSA9PiB0aGlzLm9uRXJyb3IoXCJ3ZWJzb2NrZXQgZXJyb3JcIiwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBkYXRhIHRvIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IG9mIHBhY2tldHMuXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgd3JpdGUocGFja2V0cykge1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIC8vIGVuY29kZVBhY2tldCBlZmZpY2llbnQgYXMgaXQgdXNlcyBXUyBmcmFtaW5nXG4gICAgICAgIC8vIG5vIG5lZWQgZm9yIGVuY29kZVBheWxvYWRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSBwYWNrZXRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhY2tldCA9IGkgPT09IHBhY2tldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGVuY29kZVBhY2tldChwYWNrZXQsIHRoaXMuc3VwcG9ydHNCaW5hcnksIGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBjcmVhdGUgYSBuZXcgb2JqZWN0IChHSC00MzcpXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0cyA9IHt9O1xuICAgICAgICAgICAgICAgIGlmICghdXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWNrZXQub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IHBhY2tldC5vcHRpb25zLmNvbXByZXNzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMucGVyTWVzc2FnZURlZmxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbiA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGRhdGEgPyBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhKSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlbiA8IHRoaXMub3B0cy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmNvbXByZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU29tZXRpbWVzIHRoZSB3ZWJzb2NrZXQgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQgYnV0IHRoZSBicm93c2VyIGRpZG4ndFxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYSBjaGFuY2Ugb2YgaW5mb3JtaW5nIHVzIGFib3V0IGl0IHlldCwgaW4gdGhhdCBjYXNlIHNlbmQgd2lsbFxuICAgICAgICAgICAgICAgIC8vIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHlwZUVycm9yIGlzIHRocm93biB3aGVuIHBhc3NpbmcgdGhlIHNlY29uZCBhcmd1bWVudCBvbiBTYWZhcmlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChkYXRhLCBvcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWtlIGRyYWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVyIHRvIG5leHQgdGljayB0byBhbGxvdyBTb2NrZXQgdG8gY2xlYXIgd3JpdGVCdWZmZXJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnNldFRpbWVvdXRGbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy53cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy53cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHVyaSgpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5vcHRzLnNlY3VyZSA/IFwid3NzXCIgOiBcIndzXCI7XG4gICAgICAgIGxldCBwb3J0ID0gXCJcIjtcbiAgICAgICAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgICAgICAgaWYgKHRoaXMub3B0cy5wb3J0ICYmXG4gICAgICAgICAgICAoKFwid3NzXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA0NDMpIHx8XG4gICAgICAgICAgICAgICAgKFwid3NcIiA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDgwKSkpIHtcbiAgICAgICAgICAgIHBvcnQgPSBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGVuZCB0aW1lc3RhbXAgdG8gVVJJXG4gICAgICAgIGlmICh0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbW11bmljYXRlIGJpbmFyeSBzdXBwb3J0IGNhcGFiaWxpdGllc1xuICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgICAgICAgIHF1ZXJ5LmI2NCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5jb2RlZFF1ZXJ5ID0gZW5jb2RlKHF1ZXJ5KTtcbiAgICAgICAgY29uc3QgaXB2NiA9IHRoaXMub3B0cy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKSAhPT0gLTE7XG4gICAgICAgIHJldHVybiAoc2NoZW1hICtcbiAgICAgICAgICAgIFwiOi8vXCIgK1xuICAgICAgICAgICAgKGlwdjYgPyBcIltcIiArIHRoaXMub3B0cy5ob3N0bmFtZSArIFwiXVwiIDogdGhpcy5vcHRzLmhvc3RuYW1lKSArXG4gICAgICAgICAgICBwb3J0ICtcbiAgICAgICAgICAgIHRoaXMub3B0cy5wYXRoICtcbiAgICAgICAgICAgIChlbmNvZGVkUXVlcnkubGVuZ3RoID8gXCI/XCIgKyBlbmNvZGVkUXVlcnkgOiBcIlwiKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZlYXR1cmUgZGV0ZWN0aW9uIGZvciBXZWJTb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB3aGV0aGVyIHRoaXMgdHJhbnNwb3J0IGlzIGF2YWlsYWJsZS5cbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGNoZWNrKCkge1xuICAgICAgICByZXR1cm4gISFXZWJTb2NrZXQ7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/websocket.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"XHR\": function() { return /* binding */ XHR; }\n/* harmony export */ });\n/* harmony import */ var _contrib_has_cors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../contrib/has-cors.js */ \"./node_modules/engine.io-client/build/esm/contrib/has-cors.js\");\n/* harmony import */ var _globalThis_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../globalThis.js */ \"./node_modules/engine.io-client/build/esm/globalThis.browser.js\");\n// browser shim for xmlhttprequest module\n\n\nfunction XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || _contrib_has_cors_js__WEBPACK_IMPORTED_MODULE_0__.hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new _globalThis_js__WEBPACK_IMPORTED_MODULE_1__.globalThisShim[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy94bWxodHRwcmVxdWVzdC5icm93c2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ2lEO0FBQ2U7QUFDekQ7QUFDUDtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UseURBQU87QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBEQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL3htbGh0dHByZXF1ZXN0LmJyb3dzZXIuanM/MWNlYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBicm93c2VyIHNoaW0gZm9yIHhtbGh0dHByZXF1ZXN0IG1vZHVsZVxuaW1wb3J0IHsgaGFzQ09SUyB9IGZyb20gXCIuLi9jb250cmliL2hhcy1jb3JzLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbFRoaXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBYSFIob3B0cykge1xuICAgIGNvbnN0IHhkb21haW4gPSBvcHRzLnhkb21haW47XG4gICAgLy8gWE1MSHR0cFJlcXVlc3QgY2FuIGJlIGRpc2FibGVkIG9uIElFXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAmJiAoIXhkb21haW4gfHwgaGFzQ09SUykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgaWYgKCF4ZG9tYWluKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGdsb2JhbFRoaXNbW1wiQWN0aXZlXCJdLmNvbmNhdChcIk9iamVjdFwiKS5qb2luKFwiWFwiKV0oXCJNaWNyb3NvZnQuWE1MSFRUUFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-client/build/esm/util.js":
/*!*********************************************************!*\
  !*** ./node_modules/engine.io-client/build/esm/util.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"byteLength\": function() { return /* binding */ byteLength; },\n/* harmony export */   \"installTimerFunctions\": function() { return /* binding */ installTimerFunctions; },\n/* harmony export */   \"pick\": function() { return /* binding */ pick; }\n/* harmony export */ });\n/* harmony import */ var _globalThis_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globalThis.js */ \"./node_modules/engine.io-client/build/esm/globalThis.browser.js\");\n\nfunction pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nfunction installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(_globalThis_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(_globalThis_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(_globalThis_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n        obj.clearTimeoutFn = clearTimeout.bind(_globalThis_js__WEBPACK_IMPORTED_MODULE_0__.globalThisShim);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nfunction byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdXRpbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStEO0FBQ3hEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG1EQUFtRCwwREFBVTtBQUM3RCx1REFBdUQsMERBQVU7QUFDakU7QUFDQTtBQUNBLDJDQUEyQywwREFBVTtBQUNyRCwrQ0FBK0MsMERBQVU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3V0aWwuanM/ODJjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4vZ2xvYmFsVGhpcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2sob2JqLCAuLi5hdHRyKSB7XG4gICAgcmV0dXJuIGF0dHIucmVkdWNlKChhY2MsIGspID0+IHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgYWNjW2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgcmVhbCB0aW1lb3V0IGZ1bmN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIHdoZW4gb3ZlcnJpZGRlblxuY29uc3QgTkFUSVZFX1NFVF9USU1FT1VUID0gc2V0VGltZW91dDtcbmNvbnN0IE5BVElWRV9DTEVBUl9USU1FT1VUID0gY2xlYXJUaW1lb3V0O1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGxUaW1lckZ1bmN0aW9ucyhvYmosIG9wdHMpIHtcbiAgICBpZiAob3B0cy51c2VOYXRpdmVUaW1lcnMpIHtcbiAgICAgICAgb2JqLnNldFRpbWVvdXRGbiA9IE5BVElWRV9TRVRfVElNRU9VVC5iaW5kKGdsb2JhbFRoaXMpO1xuICAgICAgICBvYmouY2xlYXJUaW1lb3V0Rm4gPSBOQVRJVkVfQ0xFQVJfVElNRU9VVC5iaW5kKGdsb2JhbFRoaXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb2JqLnNldFRpbWVvdXRGbiA9IHNldFRpbWVvdXQuYmluZChnbG9iYWxUaGlzKTtcbiAgICAgICAgb2JqLmNsZWFyVGltZW91dEZuID0gY2xlYXJUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxufVxuLy8gYmFzZTY0IGVuY29kZWQgYnVmZmVycyBhcmUgYWJvdXQgMzMlIGJpZ2dlciAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0KVxuY29uc3QgQkFTRTY0X09WRVJIRUFEID0gMS4zMztcbi8vIHdlIGNvdWxkIGFsc28gaGF2ZSB1c2VkIGBuZXcgQmxvYihbb2JqXSkuc2l6ZWAsIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgaW4gSUU5XG5leHBvcnQgZnVuY3Rpb24gYnl0ZUxlbmd0aChvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdXRmOExlbmd0aChvYmopO1xuICAgIH1cbiAgICAvLyBhcnJheWJ1ZmZlciBvciBibG9iXG4gICAgcmV0dXJuIE1hdGguY2VpbCgob2JqLmJ5dGVMZW5ndGggfHwgb2JqLnNpemUpICogQkFTRTY0X09WRVJIRUFEKTtcbn1cbmZ1bmN0aW9uIHV0ZjhMZW5ndGgoc3RyKSB7XG4gICAgbGV0IGMgPSAwLCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgbGVuZ3RoICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHhkODAwIHx8IGMgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxlbmd0aCArPSA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-client/build/esm/util.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-parser/build/esm/commons.js":
/*!************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/commons.js ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ERROR_PACKET\": function() { return /* binding */ ERROR_PACKET; },\n/* harmony export */   \"PACKET_TYPES\": function() { return /* binding */ PACKET_TYPES; },\n/* harmony export */   \"PACKET_TYPES_REVERSE\": function() { return /* binding */ PACKET_TYPES_REVERSE; }\n/* harmony export */ });\nconst PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29tbW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsdUJBQXVCO0FBQ3FDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9jb21tb25zLmpzPzhiZTEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUEFDS0VUX1RZUEVTID0gT2JqZWN0LmNyZWF0ZShudWxsKTsgLy8gbm8gTWFwID0gbm8gcG9seWZpbGxcblBBQ0tFVF9UWVBFU1tcIm9wZW5cIl0gPSBcIjBcIjtcblBBQ0tFVF9UWVBFU1tcImNsb3NlXCJdID0gXCIxXCI7XG5QQUNLRVRfVFlQRVNbXCJwaW5nXCJdID0gXCIyXCI7XG5QQUNLRVRfVFlQRVNbXCJwb25nXCJdID0gXCIzXCI7XG5QQUNLRVRfVFlQRVNbXCJtZXNzYWdlXCJdID0gXCI0XCI7XG5QQUNLRVRfVFlQRVNbXCJ1cGdyYWRlXCJdID0gXCI1XCI7XG5QQUNLRVRfVFlQRVNbXCJub29wXCJdID0gXCI2XCI7XG5jb25zdCBQQUNLRVRfVFlQRVNfUkVWRVJTRSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5PYmplY3Qua2V5cyhQQUNLRVRfVFlQRVMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBQQUNLRVRfVFlQRVNfUkVWRVJTRVtQQUNLRVRfVFlQRVNba2V5XV0gPSBrZXk7XG59KTtcbmNvbnN0IEVSUk9SX1BBQ0tFVCA9IHsgdHlwZTogXCJlcnJvclwiLCBkYXRhOiBcInBhcnNlciBlcnJvclwiIH07XG5leHBvcnQgeyBQQUNLRVRfVFlQRVMsIFBBQ0tFVF9UWVBFU19SRVZFUlNFLCBFUlJPUl9QQUNLRVQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/commons.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"decode\": function() { return /* binding */ decode; },\n/* harmony export */   \"encode\": function() { return /* binding */ encode; }\n/* harmony export */ });\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nconst encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nconst decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29udHJpYi9iYXNlNjQtYXJyYXlidWZmZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29udHJpYi9iYXNlNjQtYXJyYXlidWZmZXIuanM/MDljMyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbi8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbmNvbnN0IGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbmZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xufVxuZXhwb3J0IGNvbnN0IGVuY29kZSA9IChhcnJheWJ1ZmZlcikgPT4ge1xuICAgIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJztcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cbiAgICBpZiAobGVuICUgMyA9PT0gMikge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JztcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7XG4gICAgfVxuICAgIHJldHVybiBiYXNlNjQ7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IChiYXNlNjQpID0+IHtcbiAgICBsZXQgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsIGxlbiA9IGJhc2U2NC5sZW5ndGgsIGksIHAgPSAwLCBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcbiAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhcnJheWJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBlbmNvZGVkMiA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xuICAgICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMyldO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQxIDw8IDIpIHwgKGVuY29kZWQyID4+IDQpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMiAmIDE1KSA8PCA0KSB8IChlbmNvZGVkMyA+PiAyKTtcbiAgICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5YnVmZmVyO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-parser/build/esm/decodePacket.browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/decodePacket.browser.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _commons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commons.js */ \"./node_modules/engine.io-parser/build/esm/commons.js\");\n/* harmony import */ var _contrib_base64_arraybuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contrib/base64-arraybuffer.js */ \"./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js\");\n\n\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = _commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return _commons_js__WEBPACK_IMPORTED_MODULE_0__.ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: _commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: _commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = (0,_contrib_base64_arraybuffer_js__WEBPACK_IMPORTED_MODULE_1__.decode)(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (decodePacket);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZGVjb2RlUGFja2V0LmJyb3dzZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQWtFO0FBQ1Q7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFvQjtBQUMzQztBQUNBLGVBQWUscURBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNFQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsK0RBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9kZWNvZGVQYWNrZXQuYnJvd3Nlci5qcz9iMWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVSUk9SX1BBQ0tFVCwgUEFDS0VUX1RZUEVTX1JFVkVSU0UgfSBmcm9tIFwiLi9jb21tb25zLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwiLi9jb250cmliL2Jhc2U2NC1hcnJheWJ1ZmZlci5qc1wiO1xuY29uc3Qgd2l0aE5hdGl2ZUFycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBkZWNvZGVQYWNrZXQgPSAoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZW5jb2RlZFBhY2tldCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBtYXBCaW5hcnkoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IGVuY29kZWRQYWNrZXQuY2hhckF0KDApO1xuICAgIGlmICh0eXBlID09PSBcImJcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBkZWNvZGVCYXNlNjRQYWNrZXQoZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSksIGJpbmFyeVR5cGUpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHBhY2tldFR5cGUgPSBQQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXTtcbiAgICBpZiAoIXBhY2tldFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIEVSUk9SX1BBQ0tFVDtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZWRQYWNrZXQubGVuZ3RoID4gMVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSlcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdXG4gICAgICAgIH07XG59O1xuY29uc3QgZGVjb2RlQmFzZTY0UGFja2V0ID0gKGRhdGEsIGJpbmFyeVR5cGUpID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUoZGF0YSk7XG4gICAgICAgIHJldHVybiBtYXBCaW5hcnkoZGVjb2RlZCwgYmluYXJ5VHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBiYXNlNjQ6IHRydWUsIGRhdGEgfTsgLy8gZmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuICAgIH1cbn07XG5jb25zdCBtYXBCaW5hcnkgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIHN3aXRjaCAoYmluYXJ5VHlwZSkge1xuICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBCbG9iKFtkYXRhXSkgOiBkYXRhO1xuICAgICAgICBjYXNlIFwiYXJyYXlidWZmZXJcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBkYXRhOyAvLyBhc3N1bWluZyB0aGUgZGF0YSBpcyBhbHJlYWR5IGFuIEFycmF5QnVmZmVyXG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGRlY29kZVBhY2tldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/decodePacket.browser.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-parser/build/esm/encodePacket.browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/encodePacket.browser.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _commons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commons.js */ \"./node_modules/engine.io-parser/build/esm/commons.js\");\n\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(_commons_js__WEBPACK_IMPORTED_MODULE_0__.PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + content);\n    };\n    return fileReader.readAsDataURL(data);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (encodePacket);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZW5jb2RlUGFja2V0LmJyb3dzZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9lbmNvZGVQYWNrZXQuYnJvd3Nlci5qcz9mZTY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBBQ0tFVF9UWVBFUyB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmNvbnN0IHdpdGhOYXRpdmVCbG9iID0gdHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQmxvYikgPT09IFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUFycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCI7XG4vLyBBcnJheUJ1ZmZlci5pc1ZpZXcgbWV0aG9kIGlzIG5vdCBkZWZpbmVkIGluIElFMTBcbmNvbnN0IGlzVmlldyA9IG9iaiA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IEFycmF5QnVmZmVyLmlzVmlldyhvYmopXG4gICAgICAgIDogb2JqICYmIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn07XG5jb25zdCBlbmNvZGVQYWNrZXQgPSAoeyB0eXBlLCBkYXRhIH0sIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykgPT4ge1xuICAgIGlmICh3aXRoTmF0aXZlQmxvYiAmJiBkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICBpZiAoc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVCbG9iQXNCYXNlNjQoZGF0YSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHdpdGhOYXRpdmVBcnJheUJ1ZmZlciAmJlxuICAgICAgICAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhkYXRhKSkpIHtcbiAgICAgICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlQmxvYkFzQmFzZTY0KG5ldyBCbG9iKFtkYXRhXSksIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBwbGFpbiBzdHJpbmdcbiAgICByZXR1cm4gY2FsbGJhY2soUEFDS0VUX1RZUEVTW3R5cGVdICsgKGRhdGEgfHwgXCJcIikpO1xufTtcbmNvbnN0IGVuY29kZUJsb2JBc0Jhc2U2NCA9IChkYXRhLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZmlsZVJlYWRlci5yZXN1bHQuc3BsaXQoXCIsXCIpWzFdO1xuICAgICAgICBjYWxsYmFjayhcImJcIiArIGNvbnRlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbn07XG5leHBvcnQgZGVmYXVsdCBlbmNvZGVQYWNrZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/encodePacket.browser.js\n"));

/***/ }),

/***/ "./node_modules/engine.io-parser/build/esm/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/engine.io-parser/build/esm/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"decodePacket\": function() { return /* reexport safe */ _decodePacket_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"decodePayload\": function() { return /* binding */ decodePayload; },\n/* harmony export */   \"encodePacket\": function() { return /* reexport safe */ _encodePacket_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"encodePayload\": function() { return /* binding */ encodePayload; },\n/* harmony export */   \"protocol\": function() { return /* binding */ protocol; }\n/* harmony export */ });\n/* harmony import */ var _encodePacket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodePacket.js */ \"./node_modules/engine.io-parser/build/esm/encodePacket.browser.js\");\n/* harmony import */ var _decodePacket_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./decodePacket.js */ \"./node_modules/engine.io-parser/build/esm/decodePacket.browser.js\");\n\n\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        (0,_encodePacket_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = (0,_decodePacket_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nconst protocol = 4;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2QztBQUNBO0FBQzdDLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQjtBQUMvQyw4QkFBOEIsNERBQVk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUM2RCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanM/Njc0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW5jb2RlUGFja2V0IGZyb20gXCIuL2VuY29kZVBhY2tldC5qc1wiO1xuaW1wb3J0IGRlY29kZVBhY2tldCBmcm9tIFwiLi9kZWNvZGVQYWNrZXQuanNcIjtcbmNvbnN0IFNFUEFSQVRPUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMzApOyAvLyBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVsaW1pdGVyI0FTQ0lJX2RlbGltaXRlZF90ZXh0XG5jb25zdCBlbmNvZGVQYXlsb2FkID0gKHBhY2tldHMsIGNhbGxiYWNrKSA9PiB7XG4gICAgLy8gc29tZSBwYWNrZXRzIG1heSBiZSBhZGRlZCB0byB0aGUgYXJyYXkgd2hpbGUgZW5jb2RpbmcsIHNvIHRoZSBpbml0aWFsIGxlbmd0aCBtdXN0IGJlIHNhdmVkXG4gICAgY29uc3QgbGVuZ3RoID0gcGFja2V0cy5sZW5ndGg7XG4gICAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIHBhY2tldHMuZm9yRWFjaCgocGFja2V0LCBpKSA9PiB7XG4gICAgICAgIC8vIGZvcmNlIGJhc2U2NCBlbmNvZGluZyBmb3IgYmluYXJ5IHBhY2tldHNcbiAgICAgICAgZW5jb2RlUGFja2V0KHBhY2tldCwgZmFsc2UsIGVuY29kZWRQYWNrZXQgPT4ge1xuICAgICAgICAgICAgZW5jb2RlZFBhY2tldHNbaV0gPSBlbmNvZGVkUGFja2V0O1xuICAgICAgICAgICAgaWYgKCsrY291bnQgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVuY29kZWRQYWNrZXRzLmpvaW4oU0VQQVJBVE9SKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlY29kZVBheWxvYWQgPSAoZW5jb2RlZFBheWxvYWQsIGJpbmFyeVR5cGUpID0+IHtcbiAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IGVuY29kZWRQYXlsb2FkLnNwbGl0KFNFUEFSQVRPUik7XG4gICAgY29uc3QgcGFja2V0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZFBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGVjb2RlZFBhY2tldCA9IGRlY29kZVBhY2tldChlbmNvZGVkUGFja2V0c1tpXSwgYmluYXJ5VHlwZSk7XG4gICAgICAgIHBhY2tldHMucHVzaChkZWNvZGVkUGFja2V0KTtcbiAgICAgICAgaWYgKGRlY29kZWRQYWNrZXQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFja2V0cztcbn07XG5leHBvcnQgY29uc3QgcHJvdG9jb2wgPSA0O1xuZXhwb3J0IHsgZW5jb2RlUGFja2V0LCBlbmNvZGVQYXlsb2FkLCBkZWNvZGVQYWNrZXQsIGRlY29kZVBheWxvYWQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/engine.io-parser/build/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/flatted/esm/index.js":
/*!*******************************************!*\
  !*** ./node_modules/flatted/esm/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fromJSON\": function() { return /* binding */ fromJSON; },\n/* harmony export */   \"parse\": function() { return /* binding */ parse; },\n/* harmony export */   \"stringify\": function() { return /* binding */ stringify; },\n/* harmony export */   \"toJSON\": function() { return /* binding */ toJSON; }\n/* harmony export */ });\n/*! (c) 2020 Andrea Giammarchi */\n\nconst {parse: $parse, stringify: $stringify} = JSON;\nconst {keys} = Object;\n\nconst Primitive = String;   // it could be Number\nconst primitive = 'string'; // it could be 'number'\n\nconst ignore = {};\nconst object = 'object';\n\nconst noop = (_, value) => value;\n\nconst primitives = value => (\n  value instanceof Primitive ? Primitive(value) : value\n);\n\nconst Primitives = (_, value) => (\n  typeof value === primitive ? new Primitive(value) : value\n);\n\nconst revive = (input, parsed, output, $) => {\n  const lazy = [];\n  for (let ke = keys(output), {length} = ke, y = 0; y < length; y++) {\n    const k = ke[y];\n    const value = output[k];\n    if (value instanceof Primitive) {\n      const tmp = input[value];\n      if (typeof tmp === object && !parsed.has(tmp)) {\n        parsed.add(tmp);\n        output[k] = ignore;\n        lazy.push({k, a: [input, parsed, tmp, $]});\n      }\n      else\n        output[k] = $.call(output, k, tmp);\n    }\n    else if (output[k] !== ignore)\n      output[k] = $.call(output, k, value);\n  }\n  for (let {length} = lazy, i = 0; i < length; i++) {\n    const {k, a} = lazy[i];\n    output[k] = $.call(output, k, revive.apply(null, a));\n  }\n  return output;\n};\n\nconst set = (known, input, value) => {\n  const index = Primitive(input.push(value) - 1);\n  known.set(value, index);\n  return index;\n};\n\nconst parse = (text, reviver) => {\n  const input = $parse(text, Primitives).map(primitives);\n  const value = input[0];\n  const $ = reviver || noop;\n  const tmp = typeof value === object && value ?\n              revive(input, new Set, value, $) :\n              value;\n  return $.call({'': tmp}, '', tmp);\n};\n\nconst stringify = (value, replacer, space) => {\n  const $ = replacer && typeof replacer === object ?\n            (k, v) => (k === '' || -1 < replacer.indexOf(k) ? v : void 0) :\n            (replacer || noop);\n  const known = new Map;\n  const input = [];\n  const output = [];\n  let i = +set(known, input, $.call({'': value}, '', value));\n  let firstRun = !i;\n  while (i < input.length) {\n    firstRun = true;\n    output[i] = $stringify(input[i++], replace, space);\n  }\n  return '[' + output.join(',') + ']';\n  function replace(key, value) {\n    if (firstRun) {\n      firstRun = !firstRun;\n      return value;\n    }\n    const after = $.call(this, key, value);\n    switch (typeof after) {\n      case object:\n        if (after === null) return after;\n      case primitive:\n        return known.get(after) || set(known, input, after);\n    }\n    return after;\n  }\n};\n\nconst toJSON = any => $parse(stringify(any));\nconst fromJSON = any => parse($stringify(any));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxhdHRlZC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE9BQU8sc0NBQXNDO0FBQzdDLE9BQU8sTUFBTTs7QUFFYiw0QkFBNEI7QUFDNUIsNEJBQTRCOztBQUU1QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQixRQUFRLGFBQWEsWUFBWTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4QkFBOEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVEsZUFBZSxZQUFZO0FBQy9DLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsVUFBVTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZmxhdHRlZC9lc20vaW5kZXguanM/YTEwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKGMpIDIwMjAgQW5kcmVhIEdpYW1tYXJjaGkgKi9cblxuY29uc3Qge3BhcnNlOiAkcGFyc2UsIHN0cmluZ2lmeTogJHN0cmluZ2lmeX0gPSBKU09OO1xuY29uc3Qge2tleXN9ID0gT2JqZWN0O1xuXG5jb25zdCBQcmltaXRpdmUgPSBTdHJpbmc7ICAgLy8gaXQgY291bGQgYmUgTnVtYmVyXG5jb25zdCBwcmltaXRpdmUgPSAnc3RyaW5nJzsgLy8gaXQgY291bGQgYmUgJ251bWJlcidcblxuY29uc3QgaWdub3JlID0ge307XG5jb25zdCBvYmplY3QgPSAnb2JqZWN0JztcblxuY29uc3Qgbm9vcCA9IChfLCB2YWx1ZSkgPT4gdmFsdWU7XG5cbmNvbnN0IHByaW1pdGl2ZXMgPSB2YWx1ZSA9PiAoXG4gIHZhbHVlIGluc3RhbmNlb2YgUHJpbWl0aXZlID8gUHJpbWl0aXZlKHZhbHVlKSA6IHZhbHVlXG4pO1xuXG5jb25zdCBQcmltaXRpdmVzID0gKF8sIHZhbHVlKSA9PiAoXG4gIHR5cGVvZiB2YWx1ZSA9PT0gcHJpbWl0aXZlID8gbmV3IFByaW1pdGl2ZSh2YWx1ZSkgOiB2YWx1ZVxuKTtcblxuY29uc3QgcmV2aXZlID0gKGlucHV0LCBwYXJzZWQsIG91dHB1dCwgJCkgPT4ge1xuICBjb25zdCBsYXp5ID0gW107XG4gIGZvciAobGV0IGtlID0ga2V5cyhvdXRwdXQpLCB7bGVuZ3RofSA9IGtlLCB5ID0gMDsgeSA8IGxlbmd0aDsgeSsrKSB7XG4gICAgY29uc3QgayA9IGtlW3ldO1xuICAgIGNvbnN0IHZhbHVlID0gb3V0cHV0W2tdO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByaW1pdGl2ZSkge1xuICAgICAgY29uc3QgdG1wID0gaW5wdXRbdmFsdWVdO1xuICAgICAgaWYgKHR5cGVvZiB0bXAgPT09IG9iamVjdCAmJiAhcGFyc2VkLmhhcyh0bXApKSB7XG4gICAgICAgIHBhcnNlZC5hZGQodG1wKTtcbiAgICAgICAgb3V0cHV0W2tdID0gaWdub3JlO1xuICAgICAgICBsYXp5LnB1c2goe2ssIGE6IFtpbnB1dCwgcGFyc2VkLCB0bXAsICRdfSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIG91dHB1dFtrXSA9ICQuY2FsbChvdXRwdXQsIGssIHRtcCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtrXSAhPT0gaWdub3JlKVxuICAgICAgb3V0cHV0W2tdID0gJC5jYWxsKG91dHB1dCwgaywgdmFsdWUpO1xuICB9XG4gIGZvciAobGV0IHtsZW5ndGh9ID0gbGF6eSwgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHtrLCBhfSA9IGxhenlbaV07XG4gICAgb3V0cHV0W2tdID0gJC5jYWxsKG91dHB1dCwgaywgcmV2aXZlLmFwcGx5KG51bGwsIGEpKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufTtcblxuY29uc3Qgc2V0ID0gKGtub3duLCBpbnB1dCwgdmFsdWUpID0+IHtcbiAgY29uc3QgaW5kZXggPSBQcmltaXRpdmUoaW5wdXQucHVzaCh2YWx1ZSkgLSAxKTtcbiAga25vd24uc2V0KHZhbHVlLCBpbmRleCk7XG4gIHJldHVybiBpbmRleDtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXJzZSA9ICh0ZXh0LCByZXZpdmVyKSA9PiB7XG4gIGNvbnN0IGlucHV0ID0gJHBhcnNlKHRleHQsIFByaW1pdGl2ZXMpLm1hcChwcmltaXRpdmVzKTtcbiAgY29uc3QgdmFsdWUgPSBpbnB1dFswXTtcbiAgY29uc3QgJCA9IHJldml2ZXIgfHwgbm9vcDtcbiAgY29uc3QgdG1wID0gdHlwZW9mIHZhbHVlID09PSBvYmplY3QgJiYgdmFsdWUgP1xuICAgICAgICAgICAgICByZXZpdmUoaW5wdXQsIG5ldyBTZXQsIHZhbHVlLCAkKSA6XG4gICAgICAgICAgICAgIHZhbHVlO1xuICByZXR1cm4gJC5jYWxsKHsnJzogdG1wfSwgJycsIHRtcCk7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyaW5naWZ5ID0gKHZhbHVlLCByZXBsYWNlciwgc3BhY2UpID0+IHtcbiAgY29uc3QgJCA9IHJlcGxhY2VyICYmIHR5cGVvZiByZXBsYWNlciA9PT0gb2JqZWN0ID9cbiAgICAgICAgICAgIChrLCB2KSA9PiAoayA9PT0gJycgfHwgLTEgPCByZXBsYWNlci5pbmRleE9mKGspID8gdiA6IHZvaWQgMCkgOlxuICAgICAgICAgICAgKHJlcGxhY2VyIHx8IG5vb3ApO1xuICBjb25zdCBrbm93biA9IG5ldyBNYXA7XG4gIGNvbnN0IGlucHV0ID0gW107XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBsZXQgaSA9ICtzZXQoa25vd24sIGlucHV0LCAkLmNhbGwoeycnOiB2YWx1ZX0sICcnLCB2YWx1ZSkpO1xuICBsZXQgZmlyc3RSdW4gPSAhaTtcbiAgd2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICBmaXJzdFJ1biA9IHRydWU7XG4gICAgb3V0cHV0W2ldID0gJHN0cmluZ2lmeShpbnB1dFtpKytdLCByZXBsYWNlLCBzcGFjZSk7XG4gIH1cbiAgcmV0dXJuICdbJyArIG91dHB1dC5qb2luKCcsJykgKyAnXSc7XG4gIGZ1bmN0aW9uIHJlcGxhY2Uoa2V5LCB2YWx1ZSkge1xuICAgIGlmIChmaXJzdFJ1bikge1xuICAgICAgZmlyc3RSdW4gPSAhZmlyc3RSdW47XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IGFmdGVyID0gJC5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgIHN3aXRjaCAodHlwZW9mIGFmdGVyKSB7XG4gICAgICBjYXNlIG9iamVjdDpcbiAgICAgICAgaWYgKGFmdGVyID09PSBudWxsKSByZXR1cm4gYWZ0ZXI7XG4gICAgICBjYXNlIHByaW1pdGl2ZTpcbiAgICAgICAgcmV0dXJuIGtub3duLmdldChhZnRlcikgfHwgc2V0KGtub3duLCBpbnB1dCwgYWZ0ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gYWZ0ZXI7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0b0pTT04gPSBhbnkgPT4gJHBhcnNlKHN0cmluZ2lmeShhbnkpKTtcbmV4cG9ydCBjb25zdCBmcm9tSlNPTiA9IGFueSA9PiBwYXJzZSgkc3RyaW5naWZ5KGFueSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/flatted/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/immer/dist/immer.esm.mjs":
/*!***********************************************!*\
  !*** ./node_modules/immer/dist/immer.esm.mjs ***!
  \***********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Immer\": function() { return /* binding */ un; },\n/* harmony export */   \"applyPatches\": function() { return /* binding */ pn; },\n/* harmony export */   \"castDraft\": function() { return /* binding */ K; },\n/* harmony export */   \"castImmutable\": function() { return /* binding */ $; },\n/* harmony export */   \"createDraft\": function() { return /* binding */ ln; },\n/* harmony export */   \"current\": function() { return /* binding */ D; },\n/* harmony export */   \"enableAllPlugins\": function() { return /* binding */ J; },\n/* harmony export */   \"enableES5\": function() { return /* binding */ N; },\n/* harmony export */   \"enableMapSet\": function() { return /* binding */ C; },\n/* harmony export */   \"enablePatches\": function() { return /* binding */ T; },\n/* harmony export */   \"finishDraft\": function() { return /* binding */ dn; },\n/* harmony export */   \"freeze\": function() { return /* binding */ d; },\n/* harmony export */   \"immerable\": function() { return /* binding */ L; },\n/* harmony export */   \"isDraft\": function() { return /* binding */ r; },\n/* harmony export */   \"isDraftable\": function() { return /* binding */ t; },\n/* harmony export */   \"nothing\": function() { return /* binding */ H; },\n/* harmony export */   \"original\": function() { return /* binding */ e; },\n/* harmony export */   \"produce\": function() { return /* binding */ fn; },\n/* harmony export */   \"produceWithPatches\": function() { return /* binding */ cn; },\n/* harmony export */   \"setAutoFreeze\": function() { return /* binding */ sn; },\n/* harmony export */   \"setUseProxies\": function() { return /* binding */ vn; }\n/* harmony export */ });\nfunction n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(true){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!n.constructor[L]||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?(n.delete(r),n.add(t)):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)?n:(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0),n)}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return false||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function O(n){g(n),n.p.forEach(S),n.p=null}function g(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.O=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.g||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(O(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),O(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(r,i){return A(n,e,o,r,i,t)})),x(n,o,!1),t&&n.u&&b(\"Patches\").R(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s){if( true&&c===o&&n(5),r(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!r(v))return;e.m=!1}if(t(c)&&!y(c)){if(!e.h.F&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),n.h.F&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function R(n,r,t){var e=s(r)?b(\"MapSet\").N(r,t):v(r)?b(\"MapSet\").T(r,t):n.g?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function D(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=F(r,c),u.I=!1}else e=F(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function F(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function N(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return true&&f(r),en.get(r,n)},set:function(r){var t=this[Q]; true&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.O&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.D,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=\"\"+i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},R:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.D,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.D,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=R(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.O&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,O:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.D.set(n,!0),t.o.set(n,r),t.D.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.D.set(n,!1):r.D.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.D=new Map,i(n.t,(function(r){n.D.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=R(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{N:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){N(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=R(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.D[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&\"number\"!=typeof t&&(void 0!==t||r in n.o)||(n.o[r]=t,n.D[r]=!0,!0)},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.D[r]=!1,E(n),k(n)):delete n.D[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return true&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return true&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.g=B,this.F=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=R(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?O(c):g(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw O(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.F&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=D(e));var i=w(this),o=R(this,e,void 0);return o[Q].C=!0,g(i),o},i.finishDraft=function(r,t){var e=r&&r[Q]; true&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.F=n},i.setUseProxies=function(r){r&&!B&&n(20),this.g=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);/* harmony default export */ __webpack_exports__[\"default\"] = (fn);\n//# sourceMappingURL=immer.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaW1tZXIvZGlzdC9pbW1lci5lc20ubWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGNBQWMsa0RBQWtELElBQUksd0JBQXdCLEdBQUcsSUFBbUMsRUFBRSw2RUFBNkUsMEJBQTBCLDZFQUE2RSxnQkFBZ0IscUVBQXFFLGNBQWMsa0JBQWtCLGNBQWMsd0JBQXdCLG1DQUFtQywrQkFBK0IscUJBQXFCLGlFQUFpRSx1RUFBdUUsK0RBQStELGNBQWMsNEJBQTRCLGtCQUFrQix1RUFBdUUsbUNBQW1DLDRCQUE0QixnQkFBZ0IsR0FBRyxjQUFjLFdBQVcsNERBQTRELGdCQUFnQixtRUFBbUUsZ0JBQWdCLDhCQUE4QixrQkFBa0IsV0FBVyxxREFBcUQsZ0JBQWdCLHdDQUF3QyxjQUFjLDJCQUEyQixjQUFjLDJCQUEyQixjQUFjLGdCQUFnQixjQUFjLHlEQUF5RCxZQUFZLFlBQVksb0JBQW9CLFdBQVcsS0FBSyxrQkFBa0IsMEVBQTBFLCtEQUErRCxFQUFFLGlEQUFpRCxnQkFBZ0IsK0hBQStILGVBQWUsU0FBUyxhQUFhLEtBQUssY0FBYyx1REFBdUQsY0FBYyxZQUFZLG9CQUFvQixnQkFBZ0IsaUJBQWlCLGFBQWEsTUFBTSxNQUFtQyxZQUFZLGdCQUFnQixzQ0FBc0MsY0FBYyw2QkFBNkIsY0FBYyxlQUFlLGNBQWMsVUFBVSx1QkFBdUIsY0FBYyxXQUFXLDhCQUE4QixnQkFBZ0IsZUFBZSxpQ0FBaUMsNktBQTZLLGtCQUFrQixpQkFBaUIsV0FBVyxnQ0FBZ0Msc0JBQXNCLFFBQVEsb0JBQW9CLCtCQUErQixTQUFTLGVBQWUsc0NBQXNDLHNDQUFzQyxzQkFBc0IsaURBQWlELFdBQVcsd0JBQXdCLEdBQUcsS0FBbUMsb0JBQW9CLHlEQUF5RCx5QkFBeUIsT0FBTyxnQkFBZ0Isd0JBQXdCLHlCQUF5QixrQkFBa0Isc0NBQXNDLGdCQUFnQixXQUFXLG9CQUFvQixnQkFBZ0IsNkNBQTZDLEVBQUUsRUFBRSwyQ0FB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NkZBQTZGLHdDQUF3QyxtREFBbUQsVUFBVSxrRkFBa0YsR0FBRywyQkFBMkIsTUFBTSw0QkFBNEIsa0NBQWtDLDJCQUEyQixPQUFPLE9BQU8sb0JBQW9CLGlCQUFpQiw2REFBNkQsbUNBQW1DLE1BQU0sS0FBbUMseURBQXlELHdCQUF3QixNQUFNLEtBQW1DLDJFQUEyRSxrQkFBa0IsY0FBYyxXQUFXLGdEQUFnRCwrQ0FBK0MsUUFBUSxJQUFJLFFBQVEsbUJBQW1CLFdBQVcsa0JBQWtCLGtEQUFrRCxJQUFJLHdCQUF3QixnQ0FBZ0MsTUFBTSwwQ0FBMEMsSUFBSSxNQUFNLDJFQUEyRSxnQ0FBZ0MsSUFBSSxZQUFZLFFBQVEsWUFBWSw0RUFBNEUscUJBQXFCLGVBQWUsYUFBYSxtQkFBbUIsMkJBQTJCLDhEQUE4RCxjQUFjLCtCQUErQixTQUFTLFFBQVEsdUNBQXVDLDJDQUEyQyxrREFBa0QsSUFBSSx3QkFBd0IsMkNBQTJDLHFDQUFxQyxJQUFJLHVDQUF1QyxRQUFRLEdBQUcsNEVBQTRFLGNBQWMsV0FBVyxtS0FBbUssa0JBQWtCLGlDQUFpQywwQkFBMEIsaUNBQWlDLHdCQUF3Qiw2QkFBNkIsY0FBYyxLQUFtQyw0QkFBNEIsVUFBVSwwQkFBMEIsNkJBQTZCLFNBQVMsNkJBQTZCLHNCQUFzQiw4QkFBOEIsTUFBTSxpQkFBaUIsS0FBSyxLQUFLLFdBQVcsd0NBQXdDLFVBQVUsT0FBTyx1QkFBdUIscUJBQXFCLCtDQUErQyxjQUFjLEdBQUcsR0FBRyx5TUFBeU0sK0RBQWUsRUFBRSxFQUF3VztBQUMvempCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9pbW1lci9kaXN0L2ltbWVyLmVzbS5tanM/N2UwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBuKG4pe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLHQ9QXJyYXkocj4xP3ItMTowKSxlPTE7ZTxyO2UrKyl0W2UtMV09YXJndW1lbnRzW2VdO2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYpe3ZhciBpPVlbbl0sbz1pP1wiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseShudWxsLHQpOmk6XCJ1bmtub3duIGVycm9yIG5yOiBcIituO3Rocm93IEVycm9yKFwiW0ltbWVyXSBcIitvKX10aHJvdyBFcnJvcihcIltJbW1lcl0gbWluaWZpZWQgZXJyb3IgbnI6IFwiK24rKHQubGVuZ3RoP1wiIFwiK3QubWFwKChmdW5jdGlvbihuKXtyZXR1cm5cIidcIituK1wiJ1wifSkpLmpvaW4oXCIsXCIpOlwiXCIpK1wiLiBGaW5kIHRoZSBmdWxsIGVycm9yIGF0OiBodHRwczovL2JpdC5seS8zY1hFS1dmXCIpfWZ1bmN0aW9uIHIobil7cmV0dXJuISFuJiYhIW5bUV19ZnVuY3Rpb24gdChuKXtyZXR1cm4hIW4mJihmdW5jdGlvbihuKXtpZighbnx8XCJvYmplY3RcIiE9dHlwZW9mIG4pcmV0dXJuITE7dmFyIHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT1yKXJldHVybiEwO3ZhciB0PU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJjb25zdHJ1Y3RvclwiKSYmci5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PU9iamVjdHx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmRnVuY3Rpb24udG9TdHJpbmcuY2FsbCh0KT09PVp9KG4pfHxBcnJheS5pc0FycmF5KG4pfHwhIW5bTF18fCEhbi5jb25zdHJ1Y3RvcltMXXx8cyhuKXx8dihuKSl9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gcih0KXx8bigyMyx0KSx0W1FdLnR9ZnVuY3Rpb24gaShuLHIsdCl7dm9pZCAwPT09dCYmKHQ9ITEpLDA9PT1vKG4pPyh0P09iamVjdC5rZXlzOm5uKShuKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0JiZcInN5bWJvbFwiPT10eXBlb2YgZXx8cihlLG5bZV0sbil9KSk6bi5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3JldHVybiByKGUsdCxuKX0pKX1mdW5jdGlvbiBvKG4pe3ZhciByPW5bUV07cmV0dXJuIHI/ci5pPjM/ci5pLTQ6ci5pOkFycmF5LmlzQXJyYXkobik/MTpzKG4pPzI6dihuKT8zOjB9ZnVuY3Rpb24gdShuLHIpe3JldHVybiAyPT09byhuKT9uLmhhcyhyKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKX1mdW5jdGlvbiBhKG4scil7cmV0dXJuIDI9PT1vKG4pP24uZ2V0KHIpOm5bcl19ZnVuY3Rpb24gZihuLHIsdCl7dmFyIGU9byhuKTsyPT09ZT9uLnNldChyLHQpOjM9PT1lPyhuLmRlbGV0ZShyKSxuLmFkZCh0KSk6bltyXT10fWZ1bmN0aW9uIGMobixyKXtyZXR1cm4gbj09PXI/MCE9PW58fDEvbj09MS9yOm4hPW4mJnIhPXJ9ZnVuY3Rpb24gcyhuKXtyZXR1cm4gWCYmbiBpbnN0YW5jZW9mIE1hcH1mdW5jdGlvbiB2KG4pe3JldHVybiBxJiZuIGluc3RhbmNlb2YgU2V0fWZ1bmN0aW9uIHAobil7cmV0dXJuIG4ub3x8bi50fWZ1bmN0aW9uIGwobil7aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobik7dmFyIHI9cm4obik7ZGVsZXRlIHJbUV07Zm9yKHZhciB0PW5uKHIpLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIGk9dFtlXSxvPXJbaV07ITE9PT1vLndyaXRhYmxlJiYoby53cml0YWJsZT0hMCxvLmNvbmZpZ3VyYWJsZT0hMCksKG8uZ2V0fHxvLnNldCkmJihyW2ldPXtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsZW51bWVyYWJsZTpvLmVudW1lcmFibGUsdmFsdWU6bltpXX0pfXJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSxyKX1mdW5jdGlvbiBkKG4sZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx5KG4pfHxyKG4pfHwhdChuKT9uOihvKG4pPjEmJihuLnNldD1uLmFkZD1uLmNsZWFyPW4uZGVsZXRlPWgpLE9iamVjdC5mcmVlemUobiksZSYmaShuLChmdW5jdGlvbihuLHIpe3JldHVybiBkKHIsITApfSksITApLG4pfWZ1bmN0aW9uIGgoKXtuKDIpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG51bGw9PW58fFwib2JqZWN0XCIhPXR5cGVvZiBufHxPYmplY3QuaXNGcm96ZW4obil9ZnVuY3Rpb24gYihyKXt2YXIgdD10bltyXTtyZXR1cm4gdHx8bigxOCxyKSx0fWZ1bmN0aW9uIG0obixyKXt0bltuXXx8KHRuW25dPXIpfWZ1bmN0aW9uIF8oKXtyZXR1cm5cInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WfHxVfHxuKDApLFV9ZnVuY3Rpb24gaihuLHIpe3ImJihiKFwiUGF0Y2hlc1wiKSxuLnU9W10sbi5zPVtdLG4udj1yKX1mdW5jdGlvbiBPKG4pe2cobiksbi5wLmZvckVhY2goUyksbi5wPW51bGx9ZnVuY3Rpb24gZyhuKXtuPT09VSYmKFU9bi5sKX1mdW5jdGlvbiB3KG4pe3JldHVybiBVPXtwOltdLGw6VSxoOm4sbTohMCxfOjB9fWZ1bmN0aW9uIFMobil7dmFyIHI9bltRXTswPT09ci5pfHwxPT09ci5pP3IuaigpOnIuTz0hMH1mdW5jdGlvbiBQKHIsZSl7ZS5fPWUucC5sZW5ndGg7dmFyIGk9ZS5wWzBdLG89dm9pZCAwIT09ciYmciE9PWk7cmV0dXJuIGUuaC5nfHxiKFwiRVM1XCIpLlMoZSxyLG8pLG8/KGlbUV0uUCYmKE8oZSksbig0KSksdChyKSYmKHI9TShlLHIpLGUubHx8eChlLHIpKSxlLnUmJmIoXCJQYXRjaGVzXCIpLk0oaVtRXS50LHIsZS51LGUucykpOnI9TShlLGksW10pLE8oZSksZS51JiZlLnYoZS51LGUucyksciE9PUg/cjp2b2lkIDB9ZnVuY3Rpb24gTShuLHIsdCl7aWYoeShyKSlyZXR1cm4gcjt2YXIgZT1yW1FdO2lmKCFlKXJldHVybiBpKHIsKGZ1bmN0aW9uKGksbyl7cmV0dXJuIEEobixlLHIsaSxvLHQpfSksITApLHI7aWYoZS5BIT09bilyZXR1cm4gcjtpZighZS5QKXJldHVybiB4KG4sZS50LCEwKSxlLnQ7aWYoIWUuSSl7ZS5JPSEwLGUuQS5fLS07dmFyIG89ND09PWUuaXx8NT09PWUuaT9lLm89bChlLmspOmUubztpKDM9PT1lLmk/bmV3IFNldChvKTpvLChmdW5jdGlvbihyLGkpe3JldHVybiBBKG4sZSxvLHIsaSx0KX0pKSx4KG4sbywhMSksdCYmbi51JiZiKFwiUGF0Y2hlc1wiKS5SKGUsdCxuLnUsbi5zKX1yZXR1cm4gZS5vfWZ1bmN0aW9uIEEoZSxpLG8sYSxjLHMpe2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmM9PT1vJiZuKDUpLHIoYykpe3ZhciB2PU0oZSxjLHMmJmkmJjMhPT1pLmkmJiF1KGkuRCxhKT9zLmNvbmNhdChhKTp2b2lkIDApO2lmKGYobyxhLHYpLCFyKHYpKXJldHVybjtlLm09ITF9aWYodChjKSYmIXkoYykpe2lmKCFlLmguRiYmZS5fPDEpcmV0dXJuO00oZSxjKSxpJiZpLkEubHx8eChlLGMpfX1mdW5jdGlvbiB4KG4scix0KXt2b2lkIDA9PT10JiYodD0hMSksbi5oLkYmJm4ubSYmZChyLHQpfWZ1bmN0aW9uIHoobixyKXt2YXIgdD1uW1FdO3JldHVybih0P3AodCk6bilbcl19ZnVuY3Rpb24gSShuLHIpe2lmKHIgaW4gbilmb3IodmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO3Q7KXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik7aWYoZSlyZXR1cm4gZTt0PU9iamVjdC5nZXRQcm90b3R5cGVPZih0KX19ZnVuY3Rpb24gayhuKXtuLlB8fChuLlA9ITAsbi5sJiZrKG4ubCkpfWZ1bmN0aW9uIEUobil7bi5vfHwobi5vPWwobi50KSl9ZnVuY3Rpb24gUihuLHIsdCl7dmFyIGU9cyhyKT9iKFwiTWFwU2V0XCIpLk4ocix0KTp2KHIpP2IoXCJNYXBTZXRcIikuVChyLHQpOm4uZz9mdW5jdGlvbihuLHIpe3ZhciB0PUFycmF5LmlzQXJyYXkobiksZT17aTp0PzE6MCxBOnI/ci5BOl8oKSxQOiExLEk6ITEsRDp7fSxsOnIsdDpuLGs6bnVsbCxvOm51bGwsajpudWxsLEM6ITF9LGk9ZSxvPWVuO3QmJihpPVtlXSxvPW9uKTt2YXIgdT1Qcm94eS5yZXZvY2FibGUoaSxvKSxhPXUucmV2b2tlLGY9dS5wcm94eTtyZXR1cm4gZS5rPWYsZS5qPWEsZn0ocix0KTpiKFwiRVM1XCIpLkoocix0KTtyZXR1cm4odD90LkE6XygpKS5wLnB1c2goZSksZX1mdW5jdGlvbiBEKGUpe3JldHVybiByKGUpfHxuKDIyLGUpLGZ1bmN0aW9uIG4ocil7aWYoIXQocikpcmV0dXJuIHI7dmFyIGUsdT1yW1FdLGM9byhyKTtpZih1KXtpZighdS5QJiYodS5pPDR8fCFiKFwiRVM1XCIpLksodSkpKXJldHVybiB1LnQ7dS5JPSEwLGU9RihyLGMpLHUuST0hMX1lbHNlIGU9RihyLGMpO3JldHVybiBpKGUsKGZ1bmN0aW9uKHIsdCl7dSYmYSh1LnQscik9PT10fHxmKGUscixuKHQpKX0pKSwzPT09Yz9uZXcgU2V0KGUpOmV9KGUpfWZ1bmN0aW9uIEYobixyKXtzd2l0Y2gocil7Y2FzZSAyOnJldHVybiBuZXcgTWFwKG4pO2Nhc2UgMzpyZXR1cm4gQXJyYXkuZnJvbShuKX1yZXR1cm4gbChuKX1mdW5jdGlvbiBOKCl7ZnVuY3Rpb24gdChuLHIpe3ZhciB0PXNbbl07cmV0dXJuIHQ/dC5lbnVtZXJhYmxlPXI6c1tuXT10PXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTpyLGdldDpmdW5jdGlvbigpe3ZhciByPXRoaXNbUV07cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZihyKSxlbi5nZXQocixuKX0sc2V0OmZ1bmN0aW9uKHIpe3ZhciB0PXRoaXNbUV07XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZih0KSxlbi5zZXQodCxuLHIpfX0sdH1mdW5jdGlvbiBlKG4pe2Zvcih2YXIgcj1uLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgdD1uW3JdW1FdO2lmKCF0LlApc3dpdGNoKHQuaSl7Y2FzZSA1OmEodCkmJmsodCk7YnJlYWs7Y2FzZSA0Om8odCkmJmsodCl9fX1mdW5jdGlvbiBvKG4pe2Zvcih2YXIgcj1uLnQsdD1uLmssZT1ubih0KSxpPWUubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBvPWVbaV07aWYobyE9PVEpe3ZhciBhPXJbb107aWYodm9pZCAwPT09YSYmIXUocixvKSlyZXR1cm4hMDt2YXIgZj10W29dLHM9ZiYmZltRXTtpZihzP3MudCE9PWE6IWMoZixhKSlyZXR1cm4hMH19dmFyIHY9ISFyW1FdO3JldHVybiBlLmxlbmd0aCE9PW5uKHIpLmxlbmd0aCsodj8wOjEpfWZ1bmN0aW9uIGEobil7dmFyIHI9bi5rO2lmKHIubGVuZ3RoIT09bi50Lmxlbmd0aClyZXR1cm4hMDt2YXIgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsci5sZW5ndGgtMSk7aWYodCYmIXQuZ2V0KXJldHVybiEwO2Zvcih2YXIgZT0wO2U8ci5sZW5ndGg7ZSsrKWlmKCFyLmhhc093blByb3BlcnR5KGUpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGYocil7ci5PJiZuKDMsSlNPTi5zdHJpbmdpZnkocChyKSkpfXZhciBzPXt9O20oXCJFUzVcIix7SjpmdW5jdGlvbihuLHIpe3ZhciBlPUFycmF5LmlzQXJyYXkobiksaT1mdW5jdGlvbihuLHIpe2lmKG4pe2Zvcih2YXIgZT1BcnJheShyLmxlbmd0aCksaT0wO2k8ci5sZW5ndGg7aSsrKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiXCIraSx0KGksITApKTtyZXR1cm4gZX12YXIgbz1ybihyKTtkZWxldGUgb1tRXTtmb3IodmFyIHU9bm4obyksYT0wO2E8dS5sZW5ndGg7YSsrKXt2YXIgZj11W2FdO29bZl09dChmLG58fCEhb1tmXS5lbnVtZXJhYmxlKX1yZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yociksbyl9KGUsbiksbz17aTplPzU6NCxBOnI/ci5BOl8oKSxQOiExLEk6ITEsRDp7fSxsOnIsdDpuLGs6aSxvOm51bGwsTzohMSxDOiExfTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksUSx7dmFsdWU6byx3cml0YWJsZTohMH0pLGl9LFM6ZnVuY3Rpb24obix0LG8pe28/cih0KSYmdFtRXS5BPT09biYmZShuLnApOihuLnUmJmZ1bmN0aW9uIG4ocil7aWYociYmXCJvYmplY3RcIj09dHlwZW9mIHIpe3ZhciB0PXJbUV07aWYodCl7dmFyIGU9dC50LG89dC5rLGY9dC5ELGM9dC5pO2lmKDQ9PT1jKWkobywoZnVuY3Rpb24ocil7ciE9PVEmJih2b2lkIDAhPT1lW3JdfHx1KGUscik/ZltyXXx8bihvW3JdKTooZltyXT0hMCxrKHQpKSl9KSksaShlLChmdW5jdGlvbihuKXt2b2lkIDAhPT1vW25dfHx1KG8sbil8fChmW25dPSExLGsodCkpfSkpO2Vsc2UgaWYoNT09PWMpe2lmKGEodCkmJihrKHQpLGYubGVuZ3RoPSEwKSxvLmxlbmd0aDxlLmxlbmd0aClmb3IodmFyIHM9by5sZW5ndGg7czxlLmxlbmd0aDtzKyspZltzXT0hMTtlbHNlIGZvcih2YXIgdj1lLmxlbmd0aDt2PG8ubGVuZ3RoO3YrKylmW3ZdPSEwO2Zvcih2YXIgcD1NYXRoLm1pbihvLmxlbmd0aCxlLmxlbmd0aCksbD0wO2w8cDtsKyspby5oYXNPd25Qcm9wZXJ0eShsKXx8KGZbbF09ITApLHZvaWQgMD09PWZbbF0mJm4ob1tsXSl9fX19KG4ucFswXSksZShuLnApKX0sSzpmdW5jdGlvbihuKXtyZXR1cm4gND09PW4uaT9vKG4pOmEobil9fSl9ZnVuY3Rpb24gVCgpe2Z1bmN0aW9uIGUobil7aWYoIXQobikpcmV0dXJuIG47aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gbi5tYXAoZSk7aWYocyhuKSlyZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKG4uZW50cmllcygpKS5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybltuWzBdLGUoblsxXSldfSkpKTtpZih2KG4pKXJldHVybiBuZXcgU2V0KEFycmF5LmZyb20obikubWFwKGUpKTt2YXIgcj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSk7Zm9yKHZhciBpIGluIG4pcltpXT1lKG5baV0pO3JldHVybiB1KG4sTCkmJihyW0xdPW5bTF0pLHJ9ZnVuY3Rpb24gZihuKXtyZXR1cm4gcihuKT9lKG4pOm59dmFyIGM9XCJhZGRcIjttKFwiUGF0Y2hlc1wiLHskOmZ1bmN0aW9uKHIsdCl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQucGF0aCx1PXQub3AsZj1yLHM9MDtzPGkubGVuZ3RoLTE7cysrKXt2YXIgdj1vKGYpLHA9XCJcIitpW3NdOzAhPT12JiYxIT09dnx8XCJfX3Byb3RvX19cIiE9PXAmJlwiY29uc3RydWN0b3JcIiE9PXB8fG4oMjQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGYmJlwicHJvdG90eXBlXCI9PT1wJiZuKDI0KSxcIm9iamVjdFwiIT10eXBlb2YoZj1hKGYscCkpJiZuKDE1LGkuam9pbihcIi9cIikpfXZhciBsPW8oZiksZD1lKHQudmFsdWUpLGg9aVtpLmxlbmd0aC0xXTtzd2l0Y2godSl7Y2FzZVwicmVwbGFjZVwiOnN3aXRjaChsKXtjYXNlIDI6cmV0dXJuIGYuc2V0KGgsZCk7Y2FzZSAzOm4oMTYpO2RlZmF1bHQ6cmV0dXJuIGZbaF09ZH1jYXNlIGM6c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm5cIi1cIj09PWg/Zi5wdXNoKGQpOmYuc3BsaWNlKGgsMCxkKTtjYXNlIDI6cmV0dXJuIGYuc2V0KGgsZCk7Y2FzZSAzOnJldHVybiBmLmFkZChkKTtkZWZhdWx0OnJldHVybiBmW2hdPWR9Y2FzZVwicmVtb3ZlXCI6c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm4gZi5zcGxpY2UoaCwxKTtjYXNlIDI6cmV0dXJuIGYuZGVsZXRlKGgpO2Nhc2UgMzpyZXR1cm4gZi5kZWxldGUodC52YWx1ZSk7ZGVmYXVsdDpyZXR1cm4gZGVsZXRlIGZbaF19ZGVmYXVsdDpuKDE3LHUpfX0pKSxyfSxSOmZ1bmN0aW9uKG4scix0LGUpe3N3aXRjaChuLmkpe2Nhc2UgMDpjYXNlIDQ6Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIsdCxlKXt2YXIgbz1uLnQscz1uLm87aShuLkQsKGZ1bmN0aW9uKG4saSl7dmFyIHY9YShvLG4pLHA9YShzLG4pLGw9aT91KG8sbik/XCJyZXBsYWNlXCI6YzpcInJlbW92ZVwiO2lmKHYhPT1wfHxcInJlcGxhY2VcIiE9PWwpe3ZhciBkPXIuY29uY2F0KG4pO3QucHVzaChcInJlbW92ZVwiPT09bD97b3A6bCxwYXRoOmR9OntvcDpsLHBhdGg6ZCx2YWx1ZTpwfSksZS5wdXNoKGw9PT1jP3tvcDpcInJlbW92ZVwiLHBhdGg6ZH06XCJyZW1vdmVcIj09PWw/e29wOmMscGF0aDpkLHZhbHVlOmYodil9OntvcDpcInJlcGxhY2VcIixwYXRoOmQsdmFsdWU6Zih2KX0pfX0pKX0obixyLHQsZSk7Y2FzZSA1OmNhc2UgMTpyZXR1cm4gZnVuY3Rpb24obixyLHQsZSl7dmFyIGk9bi50LG89bi5ELHU9bi5vO2lmKHUubGVuZ3RoPGkubGVuZ3RoKXt2YXIgYT1bdSxpXTtpPWFbMF0sdT1hWzFdO3ZhciBzPVtlLHRdO3Q9c1swXSxlPXNbMV19Zm9yKHZhciB2PTA7djxpLmxlbmd0aDt2KyspaWYob1t2XSYmdVt2XSE9PWlbdl0pe3ZhciBwPXIuY29uY2F0KFt2XSk7dC5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOnAsdmFsdWU6Zih1W3ZdKX0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpwLHZhbHVlOmYoaVt2XSl9KX1mb3IodmFyIGw9aS5sZW5ndGg7bDx1Lmxlbmd0aDtsKyspe3ZhciBkPXIuY29uY2F0KFtsXSk7dC5wdXNoKHtvcDpjLHBhdGg6ZCx2YWx1ZTpmKHVbbF0pfSl9aS5sZW5ndGg8dS5sZW5ndGgmJmUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpyLmNvbmNhdChbXCJsZW5ndGhcIl0pLHZhbHVlOmkubGVuZ3RofSl9KG4scix0LGUpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLHQsZSl7dmFyIGk9bi50LG89bi5vLHU9MDtpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFvLmhhcyhuKSl7dmFyIGk9ci5jb25jYXQoW3VdKTt0LnB1c2goe29wOlwicmVtb3ZlXCIscGF0aDppLHZhbHVlOm59KSxlLnVuc2hpZnQoe29wOmMscGF0aDppLHZhbHVlOm59KX11Kyt9KSksdT0wLG8uZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIWkuaGFzKG4pKXt2YXIgbz1yLmNvbmNhdChbdV0pO3QucHVzaCh7b3A6YyxwYXRoOm8sdmFsdWU6bn0pLGUudW5zaGlmdCh7b3A6XCJyZW1vdmVcIixwYXRoOm8sdmFsdWU6bn0pfXUrK30pKX0obixyLHQsZSl9fSxNOmZ1bmN0aW9uKG4scix0LGUpe3QucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTpyPT09SD92b2lkIDA6cn0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTpufSl9fSl9ZnVuY3Rpb24gQygpe2Z1bmN0aW9uIHIobixyKXtmdW5jdGlvbiB0KCl7dGhpcy5jb25zdHJ1Y3Rvcj1ufWEobixyKSxuLnByb3RvdHlwZT0odC5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IHQpfWZ1bmN0aW9uIGUobil7bi5vfHwobi5EPW5ldyBNYXAsbi5vPW5ldyBNYXAobi50KSl9ZnVuY3Rpb24gbyhuKXtuLm98fChuLm89bmV3IFNldCxuLnQuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYodChyKSl7dmFyIGU9UihuLkEuaCxyLG4pO24ucC5zZXQocixlKSxuLm8uYWRkKGUpfWVsc2Ugbi5vLmFkZChyKX0pKSl9ZnVuY3Rpb24gdShyKXtyLk8mJm4oMyxKU09OLnN0cmluZ2lmeShwKHIpKSl9dmFyIGE9ZnVuY3Rpb24obixyKXtyZXR1cm4oYT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24obixyKXtuLl9fcHJvdG9fXz1yfXx8ZnVuY3Rpb24obixyKXtmb3IodmFyIHQgaW4gcilyLmhhc093blByb3BlcnR5KHQpJiYoblt0XT1yW3RdKX0pKG4scil9LGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scil7cmV0dXJuIHRoaXNbUV09e2k6MixsOnIsQTpyP3IuQTpfKCksUDohMSxJOiExLG86dm9pZCAwLEQ6dm9pZCAwLHQ6bixrOnRoaXMsQzohMSxPOiExfSx0aGlzfXIobixNYXApO3ZhciBvPW4ucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkuc2l6ZX19KSxvLmhhcz1mdW5jdGlvbihuKXtyZXR1cm4gcCh0aGlzW1FdKS5oYXMobil9LG8uc2V0PWZ1bmN0aW9uKG4scil7dmFyIHQ9dGhpc1tRXTtyZXR1cm4gdSh0KSxwKHQpLmhhcyhuKSYmcCh0KS5nZXQobik9PT1yfHwoZSh0KSxrKHQpLHQuRC5zZXQobiwhMCksdC5vLnNldChuLHIpLHQuRC5zZXQobiwhMCkpLHRoaXN9LG8uZGVsZXRlPWZ1bmN0aW9uKG4pe2lmKCF0aGlzLmhhcyhuKSlyZXR1cm4hMTt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLGUociksayhyKSxyLnQuaGFzKG4pP3IuRC5zZXQobiwhMSk6ci5ELmRlbGV0ZShuKSxyLm8uZGVsZXRlKG4pLCEwfSxvLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tRXTt1KG4pLHAobikuc2l6ZSYmKGUobiksayhuKSxuLkQ9bmV3IE1hcCxpKG4udCwoZnVuY3Rpb24ocil7bi5ELnNldChyLCExKX0pKSxuLm8uY2xlYXIoKSl9LG8uZm9yRWFjaD1mdW5jdGlvbihuLHIpe3ZhciB0PXRoaXM7cCh0aGlzW1FdKS5mb3JFYWNoKChmdW5jdGlvbihlLGkpe24uY2FsbChyLHQuZ2V0KGkpLGksdCl9KSl9LG8uZ2V0PWZ1bmN0aW9uKG4pe3ZhciByPXRoaXNbUV07dShyKTt2YXIgaT1wKHIpLmdldChuKTtpZihyLkl8fCF0KGkpKXJldHVybiBpO2lmKGkhPT1yLnQuZ2V0KG4pKXJldHVybiBpO3ZhciBvPVIoci5BLmgsaSxyKTtyZXR1cm4gZShyKSxyLm8uc2V0KG4sbyksb30sby5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkua2V5cygpfSxvLnZhbHVlcz1mdW5jdGlvbigpe3ZhciBuLHI9dGhpcyx0PXRoaXMua2V5cygpO3JldHVybihuPXt9KVtWXT1mdW5jdGlvbigpe3JldHVybiByLnZhbHVlcygpfSxuLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbj10Lm5leHQoKTtyZXR1cm4gbi5kb25lP246e2RvbmU6ITEsdmFsdWU6ci5nZXQobi52YWx1ZSl9fSxufSxvLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgbixyPXRoaXMsdD10aGlzLmtleXMoKTtyZXR1cm4obj17fSlbVl09ZnVuY3Rpb24oKXtyZXR1cm4gci5lbnRyaWVzKCl9LG4ubmV4dD1mdW5jdGlvbigpe3ZhciBuPXQubmV4dCgpO2lmKG4uZG9uZSlyZXR1cm4gbjt2YXIgZT1yLmdldChuLnZhbHVlKTtyZXR1cm57ZG9uZTohMSx2YWx1ZTpbbi52YWx1ZSxlXX19LG59LG9bVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LG59KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixyKXtyZXR1cm4gdGhpc1tRXT17aTozLGw6cixBOnI/ci5BOl8oKSxQOiExLEk6ITEsbzp2b2lkIDAsdDpuLGs6dGhpcyxwOm5ldyBNYXAsTzohMSxDOiExfSx0aGlzfXIobixTZXQpO3ZhciB0PW4ucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkuc2l6ZX19KSx0Lmhhcz1mdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLHIubz8hIXIuby5oYXMobil8fCEoIXIucC5oYXMobil8fCFyLm8uaGFzKHIucC5nZXQobikpKTpyLnQuaGFzKG4pfSx0LmFkZD1mdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLHRoaXMuaGFzKG4pfHwobyhyKSxrKHIpLHIuby5hZGQobikpLHRoaXN9LHQuZGVsZXRlPWZ1bmN0aW9uKG4pe2lmKCF0aGlzLmhhcyhuKSlyZXR1cm4hMTt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLG8ociksayhyKSxyLm8uZGVsZXRlKG4pfHwhIXIucC5oYXMobikmJnIuby5kZWxldGUoci5wLmdldChuKSl9LHQuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3UobikscChuKS5zaXplJiYobyhuKSxrKG4pLG4uby5jbGVhcigpKX0sdC52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG8obiksbi5vLnZhbHVlcygpfSx0LmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG8obiksbi5vLmVudHJpZXMoKX0sdC5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHRbVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMoKX0sdC5mb3JFYWNoPWZ1bmN0aW9uKG4scil7Zm9yKHZhciB0PXRoaXMudmFsdWVzKCksZT10Lm5leHQoKTshZS5kb25lOyluLmNhbGwocixlLnZhbHVlLGUudmFsdWUsdGhpcyksZT10Lm5leHQoKX0sbn0oKTttKFwiTWFwU2V0XCIse046ZnVuY3Rpb24obixyKXtyZXR1cm4gbmV3IGYobixyKX0sVDpmdW5jdGlvbihuLHIpe3JldHVybiBuZXcgYyhuLHIpfX0pfWZ1bmN0aW9uIEooKXtOKCksQygpLFQoKX1mdW5jdGlvbiBLKG4pe3JldHVybiBufWZ1bmN0aW9uICQobil7cmV0dXJuIG59dmFyIEcsVSxXPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woXCJ4XCIpLFg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1hcCxxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQsQj1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJnZvaWQgMCE9PVByb3h5LnJldm9jYWJsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QsSD1XP1N5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpOigoRz17fSlbXCJpbW1lci1ub3RoaW5nXCJdPSEwLEcpLEw9Vz9TeW1ib2wuZm9yKFwiaW1tZXItZHJhZnRhYmxlXCIpOlwiX18kaW1tZXJfZHJhZnRhYmxlXCIsUT1XP1N5bWJvbC5mb3IoXCJpbW1lci1zdGF0ZVwiKTpcIl9fJGltbWVyX3N0YXRlXCIsVj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLFk9ezA6XCJJbGxlZ2FsIHN0YXRlXCIsMTpcIkltbWVyIGRyYWZ0cyBjYW5ub3QgaGF2ZSBjb21wdXRlZCBwcm9wZXJ0aWVzXCIsMjpcIlRoaXMgb2JqZWN0IGhhcyBiZWVuIGZyb3plbiBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkXCIsMzpmdW5jdGlvbihuKXtyZXR1cm5cIkNhbm5vdCB1c2UgYSBwcm94eSB0aGF0IGhhcyBiZWVuIHJldm9rZWQuIERpZCB5b3UgcGFzcyBhbiBvYmplY3QgZnJvbSBpbnNpZGUgYW4gaW1tZXIgZnVuY3Rpb24gdG8gYW4gYXN5bmMgcHJvY2Vzcz8gXCIrbn0sNDpcIkFuIGltbWVyIHByb2R1Y2VyIHJldHVybmVkIGEgbmV3IHZhbHVlICphbmQqIG1vZGlmaWVkIGl0cyBkcmFmdC4gRWl0aGVyIHJldHVybiBhIG5ldyB2YWx1ZSAqb3IqIG1vZGlmeSB0aGUgZHJhZnQuXCIsNTpcIkltbWVyIGZvcmJpZHMgY2lyY3VsYXIgcmVmZXJlbmNlc1wiLDY6XCJUaGUgZmlyc3Qgb3Igc2Vjb25kIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb25cIiw3OlwiVGhlIHRoaXJkIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgdW5kZWZpbmVkXCIsODpcIkZpcnN0IGFyZ3VtZW50IHRvIGBjcmVhdGVEcmFmdGAgbXVzdCBiZSBhIHBsYWluIG9iamVjdCwgYW4gYXJyYXksIG9yIGFuIGltbWVyYWJsZSBvYmplY3RcIiw5OlwiRmlyc3QgYXJndW1lbnQgdG8gYGZpbmlzaERyYWZ0YCBtdXN0IGJlIGEgZHJhZnQgcmV0dXJuZWQgYnkgYGNyZWF0ZURyYWZ0YFwiLDEwOlwiVGhlIGdpdmVuIGRyYWZ0IGlzIGFscmVhZHkgZmluYWxpemVkXCIsMTE6XCJPYmplY3QuZGVmaW5lUHJvcGVydHkoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLDEyOlwiT2JqZWN0LnNldFByb3RvdHlwZU9mKCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMzpcIkltbWVyIG9ubHkgc3VwcG9ydHMgZGVsZXRpbmcgYXJyYXkgaW5kaWNlc1wiLDE0OlwiSW1tZXIgb25seSBzdXBwb3J0cyBzZXR0aW5nIGFycmF5IGluZGljZXMgYW5kIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eVwiLDE1OmZ1bmN0aW9uKG4pe3JldHVyblwiQ2Fubm90IGFwcGx5IHBhdGNoLCBwYXRoIGRvZXNuJ3QgcmVzb2x2ZTogXCIrbn0sMTY6J1NldHMgY2Fubm90IGhhdmUgXCJyZXBsYWNlXCIgcGF0Y2hlcy4nLDE3OmZ1bmN0aW9uKG4pe3JldHVyblwiVW5zdXBwb3J0ZWQgcGF0Y2ggb3BlcmF0aW9uOiBcIitufSwxODpmdW5jdGlvbihuKXtyZXR1cm5cIlRoZSBwbHVnaW4gZm9yICdcIituK1wiJyBoYXMgbm90IGJlZW4gbG9hZGVkIGludG8gSW1tZXIuIFRvIGVuYWJsZSB0aGUgcGx1Z2luLCBpbXBvcnQgYW5kIGNhbGwgYGVuYWJsZVwiK24rXCIoKWAgd2hlbiBpbml0aWFsaXppbmcgeW91ciBhcHBsaWNhdGlvbi5cIn0sMjA6XCJDYW5ub3QgdXNlIHByb3hpZXMgaWYgUHJveHksIFByb3h5LnJldm9jYWJsZSBvciBSZWZsZWN0IGFyZSBub3QgYXZhaWxhYmxlXCIsMjE6ZnVuY3Rpb24obil7cmV0dXJuXCJwcm9kdWNlIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGluZ3MgdGhhdCBhcmUgZHJhZnRhYmxlOiBwbGFpbiBvYmplY3RzLCBhcnJheXMsIE1hcCwgU2V0IG9yIGNsYXNzZXMgdGhhdCBhcmUgbWFya2VkIHdpdGggJ1tpbW1lcmFibGVdOiB0cnVlJy4gR290ICdcIituK1wiJ1wifSwyMjpmdW5jdGlvbihuKXtyZXR1cm5cIidjdXJyZW50JyBleHBlY3RzIGEgZHJhZnQsIGdvdDogXCIrbn0sMjM6ZnVuY3Rpb24obil7cmV0dXJuXCInb3JpZ2luYWwnIGV4cGVjdHMgYSBkcmFmdCwgZ290OiBcIitufSwyNDpcIlBhdGNoaW5nIHJlc2VydmVkIGF0dHJpYnV0ZXMgbGlrZSBfX3Byb3RvX18sIHByb3RvdHlwZSBhbmQgY29uc3RydWN0b3IgaXMgbm90IGFsbG93ZWRcIn0sWj1cIlwiK09iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3Isbm49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3Qub3duS2V5cz9SZWZsZWN0Lm93bktleXM6dm9pZCAwIT09T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobikpfTpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxybj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc3x8ZnVuY3Rpb24obil7dmFyIHI9e307cmV0dXJuIG5uKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JbdF09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpfSkpLHJ9LHRuPXt9LGVuPXtnZXQ6ZnVuY3Rpb24obixyKXtpZihyPT09USlyZXR1cm4gbjt2YXIgZT1wKG4pO2lmKCF1KGUscikpcmV0dXJuIGZ1bmN0aW9uKG4scix0KXt2YXIgZSxpPUkocix0KTtyZXR1cm4gaT9cInZhbHVlXCJpbiBpP2kudmFsdWU6bnVsbD09PShlPWkuZ2V0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKG4uayk6dm9pZCAwfShuLGUscik7dmFyIGk9ZVtyXTtyZXR1cm4gbi5JfHwhdChpKT9pOmk9PT16KG4udCxyKT8oRShuKSxuLm9bcl09UihuLkEuaCxpLG4pKTppfSxoYXM6ZnVuY3Rpb24obixyKXtyZXR1cm4gciBpbiBwKG4pfSxvd25LZXlzOmZ1bmN0aW9uKG4pe3JldHVybiBSZWZsZWN0Lm93bktleXMocChuKSl9LHNldDpmdW5jdGlvbihuLHIsdCl7dmFyIGU9SShwKG4pLHIpO2lmKG51bGw9PWU/dm9pZCAwOmUuc2V0KXJldHVybiBlLnNldC5jYWxsKG4uayx0KSwhMDtpZighbi5QKXt2YXIgaT16KHAobiksciksbz1udWxsPT1pP3ZvaWQgMDppW1FdO2lmKG8mJm8udD09PXQpcmV0dXJuIG4ub1tyXT10LG4uRFtyXT0hMSwhMDtpZihjKHQsaSkmJih2b2lkIDAhPT10fHx1KG4udCxyKSkpcmV0dXJuITA7RShuKSxrKG4pfXJldHVybiBuLm9bcl09PT10JiZcIm51bWJlclwiIT10eXBlb2YgdCYmKHZvaWQgMCE9PXR8fHIgaW4gbi5vKXx8KG4ub1tyXT10LG4uRFtyXT0hMCwhMCl9LGRlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKG4scil7cmV0dXJuIHZvaWQgMCE9PXoobi50LHIpfHxyIGluIG4udD8obi5EW3JdPSExLEUobiksayhuKSk6ZGVsZXRlIG4uRFtyXSxuLm8mJmRlbGV0ZSBuLm9bcl0sITB9LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbihuLHIpe3ZhciB0PXAobiksZT1SZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpO3JldHVybiBlP3t3cml0YWJsZTohMCxjb25maWd1cmFibGU6MSE9PW4uaXx8XCJsZW5ndGhcIiE9PXIsZW51bWVyYWJsZTplLmVudW1lcmFibGUsdmFsdWU6dFtyXX06ZX0sZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oKXtuKDExKX0sZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihuLnQpfSxzZXRQcm90b3R5cGVPZjpmdW5jdGlvbigpe24oMTIpfX0sb249e307aShlbiwoZnVuY3Rpb24obixyKXtvbltuXT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09YXJndW1lbnRzWzBdWzBdLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKSxvbi5kZWxldGVQcm9wZXJ0eT1mdW5jdGlvbihyLHQpe3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmlzTmFOKHBhcnNlSW50KHQpKSYmbigxMyksb24uc2V0LmNhbGwodGhpcyxyLHQsdm9pZCAwKX0sb24uc2V0PWZ1bmN0aW9uKHIsdCxlKXtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZcImxlbmd0aFwiIT09dCYmaXNOYU4ocGFyc2VJbnQodCkpJiZuKDE0KSxlbi5zZXQuY2FsbCh0aGlzLHJbMF0sdCxlLHJbMF0pfTt2YXIgdW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHIpe3ZhciBlPXRoaXM7dGhpcy5nPUIsdGhpcy5GPSEwLHRoaXMucHJvZHVjZT1mdW5jdGlvbihyLGksbyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgciYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSl7dmFyIHU9aTtpPXI7dmFyIGE9ZTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9dGhpczt2b2lkIDA9PT1uJiYobj11KTtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQ+MT90LTE6MCksbz0xO288dDtvKyspZVtvLTFdPWFyZ3VtZW50c1tvXTtyZXR1cm4gYS5wcm9kdWNlKG4sKGZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybih0PWkpLmNhbGwuYXBwbHkodCxbcixuXS5jb25jYXQoZSkpfSkpfX12YXIgZjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpJiZuKDYpLHZvaWQgMCE9PW8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG8mJm4oNyksdChyKSl7dmFyIGM9dyhlKSxzPVIoZSxyLHZvaWQgMCksdj0hMDt0cnl7Zj1pKHMpLHY9ITF9ZmluYWxseXt2P08oYyk6ZyhjKX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmZiBpbnN0YW5jZW9mIFByb21pc2U/Zi50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gaihjLG8pLFAobixjKX0pLChmdW5jdGlvbihuKXt0aHJvdyBPKGMpLG59KSk6KGooYyxvKSxQKGYsYykpfWlmKCFyfHxcIm9iamVjdFwiIT10eXBlb2Ygcil7aWYodm9pZCAwPT09KGY9aShyKSkmJihmPXIpLGY9PT1IJiYoZj12b2lkIDApLGUuRiYmZChmLCEwKSxvKXt2YXIgcD1bXSxsPVtdO2IoXCJQYXRjaGVzXCIpLk0ocixmLHAsbCksbyhwLGwpfXJldHVybiBmfW4oMjEscil9LHRoaXMucHJvZHVjZVdpdGhQYXRjaGVzPWZ1bmN0aW9uKG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gZnVuY3Rpb24ocil7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheSh0PjE/dC0xOjApLG89MTtvPHQ7bysrKWlbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIGUucHJvZHVjZVdpdGhQYXRjaGVzKHIsKGZ1bmN0aW9uKHIpe3JldHVybiBuLmFwcGx5KHZvaWQgMCxbcl0uY29uY2F0KGkpKX0pKX07dmFyIHQsaSxvPWUucHJvZHVjZShuLHIsKGZ1bmN0aW9uKG4scil7dD1uLGk9cn0pKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmbyBpbnN0YW5jZW9mIFByb21pc2U/by50aGVuKChmdW5jdGlvbihuKXtyZXR1cm5bbix0LGldfSkpOltvLHQsaV19LFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09cj92b2lkIDA6ci51c2VQcm94aWVzKSYmdGhpcy5zZXRVc2VQcm94aWVzKHIudXNlUHJveGllcyksXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT1yP3ZvaWQgMDpyLmF1dG9GcmVlemUpJiZ0aGlzLnNldEF1dG9GcmVlemUoci5hdXRvRnJlZXplKX12YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5jcmVhdGVEcmFmdD1mdW5jdGlvbihlKXt0KGUpfHxuKDgpLHIoZSkmJihlPUQoZSkpO3ZhciBpPXcodGhpcyksbz1SKHRoaXMsZSx2b2lkIDApO3JldHVybiBvW1FdLkM9ITAsZyhpKSxvfSxpLmZpbmlzaERyYWZ0PWZ1bmN0aW9uKHIsdCl7dmFyIGU9ciYmcltRXTtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYoZSYmZS5DfHxuKDkpLGUuSSYmbigxMCkpO3ZhciBpPWUuQTtyZXR1cm4gaihpLHQpLFAodm9pZCAwLGkpfSxpLnNldEF1dG9GcmVlemU9ZnVuY3Rpb24obil7dGhpcy5GPW59LGkuc2V0VXNlUHJveGllcz1mdW5jdGlvbihyKXtyJiYhQiYmbigyMCksdGhpcy5nPXJ9LGkuYXBwbHlQYXRjaGVzPWZ1bmN0aW9uKG4sdCl7dmFyIGU7Zm9yKGU9dC5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGk9dFtlXTtpZigwPT09aS5wYXRoLmxlbmd0aCYmXCJyZXBsYWNlXCI9PT1pLm9wKXtuPWkudmFsdWU7YnJlYWt9fWU+LTEmJih0PXQuc2xpY2UoZSsxKSk7dmFyIG89YihcIlBhdGNoZXNcIikuJDtyZXR1cm4gcihuKT9vKG4sdCk6dGhpcy5wcm9kdWNlKG4sKGZ1bmN0aW9uKG4pe3JldHVybiBvKG4sdCl9KSl9LGV9KCksYW49bmV3IHVuLGZuPWFuLnByb2R1Y2UsY249YW4ucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQoYW4pLHNuPWFuLnNldEF1dG9GcmVlemUuYmluZChhbiksdm49YW4uc2V0VXNlUHJveGllcy5iaW5kKGFuKSxwbj1hbi5hcHBseVBhdGNoZXMuYmluZChhbiksbG49YW4uY3JlYXRlRHJhZnQuYmluZChhbiksZG49YW4uZmluaXNoRHJhZnQuYmluZChhbik7ZXhwb3J0IGRlZmF1bHQgZm47ZXhwb3J0e3VuIGFzIEltbWVyLHBuIGFzIGFwcGx5UGF0Y2hlcyxLIGFzIGNhc3REcmFmdCwkIGFzIGNhc3RJbW11dGFibGUsbG4gYXMgY3JlYXRlRHJhZnQsRCBhcyBjdXJyZW50LEogYXMgZW5hYmxlQWxsUGx1Z2lucyxOIGFzIGVuYWJsZUVTNSxDIGFzIGVuYWJsZU1hcFNldCxUIGFzIGVuYWJsZVBhdGNoZXMsZG4gYXMgZmluaXNoRHJhZnQsZCBhcyBmcmVlemUsTCBhcyBpbW1lcmFibGUsciBhcyBpc0RyYWZ0LHQgYXMgaXNEcmFmdGFibGUsSCBhcyBub3RoaW5nLGUgYXMgb3JpZ2luYWwsZm4gYXMgcHJvZHVjZSxjbiBhcyBwcm9kdWNlV2l0aFBhdGNoZXMsc24gYXMgc2V0QXV0b0ZyZWV6ZSx2biBhcyBzZXRVc2VQcm94aWVzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltbWVyLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/immer/dist/immer.esm.mjs\n"));

/***/ }),

/***/ "./node_modules/nanoid/non-secure/index.js":
/*!*************************************************!*\
  !*** ./node_modules/nanoid/non-secure/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"customAlphabet\": function() { return /* binding */ customAlphabet; },\n/* harmony export */   \"nanoid\": function() { return /* binding */ nanoid; }\n/* harmony export */ });\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nlet nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmFub2lkL25vbi1zZWN1cmUvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2lDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uYW5vaWQvbm9uLXNlY3VyZS9pbmRleC5qcz9kMDBlIl0sInNvdXJjZXNDb250ZW50IjpbImxldCB1cmxBbHBoYWJldCA9XG4gICd1c2VhbmRvbS0yNlQxOTgzNDBQWDc1cHhKQUNLVkVSWU1JTkRCVVNIV09MRl9HUVpiZmdoamtscXZ3eXpyaWN0J1xubGV0IGN1c3RvbUFscGhhYmV0ID0gKGFscGhhYmV0LCBkZWZhdWx0U2l6ZSA9IDIxKSA9PiB7XG4gIHJldHVybiAoc2l6ZSA9IGRlZmF1bHRTaXplKSA9PiB7XG4gICAgbGV0IGlkID0gJydcbiAgICBsZXQgaSA9IHNpemVcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZCArPSBhbHBoYWJldFsoTWF0aC5yYW5kb20oKSAqIGFscGhhYmV0Lmxlbmd0aCkgfCAwXVxuICAgIH1cbiAgICByZXR1cm4gaWRcbiAgfVxufVxubGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+IHtcbiAgbGV0IGlkID0gJydcbiAgbGV0IGkgPSBzaXplXG4gIHdoaWxlIChpLS0pIHtcbiAgICBpZCArPSB1cmxBbHBoYWJldFsoTWF0aC5yYW5kb20oKSAqIDY0KSB8IDBdXG4gIH1cbiAgcmV0dXJuIGlkXG59XG5leHBvcnQgeyBuYW5vaWQsIGN1c3RvbUFscGhhYmV0IH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/nanoid/non-secure/index.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-client/build/esm/contrib/backo2.js":
/*!*******************************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/contrib/backo2.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Backoff\": function() { return /* binding */ Backoff; }\n/* harmony export */ });\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nfunction Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9iYWNrbzIuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIvYmFja28yLmpzP2JmMjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbml0aWFsaXplIGJhY2tvZmYgdGltZXIgd2l0aCBgb3B0c2AuXG4gKlxuICogLSBgbWluYCBpbml0aWFsIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIFsxMDBdXG4gKiAtIGBtYXhgIG1heCB0aW1lb3V0IFsxMDAwMF1cbiAqIC0gYGppdHRlcmAgWzBdXG4gKiAtIGBmYWN0b3JgIFsyXVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gQmFja29mZihvcHRzKSB7XG4gICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgdGhpcy5tcyA9IG9wdHMubWluIHx8IDEwMDtcbiAgICB0aGlzLm1heCA9IG9wdHMubWF4IHx8IDEwMDAwO1xuICAgIHRoaXMuZmFjdG9yID0gb3B0cy5mYWN0b3IgfHwgMjtcbiAgICB0aGlzLmppdHRlciA9IG9wdHMuaml0dGVyID4gMCAmJiBvcHRzLmppdHRlciA8PSAxID8gb3B0cy5qaXR0ZXIgOiAwO1xuICAgIHRoaXMuYXR0ZW1wdHMgPSAwO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGJhY2tvZmYgZHVyYXRpb24uXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1zID0gdGhpcy5tcyAqIE1hdGgucG93KHRoaXMuZmFjdG9yLCB0aGlzLmF0dGVtcHRzKyspO1xuICAgIGlmICh0aGlzLmppdHRlcikge1xuICAgICAgICB2YXIgcmFuZCA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIHZhciBkZXZpYXRpb24gPSBNYXRoLmZsb29yKHJhbmQgKiB0aGlzLmppdHRlciAqIG1zKTtcbiAgICAgICAgbXMgPSAoTWF0aC5mbG9vcihyYW5kICogMTApICYgMSkgPT0gMCA/IG1zIC0gZGV2aWF0aW9uIDogbXMgKyBkZXZpYXRpb247XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1pbihtcywgdGhpcy5tYXgpIHwgMDtcbn07XG4vKipcbiAqIFJlc2V0IHRoZSBudW1iZXIgb2YgYXR0ZW1wdHMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hdHRlbXB0cyA9IDA7XG59O1xuLyoqXG4gKiBTZXQgdGhlIG1pbmltdW0gZHVyYXRpb25cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRNaW4gPSBmdW5jdGlvbiAobWluKSB7XG4gICAgdGhpcy5tcyA9IG1pbjtcbn07XG4vKipcbiAqIFNldCB0aGUgbWF4aW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldE1heCA9IGZ1bmN0aW9uIChtYXgpIHtcbiAgICB0aGlzLm1heCA9IG1heDtcbn07XG4vKipcbiAqIFNldCB0aGUgaml0dGVyXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0Sml0dGVyID0gZnVuY3Rpb24gKGppdHRlcikge1xuICAgIHRoaXMuaml0dGVyID0gaml0dGVyO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/contrib/backo2.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-client/build/esm/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Manager\": function() { return /* reexport safe */ _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager; },\n/* harmony export */   \"Socket\": function() { return /* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_2__.Socket; },\n/* harmony export */   \"connect\": function() { return /* binding */ lookup; },\n/* harmony export */   \"default\": function() { return /* binding */ lookup; },\n/* harmony export */   \"io\": function() { return /* binding */ lookup; },\n/* harmony export */   \"protocol\": function() { return /* reexport safe */ socket_io_parser__WEBPACK_IMPORTED_MODULE_3__.protocol; }\n/* harmony export */ });\n/* harmony import */ var _url_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./url.js */ \"./node_modules/socket.io-client/build/esm/url.js\");\n/* harmony import */ var _manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./manager.js */ \"./node_modules/socket.io-client/build/esm/manager.js\");\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/socket.io-client/build/esm/socket.js\");\n/* harmony import */ var socket_io_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/build/esm/index.js\");\n\n\n\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = (0,_url_js__WEBPACK_IMPORTED_MODULE_0__.url)(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager: _manager_js__WEBPACK_IMPORTED_MODULE_1__.Manager,\n    Socket: _socket_js__WEBPACK_IMPORTED_MODULE_2__.Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\n\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNRO0FBQ0Y7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNENBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0RBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9pbmRleC5qcz80NTExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVybCB9IGZyb20gXCIuL3VybC5qc1wiO1xuaW1wb3J0IHsgTWFuYWdlciB9IGZyb20gXCIuL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IFNvY2tldCB9IGZyb20gXCIuL3NvY2tldC5qc1wiO1xuLyoqXG4gKiBNYW5hZ2VycyBjYWNoZS5cbiAqL1xuY29uc3QgY2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGxvb2t1cCh1cmksIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICB1cmkgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIGNvbnN0IHBhcnNlZCA9IHVybCh1cmksIG9wdHMucGF0aCB8fCBcIi9zb2NrZXQuaW9cIik7XG4gICAgY29uc3Qgc291cmNlID0gcGFyc2VkLnNvdXJjZTtcbiAgICBjb25zdCBpZCA9IHBhcnNlZC5pZDtcbiAgICBjb25zdCBwYXRoID0gcGFyc2VkLnBhdGg7XG4gICAgY29uc3Qgc2FtZU5hbWVzcGFjZSA9IGNhY2hlW2lkXSAmJiBwYXRoIGluIGNhY2hlW2lkXVtcIm5zcHNcIl07XG4gICAgY29uc3QgbmV3Q29ubmVjdGlvbiA9IG9wdHMuZm9yY2VOZXcgfHxcbiAgICAgICAgb3B0c1tcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdIHx8XG4gICAgICAgIGZhbHNlID09PSBvcHRzLm11bHRpcGxleCB8fFxuICAgICAgICBzYW1lTmFtZXNwYWNlO1xuICAgIGxldCBpbztcbiAgICBpZiAobmV3Q29ubmVjdGlvbikge1xuICAgICAgICBpbyA9IG5ldyBNYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWNhY2hlW2lkXSkge1xuICAgICAgICAgICAgY2FjaGVbaWRdID0gbmV3IE1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBpbyA9IGNhY2hlW2lkXTtcbiAgICB9XG4gICAgaWYgKHBhcnNlZC5xdWVyeSAmJiAhb3B0cy5xdWVyeSkge1xuICAgICAgICBvcHRzLnF1ZXJ5ID0gcGFyc2VkLnF1ZXJ5S2V5O1xuICAgIH1cbiAgICByZXR1cm4gaW8uc29ja2V0KHBhcnNlZC5wYXRoLCBvcHRzKTtcbn1cbi8vIHNvIHRoYXQgXCJsb29rdXBcIiBjYW4gYmUgdXNlZCBib3RoIGFzIGEgZnVuY3Rpb24gKGUuZy4gYGlvKC4uLilgKSBhbmQgYXMgYVxuLy8gbmFtZXNwYWNlIChlLmcuIGBpby5jb25uZWN0KC4uLilgKSwgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbk9iamVjdC5hc3NpZ24obG9va3VwLCB7XG4gICAgTWFuYWdlcixcbiAgICBTb2NrZXQsXG4gICAgaW86IGxvb2t1cCxcbiAgICBjb25uZWN0OiBsb29rdXAsXG59KTtcbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB7IHByb3RvY29sIH0gZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbi8qKlxuICogRXhwb3NlIGNvbnN0cnVjdG9ycyBmb3Igc3RhbmRhbG9uZSBidWlsZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB7IE1hbmFnZXIsIFNvY2tldCwgbG9va3VwIGFzIGlvLCBsb29rdXAgYXMgY29ubmVjdCwgbG9va3VwIGFzIGRlZmF1bHQsIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-client/build/esm/manager.js":
/*!************************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/manager.js ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Manager\": function() { return /* binding */ Manager; }\n/* harmony export */ });\n/* harmony import */ var engine_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine.io-client */ \"./node_modules/engine.io-client/build/esm/index.js\");\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/socket.io-client/build/esm/socket.js\");\n/* harmony import */ var socket_io_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/build/esm/index.js\");\n/* harmony import */ var _on_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./on.js */ \"./node_modules/socket.io-client/build/esm/on.js\");\n/* harmony import */ var _contrib_backo2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contrib/backo2.js */ \"./node_modules/socket.io-client/build/esm/contrib/backo2.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/index.mjs\");\n\n\n\n\n\n\nclass Manager extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_5__.Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        (0,engine_io_client__WEBPACK_IMPORTED_MODULE_0__.installTimerFunctions)(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new _contrib_backo2_js__WEBPACK_IMPORTED_MODULE_4__.Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || socket_io_parser__WEBPACK_IMPORTED_MODULE_2__;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new engine_io_client__WEBPACK_IMPORTED_MODULE_0__.Socket(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push((0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"ping\", this.onping.bind(this)), (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"data\", this.ondata.bind(this)), (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"error\", this.onerror.bind(this)), (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(socket, \"close\", this.onclose.bind(this)), (0,_on_js__WEBPACK_IMPORTED_MODULE_3__.on)(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\");\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new _socket_js__WEBPACK_IMPORTED_MODULE_1__.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vbWFuYWdlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRFO0FBQ3ZDO0FBQ007QUFDZDtBQUNpQjtBQUNVO0FBQ2pELHNCQUFzQixpRUFBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVFQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNkNBQU07QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvREFBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDBDQUFFO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx5QkFBeUIsMENBQUU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBDQUFFLDBDQUEwQywwQ0FBRSwwQ0FBMEMsMENBQUUsNENBQTRDLDBDQUFFLDRDQUE0QywwQ0FBRTtBQUM3TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkJBQTJCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vbWFuYWdlci5qcz9hMzRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvY2tldCBhcyBFbmdpbmUsIGluc3RhbGxUaW1lckZ1bmN0aW9ucywgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG5pbXBvcnQgKiBhcyBwYXJzZXIgZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbmltcG9ydCB7IG9uIH0gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB7IEJhY2tvZmYgfSBmcm9tIFwiLi9jb250cmliL2JhY2tvMi5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciwgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuZXhwb3J0IGNsYXNzIE1hbmFnZXIgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5zcHMgPSB7fTtcbiAgICAgICAgdGhpcy5zdWJzID0gW107XG4gICAgICAgIGlmICh1cmkgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHVyaSkge1xuICAgICAgICAgICAgb3B0cyA9IHVyaTtcbiAgICAgICAgICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICAgICAgb3B0cy5wYXRoID0gb3B0cy5wYXRoIHx8IFwiL3NvY2tldC5pb1wiO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uKG9wdHMucmVjb25uZWN0aW9uICE9PSBmYWxzZSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMob3B0cy5yZWNvbm5lY3Rpb25BdHRlbXB0cyB8fCBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uRGVsYXkob3B0cy5yZWNvbm5lY3Rpb25EZWxheSB8fCAxMDAwKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChvcHRzLnJlY29ubmVjdGlvbkRlbGF5TWF4IHx8IDUwMDApO1xuICAgICAgICB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKF9hID0gb3B0cy5yYW5kb21pemF0aW9uRmFjdG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwLjUpO1xuICAgICAgICB0aGlzLmJhY2tvZmYgPSBuZXcgQmFja29mZih7XG4gICAgICAgICAgICBtaW46IHRoaXMucmVjb25uZWN0aW9uRGVsYXkoKSxcbiAgICAgICAgICAgIG1heDogdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLFxuICAgICAgICAgICAgaml0dGVyOiB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGltZW91dChudWxsID09IG9wdHMudGltZW91dCA/IDIwMDAwIDogb3B0cy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICBjb25zdCBfcGFyc2VyID0gb3B0cy5wYXJzZXIgfHwgcGFyc2VyO1xuICAgICAgICB0aGlzLmVuY29kZXIgPSBuZXcgX3BhcnNlci5FbmNvZGVyKCk7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBfcGFyc2VyLkRlY29kZXIoKTtcbiAgICAgICAgdGhpcy5fYXV0b0Nvbm5lY3QgPSBvcHRzLmF1dG9Db25uZWN0ICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9Db25uZWN0KVxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbih2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbiA9ICEhdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzKHYpIHtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWluKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmFuZG9taXphdGlvbkZhY3Rvcih2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yO1xuICAgICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Sml0dGVyKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXgodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWF4KHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGltZW91dCh2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYXliZVJlY29ubmVjdE9uT3BlbigpIHtcbiAgICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3JlY29ubmVjdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGtlZXBzIHJlY29ubmVjdGlvbiBmcm9tIGZpcmluZyB0d2ljZSBmb3IgdGhlIHNhbWUgcmVjb25uZWN0aW9uIGxvb3BcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIG9wdGlvbmFsLCBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKGZuKSB7XG4gICAgICAgIGlmICh+dGhpcy5fcmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBFbmdpbmUodGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSBvbihzb2NrZXQsIFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLm9ub3BlbigpO1xuICAgICAgICAgICAgZm4gJiYgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVtaXQgYGVycm9yYFxuICAgICAgICBjb25zdCBlcnJvclN1YiA9IG9uKHNvY2tldCwgXCJlcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmNsZWFudXAoKTtcbiAgICAgICAgICAgIHNlbGYuX3JlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdGhpcyBpZiB0aGVyZSBpcyBubyBmbiB0byBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgc2VsZi5tYXliZVJlY29ubmVjdE9uT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZhbHNlICE9PSB0aGlzLl90aW1lb3V0KSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gdGhpcy5fdGltZW91dDtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgb3BlblN1YkRlc3Ryb3koKTsgLy8gcHJldmVudHMgYSByYWNlIGNvbmRpdGlvbiB3aXRoIHRoZSAnb3BlbicgZXZlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCB0aW1lclxuICAgICAgICAgICAgY29uc3QgdGltZXIgPSB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgb3BlblN1YkRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJlcnJvclwiLCBuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzLnB1c2goZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLnB1c2gob3BlblN1YkRlc3Ryb3kpO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChlcnJvclN1Yik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Igb3BlbigpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29ubmVjdChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ub3BlbigpIHtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsIFwicGluZ1wiLCB0aGlzLm9ucGluZy5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImRhdGFcIiwgdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksIG9uKHRoaXMuZGVjb2RlciwgXCJkZWNvZGVkXCIsIHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBwaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBpbmcoKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kYXRhKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcInBhcnNlIGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRlY29kZWQocGFja2V0KSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNvY2tldCBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25lcnJvcihlcnIpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNvY2tldCBmb3IgdGhlIGdpdmVuIGBuc3BgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U29ja2V0fVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzb2NrZXQobnNwLCBvcHRzKSB7XG4gICAgICAgIGxldCBzb2NrZXQgPSB0aGlzLm5zcHNbbnNwXTtcbiAgICAgICAgaWYgKCFzb2NrZXQpIHtcbiAgICAgICAgICAgIHNvY2tldCA9IG5ldyBTb2NrZXQodGhpcywgbnNwLCBvcHRzKTtcbiAgICAgICAgICAgIHRoaXMubnNwc1tuc3BdID0gc29ja2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb2NrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgc29ja2V0IGNsb3NlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNvY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Rlc3Ryb3koc29ja2V0KSB7XG4gICAgICAgIGNvbnN0IG5zcHMgPSBPYmplY3Qua2V5cyh0aGlzLm5zcHMpO1xuICAgICAgICBmb3IgKGNvbnN0IG5zcCBvZiBuc3BzKSB7XG4gICAgICAgICAgICBjb25zdCBzb2NrZXQgPSB0aGlzLm5zcHNbbnNwXTtcbiAgICAgICAgICAgIGlmIChzb2NrZXQuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gdGhpcy5lbmNvZGVyLmVuY29kZShwYWNrZXQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWRQYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS53cml0ZShlbmNvZGVkUGFja2V0c1tpXSwgcGFja2V0Lm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRyYW5zcG9ydCBzdWJzY3JpcHRpb25zIGFuZCBwYWNrZXQgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhbnVwKCkge1xuICAgICAgICB0aGlzLnN1YnMuZm9yRWFjaCgoc3ViRGVzdHJveSkgPT4gc3ViRGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5zdWJzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZGVjb2Rlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBjdXJyZW50IHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Nsb3NlKCkge1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpO1xuICAgICAgICBpZiAodGhpcy5lbmdpbmUpXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgY2xvc2UoKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIGNsb3NlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmNsb3NlKHJlYXNvbiwgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGlvbiAmJiAhdGhpcy5za2lwUmVjb25uZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgYSByZWNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGluZyB8fCB0aGlzLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPj0gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZmFpbGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9hdHRlbXB0XCIsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYWdhaW4gZm9yIHRoZSBjYXNlIHNvY2tldCBjbG9zZWQgaW4gYWJvdmUgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNlbGYub3BlbigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9ucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGltZXIudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vicy5wdXNoKGZ1bmN0aW9uIHN1YkRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnJlY29ubmVjdCgpIHtcbiAgICAgICAgY29uc3QgYXR0ZW1wdCA9IHRoaXMuYmFja29mZi5hdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdFwiLCBhdHRlbXB0KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/manager.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-client/build/esm/on.js":
/*!*******************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/on.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"on\": function() { return /* binding */ on; }\n/* harmony export */ });\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vb24uanM/NTQ3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gb24ob2JqLCBldiwgZm4pIHtcbiAgICBvYmoub24oZXYsIGZuKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgb2JqLm9mZihldiwgZm4pO1xuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/on.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-client/build/esm/socket.js":
/*!***********************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/socket.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Socket\": function() { return /* binding */ Socket; }\n/* harmony export */ });\n/* harmony import */ var socket_io_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-parser/build/esm/index.js\");\n/* harmony import */ var _on_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./on.js */ \"./node_modules/socket.io-client/build/esm/on.js\");\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/index.mjs\");\n\n\n\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nclass Socket extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_2__.Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"open\", this.onopen.bind(this)),\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"packet\", this.onpacket.bind(this)),\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"error\", this.onerror.bind(this)),\n            (0,_on_js__WEBPACK_IMPORTED_MODULE_1__.on)(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.EVENT:\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.ACK:\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: socket_io_parser__WEBPACK_IMPORTED_MODULE_0__.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * ```\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     * ```\n     *\n     * @returns self\n     * @public\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(event);\n     * });\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(event);\n     * });\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * const handler = (event, ...args) => {\n     *   console.log(event);\n     * }\n     *\n     * socket.onAnyOutgoing(handler);\n     *\n     * // then later\n     * socket.offAnyOutgoing(handler);\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vc29ja2V0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDakI7QUFDMkI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNNLHFCQUFxQixpRUFBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMENBQUU7QUFDZCxZQUFZLDBDQUFFO0FBQ2QsWUFBWSwwQ0FBRTtBQUNkLFlBQVksMENBQUU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsTUFBTSxnRUFBa0IsUUFBUTtBQUM5RCxhQUFhO0FBQ2I7QUFDQTtBQUNBLDBCQUEwQixNQUFNLGdFQUFrQixtQkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdFQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhEQUFnQjtBQUNqQyxpQkFBaUIscUVBQXVCO0FBQ3hDO0FBQ0E7QUFDQSxpQkFBaUIsNERBQWM7QUFDL0IsaUJBQWlCLG1FQUFxQjtBQUN0QztBQUNBO0FBQ0EsaUJBQWlCLG1FQUFxQjtBQUN0QztBQUNBO0FBQ0EsaUJBQWlCLHNFQUF3QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBYztBQUNwQztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixNQUFNLG1FQUFxQixFQUFFO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL3NvY2tldC5qcz85NjliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhY2tldFR5cGUgfSBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgb24gfSBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciwgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuLyoqXG4gKiBJbnRlcm5hbCBldmVudHMuXG4gKiBUaGVzZSBldmVudHMgY2FuJ3QgYmUgZW1pdHRlZCBieSB0aGUgdXNlci5cbiAqL1xuY29uc3QgUkVTRVJWRURfRVZFTlRTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgY29ubmVjdDogMSxcbiAgICBjb25uZWN0X2Vycm9yOiAxLFxuICAgIGRpc2Nvbm5lY3Q6IDEsXG4gICAgZGlzY29ubmVjdGluZzogMSxcbiAgICAvLyBFdmVudEVtaXR0ZXIgcmVzZXJ2ZWQgZXZlbnRzOiBodHRwczovL25vZGVqcy5vcmcvYXBpL2V2ZW50cy5odG1sI2V2ZW50c19ldmVudF9uZXdsaXN0ZW5lclxuICAgIG5ld0xpc3RlbmVyOiAxLFxuICAgIHJlbW92ZUxpc3RlbmVyOiAxLFxufSk7XG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogYFNvY2tldGAgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW8sIG5zcCwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuaWRzID0gMDtcbiAgICAgICAgdGhpcy5hY2tzID0ge307XG4gICAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5pbyA9IGlvO1xuICAgICAgICB0aGlzLm5zcCA9IG5zcDtcbiAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5hdXRoKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGggPSBvcHRzLmF1dGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW8uX2F1dG9Db25uZWN0KVxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNvY2tldCBpcyBjdXJyZW50bHkgZGlzY29ubmVjdGVkXG4gICAgICovXG4gICAgZ2V0IGRpc2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbm5lY3RlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIG9wZW4sIGNsb3NlIGFuZCBwYWNrZXQgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN1YkV2ZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VicylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW8gPSB0aGlzLmlvO1xuICAgICAgICB0aGlzLnN1YnMgPSBbXG4gICAgICAgICAgICBvbihpbywgXCJvcGVuXCIsIHRoaXMub25vcGVuLmJpbmQodGhpcykpLFxuICAgICAgICAgICAgb24oaW8sIFwicGFja2V0XCIsIHRoaXMub25wYWNrZXQuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIFNvY2tldCB3aWxsIHRyeSB0byByZWNvbm5lY3Qgd2hlbiBpdHMgTWFuYWdlciBjb25uZWN0cyBvciByZWNvbm5lY3RzXG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdWJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcIk9wZW5zXCIgdGhlIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgdGhpcy5zdWJFdmVudHMoKTtcbiAgICAgICAgaWYgKCF0aGlzLmlvW1wiX3JlY29ubmVjdGluZ1wiXSlcbiAgICAgICAgICAgIHRoaXMuaW8ub3BlbigpOyAvLyBlbnN1cmUgb3BlblxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMuaW8uX3JlYWR5U3RhdGUpXG4gICAgICAgICAgICB0aGlzLm9ub3BlbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNvbm5lY3QoKVxuICAgICAqL1xuICAgIG9wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBgbWVzc2FnZWAgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2VuZCguLi5hcmdzKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChcIm1lc3NhZ2VcIik7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGBlbWl0YC5cbiAgICAgKiBJZiB0aGUgZXZlbnQgaXMgaW4gYGV2ZW50c2AsIGl0J3MgZW1pdHRlZCBub3JtYWxseS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBlbWl0KGV2LCAuLi5hcmdzKSB7XG4gICAgICAgIGlmIChSRVNFUlZFRF9FVkVOVFMuaGFzT3duUHJvcGVydHkoZXYpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGV2LnRvU3RyaW5nKCkgKyAnXCIgaXMgYSByZXNlcnZlZCBldmVudCBuYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy51bnNoaWZ0KGV2KTtcbiAgICAgICAgY29uc3QgcGFja2V0ID0ge1xuICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5FVkVOVCxcbiAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgIH07XG4gICAgICAgIHBhY2tldC5vcHRpb25zID0ge307XG4gICAgICAgIHBhY2tldC5vcHRpb25zLmNvbXByZXNzID0gdGhpcy5mbGFncy5jb21wcmVzcyAhPT0gZmFsc2U7XG4gICAgICAgIC8vIGV2ZW50IGFjayBjYWxsYmFja1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuaWRzKys7XG4gICAgICAgICAgICBjb25zdCBhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJBY2tDYWxsYmFjayhpZCwgYWNrKTtcbiAgICAgICAgICAgIHBhY2tldC5pZCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzVHJhbnNwb3J0V3JpdGFibGUgPSB0aGlzLmlvLmVuZ2luZSAmJlxuICAgICAgICAgICAgdGhpcy5pby5lbmdpbmUudHJhbnNwb3J0ICYmXG4gICAgICAgICAgICB0aGlzLmlvLmVuZ2luZS50cmFuc3BvcnQud3JpdGFibGU7XG4gICAgICAgIGNvbnN0IGRpc2NhcmRQYWNrZXQgPSB0aGlzLmZsYWdzLnZvbGF0aWxlICYmICghaXNUcmFuc3BvcnRXcml0YWJsZSB8fCAhdGhpcy5jb25uZWN0ZWQpO1xuICAgICAgICBpZiAoZGlzY2FyZFBhY2tldCkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldChwYWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYWdzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZWdpc3RlckFja0NhbGxiYWNrKGlkLCBhY2spIHtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuZmxhZ3MudGltZW91dDtcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hY2tzW2lkXSA9IGFjaztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5pby5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWNrc1tpZF07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbmRCdWZmZXJbaV0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNrLmNhbGwodGhpcywgbmV3IEVycm9yKFwib3BlcmF0aW9uIGhhcyB0aW1lZCBvdXRcIikpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5hY2tzW2lkXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLmlvLmNsZWFyVGltZW91dEZuKHRpbWVyKTtcbiAgICAgICAgICAgIGFjay5hcHBseSh0aGlzLCBbbnVsbCwgLi4uYXJnc10pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgcGFja2V0Lm5zcCA9IHRoaXMubnNwO1xuICAgICAgICB0aGlzLmlvLl9wYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIGBvcGVuYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25vcGVuKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYXV0aCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFja2V0KHsgdHlwZTogUGFja2V0VHlwZS5DT05ORUNULCBkYXRhIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IFBhY2tldFR5cGUuQ09OTkVDVCwgZGF0YTogdGhpcy5hdXRoIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYGNsb3NlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBkZWxldGUgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkaXNjb25uZWN0XCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBwYWNrZXQubnNwID09PSB0aGlzLm5zcDtcbiAgICAgICAgaWYgKCFzYW1lTmFtZXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0LmRhdGEgJiYgcGFja2V0LmRhdGEuc2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gcGFja2V0LmRhdGEuc2lkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY29ubmVjdChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgbmV3IEVycm9yKFwiSXQgc2VlbXMgeW91IGFyZSB0cnlpbmcgdG8gcmVhY2ggYSBTb2NrZXQuSU8gc2VydmVyIGluIHYyLnggd2l0aCBhIHYzLnggY2xpZW50LCBidXQgdGhleSBhcmUgbm90IGNvbXBhdGlibGUgKG1vcmUgaW5mb3JtYXRpb24gaGVyZTogaHR0cHM6Ly9zb2NrZXQuaW8vZG9jcy92My9taWdyYXRpbmctZnJvbS0yLXgtdG8tMy0wLylcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5FVkVOVDpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfRVZFTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmV2ZW50KHBhY2tldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQUNLOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0s6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihwYWNrZXQuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZXJyLmRhdGEgPSBwYWNrZXQuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgc2VydmVyIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25ldmVudChwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHBhY2tldC5kYXRhIHx8IFtdO1xuICAgICAgICBpZiAobnVsbCAhPSBwYWNrZXQuaWQpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaCh0aGlzLmFjayhwYWNrZXQuaWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdEV2ZW50KGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLnB1c2goT2JqZWN0LmZyZWV6ZShhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1pdEV2ZW50KGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FueUxpc3RlbmVycyAmJiB0aGlzLl9hbnlMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYW4gYWNrIGNhbGxiYWNrIHRvIGVtaXQgd2l0aCBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWNrKGlkKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgc2VudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgZG91YmxlIGNhbGxiYWNrc1xuICAgICAgICAgICAgaWYgKHNlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VudCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnBhY2tldCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5BQ0ssXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgYWNrbm93bGVnZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmFjayhwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYWNrID0gdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY2spIHtcbiAgICAgICAgICAgIGFjay5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc2VydmVyIGNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY29ubmVjdChpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0QnVmZmVyZWQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ1ZmZlcmVkIGV2ZW50cyAocmVjZWl2ZWQgYW5kIGVtaXR0ZWQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBlbWl0QnVmZmVyZWQoKSB7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5mb3JFYWNoKChhcmdzKSA9PiB0aGlzLmVtaXRFdmVudChhcmdzKSk7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaCgocGFja2V0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldChwYWNrZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNlcnZlciBkaXNjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm9uY2xvc2UoXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZm9yY2VkIGNsaWVudC9zZXJ2ZXIgc2lkZSBkaXNjb25uZWN0aW9ucyxcbiAgICAgKiB0aGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBtYW5hZ2VyIHN0b3BzIHRyYWNraW5nIHVzIGFuZFxuICAgICAqIHRoYXQgcmVjb25uZWN0aW9ucyBkb24ndCBnZXQgdHJpZ2dlcmVkIGZvciB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzKSB7XG4gICAgICAgICAgICAvLyBjbGVhbiBzdWJzY3JpcHRpb25zIHRvIGF2b2lkIHJlY29ubmVjdGlvbnNcbiAgICAgICAgICAgIHRoaXMuc3Vicy5mb3JFYWNoKChzdWJEZXN0cm95KSA9PiBzdWJEZXN0cm95KCkpO1xuICAgICAgICAgICAgdGhpcy5zdWJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW9bXCJfZGVzdHJveVwiXSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHNvY2tldCBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFja2V0KHsgdHlwZTogUGFja2V0VHlwZS5ESVNDT05ORUNUIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBzb2NrZXQgZnJvbSBwb29sXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIC8vIGZpcmUgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLm9uY2xvc2UoXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGRpc2Nvbm5lY3QoKVxuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbXByZXNzIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tcHJlc3MgLSBpZiBgdHJ1ZWAsIGNvbXByZXNzZXMgdGhlIHNlbmRpbmcgZGF0YVxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBjb21wcmVzcyhjb21wcmVzcykge1xuICAgICAgICB0aGlzLmZsYWdzLmNvbXByZXNzID0gY29tcHJlc3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBldmVudCBtZXNzYWdlIHdpbGwgYmUgZHJvcHBlZCB3aGVuIHRoaXMgc29ja2V0IGlzIG5vdFxuICAgICAqIHJlYWR5IHRvIHNlbmQgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldCB2b2xhdGlsZSgpIHtcbiAgICAgICAgdGhpcy5mbGFncy52b2xhdGlsZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGVycm9yIHdoZW4gdGhlXG4gICAgICogZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgd2l0aG91dCBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogc29ja2V0LnRpbWVvdXQoNTAwMCkuZW1pdChcIm15LWV2ZW50XCIsIChlcnIpID0+IHtcbiAgICAgKiAgIGlmIChlcnIpIHtcbiAgICAgKiAgICAgLy8gdGhlIHNlcnZlciBkaWQgbm90IGFja25vd2xlZGdlIHRoZSBldmVudCBpbiB0aGUgZ2l2ZW4gZGVsYXlcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgdGltZW91dCh0aW1lb3V0KSB7XG4gICAgICAgIHRoaXMuZmxhZ3MudGltZW91dCA9IHRpbWVvdXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgb25BbnkobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgcHJlcGVuZEFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIG9mZkFueShsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueUxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZVxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiA8cHJlPjxjb2RlPlxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiA8L3ByZT48L2NvZGU+XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgb25BbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqXG4gICAgICogPHByZT48Y29kZT5cbiAgICAgKlxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiA8L3ByZT48L2NvZGU+XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgcHJlcGVuZEFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIDxwcmU+PGNvZGU+XG4gICAgICpcbiAgICAgKiBjb25zdCBoYW5kbGVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoaGFuZGxlcik7XG4gICAgICpcbiAgICAgKiAvLyB0aGVuIGxhdGVyXG4gICAgICogc29ja2V0Lm9mZkFueU91dGdvaW5nKGhhbmRsZXIpO1xuICAgICAqXG4gICAgICogPC9wcmU+PC9jb2RlPlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIG9mZkFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRoYXQgYXJlIGxpc3RlbmluZyBmb3IgYW55IGV2ZW50IHRoYXQgaXMgc3BlY2lmaWVkLiBUaGlzIGFycmF5IGNhbiBiZSBtYW5pcHVsYXRlZCxcbiAgICAgKiBlLmcuIHRvIHJlbW92ZSBsaXN0ZW5lcnMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbGlzdGVuZXJzQW55T3V0Z29pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBsaXN0ZW5lcnMgZm9yIGVhY2ggcGFja2V0IHNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMocGFja2V0KSB7XG4gICAgICAgIGlmICh0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyAmJiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/socket.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-client/build/esm/url.js":
/*!********************************************************!*\
  !*** ./node_modules/socket.io-client/build/esm/url.js ***!
  \********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"url\": function() { return /* binding */ url; }\n/* harmony export */ });\n/* harmony import */ var engine_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine.io-client */ \"./node_modules/engine.io-client/build/esm/index.js\");\n\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = (0,engine_io_client__WEBPACK_IMPORTED_MODULE_0__.parse)(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vdXJsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS91cmwuanM/M2E0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG4vKipcbiAqIFVSTCBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHVyaSAtIHVybFxuICogQHBhcmFtIHBhdGggLSB0aGUgcmVxdWVzdCBwYXRoIG9mIHRoZSBjb25uZWN0aW9uXG4gKiBAcGFyYW0gbG9jIC0gQW4gb2JqZWN0IG1lYW50IHRvIG1pbWljIHdpbmRvdy5sb2NhdGlvbi5cbiAqICAgICAgICBEZWZhdWx0cyB0byB3aW5kb3cubG9jYXRpb24uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cmwodXJpLCBwYXRoID0gXCJcIiwgbG9jKSB7XG4gICAgbGV0IG9iaiA9IHVyaTtcbiAgICAvLyBkZWZhdWx0IHRvIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIGxvY2F0aW9uKTtcbiAgICBpZiAobnVsbCA9PSB1cmkpXG4gICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIFwiLy9cIiArIGxvYy5ob3N0O1xuICAgIC8vIHJlbGF0aXZlIHBhdGggc3VwcG9ydFxuICAgIGlmICh0eXBlb2YgdXJpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChcIi9cIiA9PT0gdXJpLmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDEpKSB7XG4gICAgICAgICAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgdXJpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXJpID0gbG9jLmhvc3QgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEvXihodHRwcz98d3NzPyk6XFwvXFwvLy50ZXN0KHVyaSkpIHtcbiAgICAgICAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgbG9jKSB7XG4gICAgICAgICAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgdXJpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXJpID0gXCJodHRwczovL1wiICsgdXJpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlXG4gICAgICAgIG9iaiA9IHBhcnNlKHVyaSk7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB3ZSB0cmVhdCBgbG9jYWxob3N0OjgwYCBhbmQgYGxvY2FsaG9zdGAgZXF1YWxseVxuICAgIGlmICghb2JqLnBvcnQpIHtcbiAgICAgICAgaWYgKC9eKGh0dHB8d3MpJC8udGVzdChvYmoucHJvdG9jb2wpKSB7XG4gICAgICAgICAgICBvYmoucG9ydCA9IFwiODBcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgvXihodHRwfHdzKXMkLy50ZXN0KG9iai5wcm90b2NvbCkpIHtcbiAgICAgICAgICAgIG9iai5wb3J0ID0gXCI0NDNcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvYmoucGF0aCA9IG9iai5wYXRoIHx8IFwiL1wiO1xuICAgIGNvbnN0IGlwdjYgPSBvYmouaG9zdC5pbmRleE9mKFwiOlwiKSAhPT0gLTE7XG4gICAgY29uc3QgaG9zdCA9IGlwdjYgPyBcIltcIiArIG9iai5ob3N0ICsgXCJdXCIgOiBvYmouaG9zdDtcbiAgICAvLyBkZWZpbmUgdW5pcXVlIGlkXG4gICAgb2JqLmlkID0gb2JqLnByb3RvY29sICsgXCI6Ly9cIiArIGhvc3QgKyBcIjpcIiArIG9iai5wb3J0ICsgcGF0aDtcbiAgICAvLyBkZWZpbmUgaHJlZlxuICAgIG9iai5ocmVmID1cbiAgICAgICAgb2JqLnByb3RvY29sICtcbiAgICAgICAgICAgIFwiOi8vXCIgK1xuICAgICAgICAgICAgaG9zdCArXG4gICAgICAgICAgICAobG9jICYmIGxvYy5wb3J0ID09PSBvYmoucG9ydCA/IFwiXCIgOiBcIjpcIiArIG9iai5wb3J0KTtcbiAgICByZXR1cm4gb2JqO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/socket.io-client/build/esm/url.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-parser/build/esm/binary.js":
/*!***********************************************************!*\
  !*** ./node_modules/socket.io-parser/build/esm/binary.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deconstructPacket\": function() { return /* binding */ deconstructPacket; },\n/* harmony export */   \"reconstructPacket\": function() { return /* binding */ reconstructPacket; }\n/* harmony export */ });\n/* harmony import */ var _is_binary_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is-binary.js */ \"./node_modules/socket.io-parser/build/esm/is-binary.js\");\n\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if ((0,_is_binary_js__WEBPACK_IMPORTED_MODULE_0__.isBinary)(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vYmluYXJ5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQVE7QUFDaEIsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2VzbS9iaW5hcnkuanM/MDFlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0JpbmFyeSB9IGZyb20gXCIuL2lzLWJpbmFyeS5qc1wiO1xuLyoqXG4gKiBSZXBsYWNlcyBldmVyeSBCdWZmZXIgfCBBcnJheUJ1ZmZlciB8IEJsb2IgfCBGaWxlIGluIHBhY2tldCB3aXRoIGEgbnVtYmVyZWQgcGxhY2Vob2xkZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldCAtIHNvY2tldC5pbyBldmVudCBwYWNrZXRcbiAqIEByZXR1cm4ge09iamVjdH0gd2l0aCBkZWNvbnN0cnVjdGVkIHBhY2tldCBhbmQgbGlzdCBvZiBidWZmZXJzXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvbnN0cnVjdFBhY2tldChwYWNrZXQpIHtcbiAgICBjb25zdCBidWZmZXJzID0gW107XG4gICAgY29uc3QgcGFja2V0RGF0YSA9IHBhY2tldC5kYXRhO1xuICAgIGNvbnN0IHBhY2sgPSBwYWNrZXQ7XG4gICAgcGFjay5kYXRhID0gX2RlY29uc3RydWN0UGFja2V0KHBhY2tldERhdGEsIGJ1ZmZlcnMpO1xuICAgIHBhY2suYXR0YWNobWVudHMgPSBidWZmZXJzLmxlbmd0aDsgLy8gbnVtYmVyIG9mIGJpbmFyeSAnYXR0YWNobWVudHMnXG4gICAgcmV0dXJuIHsgcGFja2V0OiBwYWNrLCBidWZmZXJzOiBidWZmZXJzIH07XG59XG5mdW5jdGlvbiBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICAgIGlmICghZGF0YSlcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgaWYgKGlzQmluYXJ5KGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0geyBfcGxhY2Vob2xkZXI6IHRydWUsIG51bTogYnVmZmVycy5sZW5ndGggfTtcbiAgICAgICAgYnVmZmVycy5wdXNoKGRhdGEpO1xuICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IG5ldyBBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3RGF0YVtpXSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgIShkYXRhIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBuZXdEYXRhW2tleV0gPSBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldLCBidWZmZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIFJlY29uc3RydWN0cyBhIGJpbmFyeSBwYWNrZXQgZnJvbSBpdHMgcGxhY2Vob2xkZXIgcGFja2V0IGFuZCBidWZmZXJzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldCAtIGV2ZW50IHBhY2tldCB3aXRoIHBsYWNlaG9sZGVyc1xuICogQHBhcmFtIHtBcnJheX0gYnVmZmVycyAtIGJpbmFyeSBidWZmZXJzIHRvIHB1dCBpbiBwbGFjZWhvbGRlciBwb3NpdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjb25zdHJ1Y3RlZCBwYWNrZXRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29uc3RydWN0UGFja2V0KHBhY2tldCwgYnVmZmVycykge1xuICAgIHBhY2tldC5kYXRhID0gX3JlY29uc3RydWN0UGFja2V0KHBhY2tldC5kYXRhLCBidWZmZXJzKTtcbiAgICBwYWNrZXQuYXR0YWNobWVudHMgPSB1bmRlZmluZWQ7IC8vIG5vIGxvbmdlciB1c2VmdWxcbiAgICByZXR1cm4gcGFja2V0O1xufVxuZnVuY3Rpb24gX3JlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmIChkYXRhICYmIGRhdGEuX3BsYWNlaG9sZGVyID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGlzSW5kZXhWYWxpZCA9IHR5cGVvZiBkYXRhLm51bSA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPj0gMCAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPCBidWZmZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGlzSW5kZXhWYWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcnNbZGF0YS5udW1dOyAvLyBhcHByb3ByaWF0ZSBidWZmZXIgKHNob3VsZCBiZSBuYXR1cmFsIG9yZGVyIGFueXdheSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtpXSwgYnVmZmVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-parser/build/esm/binary.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-parser/build/esm/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/socket.io-parser/build/esm/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Decoder\": function() { return /* binding */ Decoder; },\n/* harmony export */   \"Encoder\": function() { return /* binding */ Encoder; },\n/* harmony export */   \"PacketType\": function() { return /* binding */ PacketType; },\n/* harmony export */   \"protocol\": function() { return /* binding */ protocol; }\n/* harmony export */ });\n/* harmony import */ var _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @socket.io/component-emitter */ \"./node_modules/@socket.io/component-emitter/index.mjs\");\n/* harmony import */ var _binary_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./binary.js */ \"./node_modules/socket.io-parser/build/esm/binary.js\");\n/* harmony import */ var _is_binary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./is-binary.js */ \"./node_modules/socket.io-parser/build/esm/is-binary.js\");\n\n\n\n/**\n * Protocol version.\n *\n * @public\n */\nconst protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if ((0,_is_binary_js__WEBPACK_IMPORTED_MODULE_2__.hasBinary)(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = (0,_binary_js__WEBPACK_IMPORTED_MODULE_1__.deconstructPacket)(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends _socket_io_component_emitter__WEBPACK_IMPORTED_MODULE_0__.Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if ((0,_is_binary_js__WEBPACK_IMPORTED_MODULE_2__.isBinary)(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = (0,_binary_js__WEBPACK_IMPORTED_MODULE_1__.reconstructPacket)(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF1RDtBQUNZO0FBQ2Q7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0RBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2REFBaUI7QUFDaEQ7QUFDQTtBQUNBLCtCQUErQjtBQUMvQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNPLHNCQUFzQixpRUFBTztBQUNwQztBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix1REFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxxQkFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCO0FBQ3JDLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw2REFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtL2luZGV4LmpzPzM0NzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBkZWNvbnN0cnVjdFBhY2tldCwgcmVjb25zdHJ1Y3RQYWNrZXQgfSBmcm9tIFwiLi9iaW5hcnkuanNcIjtcbmltcG9ydCB7IGlzQmluYXJ5LCBoYXNCaW5hcnkgfSBmcm9tIFwiLi9pcy1iaW5hcnkuanNcIjtcbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBwcm90b2NvbCA9IDU7XG5leHBvcnQgdmFyIFBhY2tldFR5cGU7XG4oZnVuY3Rpb24gKFBhY2tldFR5cGUpIHtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUXCJdID0gMF0gPSBcIkNPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJESVNDT05ORUNUXCJdID0gMV0gPSBcIkRJU0NPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJFVkVOVFwiXSA9IDJdID0gXCJFVkVOVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkFDS1wiXSA9IDNdID0gXCJBQ0tcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUX0VSUk9SXCJdID0gNF0gPSBcIkNPTk5FQ1RfRVJST1JcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJCSU5BUllfRVZFTlRcIl0gPSA1XSA9IFwiQklOQVJZX0VWRU5UXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQklOQVJZX0FDS1wiXSA9IDZdID0gXCJCSU5BUllfQUNLXCI7XG59KShQYWNrZXRUeXBlIHx8IChQYWNrZXRUeXBlID0ge30pKTtcbi8qKlxuICogQSBzb2NrZXQuaW8gRW5jb2RlciBpbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgRW5jb2RlciB7XG4gICAgLyoqXG4gICAgICogRW5jb2RlciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmVwbGFjZXIgLSBjdXN0b20gcmVwbGFjZXIgdG8gcGFzcyBkb3duIHRvIEpTT04ucGFyc2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXBsYWNlcikge1xuICAgICAgICB0aGlzLnJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBhIHBhY2tldCBhcyBhIHNpbmdsZSBzdHJpbmcgaWYgbm9uLWJpbmFyeSwgb3IgYXMgYVxuICAgICAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHBhY2tldCBvYmplY3RcbiAgICAgKi9cbiAgICBlbmNvZGUob2JqKSB7XG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVCB8fCBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5BQ0spIHtcbiAgICAgICAgICAgIGlmIChoYXNCaW5hcnkob2JqKSkge1xuICAgICAgICAgICAgICAgIG9iai50eXBlID1cbiAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gUGFja2V0VHlwZS5CSU5BUllfRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogUGFja2V0VHlwZS5CSU5BUllfQUNLO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZUFzQmluYXJ5KG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLmVuY29kZUFzU3RyaW5nKG9iaildO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzIHN0cmluZy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc1N0cmluZyhvYmopIHtcbiAgICAgICAgLy8gZmlyc3QgaXMgdHlwZVxuICAgICAgICBsZXQgc3RyID0gXCJcIiArIG9iai50eXBlO1xuICAgICAgICAvLyBhdHRhY2htZW50cyBpZiB3ZSBoYXZlIHRoZW1cbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArIFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBuYW1lc3BhY2Ugb3RoZXIgdGhhbiBgL2BcbiAgICAgICAgLy8gd2UgYXBwZW5kIGl0IGZvbGxvd2VkIGJ5IGEgY29tbWEgYCxgXG4gICAgICAgIGlmIChvYmoubnNwICYmIFwiL1wiICE9PSBvYmoubnNwKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLm5zcCArIFwiLFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZSBpZFxuICAgICAgICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouaWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganNvbiBkYXRhXG4gICAgICAgIGlmIChudWxsICE9IG9iai5kYXRhKSB7XG4gICAgICAgICAgICBzdHIgKz0gSlNPTi5zdHJpbmdpZnkob2JqLmRhdGEsIHRoaXMucmVwbGFjZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICAgICAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBhIGxpc3Qgb2YgYnVmZmVycy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc0JpbmFyeShvYmopIHtcbiAgICAgICAgY29uc3QgZGVjb25zdHJ1Y3Rpb24gPSBkZWNvbnN0cnVjdFBhY2tldChvYmopO1xuICAgICAgICBjb25zdCBwYWNrID0gdGhpcy5lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztcbiAgICAgICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuICAgICAgICByZXR1cm4gYnVmZmVyczsgLy8gd3JpdGUgYWxsIHRoZSBidWZmZXJzXG4gICAgfVxufVxuLyoqXG4gKiBBIHNvY2tldC5pbyBEZWNvZGVyIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBkZWNvZGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWNvZGVyIGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogRGVjb2RlciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmV2aXZlciAtIGN1c3RvbSByZXZpdmVyIHRvIHBhc3MgZG93biB0byBKU09OLnN0cmluZ2lmeVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJldml2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yZXZpdmVyID0gcmV2aXZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyBhbiBlbmNvZGVkIHBhY2tldCBzdHJpbmcgaW50byBwYWNrZXQgSlNPTi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvYmogLSBlbmNvZGVkIHBhY2tldFxuICAgICAqL1xuICAgIGFkZChvYmopIHtcbiAgICAgICAgbGV0IHBhY2tldDtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnb3QgcGxhaW50ZXh0IGRhdGEgd2hlbiByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhY2tldCA9IHRoaXMuZGVjb2RlU3RyaW5nKG9iaik7XG4gICAgICAgICAgICBpZiAocGFja2V0LnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UIHx8XG4gICAgICAgICAgICAgICAgcGFja2V0LnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgICAgIC8vIGJpbmFyeSBwYWNrZXQncyBqc29uXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbmV3IEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KTtcbiAgICAgICAgICAgICAgICAvLyBubyBhdHRhY2htZW50cywgbGFiZWxlZCBiaW5hcnkgYnV0IG5vIGJpbmFyeSBkYXRhIHRvIGZvbGxvd1xuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQuYXR0YWNobWVudHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vbi1iaW5hcnkgZnVsbCBwYWNrZXRcbiAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCaW5hcnkob2JqKSB8fCBvYmouYmFzZTY0KSB7XG4gICAgICAgICAgICAvLyByYXcgYmluYXJ5IGRhdGFcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ290IGJpbmFyeSBkYXRhIHdoZW4gbm90IHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFja2V0ID0gdGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKG9iaik7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWNlaXZlZCBmaW5hbCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZTogXCIgKyBvYmopO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZSBhIHBhY2tldCBTdHJpbmcgKEpTT04gZGF0YSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHBhY2tldFxuICAgICAqL1xuICAgIGRlY29kZVN0cmluZyhzdHIpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAvLyBsb29rIHVwIHR5cGVcbiAgICAgICAgY29uc3QgcCA9IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcihzdHIuY2hhckF0KDApKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFBhY2tldFR5cGVbcC50eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHBhY2tldCB0eXBlIFwiICsgcC50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGF0dGFjaG1lbnRzIGlmIHR5cGUgYmluYXJ5XG4gICAgICAgIGlmIChwLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UIHx8XG4gICAgICAgICAgICBwLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlIChzdHIuY2hhckF0KCsraSkgIT09IFwiLVwiICYmIGkgIT0gc3RyLmxlbmd0aCkgeyB9XG4gICAgICAgICAgICBjb25zdCBidWYgPSBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpKTtcbiAgICAgICAgICAgIGlmIChidWYgIT0gTnVtYmVyKGJ1ZikgfHwgc3RyLmNoYXJBdChpKSAhPT0gXCItXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGF0dGFjaG1lbnRzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5hdHRhY2htZW50cyA9IE51bWJlcihidWYpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgbmFtZXNwYWNlIChpZiBhbnkpXG4gICAgICAgIGlmIChcIi9cIiA9PT0gc3RyLmNoYXJBdChpICsgMSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgaWYgKFwiLFwiID09PSBjKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gc3RyLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLm5zcCA9IHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcC5uc3AgPSBcIi9cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGlkXG4gICAgICAgIGNvbnN0IG5leHQgPSBzdHIuY2hhckF0KGkgKyAxKTtcbiAgICAgICAgaWYgKFwiXCIgIT09IG5leHQgJiYgTnVtYmVyKG5leHQpID09IG5leHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gYyB8fCBOdW1iZXIoYykgIT0gYykge1xuICAgICAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gc3RyLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLmlkID0gTnVtYmVyKHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBqc29uIGRhdGFcbiAgICAgICAgaWYgKHN0ci5jaGFyQXQoKytpKSkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMudHJ5UGFyc2Uoc3RyLnN1YnN0cihpKSk7XG4gICAgICAgICAgICBpZiAoRGVjb2Rlci5pc1BheWxvYWRWYWxpZChwLnR5cGUsIHBheWxvYWQpKSB7XG4gICAgICAgICAgICAgICAgcC5kYXRhID0gcGF5bG9hZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcGF5bG9hZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgdHJ5UGFyc2Uoc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIHRoaXMucmV2aXZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgaXNQYXlsb2FkVmFsaWQodHlwZSwgcGF5bG9hZCkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIjtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVF9FUlJPUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBheWxvYWQgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCI7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0VWRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpICYmIHBheWxvYWQubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0FDSzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWFsbG9jYXRlcyBhIHBhcnNlcidzIHJlc291cmNlc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQmluYXJ5UmVjb25zdHJ1Y3RvciB7XG4gICAgY29uc3RydWN0b3IocGFja2V0KSB7XG4gICAgICAgIHRoaXMucGFja2V0ID0gcGFja2V0O1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBwYWNrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiBiaW5hcnkgZGF0YSByZWNlaXZlZCBmcm9tIGNvbm5lY3Rpb25cbiAgICAgKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1ZmZlciB8IEFycmF5QnVmZmVyfSBiaW5EYXRhIC0gdGhlIHJhdyBiaW5hcnkgZGF0YSByZWNlaXZlZFxuICAgICAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gICAgICogICBhIHJlY29uc3RydWN0ZWQgcGFja2V0IG9iamVjdCBpZiBhbGwgYnVmZmVycyBoYXZlIGJlZW4gcmVjZWl2ZWQuXG4gICAgICovXG4gICAgdGFrZUJpbmFyeURhdGEoYmluRGF0YSkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAvLyBkb25lIHdpdGggYnVmZmVyIGxpc3RcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHJlY29uc3RydWN0UGFja2V0KHRoaXMucmVjb25QYWNrLCB0aGlzLmJ1ZmZlcnMpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gcGFja2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgYmluYXJ5IHBhY2tldCByZWNvbnN0cnVjdGlvbiB2YXJpYWJsZXMuXG4gICAgICovXG4gICAgZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/socket.io-parser/build/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/socket.io-parser/build/esm/is-binary.js":
/*!**************************************************************!*\
  !*** ./node_modules/socket.io-parser/build/esm/is-binary.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasBinary\": function() { return /* binding */ hasBinary; },\n/* harmony export */   \"isBinary\": function() { return /* binding */ isBinary; }\n/* harmony export */ });\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vaXMtYmluYXJ5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsT0FBTztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtL2lzLWJpbmFyeS5qcz8wYTExIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNWaWV3ID0gKG9iaikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn07XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIik7XG5jb25zdCB3aXRoTmF0aXZlRmlsZSA9IHR5cGVvZiBGaWxlID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEZpbGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChGaWxlKSA9PT0gXCJbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl1cIik7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmogaXMgYSBCdWZmZXIsIGFuIEFycmF5QnVmZmVyLCBhIEJsb2Igb3IgYSBGaWxlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0JpbmFyeShvYmopIHtcbiAgICByZXR1cm4gKCh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiYgKG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhvYmopKSkgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVCbG9iICYmIG9iaiBpbnN0YW5jZW9mIEJsb2IpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlRmlsZSAmJiBvYmogaW5zdGFuY2VvZiBGaWxlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQmluYXJ5KG9iaiwgdG9KU09OKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaGFzQmluYXJ5KG9ialtpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc0JpbmFyeShvYmopKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob2JqLnRvSlNPTiAmJlxuICAgICAgICB0eXBlb2Ygb2JqLnRvSlNPTiA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGhhc0JpbmFyeShvYmoudG9KU09OKCksIHRydWUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgJiYgaGFzQmluYXJ5KG9ialtrZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/socket.io-parser/build/esm/is-binary.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cryanm%5CDocuments%5CProjects%5Cair-land-sea%5Csrc%5Cpages%5Cindex.tsx&page=%2F!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);